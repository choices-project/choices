name: "Choices CodeQL"

# Scan only source you actually own
paths:
  - web
  - scripts           # include runtime JS/TS scripts
  - packages/**       # include JS/TS packages

# Ignore generated, vendored, and artifacts
paths-ignore:
  - '**/node_modules/**'
  - '**/.next/**'
  - '**/dist/**'
  - '**/build/**'
  - '**/.turbo/**'
  - '**/.vercel/**'
  - '**/coverage/**'
  - '**/playwright-report/**'
  - '**/__snapshots__/**'
  - '**/__fixtures__/**'
  - '**/fixtures/**'
  - '**/*.min.js'
  - '**/*.min.css'
  - '**/storybook-static/**'
  - '**/.vercel/output/**'
  - '**/public/**'
  - '**/static/**'
  # Exclude legacy/disabled code to reduce noise
  - 'web/archive/**'
  - 'web/disabled-pages/**'
  - 'scripts/archive/**'
  - '**/*.disabled/**'
  - '**/*.disabled'
  - 'web/quarantine/**'

# Query suites to run
queries:
  - uses: security-and-quality
  - uses: security-extended
