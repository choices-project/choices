PASS server tests/server/admin-auth.test.ts
  ‚óè Console

    console.error
      Admin check error: Error: Database error
          at Object.<anonymous> (/Users/alaughingkitsune/src/Choices/web/tests/server/admin-auth.test.ts:116:47)
          at Promise.finally.completed (/Users/alaughingkitsune/src/Choices/web/node_modules/jest-circus/build/jestAdapterInit.js:1556:28)
          at new Promise (<anonymous>)
          at callAsyncCircusFn (/Users/alaughingkitsune/src/Choices/web/node_modules/jest-circus/build/jestAdapterInit.js:1496:10)
          at _callCircusTest (/Users/alaughingkitsune/src/Choices/web/node_modules/jest-circus/build/jestAdapterInit.js:1006:40)
          at processTicksAndRejections (node:internal/process/task_queues:105:5)
          at _runTest (/Users/alaughingkitsune/src/Choices/web/node_modules/jest-circus/build/jestAdapterInit.js:946:3)
          at _runTestsForDescribeBlock (/Users/alaughingkitsune/src/Choices/web/node_modules/jest-circus/build/jestAdapterInit.js:839:13)
          at _runTestsForDescribeBlock (/Users/alaughingkitsune/src/Choices/web/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at _runTestsForDescribeBlock (/Users/alaughingkitsune/src/Choices/web/node_modules/jest-circus/build/jestAdapterInit.js:829:11)
          at run (/Users/alaughingkitsune/src/Choices/web/node_modules/jest-circus/build/jestAdapterInit.js:757:3)
          at runAndTransformResultsToJestFormat (/Users/alaughingkitsune/src/Choices/web/node_modules/jest-circus/build/jestAdapterInit.js:1917:21)
          at jestAdapter (/Users/alaughingkitsune/src/Choices/web/node_modules/jest-circus/build/runner.js:101:19)
          at runTestInternal (/Users/alaughingkitsune/src/Choices/web/node_modules/jest-runner/build/index.js:275:16)
          at runTest (/Users/alaughingkitsune/src/Choices/web/node_modules/jest-runner/build/index.js:343:7)

      20 |     return isAdminUser === true;
      21 |   } catch (error) {
    > 22 |     console.error('Admin check error:', error);
         |             ^
      23 |     return false;
      24 |   }
      25 | }

      at error (lib/admin-auth.ts:22:13)
      at Object.<anonymous> (tests/server/admin-auth.test.ts:118:22)

PASS server tests/server/admin-apis.test.ts
PASS server tests/server/simple.test.ts

Test Suites: 3 passed, 3 total
Tests:       20 passed, 20 total
Snapshots:   0 total
Time:        1.125 s
Ran all test suites.
