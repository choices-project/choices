526d3010f088f076d16c3c241448fa02
/**
 * Performance Store
 * 
 * Centralized Zustand store for performance monitoring, metrics collection,
 * and performance alert management.
 * 
 * Created: October 10, 2025
 * Status: âœ… ACTIVE
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get useActiveAlerts () {
        return useActiveAlerts;
    },
    get useAlertsBySeverity () {
        return useAlertsBySeverity;
    },
    get useAutoRefresh () {
        return useAutoRefresh;
    },
    get useCacheStats () {
        return useCacheStats;
    },
    get useCustomMetrics () {
        return useCustomMetrics;
    },
    get useCustomThresholds () {
        return useCustomThresholds;
    },
    get useDatabaseMetrics () {
        return useDatabaseMetrics;
    },
    get useIsMonitoring () {
        return useIsMonitoring;
    },
    get useLastRefresh () {
        return useLastRefresh;
    },
    get useLatestReport () {
        return useLatestReport;
    },
    get useNavigationMetrics () {
        return useNavigationMetrics;
    },
    get useNavigationThresholds () {
        return useNavigationThresholds;
    },
    get usePerformance () {
        return usePerformance;
    },
    get usePerformanceActions () {
        return usePerformanceActions;
    },
    get usePerformanceAlerts () {
        return usePerformanceAlerts;
    },
    get usePerformanceError () {
        return usePerformanceError;
    },
    get usePerformanceLoading () {
        return usePerformanceLoading;
    },
    get usePerformanceMetrics () {
        return usePerformanceMetrics;
    },
    get usePerformanceRecommendations () {
        return usePerformanceRecommendations;
    },
    get usePerformanceReports () {
        return usePerformanceReports;
    },
    get usePerformanceScore () {
        return usePerformanceScore;
    },
    get usePerformanceStore () {
        return usePerformanceStore;
    },
    get usePerformanceThresholds () {
        return usePerformanceThresholds;
    },
    get useRefreshInterval () {
        return useRefreshInterval;
    },
    get useResourceMetrics () {
        return useResourceMetrics;
    },
    get useResourceThresholds () {
        return useResourceThresholds;
    }
});
const _zustand = require("zustand");
const _middleware = require("zustand/middleware");
const _immer = require("zustand/middleware/immer");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// ============================================================================
// UTILITY FUNCTIONS
// ============================================================================
const calculatePerformanceScore = (metrics)=>{
    const navigationMetrics = metrics.filter((m)=>m.type === 'navigation');
    const fcp = navigationMetrics.find((m)=>m.name === 'FCP')?.value || 0;
    const lcp = navigationMetrics.find((m)=>m.name === 'LCP')?.value || 0;
    const fid = navigationMetrics.find((m)=>m.name === 'FID')?.value || 0;
    const cls = navigationMetrics.find((m)=>m.name === 'CLS')?.value || 0;
    const ttfb = navigationMetrics.find((m)=>m.name === 'TTFB')?.value || 0;
    // Calculate score based on Core Web Vitals
    let score = 100;
    // FCP scoring (0-3000ms)
    if (fcp > 3000) score -= 20;
    else if (fcp > 1800) score -= 10;
    // LCP scoring (0-4000ms)
    if (lcp > 4000) score -= 25;
    else if (lcp > 2500) score -= 15;
    // FID scoring (0-300ms)
    if (fid > 300) score -= 20;
    else if (fid > 100) score -= 10;
    // CLS scoring (0-0.25)
    if (cls > 0.25) score -= 20;
    else if (cls > 0.1) score -= 10;
    // TTFB scoring (0-800ms)
    if (ttfb > 800) score -= 15;
    else if (ttfb > 600) score -= 5;
    const grade = score >= 90 ? 'A' : score >= 80 ? 'B' : score >= 70 ? 'C' : score >= 60 ? 'D' : 'F';
    return {
        score: Math.max(0, score),
        grade
    };
};
const generateRecommendations = (metrics)=>{
    const recommendations = [];
    const navigationMetrics = metrics.filter((m)=>m.type === 'navigation');
    const fcp = navigationMetrics.find((m)=>m.name === 'FCP')?.value || 0;
    const lcp = navigationMetrics.find((m)=>m.name === 'LCP')?.value || 0;
    const fid = navigationMetrics.find((m)=>m.name === 'FID')?.value || 0;
    const cls = navigationMetrics.find((m)=>m.name === 'CLS')?.value || 0;
    const ttfb = navigationMetrics.find((m)=>m.name === 'TTFB')?.value || 0;
    if (fcp > 1800) recommendations.push('Optimize First Contentful Paint by reducing render-blocking resources');
    if (lcp > 2500) recommendations.push('Improve Largest Contentful Paint by optimizing images and fonts');
    if (fid > 100) recommendations.push('Reduce First Input Delay by minimizing JavaScript execution time');
    if (cls > 0.1) recommendations.push('Minimize Cumulative Layout Shift by setting image dimensions');
    if (ttfb > 600) recommendations.push('Improve Time to First Byte by optimizing server response time');
    return recommendations;
};
const usePerformanceStore = (0, _zustand.create)()((0, _middleware.devtools)((0, _middleware.persist)((0, _immer.immer)((set, get)=>({
        // Initial State
        metrics: [],
        alerts: [],
        reports: [],
        thresholds: {
            navigation: {
                fcp: 1800,
                lcp: 2500,
                fid: 100,
                cls: 0.1,
                ttfb: 600
            },
            resource: {
                loadTime: 2000,
                size: 1024 * 1024,
                count: 50
            },
            custom: {}
        },
        isMonitoring: false,
        isLoading: false,
        error: null,
        // Database performance state
        databaseMetrics: [],
        cacheStats: null,
        lastRefresh: null,
        autoRefresh: true,
        refreshInterval: 30000,
        // Actions - Metrics
        recordMetric: (metric)=>{
            const id = `metric-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
            const newMetric = {
                ...metric,
                id,
                timestamp: new Date()
            };
            set((state)=>{
                state.metrics.push(newMetric);
                // Keep only last 1000 metrics to prevent memory issues
                if (state.metrics.length > 1000) {
                    state.metrics = state.metrics.slice(-1000);
                }
            });
            // Check thresholds (debounced to prevent excessive calls)
            const { checkThresholds } = get();
            if (checkThresholds) {
                checkThresholds();
            }
        },
        recordNavigationMetric: (name, value, metadata)=>{
            get().recordMetric({
                type: 'navigation',
                name,
                value,
                unit: 'ms',
                url: typeof window !== 'undefined' ? window.location.href : '',
                metadata
            });
        },
        recordResourceMetric: (name, value, metadata)=>{
            get().recordMetric({
                type: 'resource',
                name,
                value,
                unit: 'ms',
                url: typeof window !== 'undefined' ? window.location.href : '',
                metadata
            });
        },
        recordCustomMetric: (name, value, unit = 'ms', metadata)=>{
            get().recordMetric({
                type: 'custom',
                name,
                value,
                unit,
                url: typeof window !== 'undefined' ? window.location.href : '',
                metadata
            });
        },
        clearMetrics: ()=>{
            set((state)=>{
                state.metrics = [];
            });
        },
        // Actions - Alerts
        createAlert: (alert)=>{
            const id = `alert-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
            const newAlert = {
                ...alert,
                id,
                timestamp: new Date(),
                resolved: false
            };
            set((state)=>{
                state.alerts.push(newAlert);
                // Keep only last 500 alerts
                if (state.alerts.length > 500) {
                    state.alerts = state.alerts.slice(-500);
                }
            });
        },
        resolveAlert: (id)=>{
            set((state)=>{
                const alert = state.alerts.find((a)=>a.id === id);
                if (alert) {
                    alert.resolved = true;
                }
            });
        },
        clearAlerts: ()=>{
            set((state)=>{
                state.alerts = [];
            });
        },
        clearResolvedAlerts: ()=>{
            set((state)=>{
                state.alerts = state.alerts.filter((alert)=>!alert.resolved);
            });
        },
        // Actions - Monitoring
        startMonitoring: ()=>{
            set((state)=>{
                state.isMonitoring = true;
            });
            if (typeof window !== 'undefined' && 'performance' in window) {
                // Set up Performance Observer
                try {
                    const observer = new PerformanceObserver((list)=>{
                        const entries = list.getEntries();
                        entries.forEach((entry)=>{
                            if (entry.entryType === 'navigation') {
                                const navEntry = entry;
                                get().recordNavigationMetric('TTFB', navEntry.responseStart - navEntry.requestStart);
                                get().recordNavigationMetric('FCP', navEntry.domContentLoadedEventEnd - navEntry.fetchStart);
                            } else if (entry.entryType === 'resource') {
                                const resourceEntry = entry;
                                get().recordResourceMetric(resourceEntry.name, resourceEntry.duration);
                            }
                        });
                    });
                    observer.observe({
                        entryTypes: [
                            'navigation',
                            'resource'
                        ]
                    });
                } catch (error) {
                    console.warn('Performance Observer not supported:', error);
                }
            }
        },
        stopMonitoring: ()=>{
            set((state)=>{
                state.isMonitoring = false;
            });
        },
        setThreshold: (type, metric, threshold)=>{
            set((state)=>{
                if (type === 'navigation' && metric in state.thresholds.navigation) {
                    state.thresholds.navigation[metric] = threshold;
                } else if (type === 'resource' && metric in state.thresholds.resource) {
                    state.thresholds.resource[metric] = threshold;
                } else if (type === 'custom') {
                    state.thresholds.custom[metric] = threshold;
                }
            });
        },
        checkThresholds: ()=>{
            const { metrics, thresholds } = get();
            const recentMetrics = metrics.slice(-100); // Check last 100 metrics
            recentMetrics.forEach((metric)=>{
                let threshold = 0;
                if (metric.type === 'navigation' && metric.name in thresholds.navigation) {
                    threshold = thresholds.navigation[metric.name] || 0;
                } else if (metric.type === 'resource' && metric.name in thresholds.resource) {
                    threshold = thresholds.resource[metric.name] || 0;
                } else if (metric.type === 'custom' && metric.name in thresholds.custom) {
                    threshold = thresholds.custom[metric.name] || 0;
                }
                if (threshold > 0 && metric.value > threshold) {
                    const severity = metric.value > threshold * 2 ? 'high' : metric.value > threshold * 1.5 ? 'medium' : 'low';
                    get().createAlert({
                        type: 'threshold',
                        severity,
                        metric: metric.name,
                        value: metric.value,
                        threshold,
                        message: `${metric.name} exceeded threshold: ${metric.value}${metric.unit} > ${threshold}${metric.unit}`
                    });
                }
            });
        },
        // Actions - Reports
        generateReport: ()=>{
            const { metrics, alerts } = get();
            const id = `report-${Date.now()}`;
            const { score, grade } = calculatePerformanceScore(metrics);
            const recommendations = generateRecommendations(metrics);
            const report = {
                id,
                timestamp: new Date(),
                url: typeof window !== 'undefined' ? window.location.href : '',
                metrics: [
                    ...metrics
                ],
                alerts: alerts.filter((alert)=>!alert.resolved),
                summary: {
                    score,
                    grade,
                    recommendations
                },
                generated_at: new Date()
            };
            set((state)=>{
                state.reports.push(report);
                // Keep only last 50 reports
                if (state.reports.length > 50) {
                    state.reports = state.reports.slice(-50);
                }
            });
            return report;
        },
        exportMetrics: (format = 'json')=>{
            const { metrics } = get();
            if (format === 'csv') {
                const headers = [
                    'id',
                    'type',
                    'name',
                    'value',
                    'unit',
                    'timestamp',
                    'url'
                ];
                const rows = metrics.map((metric)=>[
                        metric.id,
                        metric.type,
                        metric.name,
                        metric.value,
                        metric.unit,
                        metric.timestamp.toISOString(),
                        metric.url
                    ]);
                return [
                    headers,
                    ...rows
                ].map((row)=>row.join(',')).join('\n');
            }
            return JSON.stringify(metrics, null, 2);
        },
        exportReport: (reportId, format = 'json')=>{
            const { reports } = get();
            const report = reports.find((r)=>r.id === reportId);
            if (!report) {
                throw new Error(`Report ${reportId} not found`);
            }
            if (format === 'csv') {
                const headers = [
                    'metric',
                    'value',
                    'unit',
                    'timestamp'
                ];
                const rows = report.metrics.map((metric)=>[
                        metric.name,
                        metric.value,
                        metric.unit,
                        metric.timestamp.toISOString()
                    ]);
                return [
                    headers,
                    ...rows
                ].map((row)=>row.join(',')).join('\n');
            }
            return JSON.stringify(report, null, 2);
        },
        // Actions - Database Performance
        setDatabaseMetrics: (metrics)=>{
            set((state)=>{
                state.databaseMetrics = metrics;
            });
        },
        setCacheStats: (stats)=>{
            set((state)=>{
                state.cacheStats = stats;
            });
        },
        setLastRefresh: (date)=>{
            set((state)=>{
                state.lastRefresh = date;
            });
        },
        setAutoRefresh: (enabled)=>{
            set((state)=>{
                state.autoRefresh = enabled;
            });
        },
        setRefreshInterval: (interval)=>{
            set((state)=>{
                state.refreshInterval = interval;
            });
        },
        loadDatabasePerformance: async ()=>{
            const { setLoading, setError, setLastRefresh, setDatabaseMetrics, setCacheStats } = get();
            try {
                setLoading(true);
                setError(null);
                // Fetch performance metrics directly from database
                const supabase = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../utils/supabase/client"))).then((m)=>m.getSupabaseClient());
                if (!supabase) {
                    throw new Error('Database connection not available');
                }
                // Get database performance metrics from the last 24 hours
                // FUNCTIONALITY MERGED INTO analytics_events - use analytics table
                const { data: metricsData, error: metricsError } = await supabase.from('analytics_events').select('*').gte('created_at', new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()).order('created_at', {
                    ascending: false
                });
                if (metricsError) {
                    throw new Error(`Failed to fetch database metrics: ${metricsError.message}`);
                }
                // Transform metrics data to match DatabasePerformanceMetric interface
                const databaseMetrics = metricsData?.map((metric)=>({
                        metricName: metric.event_type || 'unknown',
                        avgValue: 0,
                        minValue: 0,
                        maxValue: 0,
                        countMeasurements: 1,
                        timestamp: new Date(metric.created_at || new Date())
                    })) || [];
                // Get cache statistics
                // FUNCTIONALITY MERGED INTO analytics_events - use analytics table for cache stats
                const { data: cacheData, error: cacheError } = await supabase.from('analytics_events').select('*').eq('event_type', 'vote').order('created_at', {
                    ascending: false
                }).limit(1);
                if (cacheError && cacheError.code !== 'PGRST116') {
                    throw new Error(`Failed to fetch cache stats: ${cacheError.message}`);
                }
                // Transform cache data to match CacheStats interface
                const cacheStats = {
                    size: 0,
                    keys: [],
                    memoryUsage: 0,
                    hitRate: 0
                };
                setDatabaseMetrics(databaseMetrics);
                setCacheStats(cacheStats);
                setLastRefresh(new Date());
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : 'Failed to load database performance';
                setError(errorMessage);
            } finally{
                setLoading(false);
            }
        },
        refreshMaterializedViews: async ()=>{
            const { setLoading, setError, loadDatabasePerformance } = get();
            try {
                setLoading(true);
                setError(null);
                // Call optimized poll service to refresh materialized views
                const response = await fetch('/api/admin/refresh-materialized-views', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                if (!response.ok) {
                    throw new Error(`Failed to refresh materialized views: ${response.statusText}`);
                }
                // Reload performance data after refresh
                await loadDatabasePerformance();
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : 'Failed to refresh materialized views';
                setError(errorMessage);
            } finally{
                setLoading(false);
            }
        },
        performDatabaseMaintenance: async ()=>{
            const { setLoading, setError, loadDatabasePerformance } = get();
            try {
                setLoading(true);
                setError(null);
                // Call optimized poll service to perform database maintenance
                const response = await fetch('/api/admin/perform-database-maintenance', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    }
                });
                if (!response.ok) {
                    throw new Error(`Failed to perform database maintenance: ${response.statusText}`);
                }
                // Reload performance data after maintenance
                await loadDatabasePerformance();
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : 'Failed to perform database maintenance';
                setError(errorMessage);
            } finally{
                setLoading(false);
            }
        },
        // Actions - Loading & Error
        setLoading: (loading)=>{
            set((state)=>{
                state.isLoading = loading;
            });
        },
        setError: (error)=>{
            set((state)=>{
                state.error = error;
            });
        },
        clearError: ()=>{
            set((state)=>{
                state.error = null;
            });
        },
        // Initialization
        initialize: ()=>{
            set((state)=>{
                state.isLoading = true;
                state.error = null;
            });
            try {
                // Start monitoring if in browser
                if (typeof window !== 'undefined') {
                    get().startMonitoring();
                }
                set((state)=>{
                    state.isLoading = false;
                });
            } catch (error) {
                set((state)=>{
                    state.error = error instanceof Error ? error.message : 'Failed to initialize performance monitoring';
                    state.isLoading = false;
                });
            }
        }
    })), {
    name: 'performance-storage',
    partialize: (state)=>({
            thresholds: state.thresholds,
            isMonitoring: state.isMonitoring
        })
}), {
    name: 'performance-store'
}));
const usePerformance = ()=>usePerformanceStore();
const usePerformanceMetrics = ()=>usePerformanceStore((state)=>state.metrics);
const useNavigationMetrics = ()=>usePerformanceStore((state)=>state.metrics.filter((m)=>m.type === 'navigation'));
const useResourceMetrics = ()=>usePerformanceStore((state)=>state.metrics.filter((m)=>m.type === 'resource'));
const useCustomMetrics = ()=>usePerformanceStore((state)=>state.metrics.filter((m)=>m.type === 'custom'));
const usePerformanceAlerts = ()=>usePerformanceStore((state)=>state.alerts);
const useActiveAlerts = ()=>usePerformanceStore((state)=>state.alerts.filter((a)=>!a.resolved));
const useAlertsBySeverity = (severity)=>usePerformanceStore((state)=>state.alerts.filter((a)=>a.severity === severity && !a.resolved));
const usePerformanceReports = ()=>usePerformanceStore((state)=>state.reports);
const useLatestReport = ()=>usePerformanceStore((state)=>state.reports[state.reports.length - 1]);
const usePerformanceThresholds = ()=>usePerformanceStore((state)=>state.thresholds);
const useNavigationThresholds = ()=>usePerformanceStore((state)=>state.thresholds.navigation);
const useResourceThresholds = ()=>usePerformanceStore((state)=>state.thresholds.resource);
const useCustomThresholds = ()=>usePerformanceStore((state)=>state.thresholds.custom);
const useIsMonitoring = ()=>usePerformanceStore((state)=>state.isMonitoring);
const usePerformanceLoading = ()=>usePerformanceStore((state)=>state.isLoading);
const usePerformanceError = ()=>usePerformanceStore((state)=>state.error);
const useDatabaseMetrics = ()=>usePerformanceStore((state)=>state.databaseMetrics);
const useCacheStats = ()=>usePerformanceStore((state)=>state.cacheStats);
const useLastRefresh = ()=>usePerformanceStore((state)=>state.lastRefresh);
const useAutoRefresh = ()=>usePerformanceStore((state)=>state.autoRefresh);
const useRefreshInterval = ()=>usePerformanceStore((state)=>state.refreshInterval);
const usePerformanceActions = ()=>usePerformanceStore((state)=>({
            recordMetric: state.recordMetric,
            recordNavigationMetric: state.recordNavigationMetric,
            recordResourceMetric: state.recordResourceMetric,
            recordCustomMetric: state.recordCustomMetric,
            clearMetrics: state.clearMetrics,
            createAlert: state.createAlert,
            resolveAlert: state.resolveAlert,
            clearAlerts: state.clearAlerts,
            clearResolvedAlerts: state.clearResolvedAlerts,
            startMonitoring: state.startMonitoring,
            stopMonitoring: state.stopMonitoring,
            setThreshold: state.setThreshold,
            checkThresholds: state.checkThresholds,
            generateReport: state.generateReport,
            exportMetrics: state.exportMetrics,
            exportReport: state.exportReport,
            setLoading: state.setLoading,
            setError: state.setError,
            clearError: state.clearError,
            initialize: state.initialize,
            // Database performance actions
            setDatabaseMetrics: state.setDatabaseMetrics,
            setCacheStats: state.setCacheStats,
            setLastRefresh: state.setLastRefresh,
            setAutoRefresh: state.setAutoRefresh,
            setRefreshInterval: state.setRefreshInterval,
            loadDatabasePerformance: state.loadDatabasePerformance,
            refreshMaterializedViews: state.refreshMaterializedViews,
            performDatabaseMaintenance: state.performDatabaseMaintenance
        }));
const usePerformanceScore = ()=>{
    const metrics = useNavigationMetrics();
    return calculatePerformanceScore(metrics);
};
const usePerformanceRecommendations = ()=>{
    const metrics = usePerformanceMetrics();
    return generateRecommendations(metrics);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvc3RvcmVzL3BlcmZvcm1hbmNlU3RvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQZXJmb3JtYW5jZSBTdG9yZVxuICogXG4gKiBDZW50cmFsaXplZCBadXN0YW5kIHN0b3JlIGZvciBwZXJmb3JtYW5jZSBtb25pdG9yaW5nLCBtZXRyaWNzIGNvbGxlY3Rpb24sXG4gKiBhbmQgcGVyZm9ybWFuY2UgYWxlcnQgbWFuYWdlbWVudC5cbiAqIFxuICogQ3JlYXRlZDogT2N0b2JlciAxMCwgMjAyNVxuICogU3RhdHVzOiDinIUgQUNUSVZFXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSAnenVzdGFuZCc7XG5pbXBvcnQgeyBkZXZ0b29scywgcGVyc2lzdCB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5pbXBvcnQgeyBpbW1lciB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZS9pbW1lcic7XG5cblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVFlQRVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJmb3JtYW5jZU1ldHJpYyB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6ICduYXZpZ2F0aW9uJyB8ICdyZXNvdXJjZScgfCAnbWVhc3VyZScgfCAnY3VzdG9tJyB8ICdkYXRhYmFzZSc7XG4gIG5hbWU6IHN0cmluZztcbiAgdmFsdWU6IG51bWJlcjtcbiAgdW5pdDogJ21zJyB8ICdieXRlcycgfCAnY291bnQnIHwgJ3Njb3JlJyB8ICdwZXJjZW50YWdlJztcbiAgdGltZXN0YW1wOiBEYXRlO1xuICB1cmw6IHN0cmluZztcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhdGFiYXNlUGVyZm9ybWFuY2VNZXRyaWMge1xuICBtZXRyaWNOYW1lOiBzdHJpbmc7XG4gIGF2Z1ZhbHVlOiBudW1iZXI7XG4gIG1pblZhbHVlOiBudW1iZXI7XG4gIG1heFZhbHVlOiBudW1iZXI7XG4gIGNvdW50TWVhc3VyZW1lbnRzOiBudW1iZXI7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDYWNoZVN0YXRzIHtcbiAgc2l6ZTogbnVtYmVyO1xuICBrZXlzOiBzdHJpbmdbXTtcbiAgbWVtb3J5VXNhZ2U6IG51bWJlcjtcbiAgaGl0UmF0ZTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcmZvcm1hbmNlQWxlcnQge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiAndGhyZXNob2xkJyB8ICdhbm9tYWx5JyB8ICdlcnJvcic7XG4gIHNldmVyaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJztcbiAgbWV0cmljOiBzdHJpbmc7XG4gIHZhbHVlOiBudW1iZXI7XG4gIHRocmVzaG9sZDogbnVtYmVyO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbiAgcmVzb2x2ZWQ6IGJvb2xlYW47XG4gIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55Pjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJmb3JtYW5jZVRocmVzaG9sZHMge1xuICBuYXZpZ2F0aW9uOiB7XG4gICAgZmNwOiBudW1iZXI7IC8vIEZpcnN0IENvbnRlbnRmdWwgUGFpbnRcbiAgICBsY3A6IG51bWJlcjsgLy8gTGFyZ2VzdCBDb250ZW50ZnVsIFBhaW50XG4gICAgZmlkOiBudW1iZXI7IC8vIEZpcnN0IElucHV0IERlbGF5XG4gICAgY2xzOiBudW1iZXI7IC8vIEN1bXVsYXRpdmUgTGF5b3V0IFNoaWZ0XG4gICAgdHRmYjogbnVtYmVyOyAvLyBUaW1lIHRvIEZpcnN0IEJ5dGVcbiAgfTtcbiAgcmVzb3VyY2U6IHtcbiAgICBsb2FkVGltZTogbnVtYmVyO1xuICAgIHNpemU6IG51bWJlcjtcbiAgICBjb3VudDogbnVtYmVyO1xuICB9O1xuICBjdXN0b206IHtcbiAgICBba2V5OiBzdHJpbmddOiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyZm9ybWFuY2VSZXBvcnQge1xuICBpZDogc3RyaW5nO1xuICB0aW1lc3RhbXA6IERhdGU7XG4gIHVybDogc3RyaW5nO1xuICBtZXRyaWNzOiBQZXJmb3JtYW5jZU1ldHJpY1tdO1xuICBhbGVydHM6IFBlcmZvcm1hbmNlQWxlcnRbXTtcbiAgc3VtbWFyeToge1xuICAgIHNjb3JlOiBudW1iZXI7XG4gICAgZ3JhZGU6ICdBJyB8ICdCJyB8ICdDJyB8ICdEJyB8ICdGJztcbiAgICByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdO1xuICB9O1xuICBnZW5lcmF0ZWRfYXQ6IERhdGU7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyZm9ybWFuY2VTdG9yZSB7XG4gIC8vIFN0YXRlXG4gIG1ldHJpY3M6IFBlcmZvcm1hbmNlTWV0cmljW107XG4gIGFsZXJ0czogUGVyZm9ybWFuY2VBbGVydFtdO1xuICByZXBvcnRzOiBQZXJmb3JtYW5jZVJlcG9ydFtdO1xuICB0aHJlc2hvbGRzOiBQZXJmb3JtYW5jZVRocmVzaG9sZHM7XG4gIGlzTW9uaXRvcmluZzogYm9vbGVhbjtcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgXG4gIC8vIERhdGFiYXNlIHBlcmZvcm1hbmNlIHN0YXRlXG4gIGRhdGFiYXNlTWV0cmljczogRGF0YWJhc2VQZXJmb3JtYW5jZU1ldHJpY1tdO1xuICBjYWNoZVN0YXRzOiBDYWNoZVN0YXRzIHwgbnVsbDtcbiAgbGFzdFJlZnJlc2g6IERhdGUgfCBudWxsO1xuICBhdXRvUmVmcmVzaDogYm9vbGVhbjtcbiAgcmVmcmVzaEludGVydmFsOiBudW1iZXI7XG4gIFxuICAvLyBBY3Rpb25zIC0gTWV0cmljc1xuICByZWNvcmRNZXRyaWM6IChtZXRyaWM6IE9taXQ8UGVyZm9ybWFuY2VNZXRyaWMsICdpZCcgfCAndGltZXN0YW1wJz4pID0+IHZvaWQ7XG4gIHJlY29yZE5hdmlnYXRpb25NZXRyaWM6IChuYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIsIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PikgPT4gdm9pZDtcbiAgcmVjb3JkUmVzb3VyY2VNZXRyaWM6IChuYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIsIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgYW55PikgPT4gdm9pZDtcbiAgcmVjb3JkQ3VzdG9tTWV0cmljOiAobmFtZTogc3RyaW5nLCB2YWx1ZTogbnVtYmVyLCB1bml0PzogJ21zJyB8ICdieXRlcycgfCAnY291bnQnIHwgJ3Njb3JlJywgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PiB2b2lkO1xuICBjbGVhck1ldHJpY3M6ICgpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gQWxlcnRzXG4gIGNyZWF0ZUFsZXJ0OiAoYWxlcnQ6IE9taXQ8UGVyZm9ybWFuY2VBbGVydCwgJ2lkJyB8ICd0aW1lc3RhbXAnIHwgJ3Jlc29sdmVkJz4pID0+IHZvaWQ7XG4gIHJlc29sdmVBbGVydDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGNsZWFyQWxlcnRzOiAoKSA9PiB2b2lkO1xuICBjbGVhclJlc29sdmVkQWxlcnRzOiAoKSA9PiB2b2lkO1xuICBcbiAgLy8gQWN0aW9ucyAtIE1vbml0b3JpbmdcbiAgc3RhcnRNb25pdG9yaW5nOiAoKSA9PiB2b2lkO1xuICBzdG9wTW9uaXRvcmluZzogKCkgPT4gdm9pZDtcbiAgc2V0VGhyZXNob2xkOiAodHlwZTogc3RyaW5nLCBtZXRyaWM6IHN0cmluZywgdGhyZXNob2xkOiBudW1iZXIpID0+IHZvaWQ7XG4gIGNoZWNrVGhyZXNob2xkczogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBSZXBvcnRzXG4gIGdlbmVyYXRlUmVwb3J0OiAoKSA9PiBQZXJmb3JtYW5jZVJlcG9ydDtcbiAgZXhwb3J0TWV0cmljczogKGZvcm1hdD86ICdqc29uJyB8ICdjc3YnKSA9PiBzdHJpbmc7XG4gIGV4cG9ydFJlcG9ydDogKHJlcG9ydElkOiBzdHJpbmcsIGZvcm1hdD86ICdqc29uJyB8ICdjc3YnKSA9PiBzdHJpbmc7XG4gIFxuICAvLyBBY3Rpb25zIC0gRGF0YWJhc2UgUGVyZm9ybWFuY2VcbiAgc2V0RGF0YWJhc2VNZXRyaWNzOiAobWV0cmljczogRGF0YWJhc2VQZXJmb3JtYW5jZU1ldHJpY1tdKSA9PiB2b2lkO1xuICBzZXRDYWNoZVN0YXRzOiAoc3RhdHM6IENhY2hlU3RhdHMpID0+IHZvaWQ7XG4gIHNldExhc3RSZWZyZXNoOiAoZGF0ZTogRGF0ZSkgPT4gdm9pZDtcbiAgc2V0QXV0b1JlZnJlc2g6IChlbmFibGVkOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRSZWZyZXNoSW50ZXJ2YWw6IChpbnRlcnZhbDogbnVtYmVyKSA9PiB2b2lkO1xuICBsb2FkRGF0YWJhc2VQZXJmb3JtYW5jZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcmVmcmVzaE1hdGVyaWFsaXplZFZpZXdzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBwZXJmb3JtRGF0YWJhc2VNYWludGVuYW5jZTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgXG4gIC8vIEFjdGlvbnMgLSBMb2FkaW5nICYgRXJyb3JcbiAgc2V0TG9hZGluZzogKGxvYWRpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldEVycm9yOiAoZXJyb3I6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIGNsZWFyRXJyb3I6ICgpID0+IHZvaWQ7XG4gIFxuICAvLyBJbml0aWFsaXphdGlvblxuICBpbml0aWFsaXplOiAoKSA9PiB2b2lkO1xufVxuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBVVElMSVRZIEZVTkNUSU9OU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5jb25zdCBjYWxjdWxhdGVQZXJmb3JtYW5jZVNjb3JlID0gKG1ldHJpY3M6IFBlcmZvcm1hbmNlTWV0cmljW10pOiB7IHNjb3JlOiBudW1iZXI7IGdyYWRlOiAnQScgfCAnQicgfCAnQycgfCAnRCcgfCAnRicgfSA9PiB7XG4gIGNvbnN0IG5hdmlnYXRpb25NZXRyaWNzID0gbWV0cmljcy5maWx0ZXIobSA9PiBtLnR5cGUgPT09ICduYXZpZ2F0aW9uJyk7XG4gIGNvbnN0IGZjcCA9IG5hdmlnYXRpb25NZXRyaWNzLmZpbmQobSA9PiBtLm5hbWUgPT09ICdGQ1AnKT8udmFsdWUgfHwgMDtcbiAgY29uc3QgbGNwID0gbmF2aWdhdGlvbk1ldHJpY3MuZmluZChtID0+IG0ubmFtZSA9PT0gJ0xDUCcpPy52YWx1ZSB8fCAwO1xuICBjb25zdCBmaWQgPSBuYXZpZ2F0aW9uTWV0cmljcy5maW5kKG0gPT4gbS5uYW1lID09PSAnRklEJyk/LnZhbHVlIHx8IDA7XG4gIGNvbnN0IGNscyA9IG5hdmlnYXRpb25NZXRyaWNzLmZpbmQobSA9PiBtLm5hbWUgPT09ICdDTFMnKT8udmFsdWUgfHwgMDtcbiAgY29uc3QgdHRmYiA9IG5hdmlnYXRpb25NZXRyaWNzLmZpbmQobSA9PiBtLm5hbWUgPT09ICdUVEZCJyk/LnZhbHVlIHx8IDA7XG5cbiAgLy8gQ2FsY3VsYXRlIHNjb3JlIGJhc2VkIG9uIENvcmUgV2ViIFZpdGFsc1xuICBsZXQgc2NvcmUgPSAxMDA7XG4gIFxuICAvLyBGQ1Agc2NvcmluZyAoMC0zMDAwbXMpXG4gIGlmIChmY3AgPiAzMDAwKSBzY29yZSAtPSAyMDtcbiAgZWxzZSBpZiAoZmNwID4gMTgwMCkgc2NvcmUgLT0gMTA7XG4gIFxuICAvLyBMQ1Agc2NvcmluZyAoMC00MDAwbXMpXG4gIGlmIChsY3AgPiA0MDAwKSBzY29yZSAtPSAyNTtcbiAgZWxzZSBpZiAobGNwID4gMjUwMCkgc2NvcmUgLT0gMTU7XG4gIFxuICAvLyBGSUQgc2NvcmluZyAoMC0zMDBtcylcbiAgaWYgKGZpZCA+IDMwMCkgc2NvcmUgLT0gMjA7XG4gIGVsc2UgaWYgKGZpZCA+IDEwMCkgc2NvcmUgLT0gMTA7XG4gIFxuICAvLyBDTFMgc2NvcmluZyAoMC0wLjI1KVxuICBpZiAoY2xzID4gMC4yNSkgc2NvcmUgLT0gMjA7XG4gIGVsc2UgaWYgKGNscyA+IDAuMSkgc2NvcmUgLT0gMTA7XG4gIFxuICAvLyBUVEZCIHNjb3JpbmcgKDAtODAwbXMpXG4gIGlmICh0dGZiID4gODAwKSBzY29yZSAtPSAxNTtcbiAgZWxzZSBpZiAodHRmYiA+IDYwMCkgc2NvcmUgLT0gNTtcblxuICBjb25zdCBncmFkZSA9IHNjb3JlID49IDkwID8gJ0EnIDogc2NvcmUgPj0gODAgPyAnQicgOiBzY29yZSA+PSA3MCA/ICdDJyA6IHNjb3JlID49IDYwID8gJ0QnIDogJ0YnO1xuICBcbiAgcmV0dXJuIHsgc2NvcmU6IE1hdGgubWF4KDAsIHNjb3JlKSwgZ3JhZGUgfTtcbn07XG5cbmNvbnN0IGdlbmVyYXRlUmVjb21tZW5kYXRpb25zID0gKG1ldHJpY3M6IFBlcmZvcm1hbmNlTWV0cmljW10pOiBzdHJpbmdbXSA9PiB7XG4gIGNvbnN0IHJlY29tbWVuZGF0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgY29uc3QgbmF2aWdhdGlvbk1ldHJpY3MgPSBtZXRyaWNzLmZpbHRlcihtID0+IG0udHlwZSA9PT0gJ25hdmlnYXRpb24nKTtcbiAgXG4gIGNvbnN0IGZjcCA9IG5hdmlnYXRpb25NZXRyaWNzLmZpbmQobSA9PiBtLm5hbWUgPT09ICdGQ1AnKT8udmFsdWUgfHwgMDtcbiAgY29uc3QgbGNwID0gbmF2aWdhdGlvbk1ldHJpY3MuZmluZChtID0+IG0ubmFtZSA9PT0gJ0xDUCcpPy52YWx1ZSB8fCAwO1xuICBjb25zdCBmaWQgPSBuYXZpZ2F0aW9uTWV0cmljcy5maW5kKG0gPT4gbS5uYW1lID09PSAnRklEJyk/LnZhbHVlIHx8IDA7XG4gIGNvbnN0IGNscyA9IG5hdmlnYXRpb25NZXRyaWNzLmZpbmQobSA9PiBtLm5hbWUgPT09ICdDTFMnKT8udmFsdWUgfHwgMDtcbiAgY29uc3QgdHRmYiA9IG5hdmlnYXRpb25NZXRyaWNzLmZpbmQobSA9PiBtLm5hbWUgPT09ICdUVEZCJyk/LnZhbHVlIHx8IDA7XG5cbiAgaWYgKGZjcCA+IDE4MDApIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdPcHRpbWl6ZSBGaXJzdCBDb250ZW50ZnVsIFBhaW50IGJ5IHJlZHVjaW5nIHJlbmRlci1ibG9ja2luZyByZXNvdXJjZXMnKTtcbiAgaWYgKGxjcCA+IDI1MDApIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdJbXByb3ZlIExhcmdlc3QgQ29udGVudGZ1bCBQYWludCBieSBvcHRpbWl6aW5nIGltYWdlcyBhbmQgZm9udHMnKTtcbiAgaWYgKGZpZCA+IDEwMCkgcmVjb21tZW5kYXRpb25zLnB1c2goJ1JlZHVjZSBGaXJzdCBJbnB1dCBEZWxheSBieSBtaW5pbWl6aW5nIEphdmFTY3JpcHQgZXhlY3V0aW9uIHRpbWUnKTtcbiAgaWYgKGNscyA+IDAuMSkgcmVjb21tZW5kYXRpb25zLnB1c2goJ01pbmltaXplIEN1bXVsYXRpdmUgTGF5b3V0IFNoaWZ0IGJ5IHNldHRpbmcgaW1hZ2UgZGltZW5zaW9ucycpO1xuICBpZiAodHRmYiA+IDYwMCkgcmVjb21tZW5kYXRpb25zLnB1c2goJ0ltcHJvdmUgVGltZSB0byBGaXJzdCBCeXRlIGJ5IG9wdGltaXppbmcgc2VydmVyIHJlc3BvbnNlIHRpbWUnKTtcblxuICByZXR1cm4gcmVjb21tZW5kYXRpb25zO1xufTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU1RPUkUgSU1QTEVNRU5UQVRJT05cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IHVzZVBlcmZvcm1hbmNlU3RvcmUgPSBjcmVhdGU8UGVyZm9ybWFuY2VTdG9yZT4oKShcbiAgZGV2dG9vbHMoXG4gICAgcGVyc2lzdChcbiAgICAgIGltbWVyKChzZXQsIGdldCkgPT4gKHtcbiAgICAgICAgLy8gSW5pdGlhbCBTdGF0ZVxuICAgICAgICBtZXRyaWNzOiBbXSxcbiAgICAgICAgYWxlcnRzOiBbXSxcbiAgICAgICAgcmVwb3J0czogW10sXG4gICAgICAgIHRocmVzaG9sZHM6IHtcbiAgICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgICBmY3A6IDE4MDAsXG4gICAgICAgICAgICBsY3A6IDI1MDAsXG4gICAgICAgICAgICBmaWQ6IDEwMCxcbiAgICAgICAgICAgIGNsczogMC4xLFxuICAgICAgICAgICAgdHRmYjogNjAwXG4gICAgICAgICAgfSxcbiAgICAgICAgICByZXNvdXJjZToge1xuICAgICAgICAgICAgbG9hZFRpbWU6IDIwMDAsXG4gICAgICAgICAgICBzaXplOiAxMDI0ICogMTAyNCwgLy8gMU1CXG4gICAgICAgICAgICBjb3VudDogNTBcbiAgICAgICAgICB9LFxuICAgICAgICAgIGN1c3RvbToge31cbiAgICAgICAgfSxcbiAgICAgICAgaXNNb25pdG9yaW5nOiBmYWxzZSxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIFxuICAgICAgICAvLyBEYXRhYmFzZSBwZXJmb3JtYW5jZSBzdGF0ZVxuICAgICAgICBkYXRhYmFzZU1ldHJpY3M6IFtdLFxuICAgICAgICBjYWNoZVN0YXRzOiBudWxsLFxuICAgICAgICBsYXN0UmVmcmVzaDogbnVsbCxcbiAgICAgICAgYXV0b1JlZnJlc2g6IHRydWUsXG4gICAgICAgIHJlZnJlc2hJbnRlcnZhbDogMzAwMDAsXG5cbiAgICAgICAgLy8gQWN0aW9ucyAtIE1ldHJpY3NcbiAgICAgICAgcmVjb3JkTWV0cmljOiAobWV0cmljKSA9PiB7XG4gICAgICAgICAgY29uc3QgaWQgPSBgbWV0cmljLSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgICAgICAgICBjb25zdCBuZXdNZXRyaWM6IFBlcmZvcm1hbmNlTWV0cmljID0ge1xuICAgICAgICAgICAgLi4ubWV0cmljLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKClcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUubWV0cmljcy5wdXNoKG5ld01ldHJpYyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEtlZXAgb25seSBsYXN0IDEwMDAgbWV0cmljcyB0byBwcmV2ZW50IG1lbW9yeSBpc3N1ZXNcbiAgICAgICAgICAgIGlmIChzdGF0ZS5tZXRyaWNzLmxlbmd0aCA+IDEwMDApIHtcbiAgICAgICAgICAgICAgc3RhdGUubWV0cmljcyA9IHN0YXRlLm1ldHJpY3Muc2xpY2UoLTEwMDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgdGhyZXNob2xkcyAoZGVib3VuY2VkIHRvIHByZXZlbnQgZXhjZXNzaXZlIGNhbGxzKVxuICAgICAgICAgIGNvbnN0IHsgY2hlY2tUaHJlc2hvbGRzIH0gPSBnZXQoKTtcbiAgICAgICAgICBpZiAoY2hlY2tUaHJlc2hvbGRzKSB7XG4gICAgICAgICAgICBjaGVja1RocmVzaG9sZHMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVjb3JkTmF2aWdhdGlvbk1ldHJpYzogKG5hbWUsIHZhbHVlLCBtZXRhZGF0YSkgPT4ge1xuICAgICAgICAgIGdldCgpLnJlY29yZE1ldHJpYyh7XG4gICAgICAgICAgICB0eXBlOiAnbmF2aWdhdGlvbicsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB1bml0OiAnbXMnLFxuICAgICAgICAgICAgdXJsOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogJycsXG4gICAgICAgICAgICBtZXRhZGF0YVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlY29yZFJlc291cmNlTWV0cmljOiAobmFtZSwgdmFsdWUsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgICAgZ2V0KCkucmVjb3JkTWV0cmljKHtcbiAgICAgICAgICAgIHR5cGU6ICdyZXNvdXJjZScsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB1bml0OiAnbXMnLFxuICAgICAgICAgICAgdXJsOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogJycsXG4gICAgICAgICAgICBtZXRhZGF0YVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlY29yZEN1c3RvbU1ldHJpYzogKG5hbWUsIHZhbHVlLCB1bml0ID0gJ21zJywgbWV0YWRhdGEpID0+IHtcbiAgICAgICAgICBnZXQoKS5yZWNvcmRNZXRyaWMoe1xuICAgICAgICAgICAgdHlwZTogJ2N1c3RvbScsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICB1bml0LFxuICAgICAgICAgICAgdXJsOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogJycsXG4gICAgICAgICAgICBtZXRhZGF0YVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsZWFyTWV0cmljczogKCkgPT4ge1xuICAgICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLm1ldHJpY3MgPSBbXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBBY3Rpb25zIC0gQWxlcnRzXG4gICAgICAgIGNyZWF0ZUFsZXJ0OiAoYWxlcnQpID0+IHtcbiAgICAgICAgICBjb25zdCBpZCA9IGBhbGVydC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gICAgICAgICAgY29uc3QgbmV3QWxlcnQ6IFBlcmZvcm1hbmNlQWxlcnQgPSB7XG4gICAgICAgICAgICAuLi5hbGVydCxcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgcmVzb2x2ZWQ6IGZhbHNlXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmFsZXJ0cy5wdXNoKG5ld0FsZXJ0KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gS2VlcCBvbmx5IGxhc3QgNTAwIGFsZXJ0c1xuICAgICAgICAgICAgaWYgKHN0YXRlLmFsZXJ0cy5sZW5ndGggPiA1MDApIHtcbiAgICAgICAgICAgICAgc3RhdGUuYWxlcnRzID0gc3RhdGUuYWxlcnRzLnNsaWNlKC01MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHJlc29sdmVBbGVydDogKGlkKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgYWxlcnQgPSBzdGF0ZS5hbGVydHMuZmluZChhID0+IGEuaWQgPT09IGlkKTtcbiAgICAgICAgICAgIGlmIChhbGVydCkge1xuICAgICAgICAgICAgICBhbGVydC5yZXNvbHZlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xlYXJBbGVydHM6ICgpID0+IHtcbiAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5hbGVydHMgPSBbXTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjbGVhclJlc29sdmVkQWxlcnRzOiAoKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuYWxlcnRzID0gc3RhdGUuYWxlcnRzLmZpbHRlcihhbGVydCA9PiAhYWxlcnQucmVzb2x2ZWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEFjdGlvbnMgLSBNb25pdG9yaW5nXG4gICAgICAgIHN0YXJ0TW9uaXRvcmluZzogKCkgPT4ge1xuICAgICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmlzTW9uaXRvcmluZyA9IHRydWU7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgJ3BlcmZvcm1hbmNlJyBpbiB3aW5kb3cpIHtcbiAgICAgICAgICAgIC8vIFNldCB1cCBQZXJmb3JtYW5jZSBPYnNlcnZlclxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUGVyZm9ybWFuY2VPYnNlcnZlcigobGlzdCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudHJpZXMgPSBsaXN0LmdldEVudHJpZXMoKTtcbiAgICAgICAgICAgICAgICBlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICBpZiAoZW50cnkuZW50cnlUeXBlID09PSAnbmF2aWdhdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmF2RW50cnkgPSBlbnRyeSBhcyBQZXJmb3JtYW5jZU5hdmlnYXRpb25UaW1pbmc7XG4gICAgICAgICAgICAgICAgICAgIGdldCgpLnJlY29yZE5hdmlnYXRpb25NZXRyaWMoJ1RURkInLCBuYXZFbnRyeS5yZXNwb25zZVN0YXJ0IC0gbmF2RW50cnkucmVxdWVzdFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgZ2V0KCkucmVjb3JkTmF2aWdhdGlvbk1ldHJpYygnRkNQJywgbmF2RW50cnkuZG9tQ29udGVudExvYWRlZEV2ZW50RW5kIC0gbmF2RW50cnkuZmV0Y2hTdGFydCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVudHJ5LmVudHJ5VHlwZSA9PT0gJ3Jlc291cmNlJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNvdXJjZUVudHJ5ID0gZW50cnkgYXMgUGVyZm9ybWFuY2VSZXNvdXJjZVRpbWluZztcbiAgICAgICAgICAgICAgICAgICAgZ2V0KCkucmVjb3JkUmVzb3VyY2VNZXRyaWMocmVzb3VyY2VFbnRyeS5uYW1lLCByZXNvdXJjZUVudHJ5LmR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZSh7IGVudHJ5VHlwZXM6IFsnbmF2aWdhdGlvbicsICdyZXNvdXJjZSddIH0pO1xuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgY29uc29sZS53YXJuKCdQZXJmb3JtYW5jZSBPYnNlcnZlciBub3Qgc3VwcG9ydGVkOicsIGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgc3RvcE1vbml0b3Jpbmc6ICgpID0+IHtcbiAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5pc01vbml0b3JpbmcgPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRUaHJlc2hvbGQ6ICh0eXBlLCBtZXRyaWMsIHRocmVzaG9sZCkgPT4ge1xuICAgICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlID09PSAnbmF2aWdhdGlvbicgJiYgbWV0cmljIGluIHN0YXRlLnRocmVzaG9sZHMubmF2aWdhdGlvbikge1xuICAgICAgICAgICAgICAoc3RhdGUudGhyZXNob2xkcy5uYXZpZ2F0aW9uIGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4pW21ldHJpY10gPSB0aHJlc2hvbGQ7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdyZXNvdXJjZScgJiYgbWV0cmljIGluIHN0YXRlLnRocmVzaG9sZHMucmVzb3VyY2UpIHtcbiAgICAgICAgICAgICAgKHN0YXRlLnRocmVzaG9sZHMucmVzb3VyY2UgYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPilbbWV0cmljXSA9IHRocmVzaG9sZDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2N1c3RvbScpIHtcbiAgICAgICAgICAgICAgc3RhdGUudGhyZXNob2xkcy5jdXN0b21bbWV0cmljXSA9IHRocmVzaG9sZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGVja1RocmVzaG9sZHM6ICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IG1ldHJpY3MsIHRocmVzaG9sZHMgfSA9IGdldCgpO1xuICAgICAgICAgIGNvbnN0IHJlY2VudE1ldHJpY3MgPSBtZXRyaWNzLnNsaWNlKC0xMDApOyAvLyBDaGVjayBsYXN0IDEwMCBtZXRyaWNzXG5cbiAgICAgICAgICByZWNlbnRNZXRyaWNzLmZvckVhY2goKG1ldHJpYykgPT4ge1xuICAgICAgICAgICAgbGV0IHRocmVzaG9sZCA9IDA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChtZXRyaWMudHlwZSA9PT0gJ25hdmlnYXRpb24nICYmIG1ldHJpYy5uYW1lIGluIHRocmVzaG9sZHMubmF2aWdhdGlvbikge1xuICAgICAgICAgICAgICB0aHJlc2hvbGQgPSAodGhyZXNob2xkcy5uYXZpZ2F0aW9uIGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4pW21ldHJpYy5uYW1lXSB8fCAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtZXRyaWMudHlwZSA9PT0gJ3Jlc291cmNlJyAmJiBtZXRyaWMubmFtZSBpbiB0aHJlc2hvbGRzLnJlc291cmNlKSB7XG4gICAgICAgICAgICAgIHRocmVzaG9sZCA9ICh0aHJlc2hvbGRzLnJlc291cmNlIGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4pW21ldHJpYy5uYW1lXSB8fCAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtZXRyaWMudHlwZSA9PT0gJ2N1c3RvbScgJiYgbWV0cmljLm5hbWUgaW4gdGhyZXNob2xkcy5jdXN0b20pIHtcbiAgICAgICAgICAgICAgdGhyZXNob2xkID0gdGhyZXNob2xkcy5jdXN0b21bbWV0cmljLm5hbWVdIHx8IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aHJlc2hvbGQgPiAwICYmIG1ldHJpYy52YWx1ZSA+IHRocmVzaG9sZCkge1xuICAgICAgICAgICAgICBjb25zdCBzZXZlcml0eSA9IG1ldHJpYy52YWx1ZSA+IHRocmVzaG9sZCAqIDIgPyAnaGlnaCcgOiBtZXRyaWMudmFsdWUgPiB0aHJlc2hvbGQgKiAxLjUgPyAnbWVkaXVtJyA6ICdsb3cnO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgZ2V0KCkuY3JlYXRlQWxlcnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0aHJlc2hvbGQnLFxuICAgICAgICAgICAgICAgIHNldmVyaXR5LFxuICAgICAgICAgICAgICAgIG1ldHJpYzogbWV0cmljLm5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG1ldHJpYy52YWx1ZSxcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYCR7bWV0cmljLm5hbWV9IGV4Y2VlZGVkIHRocmVzaG9sZDogJHttZXRyaWMudmFsdWV9JHttZXRyaWMudW5pdH0gPiAke3RocmVzaG9sZH0ke21ldHJpYy51bml0fWBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gQWN0aW9ucyAtIFJlcG9ydHNcbiAgICAgICAgZ2VuZXJhdGVSZXBvcnQ6ICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IG1ldHJpY3MsIGFsZXJ0cyB9ID0gZ2V0KCk7XG4gICAgICAgICAgY29uc3QgaWQgPSBgcmVwb3J0LSR7RGF0ZS5ub3coKX1gO1xuICAgICAgICAgIGNvbnN0IHsgc2NvcmUsIGdyYWRlIH0gPSBjYWxjdWxhdGVQZXJmb3JtYW5jZVNjb3JlKG1ldHJpY3MpO1xuICAgICAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IGdlbmVyYXRlUmVjb21tZW5kYXRpb25zKG1ldHJpY3MpO1xuXG4gICAgICAgICAgY29uc3QgcmVwb3J0OiBQZXJmb3JtYW5jZVJlcG9ydCA9IHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgdXJsOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogJycsXG4gICAgICAgICAgICBtZXRyaWNzOiBbLi4ubWV0cmljc10sXG4gICAgICAgICAgICBhbGVydHM6IGFsZXJ0cy5maWx0ZXIoYWxlcnQgPT4gIWFsZXJ0LnJlc29sdmVkKSxcbiAgICAgICAgICAgIHN1bW1hcnk6IHtcbiAgICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICAgIGdyYWRlLFxuICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbnNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZW5lcmF0ZWRfYXQ6IG5ldyBEYXRlKClcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUucmVwb3J0cy5wdXNoKHJlcG9ydCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEtlZXAgb25seSBsYXN0IDUwIHJlcG9ydHNcbiAgICAgICAgICAgIGlmIChzdGF0ZS5yZXBvcnRzLmxlbmd0aCA+IDUwKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnJlcG9ydHMgPSBzdGF0ZS5yZXBvcnRzLnNsaWNlKC01MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gcmVwb3J0O1xuICAgICAgICB9LFxuXG4gICAgICAgIGV4cG9ydE1ldHJpY3M6IChmb3JtYXQgPSAnanNvbicpID0+IHtcbiAgICAgICAgICBjb25zdCB7IG1ldHJpY3MgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdjc3YnKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gWydpZCcsICd0eXBlJywgJ25hbWUnLCAndmFsdWUnLCAndW5pdCcsICd0aW1lc3RhbXAnLCAndXJsJ107XG4gICAgICAgICAgICBjb25zdCByb3dzID0gbWV0cmljcy5tYXAobWV0cmljID0+IFtcbiAgICAgICAgICAgICAgbWV0cmljLmlkLFxuICAgICAgICAgICAgICBtZXRyaWMudHlwZSxcbiAgICAgICAgICAgICAgbWV0cmljLm5hbWUsXG4gICAgICAgICAgICAgIG1ldHJpYy52YWx1ZSxcbiAgICAgICAgICAgICAgbWV0cmljLnVuaXQsXG4gICAgICAgICAgICAgIG1ldHJpYy50aW1lc3RhbXAudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgbWV0cmljLnVybFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBbaGVhZGVycywgLi4ucm93c10ubWFwKHJvdyA9PiByb3cuam9pbignLCcpKS5qb2luKCdcXG4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG1ldHJpY3MsIG51bGwsIDIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGV4cG9ydFJlcG9ydDogKHJlcG9ydElkLCBmb3JtYXQgPSAnanNvbicpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHJlcG9ydHMgfSA9IGdldCgpO1xuICAgICAgICAgIGNvbnN0IHJlcG9ydCA9IHJlcG9ydHMuZmluZChyID0+IHIuaWQgPT09IHJlcG9ydElkKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIXJlcG9ydCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXBvcnQgJHtyZXBvcnRJZH0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdjc3YnKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gWydtZXRyaWMnLCAndmFsdWUnLCAndW5pdCcsICd0aW1lc3RhbXAnXTtcbiAgICAgICAgICAgIGNvbnN0IHJvd3MgPSByZXBvcnQubWV0cmljcy5tYXAobWV0cmljID0+IFtcbiAgICAgICAgICAgICAgbWV0cmljLm5hbWUsXG4gICAgICAgICAgICAgIG1ldHJpYy52YWx1ZSxcbiAgICAgICAgICAgICAgbWV0cmljLnVuaXQsXG4gICAgICAgICAgICAgIG1ldHJpYy50aW1lc3RhbXAudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBbaGVhZGVycywgLi4ucm93c10ubWFwKHJvdyA9PiByb3cuam9pbignLCcpKS5qb2luKCdcXG4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlcG9ydCwgbnVsbCwgMik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gQWN0aW9ucyAtIERhdGFiYXNlIFBlcmZvcm1hbmNlXG4gICAgICAgIHNldERhdGFiYXNlTWV0cmljczogKG1ldHJpY3MpID0+IHtcbiAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5kYXRhYmFzZU1ldHJpY3MgPSBtZXRyaWNzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldENhY2hlU3RhdHM6IChzdGF0cykgPT4ge1xuICAgICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmNhY2hlU3RhdHMgPSBzdGF0cztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRMYXN0UmVmcmVzaDogKGRhdGUpID0+IHtcbiAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0UmVmcmVzaCA9IGRhdGU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0QXV0b1JlZnJlc2g6IChlbmFibGVkKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuYXV0b1JlZnJlc2ggPSBlbmFibGVkO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFJlZnJlc2hJbnRlcnZhbDogKGludGVydmFsKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUucmVmcmVzaEludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbG9hZERhdGFiYXNlUGVyZm9ybWFuY2U6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldExvYWRpbmcsIHNldEVycm9yLCBzZXRMYXN0UmVmcmVzaCwgc2V0RGF0YWJhc2VNZXRyaWNzLCBzZXRDYWNoZVN0YXRzIH0gPSBnZXQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGZXRjaCBwZXJmb3JtYW5jZSBtZXRyaWNzIGRpcmVjdGx5IGZyb20gZGF0YWJhc2VcbiAgICAgICAgICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgaW1wb3J0KCdAL3V0aWxzL3N1cGFiYXNlL2NsaWVudCcpLnRoZW4obSA9PiBtLmdldFN1cGFiYXNlQ2xpZW50KCkpO1xuICAgICAgICAgICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gbm90IGF2YWlsYWJsZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgZGF0YWJhc2UgcGVyZm9ybWFuY2UgbWV0cmljcyBmcm9tIHRoZSBsYXN0IDI0IGhvdXJzXG4gICAgICAgICAgICAvLyBGVU5DVElPTkFMSVRZIE1FUkdFRCBJTlRPIGFuYWx5dGljc19ldmVudHMgLSB1c2UgYW5hbHl0aWNzIHRhYmxlXG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IG1ldHJpY3NEYXRhLCBlcnJvcjogbWV0cmljc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgICAuZnJvbSgnYW5hbHl0aWNzX2V2ZW50cycpXG4gICAgICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgICAgICAuZ3RlKCdjcmVhdGVkX2F0JywgbmV3IERhdGUoRGF0ZS5ub3coKSAtIDI0ICogNjAgKiA2MCAqIDEwMDApLnRvSVNPU3RyaW5nKCkpXG4gICAgICAgICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KTtcblxuICAgICAgICAgICAgaWYgKG1ldHJpY3NFcnJvcikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBkYXRhYmFzZSBtZXRyaWNzOiAke21ldHJpY3NFcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUcmFuc2Zvcm0gbWV0cmljcyBkYXRhIHRvIG1hdGNoIERhdGFiYXNlUGVyZm9ybWFuY2VNZXRyaWMgaW50ZXJmYWNlXG4gICAgICAgICAgICBjb25zdCBkYXRhYmFzZU1ldHJpY3M6IERhdGFiYXNlUGVyZm9ybWFuY2VNZXRyaWNbXSA9IG1ldHJpY3NEYXRhPy5tYXAobWV0cmljID0+ICh7XG4gICAgICAgICAgICAgIG1ldHJpY05hbWU6IG1ldHJpYy5ldmVudF90eXBlIHx8ICd1bmtub3duJyxcbiAgICAgICAgICAgICAgYXZnVmFsdWU6IDAsIC8vIERlZmF1bHQgdmFsdWUgc2luY2UgYW5hbHl0aWNzX2V2ZW50cyBkb2Vzbid0IGhhdmUgdGhlc2UgZmllbGRzXG4gICAgICAgICAgICAgIG1pblZhbHVlOiAwLFxuICAgICAgICAgICAgICBtYXhWYWx1ZTogMCxcbiAgICAgICAgICAgICAgY291bnRNZWFzdXJlbWVudHM6IDEsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUobWV0cmljLmNyZWF0ZWRfYXQgfHwgbmV3IERhdGUoKSlcbiAgICAgICAgICAgIH0pKSB8fCBbXTtcblxuICAgICAgICAgICAgLy8gR2V0IGNhY2hlIHN0YXRpc3RpY3NcbiAgICAgICAgICAgIC8vIEZVTkNUSU9OQUxJVFkgTUVSR0VEIElOVE8gYW5hbHl0aWNzX2V2ZW50cyAtIHVzZSBhbmFseXRpY3MgdGFibGUgZm9yIGNhY2hlIHN0YXRzXG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IGNhY2hlRGF0YSwgZXJyb3I6IGNhY2hlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgIC5mcm9tKCdhbmFseXRpY3NfZXZlbnRzJylcbiAgICAgICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgICAgIC5lcSgnZXZlbnRfdHlwZScsICd2b3RlJylcbiAgICAgICAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgICAgICAgICAgIC5saW1pdCgxKTtcblxuICAgICAgICAgICAgaWYgKGNhY2hlRXJyb3IgJiYgY2FjaGVFcnJvci5jb2RlICE9PSAnUEdSU1QxMTYnKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIGNhY2hlIHN0YXRzOiAke2NhY2hlRXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVHJhbnNmb3JtIGNhY2hlIGRhdGEgdG8gbWF0Y2ggQ2FjaGVTdGF0cyBpbnRlcmZhY2VcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlU3RhdHM6IENhY2hlU3RhdHMgPSB7XG4gICAgICAgICAgICAgIHNpemU6IDAsXG4gICAgICAgICAgICAgIGtleXM6IFtdLFxuICAgICAgICAgICAgICBtZW1vcnlVc2FnZTogMCxcbiAgICAgICAgICAgICAgaGl0UmF0ZTogMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0RGF0YWJhc2VNZXRyaWNzKGRhdGFiYXNlTWV0cmljcyk7XG4gICAgICAgICAgICBzZXRDYWNoZVN0YXRzKGNhY2hlU3RhdHMpO1xuICAgICAgICAgICAgc2V0TGFzdFJlZnJlc2gobmV3IERhdGUoKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIGxvYWQgZGF0YWJhc2UgcGVyZm9ybWFuY2UnO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHJlZnJlc2hNYXRlcmlhbGl6ZWRWaWV3czogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0TG9hZGluZywgc2V0RXJyb3IsIGxvYWREYXRhYmFzZVBlcmZvcm1hbmNlIH0gPSBnZXQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDYWxsIG9wdGltaXplZCBwb2xsIHNlcnZpY2UgdG8gcmVmcmVzaCBtYXRlcmlhbGl6ZWQgdmlld3NcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vcmVmcmVzaC1tYXRlcmlhbGl6ZWQtdmlld3MnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHJlZnJlc2ggbWF0ZXJpYWxpemVkIHZpZXdzOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJlbG9hZCBwZXJmb3JtYW5jZSBkYXRhIGFmdGVyIHJlZnJlc2hcbiAgICAgICAgICAgIGF3YWl0IGxvYWREYXRhYmFzZVBlcmZvcm1hbmNlKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnRmFpbGVkIHRvIHJlZnJlc2ggbWF0ZXJpYWxpemVkIHZpZXdzJztcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBwZXJmb3JtRGF0YWJhc2VNYWludGVuYW5jZTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0TG9hZGluZywgc2V0RXJyb3IsIGxvYWREYXRhYmFzZVBlcmZvcm1hbmNlIH0gPSBnZXQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDYWxsIG9wdGltaXplZCBwb2xsIHNlcnZpY2UgdG8gcGVyZm9ybSBkYXRhYmFzZSBtYWludGVuYW5jZVxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9hZG1pbi9wZXJmb3JtLWRhdGFiYXNlLW1haW50ZW5hbmNlJywge1xuICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBwZXJmb3JtIGRhdGFiYXNlIG1haW50ZW5hbmNlOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJlbG9hZCBwZXJmb3JtYW5jZSBkYXRhIGFmdGVyIG1haW50ZW5hbmNlXG4gICAgICAgICAgICBhd2FpdCBsb2FkRGF0YWJhc2VQZXJmb3JtYW5jZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBwZXJmb3JtIGRhdGFiYXNlIG1haW50ZW5hbmNlJztcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBBY3Rpb25zIC0gTG9hZGluZyAmIEVycm9yXG4gICAgICAgIHNldExvYWRpbmc6IChsb2FkaW5nOiBib29sZWFuKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuaXNMb2FkaW5nID0gbG9hZGluZztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRFcnJvcjogKGVycm9yOiBzdHJpbmcgfCBudWxsKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjbGVhckVycm9yOiAoKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuZXJyb3IgPSBudWxsO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEluaXRpYWxpemF0aW9uXG4gICAgICAgIGluaXRpYWxpemU6ICgpID0+IHtcbiAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgc3RhdGUuZXJyb3IgPSBudWxsO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFN0YXJ0IG1vbml0b3JpbmcgaWYgaW4gYnJvd3NlclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIGdldCgpLnN0YXJ0TW9uaXRvcmluZygpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICBzdGF0ZS5lcnJvciA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBpbml0aWFsaXplIHBlcmZvcm1hbmNlIG1vbml0b3JpbmcnO1xuICAgICAgICAgICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkpLFxuICAgICAge1xuICAgICAgICBuYW1lOiAncGVyZm9ybWFuY2Utc3RvcmFnZScsXG4gICAgICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICB0aHJlc2hvbGRzOiBzdGF0ZS50aHJlc2hvbGRzLFxuICAgICAgICAgIGlzTW9uaXRvcmluZzogc3RhdGUuaXNNb25pdG9yaW5nXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgKSxcbiAgICB7IG5hbWU6ICdwZXJmb3JtYW5jZS1zdG9yZScgfVxuICApXG4pO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTRUxFQ1RPUlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IHVzZVBlcmZvcm1hbmNlID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZSgpO1xuXG4vLyBNZXRyaWNzIFNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IHVzZVBlcmZvcm1hbmNlTWV0cmljcyA9ICgpID0+IHVzZVBlcmZvcm1hbmNlU3RvcmUoc3RhdGUgPT4gc3RhdGUubWV0cmljcyk7XG5leHBvcnQgY29uc3QgdXNlTmF2aWdhdGlvbk1ldHJpY3MgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IFxuICBzdGF0ZS5tZXRyaWNzLmZpbHRlcihtID0+IG0udHlwZSA9PT0gJ25hdmlnYXRpb24nKVxuKTtcbmV4cG9ydCBjb25zdCB1c2VSZXNvdXJjZU1ldHJpY3MgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IFxuICBzdGF0ZS5tZXRyaWNzLmZpbHRlcihtID0+IG0udHlwZSA9PT0gJ3Jlc291cmNlJylcbik7XG5leHBvcnQgY29uc3QgdXNlQ3VzdG9tTWV0cmljcyA9ICgpID0+IHVzZVBlcmZvcm1hbmNlU3RvcmUoc3RhdGUgPT4gXG4gIHN0YXRlLm1ldHJpY3MuZmlsdGVyKG0gPT4gbS50eXBlID09PSAnY3VzdG9tJylcbik7XG5cbi8vIEFsZXJ0cyBTZWxlY3RvcnNcbmV4cG9ydCBjb25zdCB1c2VQZXJmb3JtYW5jZUFsZXJ0cyA9ICgpID0+IHVzZVBlcmZvcm1hbmNlU3RvcmUoc3RhdGUgPT4gc3RhdGUuYWxlcnRzKTtcbmV4cG9ydCBjb25zdCB1c2VBY3RpdmVBbGVydHMgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IFxuICBzdGF0ZS5hbGVydHMuZmlsdGVyKGEgPT4gIWEucmVzb2x2ZWQpXG4pO1xuZXhwb3J0IGNvbnN0IHVzZUFsZXJ0c0J5U2V2ZXJpdHkgPSAoc2V2ZXJpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnKSA9PiBcbiAgdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBcbiAgICBzdGF0ZS5hbGVydHMuZmlsdGVyKGEgPT4gYS5zZXZlcml0eSA9PT0gc2V2ZXJpdHkgJiYgIWEucmVzb2x2ZWQpXG4gICk7XG5cbi8vIFJlcG9ydHMgU2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlUGVyZm9ybWFuY2VSZXBvcnRzID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBzdGF0ZS5yZXBvcnRzKTtcbmV4cG9ydCBjb25zdCB1c2VMYXRlc3RSZXBvcnQgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IFxuICBzdGF0ZS5yZXBvcnRzW3N0YXRlLnJlcG9ydHMubGVuZ3RoIC0gMV1cbik7XG5cbi8vIFRocmVzaG9sZHMgU2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlUGVyZm9ybWFuY2VUaHJlc2hvbGRzID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBzdGF0ZS50aHJlc2hvbGRzKTtcbmV4cG9ydCBjb25zdCB1c2VOYXZpZ2F0aW9uVGhyZXNob2xkcyA9ICgpID0+IHVzZVBlcmZvcm1hbmNlU3RvcmUoc3RhdGUgPT4gc3RhdGUudGhyZXNob2xkcy5uYXZpZ2F0aW9uKTtcbmV4cG9ydCBjb25zdCB1c2VSZXNvdXJjZVRocmVzaG9sZHMgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IHN0YXRlLnRocmVzaG9sZHMucmVzb3VyY2UpO1xuZXhwb3J0IGNvbnN0IHVzZUN1c3RvbVRocmVzaG9sZHMgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IHN0YXRlLnRocmVzaG9sZHMuY3VzdG9tKTtcblxuLy8gTW9uaXRvcmluZyBTZWxlY3RvcnNcbmV4cG9ydCBjb25zdCB1c2VJc01vbml0b3JpbmcgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IHN0YXRlLmlzTW9uaXRvcmluZyk7XG5leHBvcnQgY29uc3QgdXNlUGVyZm9ybWFuY2VMb2FkaW5nID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc0xvYWRpbmcpO1xuZXhwb3J0IGNvbnN0IHVzZVBlcmZvcm1hbmNlRXJyb3IgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IHN0YXRlLmVycm9yKTtcblxuLy8gRGF0YWJhc2UgUGVyZm9ybWFuY2UgU2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlRGF0YWJhc2VNZXRyaWNzID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBzdGF0ZS5kYXRhYmFzZU1ldHJpY3MpO1xuZXhwb3J0IGNvbnN0IHVzZUNhY2hlU3RhdHMgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IHN0YXRlLmNhY2hlU3RhdHMpO1xuZXhwb3J0IGNvbnN0IHVzZUxhc3RSZWZyZXNoID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBzdGF0ZS5sYXN0UmVmcmVzaCk7XG5leHBvcnQgY29uc3QgdXNlQXV0b1JlZnJlc2ggPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IHN0YXRlLmF1dG9SZWZyZXNoKTtcbmV4cG9ydCBjb25zdCB1c2VSZWZyZXNoSW50ZXJ2YWwgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IHN0YXRlLnJlZnJlc2hJbnRlcnZhbCk7XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIEFDVElPTlNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IHVzZVBlcmZvcm1hbmNlQWN0aW9ucyA9ICgpID0+IHVzZVBlcmZvcm1hbmNlU3RvcmUoc3RhdGUgPT4gKHtcbiAgcmVjb3JkTWV0cmljOiBzdGF0ZS5yZWNvcmRNZXRyaWMsXG4gIHJlY29yZE5hdmlnYXRpb25NZXRyaWM6IHN0YXRlLnJlY29yZE5hdmlnYXRpb25NZXRyaWMsXG4gIHJlY29yZFJlc291cmNlTWV0cmljOiBzdGF0ZS5yZWNvcmRSZXNvdXJjZU1ldHJpYyxcbiAgcmVjb3JkQ3VzdG9tTWV0cmljOiBzdGF0ZS5yZWNvcmRDdXN0b21NZXRyaWMsXG4gIGNsZWFyTWV0cmljczogc3RhdGUuY2xlYXJNZXRyaWNzLFxuICBjcmVhdGVBbGVydDogc3RhdGUuY3JlYXRlQWxlcnQsXG4gIHJlc29sdmVBbGVydDogc3RhdGUucmVzb2x2ZUFsZXJ0LFxuICBjbGVhckFsZXJ0czogc3RhdGUuY2xlYXJBbGVydHMsXG4gIGNsZWFyUmVzb2x2ZWRBbGVydHM6IHN0YXRlLmNsZWFyUmVzb2x2ZWRBbGVydHMsXG4gIHN0YXJ0TW9uaXRvcmluZzogc3RhdGUuc3RhcnRNb25pdG9yaW5nLFxuICBzdG9wTW9uaXRvcmluZzogc3RhdGUuc3RvcE1vbml0b3JpbmcsXG4gIHNldFRocmVzaG9sZDogc3RhdGUuc2V0VGhyZXNob2xkLFxuICBjaGVja1RocmVzaG9sZHM6IHN0YXRlLmNoZWNrVGhyZXNob2xkcyxcbiAgZ2VuZXJhdGVSZXBvcnQ6IHN0YXRlLmdlbmVyYXRlUmVwb3J0LFxuICBleHBvcnRNZXRyaWNzOiBzdGF0ZS5leHBvcnRNZXRyaWNzLFxuICBleHBvcnRSZXBvcnQ6IHN0YXRlLmV4cG9ydFJlcG9ydCxcbiAgc2V0TG9hZGluZzogc3RhdGUuc2V0TG9hZGluZyxcbiAgc2V0RXJyb3I6IHN0YXRlLnNldEVycm9yLFxuICBjbGVhckVycm9yOiBzdGF0ZS5jbGVhckVycm9yLFxuICBpbml0aWFsaXplOiBzdGF0ZS5pbml0aWFsaXplLFxuICAvLyBEYXRhYmFzZSBwZXJmb3JtYW5jZSBhY3Rpb25zXG4gIHNldERhdGFiYXNlTWV0cmljczogc3RhdGUuc2V0RGF0YWJhc2VNZXRyaWNzLFxuICBzZXRDYWNoZVN0YXRzOiBzdGF0ZS5zZXRDYWNoZVN0YXRzLFxuICBzZXRMYXN0UmVmcmVzaDogc3RhdGUuc2V0TGFzdFJlZnJlc2gsXG4gIHNldEF1dG9SZWZyZXNoOiBzdGF0ZS5zZXRBdXRvUmVmcmVzaCxcbiAgc2V0UmVmcmVzaEludGVydmFsOiBzdGF0ZS5zZXRSZWZyZXNoSW50ZXJ2YWwsXG4gIGxvYWREYXRhYmFzZVBlcmZvcm1hbmNlOiBzdGF0ZS5sb2FkRGF0YWJhc2VQZXJmb3JtYW5jZSxcbiAgcmVmcmVzaE1hdGVyaWFsaXplZFZpZXdzOiBzdGF0ZS5yZWZyZXNoTWF0ZXJpYWxpemVkVmlld3MsXG4gIHBlcmZvcm1EYXRhYmFzZU1haW50ZW5hbmNlOiBzdGF0ZS5wZXJmb3JtRGF0YWJhc2VNYWludGVuYW5jZVxufSkpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBVVElMSVRJRVNcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuZXhwb3J0IGNvbnN0IHVzZVBlcmZvcm1hbmNlU2NvcmUgPSAoKSA9PiB7XG4gIGNvbnN0IG1ldHJpY3MgPSB1c2VOYXZpZ2F0aW9uTWV0cmljcygpO1xuICByZXR1cm4gY2FsY3VsYXRlUGVyZm9ybWFuY2VTY29yZShtZXRyaWNzKTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VQZXJmb3JtYW5jZVJlY29tbWVuZGF0aW9ucyA9ICgpID0+IHtcbiAgY29uc3QgbWV0cmljcyA9IHVzZVBlcmZvcm1hbmNlTWV0cmljcygpO1xuICByZXR1cm4gZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMobWV0cmljcyk7XG59O1xuIl0sIm5hbWVzIjpbInVzZUFjdGl2ZUFsZXJ0cyIsInVzZUFsZXJ0c0J5U2V2ZXJpdHkiLCJ1c2VBdXRvUmVmcmVzaCIsInVzZUNhY2hlU3RhdHMiLCJ1c2VDdXN0b21NZXRyaWNzIiwidXNlQ3VzdG9tVGhyZXNob2xkcyIsInVzZURhdGFiYXNlTWV0cmljcyIsInVzZUlzTW9uaXRvcmluZyIsInVzZUxhc3RSZWZyZXNoIiwidXNlTGF0ZXN0UmVwb3J0IiwidXNlTmF2aWdhdGlvbk1ldHJpY3MiLCJ1c2VOYXZpZ2F0aW9uVGhyZXNob2xkcyIsInVzZVBlcmZvcm1hbmNlIiwidXNlUGVyZm9ybWFuY2VBY3Rpb25zIiwidXNlUGVyZm9ybWFuY2VBbGVydHMiLCJ1c2VQZXJmb3JtYW5jZUVycm9yIiwidXNlUGVyZm9ybWFuY2VMb2FkaW5nIiwidXNlUGVyZm9ybWFuY2VNZXRyaWNzIiwidXNlUGVyZm9ybWFuY2VSZWNvbW1lbmRhdGlvbnMiLCJ1c2VQZXJmb3JtYW5jZVJlcG9ydHMiLCJ1c2VQZXJmb3JtYW5jZVNjb3JlIiwidXNlUGVyZm9ybWFuY2VTdG9yZSIsInVzZVBlcmZvcm1hbmNlVGhyZXNob2xkcyIsInVzZVJlZnJlc2hJbnRlcnZhbCIsInVzZVJlc291cmNlTWV0cmljcyIsInVzZVJlc291cmNlVGhyZXNob2xkcyIsImNhbGN1bGF0ZVBlcmZvcm1hbmNlU2NvcmUiLCJtZXRyaWNzIiwibmF2aWdhdGlvbk1ldHJpY3MiLCJmaWx0ZXIiLCJtIiwidHlwZSIsImZjcCIsImZpbmQiLCJuYW1lIiwidmFsdWUiLCJsY3AiLCJmaWQiLCJjbHMiLCJ0dGZiIiwic2NvcmUiLCJncmFkZSIsIk1hdGgiLCJtYXgiLCJnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyIsInJlY29tbWVuZGF0aW9ucyIsInB1c2giLCJjcmVhdGUiLCJkZXZ0b29scyIsInBlcnNpc3QiLCJpbW1lciIsInNldCIsImdldCIsImFsZXJ0cyIsInJlcG9ydHMiLCJ0aHJlc2hvbGRzIiwibmF2aWdhdGlvbiIsInJlc291cmNlIiwibG9hZFRpbWUiLCJzaXplIiwiY291bnQiLCJjdXN0b20iLCJpc01vbml0b3JpbmciLCJpc0xvYWRpbmciLCJlcnJvciIsImRhdGFiYXNlTWV0cmljcyIsImNhY2hlU3RhdHMiLCJsYXN0UmVmcmVzaCIsImF1dG9SZWZyZXNoIiwicmVmcmVzaEludGVydmFsIiwicmVjb3JkTWV0cmljIiwibWV0cmljIiwiaWQiLCJEYXRlIiwibm93IiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJuZXdNZXRyaWMiLCJ0aW1lc3RhbXAiLCJzdGF0ZSIsImxlbmd0aCIsInNsaWNlIiwiY2hlY2tUaHJlc2hvbGRzIiwicmVjb3JkTmF2aWdhdGlvbk1ldHJpYyIsIm1ldGFkYXRhIiwidW5pdCIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInJlY29yZFJlc291cmNlTWV0cmljIiwicmVjb3JkQ3VzdG9tTWV0cmljIiwiY2xlYXJNZXRyaWNzIiwiY3JlYXRlQWxlcnQiLCJhbGVydCIsIm5ld0FsZXJ0IiwicmVzb2x2ZWQiLCJyZXNvbHZlQWxlcnQiLCJhIiwiY2xlYXJBbGVydHMiLCJjbGVhclJlc29sdmVkQWxlcnRzIiwic3RhcnRNb25pdG9yaW5nIiwib2JzZXJ2ZXIiLCJQZXJmb3JtYW5jZU9ic2VydmVyIiwibGlzdCIsImVudHJpZXMiLCJnZXRFbnRyaWVzIiwiZm9yRWFjaCIsImVudHJ5IiwiZW50cnlUeXBlIiwibmF2RW50cnkiLCJyZXNwb25zZVN0YXJ0IiwicmVxdWVzdFN0YXJ0IiwiZG9tQ29udGVudExvYWRlZEV2ZW50RW5kIiwiZmV0Y2hTdGFydCIsInJlc291cmNlRW50cnkiLCJkdXJhdGlvbiIsIm9ic2VydmUiLCJlbnRyeVR5cGVzIiwiY29uc29sZSIsIndhcm4iLCJzdG9wTW9uaXRvcmluZyIsInNldFRocmVzaG9sZCIsInRocmVzaG9sZCIsInJlY2VudE1ldHJpY3MiLCJzZXZlcml0eSIsIm1lc3NhZ2UiLCJnZW5lcmF0ZVJlcG9ydCIsInJlcG9ydCIsInN1bW1hcnkiLCJnZW5lcmF0ZWRfYXQiLCJleHBvcnRNZXRyaWNzIiwiZm9ybWF0IiwiaGVhZGVycyIsInJvd3MiLCJtYXAiLCJ0b0lTT1N0cmluZyIsInJvdyIsImpvaW4iLCJKU09OIiwic3RyaW5naWZ5IiwiZXhwb3J0UmVwb3J0IiwicmVwb3J0SWQiLCJyIiwiRXJyb3IiLCJzZXREYXRhYmFzZU1ldHJpY3MiLCJzZXRDYWNoZVN0YXRzIiwic3RhdHMiLCJzZXRMYXN0UmVmcmVzaCIsImRhdGUiLCJzZXRBdXRvUmVmcmVzaCIsImVuYWJsZWQiLCJzZXRSZWZyZXNoSW50ZXJ2YWwiLCJpbnRlcnZhbCIsImxvYWREYXRhYmFzZVBlcmZvcm1hbmNlIiwic2V0TG9hZGluZyIsInNldEVycm9yIiwic3VwYWJhc2UiLCJ0aGVuIiwiZ2V0U3VwYWJhc2VDbGllbnQiLCJkYXRhIiwibWV0cmljc0RhdGEiLCJtZXRyaWNzRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZ3RlIiwib3JkZXIiLCJhc2NlbmRpbmciLCJtZXRyaWNOYW1lIiwiZXZlbnRfdHlwZSIsImF2Z1ZhbHVlIiwibWluVmFsdWUiLCJtYXhWYWx1ZSIsImNvdW50TWVhc3VyZW1lbnRzIiwiY3JlYXRlZF9hdCIsImNhY2hlRGF0YSIsImNhY2hlRXJyb3IiLCJlcSIsImxpbWl0IiwiY29kZSIsImtleXMiLCJtZW1vcnlVc2FnZSIsImhpdFJhdGUiLCJlcnJvck1lc3NhZ2UiLCJyZWZyZXNoTWF0ZXJpYWxpemVkVmlld3MiLCJyZXNwb25zZSIsImZldGNoIiwibWV0aG9kIiwib2siLCJzdGF0dXNUZXh0IiwicGVyZm9ybURhdGFiYXNlTWFpbnRlbmFuY2UiLCJsb2FkaW5nIiwiY2xlYXJFcnJvciIsImluaXRpYWxpemUiLCJwYXJ0aWFsaXplIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Q0FRQzs7Ozs7Ozs7Ozs7UUEydEJZQTtlQUFBQTs7UUFHQUM7ZUFBQUE7O1FBMEJBQztlQUFBQTs7UUFGQUM7ZUFBQUE7O1FBakNBQztlQUFBQTs7UUF3QkFDO2VBQUFBOztRQVFBQztlQUFBQTs7UUFMQUM7ZUFBQUE7O1FBT0FDO2VBQUFBOztRQWxCQUM7ZUFBQUE7O1FBdEJBQztlQUFBQTs7UUE0QkFDO2VBQUFBOztRQWhDQUM7ZUFB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