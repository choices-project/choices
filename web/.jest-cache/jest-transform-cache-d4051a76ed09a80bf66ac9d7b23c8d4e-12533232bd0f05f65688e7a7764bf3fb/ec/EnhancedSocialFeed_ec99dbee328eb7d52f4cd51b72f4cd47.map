{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/features/feeds/components/EnhancedSocialFeed.tsx"],"sourcesContent":["/**\n * Enhanced Social Feed Component\n * \n * Instagram-like social feed with advanced features\n * Features:\n * - Smooth infinite scroll\n * - Pull-to-refresh\n * - Touch gesture support\n * - Real-time updates\n * - Personalization algorithms\n * - Enhanced engagement metrics\n * - Performance optimizations\n * - Accessibility compliance\n */\n\n'use client';\n\nimport {\n  SparklesIcon,\n  ClockIcon\n} from '@heroicons/react/24/outline';\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\n\n\nimport type { UserPreferences } from '@/features/feeds/types';\nimport { \n  useFeeds, \n  useFeedsActions, \n  useFeedsLoading,\n  useNotificationStore\n} from '@/lib/stores';\nimport { logger } from '@/lib/utils/logger';\n\nimport FeedItem from './FeedItem';\nimport InfiniteScroll from './InfiniteScroll';\n\n\ninterface EnhancedSocialFeedProps {\n  userId?: string;\n  preferences?: UserPreferences;\n  onLike?: (itemId: string) => void;\n  onShare?: (itemId: string) => void;\n  onBookmark?: (itemId: string) => void;\n  onComment?: (itemId: string) => void;\n  onViewDetails?: (itemId: string) => void;\n  className?: string;\n  enablePersonalization?: boolean;\n  enableRealTimeUpdates?: boolean;\n  enableAnalytics?: boolean;\n  enableHaptics?: boolean;\n  showTrending?: boolean;\n}\n\nexport default function EnhancedSocialFeed({\n  userId,\n  preferences: _preferences,\n  onLike,\n  onShare,\n  onBookmark,\n  onComment,\n  onViewDetails,\n  className = '',\n  enablePersonalization = true,\n  enableRealTimeUpdates = true,\n  enableAnalytics = false,\n  enableHaptics = true,\n  showTrending = true\n}: EnhancedSocialFeedProps) {\n  // ✅ MIGRATED: Use existing stores instead of useState\n  // Feeds state from Feeds Store\n  const feeds = useFeeds();\n  const { loadFeeds, likeFeed, bookmarkFeed, refreshFeeds } = useFeedsActions();\n  const isLoading = useFeedsLoading();\n  \n  // Global UI state from App Store\n  \n  // PWA state from PWA Store\n  \n  // User state from User Store\n  \n  // Notification state from Notification Store\n  const addNotification = useNotificationStore(state => state.addNotification);\n  \n  // ✅ Keep local state for component-specific concerns\n  const [personalizationScore, setPersonalizationScore] = useState(0);\n  const [lastUpdate, setLastUpdate] = useState<Date>(new Date());\n  \n  const wsRef = useRef<WebSocket | null>(null);\n  const refreshIntervalRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Load feed items with personalization\n  const loadFeedItems = useCallback(async (pageNum: number, isRefresh: boolean = false) => {\n    if (isLoading) return;\n\n    try {\n      // Use FeedsStore to load feeds\n      if (isRefresh) {\n        await refreshFeeds();\n      } else {\n        await loadFeeds('all');\n      }\n\n      // Update component-specific state\n      setPersonalizationScore(0); // This would come from the store\n      setLastUpdate(new Date());\n      \n      // Add notification for user feedback\n      addNotification({\n        type: 'success',\n        title: 'Feed Updated',\n        message: isRefresh ? 'Feed refreshed!' : 'New posts loaded!',\n        duration: 3000\n      });\n    } catch (error) {\n      // Error handling - could be logged to monitoring service\n      console.error('Error loading feed:', error);\n      addNotification({\n        type: 'error',\n        title: 'Feed Load Failed',\n        message: 'Failed to load feed. Please try again.',\n        duration: 5000\n      });\n    }\n  }, [isLoading, loadFeeds, refreshFeeds, addNotification]);\n\n  // Load initial feed\n  useEffect(() => {\n    void loadFeedItems(1, true);\n  }, [loadFeedItems]);\n\n  // Set up real-time updates\n  useEffect(() => {\n    if (enableRealTimeUpdates && userId) {\n      // WebSocket connection for real-time updates\n      const ws = new WebSocket(`wss://your-websocket-endpoint/feed/${userId}`);\n      wsRef.current = ws;\n\n      ws.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n        if (data.label === 'new_item') {\n          // Use store action to add new feed item\n          // This would need to be implemented in the store\n          logger.info('New item received:', data.item);\n        } else if (data.label === 'engagement_update') {\n          // Use store action to update engagement\n          // This would need to be implemented in the store\n          logger.info('Engagement update received:', data);\n        }\n      };\n\n      // Fallback polling for updates\n      refreshIntervalRef.current = setInterval(() => {\n        void loadFeedItems(1, true);\n      }, 30000); // Refresh every 30 seconds\n\n      return () => {\n        ws.close();\n        if (refreshIntervalRef.current) {\n          clearInterval(refreshIntervalRef.current);\n        }\n      };\n    }\n  }, [enableRealTimeUpdates, userId, loadFeedItems]);\n\n  // Analytics tracking\n  const trackEvent = useCallback((event: string, data?: any) => {\n    if (enableAnalytics) {\n      logger.info('Analytics:', { event, data });\n      // Implement analytics tracking for social media interactions\n      try {\n        // Track social media click event\n        if (typeof window !== 'undefined' && window.gtag) {\n          window.gtag('event', 'social_media_click', {\n            event_category: 'civics',\n            event_label: data?.platform ?? 'unknown',\n            value: 1\n          });\n        }\n        \n        // Track in local analytics if available\n        if (typeof window !== 'undefined' && (window as any).analytics) {\n          (window as any).analytics.track('Social Media Clicked', {\n            platform: data?.platform ?? 'unknown',\n            handle: data?.handle ?? 'unknown',\n            url: data?.url ?? 'unknown',\n            representative: data?.representative ?? 'unknown'\n          });\n        }\n      } catch (error) {\n        console.warn('Analytics tracking failed:', error);\n      }\n    }\n  }, [enableAnalytics]);\n\n  // Handle engagement actions\n  const handleLike = useCallback((itemId: string) => {\n    // Use FeedsStore to like feed\n    likeFeed(itemId);\n    onLike?.(itemId);\n    trackEvent('feed_item_liked', { itemId });\n  }, [likeFeed, onLike, trackEvent]);\n\n  const handleBookmark = useCallback((itemId: string) => {\n    // Use FeedsStore to bookmark feed\n    bookmarkFeed(itemId);\n    onBookmark?.(itemId);\n    trackEvent('feed_item_bookmarked', { itemId });\n  }, [bookmarkFeed, onBookmark, trackEvent]);\n\n  const handleShare = useCallback((itemId: string) => {\n    onShare?.(itemId);\n    trackEvent('feed_item_shared', { itemId });\n    \n    // Native sharing if available\n    if (navigator.share) {\n      const item = feeds.find((item: any) => item.id === itemId);\n      if (item) {\n        navigator.share({\n          title: item.title,\n          text: item.summary ?? '',\n          url: item.source.url ?? window.location.href\n        });\n      }\n    }\n  }, [feeds, onShare, trackEvent]);\n\n  const handleComment = useCallback((itemId: string) => {\n    onComment?.(itemId);\n    trackEvent('feed_item_commented', { itemId });\n  }, [onComment, trackEvent]);\n\n  const handleViewDetails = useCallback((itemId: string) => {\n    onViewDetails?.(itemId);\n  }, [onViewDetails]);\n\n  // Handle refresh\n  const handleRefresh = useCallback(async () => {\n    await loadFeedItems(1, true);\n  }, [loadFeedItems]);\n\n  // Handle load more\n  const handleLoadMore = useCallback(async () => {\n    await loadFeedItems(1, false);\n  }, [loadFeedItems]);\n\n  // Format last update time\n  const formatLastUpdate = (date: Date) => {\n    const now = new Date();\n    const diffInMinutes = Math.floor((now.getTime() - date.getTime()) / (1000 * 60));\n    \n    if (diffInMinutes < 1) return 'Just now';\n    if (diffInMinutes < 60) return `${diffInMinutes}m ago`;\n    if (diffInMinutes < 1440) return `${Math.floor(diffInMinutes / 60)}h ago`;\n    return date.toLocaleDateString();\n  };\n\n  return (\n    <div className={`h-full ${className}`}>\n      {/* Feed Header */}\n      <div className=\"bg-white border-b border-gray-200 p-4\">\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h2 className=\"text-lg font-semibold text-gray-900\">Civic Feed</h2>\n            <p className=\"text-sm text-gray-500\">\n              {enablePersonalization && personalizationScore > 0 && (\n                <span className=\"flex items-center space-x-1\">\n                  <SparklesIcon className=\"w-4 h-4 text-blue-500\" />\n                  <span>Personalized for you ({personalizationScore}% match)</span>\n                </span>\n              )}\n            </p>\n          </div>\n          \n          <div className=\"flex items-center space-x-4 text-sm text-gray-500\">\n            {enableRealTimeUpdates && (\n              <div className=\"flex items-center space-x-1\">\n                <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n                <span>Live</span>\n              </div>\n            )}\n            \n            <div className=\"flex items-center space-x-1\">\n              <ClockIcon className=\"w-4 h-4\" />\n              <span>Updated {formatLastUpdate(lastUpdate)}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Refresh Indicator */}\n      {isLoading && (\n        <div className=\"bg-blue-50 border-b border-blue-200 p-3\">\n          <div className=\"flex items-center justify-center space-x-2\">\n            <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500\"></div>\n            <span className=\"text-sm text-blue-600\">Refreshing feed...</span>\n          </div>\n        </div>\n      )}\n\n      {/* Trending Section */}\n      {showTrending && (\n        <div className=\"bg-gradient-to-r from-blue-50 to-purple-50 border-b border-gray-200 p-4\">\n          <div className=\"flex items-center space-x-2\">\n            <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\n            <span className=\"text-sm font-medium text-gray-700\">Trending Now</span>\n          </div>\n          <div className=\"mt-2 text-sm text-gray-600\">\n            Climate Action • Voting Rights • Infrastructure\n          </div>\n        </div>\n      )}\n\n      {/* Enhanced Feed with Infinite Scroll */}\n      <InfiniteScroll\n        onLoadMore={handleLoadMore}\n        hasMore={feeds.length > 0}\n        isLoading={isLoading}\n        onRefresh={handleRefresh}\n        enableScrollToTop={true}\n        enablePullToRefresh={true}\n        className=\"h-full\"\n        loadingComponent={\n          <div className=\"flex items-center justify-center py-8\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500\"></div>\n            <span className=\"ml-3 text-gray-500\">Loading more...</span>\n          </div>\n        }\n        endComponent={\n          <div className=\"text-center py-8 text-gray-500\">\n            <p>You&apos;ve reached the end of the feed</p>\n            <p className=\"text-sm mt-1\">Check back later for more updates</p>\n          </div>\n        }\n      >\n        {feeds.map((item: any) => (\n          <FeedItem\n            key={item.id}\n            item={item} // Type conversion needed due to different FeedItem types\n            onLike={handleLike}\n            onShare={handleShare}\n            onBookmark={handleBookmark}\n            onComment={handleComment}\n            onViewDetails={handleViewDetails}\n            isLiked={item.userInteraction.liked}\n            isBookmarked={item.userInteraction.bookmarked}\n            showEngagement={true}\n            enableHaptics={enableHaptics}\n          />\n        ))}\n      </InfiniteScroll>\n    </div>\n  );\n}\n"],"names":["EnhancedSocialFeed","userId","preferences","_preferences","onLike","onShare","onBookmark","onComment","onViewDetails","className","enablePersonalization","enableRealTimeUpdates","enableAnalytics","enableHaptics","showTrending","feeds","useFeeds","loadFeeds","likeFeed","bookmarkFeed","refreshFeeds","useFeedsActions","isLoading","useFeedsLoading","addNotification","useNotificationStore","state","personalizationScore","setPersonalizationScore","useState","lastUpdate","setLastUpdate","Date","wsRef","useRef","refreshIntervalRef","loadFeedItems","useCallback","pageNum","isRefresh","type","title","message","duration","error","console","useEffect","ws","WebSocket","current","onmessage","event","data","JSON","parse","label","logger","info","item","setInterval","close","clearInterval","trackEvent","window","gtag","event_category","event_label","platform","value","analytics","track","handle","url","representative","warn","handleLike","itemId","handleBookmark","handleShare","navigator","share","find","id","text","summary","source","location","href","handleComment","handleViewDetails","handleRefresh","handleLoadMore","formatLastUpdate","date","now","diffInMinutes","Math","floor","getTime","toLocaleDateString","div","h2","p","span","SparklesIcon","ClockIcon","InfiniteScroll","onLoadMore","hasMore","length","onRefresh","enableScrollToTop","enablePullToRefresh","loadingComponent","endComponent","map","FeedItem","isLiked","userInteraction","liked","isBookmarked","bookmarked","showEngagement"],"mappings":"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"}