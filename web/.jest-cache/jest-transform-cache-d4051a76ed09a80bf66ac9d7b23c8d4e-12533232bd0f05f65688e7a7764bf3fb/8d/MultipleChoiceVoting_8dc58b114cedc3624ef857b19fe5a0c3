e150d4be135b111050a535ad0c253441
'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return MultipleChoiceVoting;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _CheckCircle = require("lucide-react/dist/esm/icons/CheckCircle");
const _AlertCircle = require("lucide-react/dist/esm/icons/AlertCircle");
const _Info = require("lucide-react/dist/esm/icons/Info");
const _react = require("react");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
function MultipleChoiceVoting({ pollId, title, description, options, onVote, isVoting, hasVoted = false, userVote, maxSelections }) {
    const [selectedOptions, setSelectedOptions] = (0, _react.useState)(userVote || []);
    const [error, setError] = (0, _react.useState)(null);
    const [showExplanation, setShowExplanation] = (0, _react.useState)(false);
    const [isSubmitting, setIsSubmitting] = (0, _react.useState)(false);
    // Initialize from user's previous vote
    (0, _react.useEffect)(()=>{
        if (userVote !== undefined) {
            setSelectedOptions(userVote);
        }
    }, [
        userVote
    ]);
    const handleOptionToggle = (optionIndex)=>{
        if (hasVoted || isVoting) return;
        setError(null);
        setSelectedOptions((prev)=>{
            const isSelected = prev.includes(optionIndex);
            if (isSelected) {
                // Remove from selection
                return prev.filter((idx)=>idx !== optionIndex);
            } else {
                // Add to selection (check max selections limit)
                if (maxSelections && prev.length >= maxSelections) {
                    setError(`You can select up to ${maxSelections} options`);
                    return prev;
                }
                return [
                    ...prev,
                    optionIndex
                ];
            }
        });
    };
    const handleSubmit = async ()=>{
        if (hasVoted || isVoting) return;
        if (selectedOptions.length === 0) {
            setError('Please select at least one option to vote');
            return;
        }
        setIsSubmitting(true);
        setError(null);
        try {
            // Track analytics with poll ID using SSR-safe access
            const { safeWindow } = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../../lib/utils/ssr-safe")));
            const gtag = safeWindow((w)=>w.gtag);
            if (gtag) {
                gtag('event', 'vote_submitted', {
                    poll_id: pollId,
                    selections: selectedOptions,
                    voting_method: 'multiple_choice'
                });
            }
            // Use the selections parameter properly
            await onVote(selectedOptions);
        } catch (err) {
            setError(err instanceof Error ? err.message : 'Failed to submit vote');
        } finally{
            setIsSubmitting(false);
        }
    };
    const isDisabled = hasVoted || isVoting || isSubmitting;
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "max-w-2xl mx-auto",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-start justify-between mb-4",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                                        className: "text-2xl font-bold text-gray-900 mb-2",
                                        children: title
                                    }),
                                    description && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "text-gray-600",
                                        children: description
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                onClick: ()=>setShowExplanation(!showExplanation),
                                className: "flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_Info.Info, {
                                        className: "w-5 h-5"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-sm font-medium",
                                        children: "How it works"
                                    })
                                ]
                            })
                        ]
                    }),
                    showExplanation && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "bg-blue-50 border border-blue-200 rounded-lg p-4 mb-4",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                className: "font-semibold text-blue-900 mb-2",
                                children: "How Multiple Choice Voting Works"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "text-sm text-blue-800 space-y-2",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        children: [
                                            "• ",
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                children: "Select multiple options:"
                                            }),
                                            " Choose all options you support"
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        children: [
                                            "• ",
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                children: "Express preferences:"
                                            }),
                                            " Show support for multiple ideas"
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        children: [
                                            "• ",
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                children: "Flexible voting:"
                                            }),
                                            " Perfect when multiple options can coexist"
                                        ]
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        children: [
                                            "• ",
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("strong", {
                                                children: "Consensus building:"
                                            }),
                                            " Great for finding common ground"
                                        ]
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center space-x-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm font-medium",
                                children: "\uD83C\uDFAF Multiple Choice Voting"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                className: "text-sm text-gray-500",
                                children: [
                                    "Select all options you support",
                                    maxSelections && ` (up to ${maxSelections})`
                                ]
                            })
                        ]
                    })
                ]
            }),
            error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "bg-red-50 border border-red-200 rounded-lg p-4 mb-6",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex items-center",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_AlertCircle.AlertCircle, {
                            className: "w-5 h-5 text-red-500 mr-2"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-red-800",
                            children: error
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "bg-white rounded-xl shadow-sm border border-gray-200 p-6",
                "data-testid": "voting-form",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "space-y-3",
                        children: options.map((option, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                onClick: ()=>handleOptionToggle(index),
                                className: `
                relative p-4 border-2 rounded-lg cursor-pointer transition-all duration-200
                ${isDisabled ? 'cursor-not-allowed opacity-60' : 'hover:border-green-300 hover:bg-green-50'}
                ${selectedOptions.includes(index) ? 'border-green-500 bg-green-50' : 'border-gray-200'}
              `,
                                "data-testid": `option-${index + 1}-checkbox`,
                                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-start space-x-3",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "flex-shrink-0 mt-1",
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: `
                    w-5 h-5 rounded border-2 flex items-center justify-center
                    ${selectedOptions.includes(index) ? 'border-green-500 bg-green-500' : 'border-gray-300 bg-white'}
                    transition-all duration-200
                  `,
                                                children: selectedOptions.includes(index) && /*#__PURE__*/ (0, _jsxruntime.jsx)(_CheckCircle.CheckCircle, {
                                                    className: "w-3 h-3 text-white"
                                                })
                                            })
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            className: "flex-1",
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                                    className: "font-semibold text-gray-900 mb-1",
                                                    children: option.text
                                                }),
                                                option.description && /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                    className: "text-sm text-gray-600",
                                                    children: option.description
                                                })
                                            ]
                                        }),
                                        selectedOptions.includes(index) && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "flex-shrink-0",
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_CheckCircle.CheckCircle, {
                                                className: "w-5 h-5 text-green-500"
                                            })
                                        })
                                    ]
                                })
                            }, option.id))
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "mt-6 p-4 bg-gray-50 rounded-lg",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-center space-x-2 mb-2",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_CheckCircle.CheckCircle, {
                                        className: "w-5 h-5 text-gray-600"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "font-medium text-gray-900",
                                        children: "Voting Instructions"
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "text-sm text-gray-600 space-y-1",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        children: "• Click on options to select/deselect them"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        children: "• You can select multiple options"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        children: "• You can change your selections before submitting"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        children: "• All selected options will be counted in the results"
                                    }),
                                    maxSelections && /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        children: [
                                            "• Maximum ",
                                            maxSelections,
                                            " selections allowed"
                                        ]
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "mt-6 flex justify-center",
                        children: hasVoted ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-center space-x-2 text-green-600",
                            "data-testid": "vote-confirmation",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_CheckCircle.CheckCircle, {
                                    className: "w-5 h-5"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    className: "font-medium",
                                    "data-testid": "vote-receipt",
                                    children: "Vote submitted successfully!"
                                })
                            ]
                        }) : /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                            onClick: handleSubmit,
                            disabled: isDisabled || selectedOptions.length === 0,
                            className: `
                flex items-center space-x-2 px-8 py-3 rounded-lg font-medium transition-colors
                ${isDisabled || selectedOptions.length === 0 ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-green-600 text-white hover:bg-green-700'}
              `,
                            "data-testid": "submit-vote-button",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_CheckCircle.CheckCircle, {
                                    className: "w-5 h-5"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    children: isSubmitting ? 'Submitting Vote...' : 'Submit Vote'
                                })
                            ]
                        })
                    }),
                    selectedOptions.length > 0 && !hasVoted && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "mt-4 text-center",
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "text-sm text-gray-600",
                            children: [
                                "Selected ",
                                selectedOptions.length,
                                " option",
                                selectedOptions.length !== 1 ? 's' : '',
                                ": ",
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    className: "font-medium text-green-600",
                                    children: selectedOptions.map((idx)=>options[idx]?.text).join(', ')
                                })
                            ]
                        })
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "mt-6 bg-white rounded-xl shadow-sm border border-gray-200 p-6",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                        className: "font-semibold text-gray-900 mb-3",
                        children: "When to Use Multiple Choice Voting"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                        className: "font-medium text-gray-900 mb-2",
                                        children: "✅ Good For:"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("ul", {
                                        className: "space-y-1",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Feature requests"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Preference surveys"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Multi-topic polls"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Consensus building"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• When multiple options can coexist"
                                            })
                                        ]
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                        className: "font-medium text-gray-900 mb-2",
                                        children: "⚠️ Consider Alternatives For:"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("ul", {
                                        className: "space-y-1",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Mutually exclusive choices"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Single winner scenarios"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• When ranking matters"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Binary decisions"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• When you need a clear winner"
                                            })
                                        ]
                                    })
                                ]
                            })
                        ]
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9mZWF0dXJlcy92b3RpbmcvY29tcG9uZW50cy9NdWx0aXBsZUNob2ljZVZvdGluZy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnXG5cbmltcG9ydCB7IENoZWNrQ2lyY2xlLCBBbGVydENpcmNsZSwgSW5mbyB9IGZyb20gJ2x1Y2lkZS1yZWFjdCdcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCdcblxuaW50ZXJmYWNlIFBvbGxPcHRpb24ge1xuICBpZDogc3RyaW5nXG4gIHRleHQ6IHN0cmluZ1xuICBkZXNjcmlwdGlvbj86IHN0cmluZ1xufVxuXG5pbnRlcmZhY2UgTXVsdGlwbGVDaG9pY2VWb3RpbmdQcm9wcyB7XG4gIHBvbGxJZDogc3RyaW5nXG4gIHRpdGxlOiBzdHJpbmdcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmdcbiAgb3B0aW9uczogUG9sbE9wdGlvbltdXG4gIG9uVm90ZTogKHNlbGVjdGlvbnM6IG51bWJlcltdKSA9PiBQcm9taXNlPHZvaWQ+XG4gIGlzVm90aW5nOiBib29sZWFuXG4gIGhhc1ZvdGVkPzogYm9vbGVhblxuICB1c2VyVm90ZT86IG51bWJlcltdXG4gIG1heFNlbGVjdGlvbnM/OiBudW1iZXJcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTXVsdGlwbGVDaG9pY2VWb3Rpbmcoe1xuICBwb2xsSWQsXG4gIHRpdGxlLFxuICBkZXNjcmlwdGlvbixcbiAgb3B0aW9ucyxcbiAgb25Wb3RlLFxuICBpc1ZvdGluZyxcbiAgaGFzVm90ZWQgPSBmYWxzZSxcbiAgdXNlclZvdGUsXG4gIG1heFNlbGVjdGlvbnNcbn06IE11bHRpcGxlQ2hvaWNlVm90aW5nUHJvcHMpIHtcbiAgY29uc3QgW3NlbGVjdGVkT3B0aW9ucywgc2V0U2VsZWN0ZWRPcHRpb25zXSA9IHVzZVN0YXRlPG51bWJlcltdPih1c2VyVm90ZSB8fCBbXSlcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKVxuICBjb25zdCBbc2hvd0V4cGxhbmF0aW9uLCBzZXRTaG93RXhwbGFuYXRpb25dID0gdXNlU3RhdGUoZmFsc2UpXG4gIGNvbnN0IFtpc1N1Ym1pdHRpbmcsIHNldElzU3VibWl0dGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcblxuICAvLyBJbml0aWFsaXplIGZyb20gdXNlcidzIHByZXZpb3VzIHZvdGVcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAodXNlclZvdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0U2VsZWN0ZWRPcHRpb25zKHVzZXJWb3RlKVxuICAgIH1cbiAgfSwgW3VzZXJWb3RlXSlcblxuICBjb25zdCBoYW5kbGVPcHRpb25Ub2dnbGUgPSAob3B0aW9uSW5kZXg6IG51bWJlcikgPT4ge1xuICAgIGlmIChoYXNWb3RlZCB8fCBpc1ZvdGluZykgcmV0dXJuXG4gICAgXG4gICAgc2V0RXJyb3IobnVsbClcbiAgICBcbiAgICBzZXRTZWxlY3RlZE9wdGlvbnMocHJldiA9PiB7XG4gICAgICBjb25zdCBpc1NlbGVjdGVkID0gcHJldi5pbmNsdWRlcyhvcHRpb25JbmRleClcbiAgICAgIGlmIChpc1NlbGVjdGVkKSB7XG4gICAgICAgIC8vIFJlbW92ZSBmcm9tIHNlbGVjdGlvblxuICAgICAgICByZXR1cm4gcHJldi5maWx0ZXIoaWR4ID0+IGlkeCAhPT0gb3B0aW9uSW5kZXgpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBZGQgdG8gc2VsZWN0aW9uIChjaGVjayBtYXggc2VsZWN0aW9ucyBsaW1pdClcbiAgICAgICAgaWYgKG1heFNlbGVjdGlvbnMgJiYgcHJldi5sZW5ndGggPj0gbWF4U2VsZWN0aW9ucykge1xuICAgICAgICAgIHNldEVycm9yKGBZb3UgY2FuIHNlbGVjdCB1cCB0byAke21heFNlbGVjdGlvbnN9IG9wdGlvbnNgKVxuICAgICAgICAgIHJldHVybiBwcmV2XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFsuLi5wcmV2LCBvcHRpb25JbmRleF1cbiAgICAgIH1cbiAgICB9KVxuICB9XG5cbiAgY29uc3QgaGFuZGxlU3VibWl0ID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmIChoYXNWb3RlZCB8fCBpc1ZvdGluZykgcmV0dXJuXG5cbiAgICBpZiAoc2VsZWN0ZWRPcHRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2V0RXJyb3IoJ1BsZWFzZSBzZWxlY3QgYXQgbGVhc3Qgb25lIG9wdGlvbiB0byB2b3RlJylcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIHNldElzU3VibWl0dGluZyh0cnVlKVxuICAgIHNldEVycm9yKG51bGwpXG5cbiAgICB0cnkge1xuICAgICAgLy8gVHJhY2sgYW5hbHl0aWNzIHdpdGggcG9sbCBJRCB1c2luZyBTU1Itc2FmZSBhY2Nlc3NcbiAgICAgIGNvbnN0IHsgc2FmZVdpbmRvdyB9ID0gYXdhaXQgaW1wb3J0KCdAL2xpYi91dGlscy9zc3Itc2FmZScpO1xuICAgICAgY29uc3QgZ3RhZyA9IHNhZmVXaW5kb3codyA9PiB3Lmd0YWcpO1xuICAgICAgaWYgKGd0YWcpIHtcbiAgICAgICAgZ3RhZygnZXZlbnQnLCAndm90ZV9zdWJtaXR0ZWQnLCB7XG4gICAgICAgICAgcG9sbF9pZDogcG9sbElkLFxuICAgICAgICAgIHNlbGVjdGlvbnM6IHNlbGVjdGVkT3B0aW9ucyxcbiAgICAgICAgICB2b3RpbmdfbWV0aG9kOiAnbXVsdGlwbGVfY2hvaWNlJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBVc2UgdGhlIHNlbGVjdGlvbnMgcGFyYW1ldGVyIHByb3Blcmx5XG4gICAgICBhd2FpdCBvblZvdGUoc2VsZWN0ZWRPcHRpb25zKVxuICAgIH0gY2F0Y2ggKGVycjogdW5rbm93bikge1xuICAgICAgc2V0RXJyb3IoZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdGYWlsZWQgdG8gc3VibWl0IHZvdGUnKVxuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1N1Ym1pdHRpbmcoZmFsc2UpXG4gICAgfVxuICB9XG5cbiAgY29uc3QgaXNEaXNhYmxlZCA9IGhhc1ZvdGVkIHx8IGlzVm90aW5nIHx8IGlzU3VibWl0dGluZ1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy0yeGwgbXgtYXV0b1wiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3ctc20gYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBwLTYgbWItNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQganVzdGlmeS1iZXR3ZWVuIG1iLTRcIj5cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGgxIGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj57dGl0bGV9PC9oMT5cbiAgICAgICAgICAgIHtkZXNjcmlwdGlvbiAmJiAoXG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj57ZGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTaG93RXhwbGFuYXRpb24oIXNob3dFeHBsYW5hdGlvbil9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgdGV4dC1ibHVlLTYwMCBob3Zlcjp0ZXh0LWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8SW5mbyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW1cIj5Ib3cgaXQgd29ya3M8L3NwYW4+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBNdWx0aXBsZSBDaG9pY2UgRXhwbGFuYXRpb24gKi99XG4gICAgICAgIHtzaG93RXhwbGFuYXRpb24gJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmx1ZS01MCBib3JkZXIgYm9yZGVyLWJsdWUtMjAwIHJvdW5kZWQtbGcgcC00IG1iLTRcIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtYmx1ZS05MDAgbWItMlwiPkhvdyBNdWx0aXBsZSBDaG9pY2UgVm90aW5nIFdvcmtzPC9oMz5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWJsdWUtODAwIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICA8cD7igKIgPHN0cm9uZz5TZWxlY3QgbXVsdGlwbGUgb3B0aW9uczo8L3N0cm9uZz4gQ2hvb3NlIGFsbCBvcHRpb25zIHlvdSBzdXBwb3J0PC9wPlxuICAgICAgICAgICAgICA8cD7igKIgPHN0cm9uZz5FeHByZXNzIHByZWZlcmVuY2VzOjwvc3Ryb25nPiBTaG93IHN1cHBvcnQgZm9yIG11bHRpcGxlIGlkZWFzPC9wPlxuICAgICAgICAgICAgICA8cD7igKIgPHN0cm9uZz5GbGV4aWJsZSB2b3Rpbmc6PC9zdHJvbmc+IFBlcmZlY3Qgd2hlbiBtdWx0aXBsZSBvcHRpb25zIGNhbiBjb2V4aXN0PC9wPlxuICAgICAgICAgICAgICA8cD7igKIgPHN0cm9uZz5Db25zZW5zdXMgYnVpbGRpbmc6PC9zdHJvbmc+IEdyZWF0IGZvciBmaW5kaW5nIGNvbW1vbiBncm91bmQ8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogVm90aW5nIE1ldGhvZCBCYWRnZSAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyZWVuLTEwMCB0ZXh0LWdyZWVuLTgwMCBweC0zIHB5LTEgcm91bmRlZC1mdWxsIHRleHQtc20gZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgIPCfjq8gTXVsdGlwbGUgQ2hvaWNlIFZvdGluZ1xuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPlxuICAgICAgICAgICAgU2VsZWN0IGFsbCBvcHRpb25zIHlvdSBzdXBwb3J0XG4gICAgICAgICAgICB7bWF4U2VsZWN0aW9ucyAmJiBgICh1cCB0byAke21heFNlbGVjdGlvbnN9KWB9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICB7LyogRXJyb3IgTWVzc2FnZSAqL31cbiAgICAgIHtlcnJvciAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctcmVkLTUwIGJvcmRlciBib3JkZXItcmVkLTIwMCByb3VuZGVkLWxnIHAtNCBtYi02XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPEFsZXJ0Q2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1yZWQtNTAwIG1yLTJcIiAvPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1yZWQtODAwXCI+e2Vycm9yfTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICApfVxuXG4gICAgICB7LyogVm90aW5nIEludGVyZmFjZSAqL31cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC14bCBzaGFkb3ctc20gYm9yZGVyIGJvcmRlci1ncmF5LTIwMCBwLTZcIiBkYXRhLXRlc3RpZD1cInZvdGluZy1mb3JtXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAge29wdGlvbnMubWFwKChvcHRpb246IFBvbGxPcHRpb24sIGluZGV4OiBudW1iZXIpID0+IChcbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAga2V5PXtvcHRpb24uaWR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZU9wdGlvblRvZ2dsZShpbmRleCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YFxuICAgICAgICAgICAgICAgIHJlbGF0aXZlIHAtNCBib3JkZXItMiByb3VuZGVkLWxnIGN1cnNvci1wb2ludGVyIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMFxuICAgICAgICAgICAgICAgICR7aXNEaXNhYmxlZCBcbiAgICAgICAgICAgICAgICAgID8gJ2N1cnNvci1ub3QtYWxsb3dlZCBvcGFjaXR5LTYwJyBcbiAgICAgICAgICAgICAgICAgIDogJ2hvdmVyOmJvcmRlci1ncmVlbi0zMDAgaG92ZXI6YmctZ3JlZW4tNTAnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICR7c2VsZWN0ZWRPcHRpb25zLmluY2x1ZGVzKGluZGV4KVxuICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWdyZWVuLTUwMCBiZy1ncmVlbi01MCcgXG4gICAgICAgICAgICAgICAgICA6ICdib3JkZXItZ3JheS0yMDAnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD17YG9wdGlvbi0ke2luZGV4ICsgMX0tY2hlY2tib3hgfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgICAgey8qIENoZWNrYm94ICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC1zaHJpbmstMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT17YFxuICAgICAgICAgICAgICAgICAgICB3LTUgaC01IHJvdW5kZWQgYm9yZGVyLTIgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcbiAgICAgICAgICAgICAgICAgICAgJHtzZWxlY3RlZE9wdGlvbnMuaW5jbHVkZXMoaW5kZXgpXG4gICAgICAgICAgICAgICAgICAgICAgPyAnYm9yZGVyLWdyZWVuLTUwMCBiZy1ncmVlbi01MDAnXG4gICAgICAgICAgICAgICAgICAgICAgOiAnYm9yZGVyLWdyYXktMzAwIGJnLXdoaXRlJ1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb24tYWxsIGR1cmF0aW9uLTIwMFxuICAgICAgICAgICAgICAgICAgYH0+XG4gICAgICAgICAgICAgICAgICAgIHtzZWxlY3RlZE9wdGlvbnMuaW5jbHVkZXMoaW5kZXgpICYmIChcbiAgICAgICAgICAgICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwidy0zIGgtMyB0ZXh0LXdoaXRlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgey8qIE9wdGlvbiBDb250ZW50ICovfVxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xXCI+XG4gICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTFcIj57b3B0aW9uLnRleHR9PC9oMz5cbiAgICAgICAgICAgICAgICAgIHtvcHRpb24uZGVzY3JpcHRpb24gJiYgKFxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj57b3B0aW9uLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICB7LyogU2VsZWN0aW9uIEluZGljYXRvciAqL31cbiAgICAgICAgICAgICAgICB7c2VsZWN0ZWRPcHRpb25zLmluY2x1ZGVzKGluZGV4KSAmJiAoXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtc2hyaW5rLTBcIj5cbiAgICAgICAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1ncmVlbi01MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIEluc3RydWN0aW9ucyAqL31cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IHAtNCBiZy1ncmF5LTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBtYi0yXCI+XG4gICAgICAgICAgICA8Q2hlY2tDaXJjbGUgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWdyYXktNjAwXCIgLz5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDBcIj5Wb3RpbmcgSW5zdHJ1Y3Rpb25zPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIHNwYWNlLXktMVwiPlxuICAgICAgICAgICAgPHA+4oCiIENsaWNrIG9uIG9wdGlvbnMgdG8gc2VsZWN0L2Rlc2VsZWN0IHRoZW08L3A+XG4gICAgICAgICAgICA8cD7igKIgWW91IGNhbiBzZWxlY3QgbXVsdGlwbGUgb3B0aW9uczwvcD5cbiAgICAgICAgICAgIDxwPuKAoiBZb3UgY2FuIGNoYW5nZSB5b3VyIHNlbGVjdGlvbnMgYmVmb3JlIHN1Ym1pdHRpbmc8L3A+XG4gICAgICAgICAgICA8cD7igKIgQWxsIHNlbGVjdGVkIG9wdGlvbnMgd2lsbCBiZSBjb3VudGVkIGluIHRoZSByZXN1bHRzPC9wPlxuICAgICAgICAgICAge21heFNlbGVjdGlvbnMgJiYgKFxuICAgICAgICAgICAgICA8cD7igKIgTWF4aW11bSB7bWF4U2VsZWN0aW9uc30gc2VsZWN0aW9ucyBhbGxvd2VkPC9wPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFN1Ym1pdCBCdXR0b24gKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiBmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAge2hhc1ZvdGVkID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgdGV4dC1ncmVlbi02MDBcIiBkYXRhLXRlc3RpZD1cInZvdGUtY29uZmlybWF0aW9uXCI+XG4gICAgICAgICAgICAgIDxDaGVja0NpcmNsZSBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIiBkYXRhLXRlc3RpZD1cInZvdGUtcmVjZWlwdFwiPlZvdGUgc3VibWl0dGVkIHN1Y2Nlc3NmdWxseSE8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTdWJtaXR9XG4gICAgICAgICAgICAgIGRpc2FibGVkPXtpc0Rpc2FibGVkIHx8IHNlbGVjdGVkT3B0aW9ucy5sZW5ndGggPT09IDB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT17YFxuICAgICAgICAgICAgICAgIGZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiBweC04IHB5LTMgcm91bmRlZC1sZyBmb250LW1lZGl1bSB0cmFuc2l0aW9uLWNvbG9yc1xuICAgICAgICAgICAgICAgICR7aXNEaXNhYmxlZCB8fCBzZWxlY3RlZE9wdGlvbnMubGVuZ3RoID09PSAwXG4gICAgICAgICAgICAgICAgICA/ICdiZy1ncmF5LTMwMCB0ZXh0LWdyYXktNTAwIGN1cnNvci1ub3QtYWxsb3dlZCdcbiAgICAgICAgICAgICAgICAgIDogJ2JnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIGhvdmVyOmJnLWdyZWVuLTcwMCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGB9XG4gICAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwic3VibWl0LXZvdGUtYnV0dG9uXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPENoZWNrQ2lyY2xlIGNsYXNzTmFtZT1cInctNSBoLTVcIiAvPlxuICAgICAgICAgICAgICA8c3Bhbj57aXNTdWJtaXR0aW5nID8gJ1N1Ym1pdHRpbmcgVm90ZS4uLicgOiAnU3VibWl0IFZvdGUnfTwvc3Bhbj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBTZWxlY3Rpb24gU3VtbWFyeSAqL31cbiAgICAgICAge3NlbGVjdGVkT3B0aW9ucy5sZW5ndGggPiAwICYmICFoYXNWb3RlZCAmJiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICBTZWxlY3RlZCB7c2VsZWN0ZWRPcHRpb25zLmxlbmd0aH0gb3B0aW9ue3NlbGVjdGVkT3B0aW9ucy5sZW5ndGggIT09IDEgPyAncycgOiAnJ306IDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JlZW4tNjAwXCI+XG4gICAgICAgICAgICAgICAge3NlbGVjdGVkT3B0aW9ucy5tYXAoaWR4ID0+IG9wdGlvbnNbaWR4XT8udGV4dCkuam9pbignLCAnKX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEJlc3QgUHJhY3RpY2VzICovfVxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IGJnLXdoaXRlIHJvdW5kZWQteGwgc2hhZG93LXNtIGJvcmRlciBib3JkZXItZ3JheS0yMDAgcC02XCI+XG4gICAgICAgIDxoMyBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItM1wiPldoZW4gdG8gVXNlIE11bHRpcGxlIENob2ljZSBWb3Rpbmc8L2gzPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEgbWQ6Z3JpZC1jb2xzLTIgZ2FwLTQgdGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIG1iLTJcIj7inIUgR29vZCBGb3I6PC9oND5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGxpPuKAoiBGZWF0dXJlIHJlcXVlc3RzPC9saT5cbiAgICAgICAgICAgICAgPGxpPuKAoiBQcmVmZXJlbmNlIHN1cnZleXM8L2xpPlxuICAgICAgICAgICAgICA8bGk+4oCiIE11bHRpLXRvcGljIHBvbGxzPC9saT5cbiAgICAgICAgICAgICAgPGxpPuKAoiBDb25zZW5zdXMgYnVpbGRpbmc8L2xpPlxuICAgICAgICAgICAgICA8bGk+4oCiIFdoZW4gbXVsdGlwbGUgb3B0aW9ucyBjYW4gY29leGlzdDwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBtYi0yXCI+4pqg77iPIENvbnNpZGVyIEFsdGVybmF0aXZlcyBGb3I6PC9oND5cbiAgICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJzcGFjZS15LTFcIj5cbiAgICAgICAgICAgICAgPGxpPuKAoiBNdXR1YWxseSBleGNsdXNpdmUgY2hvaWNlczwvbGk+XG4gICAgICAgICAgICAgIDxsaT7igKIgU2luZ2xlIHdpbm5lciBzY2VuYXJpb3M8L2xpPlxuICAgICAgICAgICAgICA8bGk+4oCiIFdoZW4gcmFua2luZyBtYXR0ZXJzPC9saT5cbiAgICAgICAgICAgICAgPGxpPuKAoiBCaW5hcnkgZGVjaXNpb25zPC9saT5cbiAgICAgICAgICAgICAgPGxpPuKAoiBXaGVuIHlvdSBuZWVkIGEgY2xlYXIgd2lubmVyPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIClcbn1cbiJdLCJuYW1lcyI6WyJNdWx0aXBsZUNob2ljZVZvdGluZyIsInBvbGxJZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJvcHRpb25zIiwib25Wb3RlIiwiaXNWb3RpbmciLCJoYXNWb3RlZCIsInVzZXJWb3RlIiwibWF4U2VsZWN0aW9ucyIsInNlbGVjdGVkT3B0aW9ucyIsInNldFNlbGVjdGVkT3B0aW9ucyIsInVzZVN0YXRlIiwiZXJyb3IiLCJzZXRFcnJvciIsInNob3dFeHBsYW5hdGlvbiIsInNldFNob3dFeHBsYW5hdGlvbiIsImlzU3VibWl0dGluZyIsInNldElzU3VibWl0dGluZyIsInVzZUVmZmVjdCIsInVuZGVmaW5lZCIsImhhbmRsZU9wdGlvblRvZ2dsZSIsIm9wdGlvbkluZGV4IiwicHJldiIsImlzU2VsZWN0ZWQiLCJpbmNsdWRlcyIsImZpbHRlciIsImlkeCIsImxlbmd0aCIsImhhbmRsZVN1Ym1pdCIsInNhZmVXaW5kb3ciLCJndGFnIiwidyIsInBvbGxfaWQiLCJzZWxlY3Rpb25zIiwidm90aW5nX21ldGhvZCIsImVyciIsIkVycm9yIiwibWVzc2FnZSIsImlzRGlzYWJsZWQiLCJkaXYiLCJjbGFzc05hbWUiLCJoMSIsInAiLCJidXR0b24iLCJvbkNsaWNrIiwiSW5mbyIsInNwYW4iLCJoMyIsInN0cm9uZyIsIkFsZXJ0Q2lyY2xlIiwiZGF0YS10ZXN0aWQiLCJtYXAiLCJvcHRpb24iLCJpbmRleCIsIkNoZWNrQ2lyY2xlIiwidGV4dCIsImlkIiwiZGlzYWJsZWQiLCJqb2luIiwiaDQiLCJ1bCIsImxpIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7K0JBdUJBOzs7ZUFBd0JBOzs7Ozs7O3VCQXBCWTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBb0JyQixTQUFTQSxxQkFBcUIsRUFDM0NDLE1BQU0sRUFDTkMsS0FBSyxFQUNMQyxXQUFXLEVBQ1hDLE9BQU8sRUFDUEMsTUFBTSxFQUNOQyxRQUFRLEVBQ1JDLFdBQVcsS0FBSyxFQUNoQkMsUUFBUSxFQUNSQyxhQUFhLEVBQ2E7SUFDMUIsTUFBTSxDQUFDQyxpQkFBaUJDLG1CQUFtQixHQUFHQyxJQUFBQSxlQUFRLEVBQVdKLFlBQVksRUFBRTtJQUMvRSxNQUFNLENBQUNLLE9BQU9DLFNBQVMsR0FBR0YsSUFBQUEsZUFBUSxFQUFnQjtJQUNsRCxNQUFNLENBQUNHLGlCQUFpQkMsbUJBQW1CLEdBQUdKLElBQUFBLGVBQVEsRUFBQztJQUN2RCxNQUFNLENBQUNLLGNBQWNDLGdCQUFnQixHQUFHTixJQUFBQSxlQUFRLEVBQUM7SUFFakQsdUNBQXVDO0lBQ3ZDTyxJQUFBQSxnQkFBUyxFQUFDO1FBQ1IsSUFBSVgsYUFBYVksV0FBVztZQUMxQlQsbUJBQW1CSDtRQUNyQjtJQUNGLEdBQUc7UUFBQ0E7S0FBUztJQUViLE1BQU1hLHFCQUFxQixDQUFDQztRQUMxQixJQUFJZixZQUFZRCxVQUFVO1FBRTFCUSxTQUFTO1FBRVRILG1CQUFtQlksQ0FB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