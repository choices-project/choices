{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/lib/stores/civicsStore.ts"],"sourcesContent":["/**\n * Civics Store - Zustand Implementation\n * \n * Comprehensive civic engagement state management including representative data,\n * geographic services, civic actions, and civic preferences. Consolidates civic\n * state management and representative information.\n * \n * Created: October 10, 2025\n * Status: âœ… ACTIVE\n */\n\nimport { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\nimport { persist } from 'zustand/middleware';\n\nimport { logger } from '@/lib/utils/logger';\n\n// Civic data types\ninterface Representative {\n  id: string;\n  name: string;\n  title: string;\n  party: string;\n  district: string;\n  state: string;\n  chamber: 'house' | 'senate' | 'local';\n  photo?: string;\n  contact: {\n    email?: string;\n    phone?: string;\n    website?: string;\n    socialMedia?: Record<string, string>;\n  };\n  committees: string[];\n  votingRecord: {\n    totalVotes: number;\n    partyUnity: number;\n    ideologyScore: number;\n  };\n  campaignFinance: {\n    totalRaised: number;\n    totalSpent: number;\n    independenceScore: number;\n  };\n  bio: string;\n  lastUpdated: string;\n}\n\ninterface District {\n  id: string;\n  name: string;\n  type: 'congressional' | 'state_house' | 'state_senate' | 'local';\n  state: string;\n  boundaries: {\n    coordinates: number[][];\n    center: { lat: number; lng: number };\n  };\n  demographics: {\n    population: number;\n    medianIncome: number;\n    educationLevel: number;\n    diversityIndex: number;\n  };\n  redistrictingStatus: 'current' | 'pending' | 'disputed';\n  lastUpdated: string;\n}\n\ninterface CivicAction {\n  id: string;\n  type: 'contact' | 'petition' | 'event' | 'donation' | 'volunteer';\n  title: string;\n  description: string;\n  target: {\n    representativeId?: string;\n    organization?: string;\n    issue?: string;\n  };\n  status: 'active' | 'completed' | 'cancelled';\n  priority: 'low' | 'medium' | 'high';\n  dueDate?: string;\n  completedAt?: string;\n  metadata: Record<string, any>;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface UserCivicProfile {\n  userId: string;\n  address: {\n    street?: string;\n    city: string;\n    state: string;\n    zipCode: string;\n    country: string;\n  };\n  representatives: string[]; // Representative IDs\n  districts: string[]; // District IDs\n  interests: string[];\n  engagementLevel: 'low' | 'medium' | 'high';\n  preferences: {\n    notifications: boolean;\n    emailUpdates: boolean;\n    smsUpdates: boolean;\n    privacyLevel: 'public' | 'private' | 'anonymous';\n  };\n  lastUpdated: string;\n}\n\ninterface CivicPreferences {\n  showPartyAffiliation: boolean;\n  showVotingRecord: boolean;\n  showCampaignFinance: boolean;\n  showCommittees: boolean;\n  showContactInfo: boolean;\n  showSocialMedia: boolean;\n  defaultView: 'list' | 'grid' | 'map';\n  sortBy: 'name' | 'party' | 'district' | 'lastUpdated';\n  filterBy: {\n    party?: string[];\n    chamber?: string[];\n    state?: string[];\n  };\n  privacySettings: {\n    shareLocation: boolean;\n    shareInterests: boolean;\n    shareActions: boolean;\n  };\n}\n\n// Civics store state interface\ninterface CivicsStore {\n  // Civic data\n  representatives: Representative[];\n  districts: District[];\n  civicActions: CivicAction[];\n  userCivicProfile: UserCivicProfile | null;\n  \n  // UI state\n  selectedRepresentative: Representative | null;\n  selectedDistrict: District | null;\n  searchQuery: string;\n  filters: {\n    party?: string[];\n    chamber?: string[];\n    state?: string[];\n    district?: string[];\n  };\n  \n  // Preferences\n  preferences: CivicPreferences;\n  \n  // Loading states\n  isLoading: boolean;\n  isSearching: boolean;\n  isUpdating: boolean;\n  error: string | null;\n  \n  // Actions - Representatives\n  setRepresentatives: (representatives: Representative[]) => void;\n  addRepresentative: (representative: Representative) => void;\n  updateRepresentative: (id: string, updates: Partial<Representative>) => void;\n  removeRepresentative: (id: string) => void;\n  setSelectedRepresentative: (representative: Representative | null) => void;\n  searchRepresentatives: (query: string) => void;\n  \n  // Actions - Districts\n  setDistricts: (districts: District[]) => void;\n  addDistrict: (district: District) => void;\n  updateDistrict: (id: string, updates: Partial<District>) => void;\n  removeDistrict: (id: string) => void;\n  setSelectedDistrict: (district: District | null) => void;\n  \n  // Actions - Civic Actions\n  setCivicActions: (actions: CivicAction[]) => void;\n  addCivicAction: (action: Omit<CivicAction, 'id' | 'createdAt' | 'updatedAt'>) => void;\n  updateCivicAction: (id: string, updates: Partial<CivicAction>) => void;\n  completeCivicAction: (id: string) => void;\n  removeCivicAction: (id: string) => void;\n  \n  // Actions - User Profile\n  setUserCivicProfile: (profile: UserCivicProfile) => void;\n  updateUserCivicProfile: (updates: Partial<UserCivicProfile>) => void;\n  clearUserCivicProfile: () => void;\n  \n  // Actions - Preferences\n  updatePreferences: (preferences: Partial<CivicPreferences>) => void;\n  resetPreferences: () => void;\n  \n  // Actions - Search and Filters\n  setSearchQuery: (query: string) => void;\n  setFilters: (filters: Partial<CivicsStore['filters']>) => void;\n  clearFilters: () => void;\n  \n  // Actions - Data operations\n  loadRepresentatives: (address: string) => Promise<void>;\n  loadDistricts: (address: string) => Promise<void>;\n  loadCivicActions: () => Promise<void>;\n  saveCivicAction: (action: CivicAction) => Promise<void>;\n  \n  // Actions - Loading states\n  setLoading: (loading: boolean) => void;\n  setSearching: (searching: boolean) => void;\n  setUpdating: (updating: boolean) => void;\n  setError: (error: string | null) => void;\n  clearError: () => void;\n}\n\n// Default civic preferences\nconst defaultPreferences: CivicPreferences = {\n  showPartyAffiliation: true,\n  showVotingRecord: true,\n  showCampaignFinance: true,\n  showCommittees: true,\n  showContactInfo: true,\n  showSocialMedia: true,\n  defaultView: 'list',\n  sortBy: 'name',\n  filterBy: {},\n  privacySettings: {\n    shareLocation: false,\n    shareInterests: true,\n    shareActions: false,\n  },\n};\n\n// Create civics store with middleware\nexport const useCivicsStore = create<CivicsStore>()(\n  devtools(\n    persist(\n      (set, get) => ({\n        // Initial state\n        representatives: [],\n        districts: [],\n        civicActions: [],\n        userCivicProfile: null,\n        selectedRepresentative: null,\n        selectedDistrict: null,\n        searchQuery: '',\n        filters: {},\n        preferences: defaultPreferences,\n        isLoading: false,\n        isSearching: false,\n        isUpdating: false,\n        error: null,\n        \n        // Representative actions\n        setRepresentatives: (representatives) => set({ representatives }),\n        \n        addRepresentative: (representative) => set((state) => ({\n          representatives: [...state.representatives, representative]\n        })),\n        \n        updateRepresentative: (id, updates) => set((state) => ({\n          representatives: state.representatives.map(rep =>\n            rep.id === id ? { ...rep, ...updates } : rep\n          )\n        })),\n        \n        removeRepresentative: (id) => set((state) => ({\n          representatives: state.representatives.filter(rep => rep.id !== id)\n        })),\n        \n        setSelectedRepresentative: (representative) => set({ selectedRepresentative: representative }),\n        \n        searchRepresentatives: (query) => set((state) => {\n          set({ searchQuery: query, isSearching: true });\n          \n          // Filter representatives based on search query\n          const filtered = state.representatives.filter(rep =>\n            rep.name.toLowerCase().includes(query.toLowerCase()) ||\n            rep.title.toLowerCase().includes(query.toLowerCase()) ||\n            rep.district.toLowerCase().includes(query.toLowerCase()) ||\n            rep.state.toLowerCase().includes(query.toLowerCase())\n          );\n          \n          logger.info('Representatives searched', {\n            query,\n            results: filtered.length,\n            total: state.representatives.length\n          });\n          \n          return { representatives: filtered, isSearching: false };\n        }),\n        \n        // District actions\n        setDistricts: (districts) => set({ districts }),\n        \n        addDistrict: (district) => set((state) => ({\n          districts: [...state.districts, district]\n        })),\n        \n        updateDistrict: (id, updates) => set((state) => ({\n          districts: state.districts.map(district =>\n            district.id === id ? { ...district, ...updates } : district\n          )\n        })),\n        \n        removeDistrict: (id) => set((state) => ({\n          districts: state.districts.filter(district => district.id !== id)\n        })),\n        \n        setSelectedDistrict: (district) => set({ selectedDistrict: district }),\n        \n        // Civic action actions\n        setCivicActions: (actions) => set({ civicActions: actions }),\n        \n        addCivicAction: (action) => set((state) => ({\n          civicActions: [\n            ...state.civicActions,\n            {\n              ...action,\n              id: `action_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n              createdAt: new Date().toISOString(),\n              updatedAt: new Date().toISOString(),\n            } as CivicAction\n          ]\n        })),\n        \n        updateCivicAction: (id, updates) => set((state) => ({\n          civicActions: state.civicActions.map(action =>\n            action.id === id \n              ? { ...action, ...updates, updatedAt: new Date().toISOString() }\n              : action\n          )\n        })),\n        \n        completeCivicAction: (id) => set((state) => ({\n          civicActions: state.civicActions.map(action =>\n            action.id === id \n              ? { \n                  ...action,\n                  status: 'completed' as const,\n                  completedAt: new Date().toISOString(),\n                  updatedAt: new Date().toISOString()\n                }\n              : action\n          )\n        })),\n        \n        removeCivicAction: (id) => set((state) => ({\n          civicActions: state.civicActions.filter(action => action.id !== id)\n        })),\n        \n        // User profile actions\n        setUserCivicProfile: (profile) => set({ userCivicProfile: profile }),\n        \n        updateUserCivicProfile: (updates) => set((state) => ({\n          userCivicProfile: state.userCivicProfile \n            ? { ...state.userCivicProfile, ...updates, lastUpdated: new Date().toISOString() }\n            : null\n        })),\n        \n        clearUserCivicProfile: () => set({ userCivicProfile: null }),\n        \n        // Preferences actions\n        updatePreferences: (preferences) => set((state) => ({\n          preferences: { ...state.preferences, ...preferences }\n        })),\n        \n        resetPreferences: () => set({ preferences: defaultPreferences }),\n        \n        // Search and filter actions\n        setSearchQuery: (query) => set({ searchQuery: query }),\n        \n        setFilters: (filters) => set((state) => ({\n          filters: { ...state.filters, ...filters }\n        })),\n        \n        clearFilters: () => set({ filters: {} }),\n        \n        // Data operations\n        loadRepresentatives: async (address) => {\n          const { setLoading, setError } = get();\n          \n          try {\n            setLoading(true);\n            setError(null);\n            \n            const response = await fetch('/api/civics/representatives', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ address }),\n            });\n            \n            if (!response.ok) {\n              throw new Error('Failed to load representatives');\n            }\n            \n            const representatives = await response.json();\n            set({ representatives });\n            \n            logger.info('Representatives loaded', {\n              address,\n              count: representatives.length\n            });\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n            setError(errorMessage);\n            logger.error('Failed to load representatives:', error instanceof Error ? error : new Error(errorMessage));\n          } finally {\n            setLoading(false);\n          }\n        },\n        \n        loadDistricts: async (address) => {\n          const { setLoading, setError } = get();\n          \n          try {\n            setLoading(true);\n            setError(null);\n            \n            const response = await fetch('/api/civics/districts', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ address }),\n            });\n            \n            if (!response.ok) {\n              throw new Error('Failed to load districts');\n            }\n            \n            const districts = await response.json();\n            set({ districts });\n            \n            logger.info('Districts loaded', {\n              address,\n              count: districts.length\n            });\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n            setError(errorMessage);\n            logger.error('Failed to load districts:', error instanceof Error ? error : new Error(errorMessage));\n          } finally {\n            setLoading(false);\n          }\n        },\n        \n        loadCivicActions: async () => {\n          const { setLoading, setError } = get();\n          \n          try {\n            setLoading(true);\n            setError(null);\n            \n            const response = await fetch('/api/civics/actions');\n            \n            if (!response.ok) {\n              throw new Error('Failed to load civic actions');\n            }\n            \n            const actions = await response.json();\n            set({ civicActions: actions });\n            \n            logger.info('Civic actions loaded', {\n              count: actions.length\n            });\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n            setError(errorMessage);\n            logger.error('Failed to load civic actions:', error instanceof Error ? error : new Error(errorMessage));\n          } finally {\n            setLoading(false);\n          }\n        },\n        \n        saveCivicAction: async (action) => {\n          const { setUpdating, setError } = get();\n          \n          try {\n            setUpdating(true);\n            setError(null);\n            \n            const response = await fetch('/api/civics/actions', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(action),\n            });\n            \n            if (!response.ok) {\n              throw new Error('Failed to save civic action');\n            }\n            \n            logger.info('Civic action saved', {\n              actionId: action.id,\n              type: action.type\n            });\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n            setError(errorMessage);\n            logger.error('Failed to save civic action:', error instanceof Error ? error : new Error(errorMessage));\n          } finally {\n            setUpdating(false);\n          }\n        },\n        \n        // Loading state actions\n        setLoading: (loading) => set({ isLoading: loading }),\n        setSearching: (searching) => set({ isSearching: searching }),\n        setUpdating: (updating) => set({ isUpdating: updating }),\n        setError: (error) => set({ error }),\n        clearError: () => set({ error: null }),\n      }),\n      {\n        name: 'civics-store',\n        partialize: (state) => ({\n          representatives: state.representatives,\n          districts: state.districts,\n          civicActions: state.civicActions,\n          userCivicProfile: state.userCivicProfile,\n          preferences: state.preferences,\n        }),\n      }\n    ),\n    { name: 'civics-store' }\n  )\n);\n\n// Store selectors for optimized re-renders\nexport const useRepresentatives = () => useCivicsStore(state => state.representatives);\nexport const useDistricts = () => useCivicsStore(state => state.districts);\nexport const useCivicActions = () => useCivicsStore(state => state.civicActions);\nexport const useUserCivicProfile = () => useCivicsStore(state => state.userCivicProfile);\nexport const useSelectedRepresentative = () => useCivicsStore(state => state.selectedRepresentative);\nexport const useSelectedDistrict = () => useCivicsStore(state => state.selectedDistrict);\nexport const useCivicsPreferences = () => useCivicsStore(state => state.preferences);\nexport const useCivicsLoading = () => useCivicsStore(state => state.isLoading);\nexport const useCivicsError = () => useCivicsStore(state => state.error);\n\n// Action selectors\nexport const useCivicsActions = () => useCivicsStore(state => ({\n  setRepresentatives: state.setRepresentatives,\n  addRepresentative: state.addRepresentative,\n  updateRepresentative: state.updateRepresentative,\n  removeRepresentative: state.removeRepresentative,\n  setSelectedRepresentative: state.setSelectedRepresentative,\n  searchRepresentatives: state.searchRepresentatives,\n  setDistricts: state.setDistricts,\n  addDistrict: state.addDistrict,\n  updateDistrict: state.updateDistrict,\n  removeDistrict: state.removeDistrict,\n  setSelectedDistrict: state.setSelectedDistrict,\n  setCivicActions: state.setCivicActions,\n  addCivicAction: state.addCivicAction,\n  updateCivicAction: state.updateCivicAction,\n  completeCivicAction: state.completeCivicAction,\n  removeCivicAction: state.removeCivicAction,\n  setUserCivicProfile: state.setUserCivicProfile,\n  updateUserCivicProfile: state.updateUserCivicProfile,\n  clearUserCivicProfile: state.clearUserCivicProfile,\n  updatePreferences: state.updatePreferences,\n  resetPreferences: state.resetPreferences,\n  setSearchQuery: state.setSearchQuery,\n  setFilters: state.setFilters,\n  clearFilters: state.clearFilters,\n  loadRepresentatives: state.loadRepresentatives,\n  loadDistricts: state.loadDistricts,\n  loadCivicActions: state.loadCivicActions,\n  saveCivicAction: state.saveCivicAction,\n  setLoading: state.setLoading,\n  setSearching: state.setSearching,\n  setUpdating: state.setUpdating,\n  setError: state.setError,\n  clearError: state.clearError,\n}));\n\n// Computed selectors\nexport const useCivicsStats = () => useCivicsStore(state => ({\n  totalRepresentatives: state.representatives.length,\n  totalDistricts: state.districts.length,\n  totalCivicActions: state.civicActions.length,\n  activeCivicActions: state.civicActions.filter(action => action.status === 'active').length,\n  completedCivicActions: state.civicActions.filter(action => action.status === 'completed').length,\n  hasUserProfile: !!state.userCivicProfile,\n  isLoading: state.isLoading,\n  error: state.error,\n}));\n\nexport const useFilteredRepresentatives = () => useCivicsStore(state => {\n  let filtered = state.representatives;\n  \n  // Apply search query\n  if (state.searchQuery) {\n    const query = state.searchQuery.toLowerCase();\n    filtered = filtered.filter(rep =>\n      rep.name.toLowerCase().includes(query) ||\n      rep.title.toLowerCase().includes(query) ||\n      rep.district.toLowerCase().includes(query) ||\n      rep.state.toLowerCase().includes(query)\n    );\n  }\n  \n  // Apply filters\n  if (state.filters.party?.length) {\n    filtered = filtered.filter(rep => state.filters.party!.includes(rep.party));\n  }\n  \n  if (state.filters.chamber?.length) {\n    filtered = filtered.filter(rep => state.filters.chamber!.includes(rep.chamber));\n  }\n  \n  if (state.filters.state?.length) {\n    filtered = filtered.filter(rep => state.filters.state!.includes(rep.state));\n  }\n  \n  return filtered;\n});\n\n// Store utilities\nexport const civicsStoreUtils = {\n  /**\n   * Get civics summary\n   */\n  getCivicsSummary: () => {\n    const state = useCivicsStore.getState();\n    return {\n      representatives: state.representatives.length,\n      districts: state.districts.length,\n      civicActions: state.civicActions.length,\n      userProfile: state.userCivicProfile ? 'loaded' : 'none',\n      preferences: state.preferences,\n    };\n  },\n  \n  /**\n   * Get representatives by party\n   */\n  getRepresentativesByParty: (party: string) => {\n    const state = useCivicsStore.getState();\n    return state.representatives.filter(rep => rep.party === party);\n  },\n  \n  /**\n   * Get representatives by chamber\n   */\n  getRepresentativesByChamber: (chamber: string) => {\n    const state = useCivicsStore.getState();\n    return state.representatives.filter(rep => rep.chamber === chamber);\n  },\n  \n  /**\n   * Get active civic actions\n   */\n  getActiveCivicActions: () => {\n    const state = useCivicsStore.getState();\n    return state.civicActions.filter(action => action.status === 'active');\n  },\n  \n  /**\n   * Get civic actions by type\n   */\n  getCivicActionsByType: (type: string) => {\n    const state = useCivicsStore.getState();\n    return state.civicActions.filter(action => action.type === type);\n  },\n  \n  /**\n   * Get user's representatives\n   */\n  getUserRepresentatives: () => {\n    const state = useCivicsStore.getState();\n    if (!state.userCivicProfile?.representatives) return [];\n    \n    return state.representatives.filter(rep => \n      state.userCivicProfile!.representatives.includes(rep.id)\n    );\n  }\n};\n\n// Store subscriptions for external integrations\nexport const civicsStoreSubscriptions = {\n  /**\n   * Subscribe to representatives changes\n   */\n  onRepresentativesChange: (callback: (representatives: Representative[]) => void) => {\n    let prevRepresentatives: Representative[] | null = null;\n    return useCivicsStore.subscribe(\n      (state) => {\n        const representatives = state.representatives;\n        if (representatives !== prevRepresentatives) {\n          callback(representatives);\n        }\n        prevRepresentatives = representatives;\n        return representatives;\n      }\n    );\n  },\n  \n  /**\n   * Subscribe to civic actions changes\n   */\n  onCivicActionsChange: (callback: (actions: CivicAction[]) => void) => {\n    let prevActions: CivicAction[] | null = null;\n    return useCivicsStore.subscribe(\n      (state) => {\n        const actions = state.civicActions;\n        if (actions !== prevActions) {\n          callback(actions);\n        }\n        prevActions = actions;\n        return actions;\n      }\n    );\n  },\n  \n  /**\n   * Subscribe to user profile changes\n   */\n  onUserProfileChange: (callback: (profile: UserCivicProfile | null) => void) => {\n    let prevProfile: UserCivicProfile | null = null;\n    return useCivicsStore.subscribe(\n      (state) => {\n        const profile = state.userCivicProfile;\n        if (profile !== prevProfile) {\n          callback(profile);\n        }\n        prevProfile = profile;\n        return profile;\n      }\n    );\n  }\n};\n\n// Store debugging utilities\nexport const civicsStoreDebug = {\n  /**\n   * Log current civics state\n   */\n  logState: () => {\n    const state = useCivicsStore.getState();\n    logger.debug('Civics Store State', {\n      representatives: state.representatives.length,\n      districts: state.districts.length,\n      civicActions: state.civicActions.length,\n      userProfile: state.userCivicProfile ? 'loaded' : 'none',\n      selectedRepresentative: state.selectedRepresentative?.name || 'none',\n      selectedDistrict: state.selectedDistrict?.name || 'none',\n      isLoading: state.isLoading,\n      error: state.error\n    });\n  },\n  \n  /**\n   * Log civics summary\n   */\n  logSummary: () => {\n    const summary = civicsStoreUtils.getCivicsSummary();\n    logger.debug('Civics Summary', summary);\n  },\n  \n  /**\n   * Log representatives by party\n   */\n  logRepresentativesByParty: () => {\n    const state = useCivicsStore.getState();\n    const byParty = state.representatives.reduce((acc, rep) => {\n      acc[rep.party] = (acc[rep.party] || 0) + 1;\n      return acc;\n    }, {} as Record<string, number>);\n    logger.debug('Representatives by Party', byParty);\n  },\n  \n  /**\n   * Reset civics store\n   */\n  reset: () => {\n    useCivicsStore.getState().clearUserCivicProfile();\n    useCivicsStore.getState().resetPreferences();\n    logger.info('Civics store reset');\n  }\n};\n"],"names":["civicsStoreDebug","civicsStoreSubscriptions","civicsStoreUtils","useCivicActions","useCivicsActions","useCivicsError","useCivicsLoading","useCivicsPreferences","useCivicsStats","useCivicsStore","useDistricts","useFilteredRepresentatives","useRepresentatives","useSelectedDistrict","useSelectedRepresentative","useUserCivicProfile","defaultPreferences","showPartyAffiliation","showVotingRecord","showCampaignFinance","showCommittees","showContactInfo","showSocialMedia","defaultView","sortBy","filterBy","privacySettings","shareLocation","shareInterests","shareActions","create","devtools","persist","set","get","representatives","districts","civicActions","userCivicProfile","selectedRepresentative","selectedDistrict","searchQuery","filters","preferences","isLoading","isSearching","isUpdating","error","setRepresentatives","addRepresentative","representative","state","updateRepresentative","id","updates","map","rep","removeRepresentative","filter","setSelectedRepresentative","searchRepresentatives","query","filtered","name","toLowerCase","includes","title","district","logger","info","results","length","total","setDistricts","addDistrict","updateDistrict","removeDistrict","setSelectedDistrict","setCivicActions","actions","addCivicAction","action","Date","now","Math","random","toString","substr","createdAt","toISOString","updatedAt","updateCivicAction","completeCivicAction","status","completedAt","removeCivicAction","setUserCivicProfile","profile","updateUserCivicProfile","lastUpdated","clearUserCivicProfile","updatePreferences","resetPreferences","setSearchQuery","setFilters","clearFilters","loadRepresentatives","address","setLoading","setError","response","fetch","method","headers","body","JSON","stringify","ok","Error","json","count","errorMessage","message","loadDistricts","loadCivicActions","saveCivicAction","setUpdating","actionId","type","loading","setSearching","searching","updating","clearError","partialize","totalRepresentatives","totalDistricts","totalCivicActions","activeCivicActions","completedCivicActions","hasUserProfile","party","chamber","getCivicsSummary","getState","userProfile","getRepresentativesByParty","getRepresentativesByChamber","getActiveCivicActions","getCivicActionsByType","getUserRepresentatives","onRepresentativesChange","callback","prevRepresentatives","subscribe","onCivicActionsChange","prevActions","onUserProfileChange","prevProfile","logState","debug","logSummary","summary","logRepresentativesByParty","byParty","reduce","acc","reset"],"mappings":"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"}