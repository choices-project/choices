f6ed67784df8b86de122b08adcea3cf4
/**
 * Feeds Store - Zustand Implementation
 * 
 * Comprehensive content feed state management including feed data,
 * filtering, search, user preferences, and content interactions.
 * Consolidates feed state management and content preferences.
 * 
 * Created: October 10, 2025
 * Status: âœ… ACTIVE
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get feedsStoreDebug () {
        return feedsStoreDebug;
    },
    get feedsStoreSubscriptions () {
        return feedsStoreSubscriptions;
    },
    get feedsStoreUtils () {
        return feedsStoreUtils;
    },
    get useBookmarkedFeeds () {
        return useBookmarkedFeeds;
    },
    get useFeedCategories () {
        return useFeedCategories;
    },
    get useFeedFilters () {
        return useFeedFilters;
    },
    get useFeedPreferences () {
        return useFeedPreferences;
    },
    get useFeedSearch () {
        return useFeedSearch;
    },
    get useFeeds () {
        return useFeeds;
    },
    get useFeedsActions () {
        return useFeedsActions;
    },
    get useFeedsError () {
        return useFeedsError;
    },
    get useFeedsLoading () {
        return useFeedsLoading;
    },
    get useFeedsStats () {
        return useFeedsStats;
    },
    get useFeedsStore () {
        return useFeedsStore;
    },
    get useFilteredFeeds () {
        return useFilteredFeeds;
    },
    get useLikedFeeds () {
        return useLikedFeeds;
    },
    get useSelectedFeed () {
        return useSelectedFeed;
    },
    get useUnreadFeeds () {
        return useUnreadFeeds;
    }
});
const _zustand = require("zustand");
const _middleware = require("zustand/middleware");
const _logger = require("../utils/logger");
// Default feed preferences
const defaultPreferences = {
    defaultView: 'list',
    sortBy: 'newest',
    itemsPerPage: 20,
    autoRefresh: true,
    refreshInterval: 15,
    notifications: {
        newContent: true,
        trendingContent: true,
        categoryUpdates: false,
        authorUpdates: false
    },
    privacy: {
        showReadHistory: false,
        showBookmarks: true,
        showLikes: true,
        shareActivity: false
    },
    content: {
        showImages: true,
        showVideos: true,
        showAudio: true,
        autoPlay: false,
        quality: 'medium'
    }
};
// Default feed filters
const defaultFilters = {
    categories: [],
    types: [],
    sources: [],
    dateRange: {
        start: '',
        end: ''
    },
    readStatus: 'all',
    engagement: 'all',
    language: 'en',
    tags: []
};
const useFeedsStore = (0, _zustand.create)()((0, _middleware.devtools)((0, _middleware.persist)((set, get)=>({
        // Initial state
        feeds: [],
        filteredFeeds: [],
        categories: [],
        search: {
            query: '',
            results: [],
            totalResults: 0,
            currentPage: 1,
            totalPages: 1,
            filters: defaultFilters,
            suggestions: [],
            recentSearches: []
        },
        currentView: 'list',
        selectedFeed: null,
        selectedCategory: null,
        filters: defaultFilters,
        preferences: defaultPreferences,
        isLoading: false,
        isSearching: false,
        isRefreshing: false,
        isUpdating: false,
        error: null,
        // Feed management actions
        setFeeds: (feeds)=>set({
                feeds,
                filteredFeeds: feeds
            }),
        addFeed: (feed)=>set((state)=>({
                    feeds: [
                        feed,
                        ...state.feeds
                    ],
                    filteredFeeds: [
                        feed,
                        ...state.filteredFeeds
                    ]
                })),
        updateFeed: (id, updates)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            ...updates
                        } : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            ...updates
                        } : feed)
                })),
        removeFeed: (id)=>set((state)=>({
                    feeds: state.feeds.filter((feed)=>feed.id !== id),
                    filteredFeeds: state.filteredFeeds.filter((feed)=>feed.id !== id)
                })),
        refreshFeeds: async ()=>{
            const { isRefreshing } = get();
            if (isRefreshing) return; // Prevent multiple simultaneous calls
            try {
                set({
                    isRefreshing: true,
                    error: null
                });
                const response = await fetch('/api/feeds', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        category: null
                    })
                });
                if (!response?.ok) {
                    throw new Error('Failed to refresh feeds');
                }
                const feeds = await response.json();
                set({
                    feeds,
                    filteredFeeds: feeds,
                    isRefreshing: false
                });
                _logger.logger.info('Feeds refreshed successfully');
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : 'Unknown error';
                set({
                    error: errorMessage,
                    isRefreshing: false
                });
                _logger.logger.error('Failed to refresh feeds:', error instanceof Error ? error : new Error(errorMessage));
            }
        },
        loadMoreFeeds: async ()=>{
            const { isLoading } = get();
            if (isLoading) return; // Prevent multiple simultaneous calls
            try {
                set({
                    isLoading: true,
                    error: null
                });
                const response = await fetch('/api/feeds', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        category: null
                    })
                });
                if (!response.ok) {
                    throw new Error('Failed to load more feeds');
                }
                const newFeeds = await response.json();
                set((state)=>({
                        feeds: [
                            ...state.feeds,
                            ...newFeeds
                        ],
                        filteredFeeds: [
                            ...state.filteredFeeds,
                            ...newFeeds
                        ],
                        isLoading: false
                    }));
                _logger.logger.info('More feeds loaded');
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : 'Unknown error';
                set({
                    error: errorMessage,
                    isLoading: false
                });
                _logger.logger.error('Failed to load more feeds:', error instanceof Error ? error : new Error(errorMessage));
            }
        },
        // Filtering and search actions
        setFilters: (filters)=>set((state)=>{
                const newFilters = {
                    ...state.filters,
                    ...filters
                };
                // Apply filters to feeds
                const filtered = state.feeds.filter((feed)=>{
                    if (newFilters.categories && newFilters.categories.length > 0 && !newFilters.categories.includes(feed.category)) {
                        return false;
                    }
                    if (newFilters.types && newFilters.types.length > 0 && !newFilters.types.includes(feed.type)) {
                        return false;
                    }
                    if (newFilters.sources && newFilters.sources.length > 0 && !newFilters.sources.includes(feed.source.name)) {
                        return false;
                    }
                    if (newFilters.readStatus === 'read' && !feed.userInteraction.read) {
                        return false;
                    }
                    if (newFilters.readStatus === 'unread' && feed.userInteraction.read) {
                        return false;
                    }
                    if (newFilters.tags && newFilters.tags.length > 0 && !newFilters.tags.some((tag)=>feed.tags.includes(tag))) {
                        return false;
                    }
                    return true;
                });
                return {
                    filters: newFilters,
                    filteredFeeds: filtered
                };
            }),
        clearFilters: ()=>set((state)=>({
                    filters: defaultFilters,
                    filteredFeeds: state.feeds
                })),
        searchFeeds: async (query)=>{
            const { setSearching, setError } = get();
            try {
                setSearching(true);
                setError(null);
                const response = await fetch('/api/feeds/search', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        query
                    })
                });
                if (!response.ok) {
                    throw new Error('Failed to search feeds');
                }
                const results = await response.json();
                set((state)=>({
                        search: {
                            ...state.search,
                            query,
                            results: results.items,
                            totalResults: results.total,
                            currentPage: 1,
                            totalPages: Math.ceil(results.total / state.preferences.itemsPerPage)
                        }
                    }));
                _logger.logger.info('Feeds searched', {
                    query,
                    results: results.items.length,
                    total: results.total
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : 'Unknown error';
                setError(errorMessage);
                _logger.logger.error('Failed to search feeds:', error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setSearching(false);
            }
        },
        setSearchQuery: (query)=>set((state)=>({
                    search: {
                        ...state.search,
                        query
                    }
                })),
        clearSearch: ()=>set((state)=>({
                    search: {
                        ...state.search,
                        query: '',
                        results: [],
                        totalResults: 0,
                        currentPage: 1,
                        totalPages: 1
                    }
                })),
        // Feed interaction actions
        likeFeed: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                liked: true
                            },
                            engagement: {
                                ...feed.engagement,
                                likes: feed.engagement.likes + 1
                            }
                        } : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                liked: true
                            },
                            engagement: {
                                ...feed.engagement,
                                likes: feed.engagement.likes + 1
                            }
                        } : feed)
                })),
        unlikeFeed: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                liked: false
                            },
                            engagement: {
                                ...feed.engagement,
                                likes: Math.max(0, feed.engagement.likes - 1)
                            }
                        } : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                liked: false
                            },
                            engagement: {
                                ...feed.engagement,
                                likes: Math.max(0, feed.engagement.likes - 1)
                            }
                        } : feed)
                })),
        shareFeed: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                shared: true
                            },
                            engagement: {
                                ...feed.engagement,
                                shares: feed.engagement.shares + 1
                            }
                        } : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                shared: true
                            },
                            engagement: {
                                ...feed.engagement,
                                shares: feed.engagement.shares + 1
                            }
                        } : feed)
                })),
        bookmarkFeed: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                bookmarked: true
                            }
                        } : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                bookmarked: true
                            }
                        } : feed)
                })),
        unbookmarkFeed: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                bookmarked: false
                            }
                        } : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                bookmarked: false
                            }
                        } : feed)
                })),
        markAsRead: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                read: true,
                                readAt: new Date().toISOString()
                            }
                        } : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                read: true,
                                readAt: new Date().toISOString()
                            }
                        } : feed)
                })),
        markAsUnread: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                read: false,
                                readAt: undefined
                            }
                        } : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? {
                            ...feed,
                            userInteraction: {
                                ...feed.userInteraction,
                                read: false,
                                readAt: undefined
                            }
                        } : feed)
                })),
        // Category actions
        setCategories: (categories)=>set({
                categories
            }),
        toggleCategory: (categoryId)=>set((state)=>({
                    categories: state.categories.map((category)=>category.id === categoryId ? {
                            ...category,
                            enabled: !category.enabled
                        } : category)
                })),
        setSelectedCategory: (categoryId)=>set({
                selectedCategory: categoryId
            }),
        // Preferences actions
        updatePreferences: (preferences)=>set((state)=>({
                    preferences: {
                        ...state.preferences,
                        ...preferences
                    }
                })),
        resetPreferences: ()=>set({
                preferences: defaultPreferences
            }),
        // View management actions
        setCurrentView: (view)=>set({
                currentView: view
            }),
        setSelectedFeed: (feed)=>set({
                selectedFeed: feed
            }),
        // Data operations
        loadFeeds: async (category)=>{
            try {
                set({
                    isLoading: true,
                    error: null
                });
                const response = await fetch('/api/feeds', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        category
                    })
                });
                if (response && response.ok) {
                    const feeds = await response.json();
                    set({
                        feeds,
                        filteredFeeds: feeds,
                        isLoading: false
                    });
                    _logger.logger.info('Feeds loaded', {
                        category,
                        count: feeds.length
                    });
                } else {
                    // No fallback data - just set empty state
                    set({
                        feeds: [],
                        filteredFeeds: [],
                        isLoading: false
                    });
                }
            } catch (error) {
                // No fallback data - just set empty state on error
                set({
                    feeds: [],
                    filteredFeeds: [],
                    isLoading: false
                });
                _logger.logger.info('API error, using empty state:', {
                    error: error instanceof Error ? error.message : 'Unknown error'
                });
            }
        },
        loadCategories: async ()=>{
            try {
                set({
                    isLoading: true,
                    error: null
                });
                const response = await fetch('/api/feeds/categories');
                if (!response.ok) {
                    throw new Error('Failed to load categories');
                }
                const categories = await response.json();
                set({
                    categories,
                    isLoading: false
                });
                _logger.logger.info('Feed categories loaded', {
                    count: categories.length
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : 'Unknown error';
                set({
                    error: errorMessage,
                    isLoading: false
                });
                _logger.logger.error('Failed to load categories:', error instanceof Error ? error : new Error(errorMessage));
            }
        },
        saveUserInteraction: async (feedId, interaction)=>{
            try {
                set({
                    isUpdating: true,
                    error: null
                });
                const response = await fetch('/api/feeds/interactions', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        feedId,
                        interaction
                    })
                });
                if (!response.ok) {
                    throw new Error('Failed to save user interaction');
                }
                set({
                    isUpdating: false
                });
                _logger.logger.info('User interaction saved', {
                    feedId,
                    interaction
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : 'Unknown error';
                set({
                    error: errorMessage,
                    isUpdating: false
                });
                _logger.logger.error('Failed to save user interaction:', error instanceof Error ? error : new Error(errorMessage));
            }
        },
        // Loading state actions
        setLoading: (loading)=>set({
                isLoading: loading
            }),
        setSearching: (searching)=>set({
                isSearching: searching
            }),
        setRefreshing: (refreshing)=>set({
                isRefreshing: refreshing
            }),
        setUpdating: (updating)=>set({
                isUpdating: updating
            }),
        setError: (error)=>set({
                error
            }),
        clearError: ()=>set({
                error: null
            })
    }), {
    name: 'feeds-store',
    partialize: (state)=>({
            feeds: state.feeds,
            categories: state.categories,
            preferences: state.preferences,
            filters: state.filters,
            currentView: state.currentView
        })
}), {
    name: 'feeds-store'
}));
const useFeeds = ()=>useFeedsStore((state)=>state.feeds);
const useFilteredFeeds = ()=>useFeedsStore((state)=>state.filteredFeeds);
const useFeedCategories = ()=>useFeedsStore((state)=>state.categories);
const useFeedSearch = ()=>useFeedsStore((state)=>state.search);
const useSelectedFeed = ()=>useFeedsStore((state)=>state.selectedFeed);
const useFeedPreferences = ()=>useFeedsStore((state)=>state.preferences);
const useFeedFilters = ()=>useFeedsStore((state)=>state.filters);
const useFeedsLoading = ()=>useFeedsStore((state)=>state.isLoading);
const useFeedsError = ()=>useFeedsStore((state)=>state.error);
const useFeedsActions = ()=>useFeedsStore((state)=>state);
const useFeedsStats = ()=>{
    const totalFeeds = useFeedsStore((state)=>state.feeds.length);
    const filteredFeeds = useFeedsStore((state)=>state.filteredFeeds.length);
    const totalCategories = useFeedsStore((state)=>state.categories.length);
    const enabledCategories = useFeedsStore((state)=>state.categories.filter((cat)=>cat.enabled).length);
    const searchResults = useFeedsStore((state)=>state.search.results.length);
    const isLoading = useFeedsStore((state)=>state.isLoading);
    const isSearching = useFeedsStore((state)=>state.isSearching);
    const error = useFeedsStore((state)=>state.error);
    return {
        totalFeeds,
        filteredFeeds,
        totalCategories,
        enabledCategories,
        searchResults,
        isLoading,
        isSearching,
        error
    };
};
const useBookmarkedFeeds = ()=>useFeedsStore((state)=>state.feeds.filter((feed)=>feed.userInteraction.bookmarked));
const useUnreadFeeds = ()=>useFeedsStore((state)=>state.feeds.filter((feed)=>!feed.userInteraction.read));
const useLikedFeeds = ()=>useFeedsStore((state)=>state.feeds.filter((feed)=>feed.userInteraction.liked));
const feedsStoreUtils = {
    /**
   * Get feeds summary
   */ getFeedsSummary: ()=>{
        const state = useFeedsStore.getState();
        return {
            totalFeeds: state.feeds.length,
            filteredFeeds: state.filteredFeeds.length,
            categories: state.categories.length,
            searchResults: state.search.results.length,
            preferences: state.preferences
        };
    },
    /**
   * Get feeds by category
   */ getFeedsByCategory: (category)=>{
        const state = useFeedsStore.getState();
        return state.feeds.filter((feed)=>feed.category === category);
    },
    /**
   * Get feeds by type
   */ getFeedsByType: (type)=>{
        const state = useFeedsStore.getState();
        return state.feeds.filter((feed)=>feed.type === type);
    },
    /**
   * Get trending feeds
   */ getTrendingFeeds: ()=>{
        const state = useFeedsStore.getState();
        return state.feeds.sort((a, b)=>b.engagement.likes + b.engagement.shares - (a.engagement.likes + a.engagement.shares)).slice(0, 10);
    },
    /**
   * Get recent feeds
   */ getRecentFeeds: (limit = 10)=>{
        const state = useFeedsStore.getState();
        return state.feeds.sort((a, b)=>new Date(b.publishedAt).getTime() - new Date(a.publishedAt).getTime()).slice(0, limit);
    }
};
const feedsStoreSubscriptions = {
    /**
   * Subscribe to feeds changes
   */ onFeedsChange: (callback)=>{
        return useFeedsStore.subscribe((state)=>{
            callback(state.feeds);
        });
    },
    /**
   * Subscribe to search results changes
   */ onSearchResultsChange: (callback)=>{
        return useFeedsStore.subscribe((state)=>{
            callback(state.search.results);
        });
    },
    /**
   * Subscribe to preferences changes
   */ onPreferencesChange: (callback)=>{
        return useFeedsStore.subscribe((state)=>{
            callback(state.preferences);
        });
    }
};
const feedsStoreDebug = {
    /**
   * Log current feeds state
   */ logState: ()=>{
        const state = useFeedsStore.getState();
        _logger.logger.debug('Feeds Store State', {
            totalFeeds: state.feeds.length,
            filteredFeeds: state.filteredFeeds.length,
            categories: state.categories.length,
            searchResults: state.search.results.length,
            currentView: state.currentView,
            selectedCategory: state.selectedCategory,
            isLoading: state.isLoading,
            error: state.error
        });
    },
    /**
   * Log feeds summary
   */ logSummary: ()=>{
        const summary = feedsStoreUtils.getFeedsSummary();
        _logger.logger.debug('Feeds Summary', summary);
    },
    /**
   * Log feeds by category
   */ logFeedsByCategory: ()=>{
        const state = useFeedsStore.getState();
        const byCategory = state.feeds.reduce((acc, feed)=>{
            acc[feed.category] = (acc[feed.category] || 0) + 1;
            return acc;
        }, {});
        _logger.logger.debug('Feeds by Category', byCategory);
    },
    /**
   * Reset feeds store
   */ reset: ()=>{
        useFeedsStore.getState().clearFilters();
        useFeedsStore.getState().resetPreferences();
        _logger.logger.info('Feeds store reset');
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvc3RvcmVzL2ZlZWRzU3RvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGZWVkcyBTdG9yZSAtIFp1c3RhbmQgSW1wbGVtZW50YXRpb25cbiAqIFxuICogQ29tcHJlaGVuc2l2ZSBjb250ZW50IGZlZWQgc3RhdGUgbWFuYWdlbWVudCBpbmNsdWRpbmcgZmVlZCBkYXRhLFxuICogZmlsdGVyaW5nLCBzZWFyY2gsIHVzZXIgcHJlZmVyZW5jZXMsIGFuZCBjb250ZW50IGludGVyYWN0aW9ucy5cbiAqIENvbnNvbGlkYXRlcyBmZWVkIHN0YXRlIG1hbmFnZW1lbnQgYW5kIGNvbnRlbnQgcHJlZmVyZW5jZXMuXG4gKiBcbiAqIENyZWF0ZWQ6IE9jdG9iZXIgMTAsIDIwMjVcbiAqIFN0YXR1czog4pyFIEFDVElWRVxuICovXG5cbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnO1xuaW1wb3J0IHsgZGV2dG9vbHMgfSBmcm9tICd6dXN0YW5kL21pZGRsZXdhcmUnO1xuaW1wb3J0IHsgcGVyc2lzdCB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0AvbGliL3V0aWxzL2xvZ2dlcic7XG5cbi8vIEZlZWQgZGF0YSB0eXBlc1xuaW50ZXJmYWNlIEZlZWRJdGVtIHtcbiAgaWQ6IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbiAgY29udGVudDogc3RyaW5nO1xuICBzdW1tYXJ5OiBzdHJpbmc7XG4gIGF1dGhvcjoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGF2YXRhcj86IHN0cmluZztcbiAgICB2ZXJpZmllZDogYm9vbGVhbjtcbiAgfTtcbiAgY2F0ZWdvcnk6IHN0cmluZztcbiAgdGFnczogc3RyaW5nW107XG4gIHR5cGU6ICdhcnRpY2xlJyB8ICd2aWRlbycgfCAncG9kY2FzdCcgfCAncG9sbCcgfCAnZXZlbnQnIHwgJ25ld3MnO1xuICBzb3VyY2U6IHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdXJsOiBzdHJpbmc7XG4gICAgbG9nbz86IHN0cmluZztcbiAgICB2ZXJpZmllZDogYm9vbGVhbjtcbiAgfTtcbiAgcHVibGlzaGVkQXQ6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBzdHJpbmc7XG4gIHJlYWRUaW1lOiBudW1iZXI7IC8vIG1pbnV0ZXNcbiAgZW5nYWdlbWVudDoge1xuICAgIGxpa2VzOiBudW1iZXI7XG4gICAgc2hhcmVzOiBudW1iZXI7XG4gICAgY29tbWVudHM6IG51bWJlcjtcbiAgICB2aWV3czogbnVtYmVyO1xuICB9O1xuICB1c2VySW50ZXJhY3Rpb246IHtcbiAgICBsaWtlZDogYm9vbGVhbjtcbiAgICBzaGFyZWQ6IGJvb2xlYW47XG4gICAgYm9va21hcmtlZDogYm9vbGVhbjtcbiAgICByZWFkOiBib29sZWFuO1xuICAgIHJlYWRBdD86IHN0cmluZztcbiAgfTtcbiAgbWV0YWRhdGE6IHtcbiAgICBpbWFnZT86IHN0cmluZztcbiAgICB2aWRlb1VybD86IHN0cmluZztcbiAgICBhdWRpb1VybD86IHN0cmluZztcbiAgICBleHRlcm5hbFVybD86IHN0cmluZztcbiAgICBsb2NhdGlvbj86IHN0cmluZztcbiAgICBsYW5ndWFnZTogc3RyaW5nO1xuICB9O1xufVxuXG5pbnRlcmZhY2UgRmVlZENhdGVnb3J5IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBjb2xvcjogc3RyaW5nO1xuICBpY29uOiBzdHJpbmc7XG4gIGNvdW50OiBudW1iZXI7XG4gIGVuYWJsZWQ6IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBGZWVkRmlsdGVycyB7XG4gIGNhdGVnb3JpZXM6IHN0cmluZ1tdO1xuICB0eXBlczogc3RyaW5nW107XG4gIHNvdXJjZXM6IHN0cmluZ1tdO1xuICBkYXRlUmFuZ2U6IHtcbiAgICBzdGFydDogc3RyaW5nO1xuICAgIGVuZDogc3RyaW5nO1xuICB9O1xuICByZWFkU3RhdHVzOiAnYWxsJyB8ICdyZWFkJyB8ICd1bnJlYWQnO1xuICBlbmdhZ2VtZW50OiAnYWxsJyB8ICdwb3B1bGFyJyB8ICd0cmVuZGluZyc7XG4gIGxhbmd1YWdlOiBzdHJpbmc7XG4gIHRhZ3M6IHN0cmluZ1tdO1xufVxuXG5pbnRlcmZhY2UgRmVlZFByZWZlcmVuY2VzIHtcbiAgZGVmYXVsdFZpZXc6ICdsaXN0JyB8ICdncmlkJyB8ICdtYWdhemluZSc7XG4gIHNvcnRCeTogJ25ld2VzdCcgfCAnb2xkZXN0JyB8ICdwb3B1bGFyJyB8ICd0cmVuZGluZycgfCAncmVsZXZhbmNlJztcbiAgaXRlbXNQZXJQYWdlOiBudW1iZXI7XG4gIGF1dG9SZWZyZXNoOiBib29sZWFuO1xuICByZWZyZXNoSW50ZXJ2YWw6IG51bWJlcjsgLy8gbWludXRlc1xuICBub3RpZmljYXRpb25zOiB7XG4gICAgbmV3Q29udGVudDogYm9vbGVhbjtcbiAgICB0cmVuZGluZ0NvbnRlbnQ6IGJvb2xlYW47XG4gICAgY2F0ZWdvcnlVcGRhdGVzOiBib29sZWFuO1xuICAgIGF1dGhvclVwZGF0ZXM6IGJvb2xlYW47XG4gIH07XG4gIHByaXZhY3k6IHtcbiAgICBzaG93UmVhZEhpc3Rvcnk6IGJvb2xlYW47XG4gICAgc2hvd0Jvb2ttYXJrczogYm9vbGVhbjtcbiAgICBzaG93TGlrZXM6IGJvb2xlYW47XG4gICAgc2hhcmVBY3Rpdml0eTogYm9vbGVhbjtcbiAgfTtcbiAgY29udGVudDoge1xuICAgIHNob3dJbWFnZXM6IGJvb2xlYW47XG4gICAgc2hvd1ZpZGVvczogYm9vbGVhbjtcbiAgICBzaG93QXVkaW86IGJvb2xlYW47XG4gICAgYXV0b1BsYXk6IGJvb2xlYW47XG4gICAgcXVhbGl0eTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJztcbiAgfTtcbn1cblxuaW50ZXJmYWNlIEZlZWRTZWFyY2gge1xuICBxdWVyeTogc3RyaW5nO1xuICByZXN1bHRzOiBGZWVkSXRlbVtdO1xuICB0b3RhbFJlc3VsdHM6IG51bWJlcjtcbiAgY3VycmVudFBhZ2U6IG51bWJlcjtcbiAgdG90YWxQYWdlczogbnVtYmVyO1xuICBmaWx0ZXJzOiBGZWVkRmlsdGVycztcbiAgc3VnZ2VzdGlvbnM6IHN0cmluZ1tdO1xuICByZWNlbnRTZWFyY2hlczogc3RyaW5nW107XG59XG5cbi8vIEZlZWRzIHN0b3JlIHN0YXRlIGludGVyZmFjZVxuaW50ZXJmYWNlIEZlZWRzU3RvcmUge1xuICAvLyBGZWVkIGRhdGFcbiAgZmVlZHM6IEZlZWRJdGVtW107XG4gIGZpbHRlcmVkRmVlZHM6IEZlZWRJdGVtW107XG4gIGNhdGVnb3JpZXM6IEZlZWRDYXRlZ29yeVtdO1xuICBzZWFyY2g6IEZlZWRTZWFyY2g7XG4gIFxuICAvLyBVSSBzdGF0ZVxuICBjdXJyZW50VmlldzogJ2xpc3QnIHwgJ2dyaWQnIHwgJ21hZ2F6aW5lJztcbiAgc2VsZWN0ZWRGZWVkOiBGZWVkSXRlbSB8IG51bGw7XG4gIHNlbGVjdGVkQ2F0ZWdvcnk6IHN0cmluZyB8IG51bGw7XG4gIFxuICAvLyBGaWx0ZXJzIGFuZCBwcmVmZXJlbmNlc1xuICBmaWx0ZXJzOiBGZWVkRmlsdGVycztcbiAgcHJlZmVyZW5jZXM6IEZlZWRQcmVmZXJlbmNlcztcbiAgXG4gIC8vIExvYWRpbmcgc3RhdGVzXG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbiAgaXNTZWFyY2hpbmc6IGJvb2xlYW47XG4gIGlzUmVmcmVzaGluZzogYm9vbGVhbjtcbiAgaXNVcGRhdGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIFxuICAvLyBBY3Rpb25zIC0gRmVlZCBtYW5hZ2VtZW50XG4gIHNldEZlZWRzOiAoZmVlZHM6IEZlZWRJdGVtW10pID0+IHZvaWQ7XG4gIGFkZEZlZWQ6IChmZWVkOiBGZWVkSXRlbSkgPT4gdm9pZDtcbiAgdXBkYXRlRmVlZDogKGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8RmVlZEl0ZW0+KSA9PiB2b2lkO1xuICByZW1vdmVGZWVkOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgcmVmcmVzaEZlZWRzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBsb2FkTW9yZUZlZWRzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBcbiAgLy8gQWN0aW9ucyAtIEZpbHRlcmluZyBhbmQgc2VhcmNoXG4gIHNldEZpbHRlcnM6IChmaWx0ZXJzOiBQYXJ0aWFsPEZlZWRGaWx0ZXJzPikgPT4gdm9pZDtcbiAgY2xlYXJGaWx0ZXJzOiAoKSA9PiB2b2lkO1xuICBzZWFyY2hGZWVkczogKHF1ZXJ5OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIHNldFNlYXJjaFF1ZXJ5OiAocXVlcnk6IHN0cmluZykgPT4gdm9pZDtcbiAgY2xlYXJTZWFyY2g6ICgpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gRmVlZCBpbnRlcmFjdGlvbnNcbiAgbGlrZUZlZWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICB1bmxpa2VGZWVkOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgc2hhcmVGZWVkOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgYm9va21hcmtGZWVkOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdW5ib29rbWFya0ZlZWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICBtYXJrQXNSZWFkOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgbWFya0FzVW5yZWFkOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBDYXRlZ29yaWVzXG4gIHNldENhdGVnb3JpZXM6IChjYXRlZ29yaWVzOiBGZWVkQ2F0ZWdvcnlbXSkgPT4gdm9pZDtcbiAgdG9nZ2xlQ2F0ZWdvcnk6IChjYXRlZ29yeUlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHNldFNlbGVjdGVkQ2F0ZWdvcnk6IChjYXRlZ29yeUlkOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkO1xuICBcbiAgLy8gQWN0aW9ucyAtIFByZWZlcmVuY2VzXG4gIHVwZGF0ZVByZWZlcmVuY2VzOiAocHJlZmVyZW5jZXM6IFBhcnRpYWw8RmVlZFByZWZlcmVuY2VzPikgPT4gdm9pZDtcbiAgcmVzZXRQcmVmZXJlbmNlczogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBWaWV3IG1hbmFnZW1lbnRcbiAgc2V0Q3VycmVudFZpZXc6ICh2aWV3OiAnbGlzdCcgfCAnZ3JpZCcgfCAnbWFnYXppbmUnKSA9PiB2b2lkO1xuICBzZXRTZWxlY3RlZEZlZWQ6IChmZWVkOiBGZWVkSXRlbSB8IG51bGwpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gRGF0YSBvcGVyYXRpb25zXG4gIGxvYWRGZWVkczogKGNhdGVnb3J5Pzogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBsb2FkQ2F0ZWdvcmllczogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc2F2ZVVzZXJJbnRlcmFjdGlvbjogKGZlZWRJZDogc3RyaW5nLCBpbnRlcmFjdGlvbjogUGFydGlhbDxGZWVkSXRlbVsndXNlckludGVyYWN0aW9uJ10+KSA9PiBQcm9taXNlPHZvaWQ+O1xuICBcbiAgLy8gQWN0aW9ucyAtIExvYWRpbmcgc3RhdGVzXG4gIHNldExvYWRpbmc6IChsb2FkaW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRTZWFyY2hpbmc6IChzZWFyY2hpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldFJlZnJlc2hpbmc6IChyZWZyZXNoaW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRVcGRhdGluZzogKHVwZGF0aW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRFcnJvcjogKGVycm9yOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkO1xuICBjbGVhckVycm9yOiAoKSA9PiB2b2lkO1xufVxuXG4vLyBEZWZhdWx0IGZlZWQgcHJlZmVyZW5jZXNcbmNvbnN0IGRlZmF1bHRQcmVmZXJlbmNlczogRmVlZFByZWZlcmVuY2VzID0ge1xuICBkZWZhdWx0VmlldzogJ2xpc3QnLFxuICBzb3J0Qnk6ICduZXdlc3QnLFxuICBpdGVtc1BlclBhZ2U6IDIwLFxuICBhdXRvUmVmcmVzaDogdHJ1ZSxcbiAgcmVmcmVzaEludGVydmFsOiAxNSxcbiAgbm90aWZpY2F0aW9uczoge1xuICAgIG5ld0NvbnRlbnQ6IHRydWUsXG4gICAgdHJlbmRpbmdDb250ZW50OiB0cnVlLFxuICAgIGNhdGVnb3J5VXBkYXRlczogZmFsc2UsXG4gICAgYXV0aG9yVXBkYXRlczogZmFsc2UsXG4gIH0sXG4gIHByaXZhY3k6IHtcbiAgICBzaG93UmVhZEhpc3Rvcnk6IGZhbHNlLFxuICAgIHNob3dCb29rbWFya3M6IHRydWUsXG4gICAgc2hvd0xpa2VzOiB0cnVlLFxuICAgIHNoYXJlQWN0aXZpdHk6IGZhbHNlLFxuICB9LFxuICBjb250ZW50OiB7XG4gICAgc2hvd0ltYWdlczogdHJ1ZSxcbiAgICBzaG93VmlkZW9zOiB0cnVlLFxuICAgIHNob3dBdWRpbzogdHJ1ZSxcbiAgICBhdXRvUGxheTogZmFsc2UsXG4gICAgcXVhbGl0eTogJ21lZGl1bScsXG4gIH0sXG59O1xuXG4vLyBEZWZhdWx0IGZlZWQgZmlsdGVyc1xuY29uc3QgZGVmYXVsdEZpbHRlcnM6IEZlZWRGaWx0ZXJzID0ge1xuICBjYXRlZ29yaWVzOiBbXSxcbiAgdHlwZXM6IFtdLFxuICBzb3VyY2VzOiBbXSxcbiAgZGF0ZVJhbmdlOiB7XG4gICAgc3RhcnQ6ICcnLFxuICAgIGVuZDogJycsXG4gIH0sXG4gIHJlYWRTdGF0dXM6ICdhbGwnLFxuICBlbmdhZ2VtZW50OiAnYWxsJyxcbiAgbGFuZ3VhZ2U6ICdlbicsXG4gIHRhZ3M6IFtdLFxufTtcblxuLy8gQ3JlYXRlIGZlZWRzIHN0b3JlIHdpdGggbWlkZGxld2FyZVxuZXhwb3J0IGNvbnN0IHVzZUZlZWRzU3RvcmUgPSBjcmVhdGU8RmVlZHNTdG9yZT4oKShcbiAgZGV2dG9vbHMoXG4gICAgcGVyc2lzdChcbiAgICAgIChzZXQsIGdldCkgPT4gKHtcbiAgICAgICAgLy8gSW5pdGlhbCBzdGF0ZVxuICAgICAgICBmZWVkczogW10sXG4gICAgICAgIGZpbHRlcmVkRmVlZHM6IFtdLFxuICAgICAgICBjYXRlZ29yaWVzOiBbXSxcbiAgICAgICAgc2VhcmNoOiB7XG4gICAgICAgICAgcXVlcnk6ICcnLFxuICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgIHRvdGFsUmVzdWx0czogMCxcbiAgICAgICAgICBjdXJyZW50UGFnZTogMSxcbiAgICAgICAgICB0b3RhbFBhZ2VzOiAxLFxuICAgICAgICAgIGZpbHRlcnM6IGRlZmF1bHRGaWx0ZXJzLFxuICAgICAgICAgIHN1Z2dlc3Rpb25zOiBbXSxcbiAgICAgICAgICByZWNlbnRTZWFyY2hlczogW10sXG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRWaWV3OiAnbGlzdCcsXG4gICAgICAgIHNlbGVjdGVkRmVlZDogbnVsbCxcbiAgICAgICAgc2VsZWN0ZWRDYXRlZ29yeTogbnVsbCxcbiAgICAgICAgZmlsdGVyczogZGVmYXVsdEZpbHRlcnMsXG4gICAgICAgIHByZWZlcmVuY2VzOiBkZWZhdWx0UHJlZmVyZW5jZXMsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGlzU2VhcmNoaW5nOiBmYWxzZSxcbiAgICAgICAgaXNSZWZyZXNoaW5nOiBmYWxzZSxcbiAgICAgICAgaXNVcGRhdGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICBcbiAgICAgICAgLy8gRmVlZCBtYW5hZ2VtZW50IGFjdGlvbnNcbiAgICAgICAgc2V0RmVlZHM6IChmZWVkcykgPT4gc2V0KHsgZmVlZHMsIGZpbHRlcmVkRmVlZHM6IGZlZWRzIH0pLFxuICAgICAgICBcbiAgICAgICAgYWRkRmVlZDogKGZlZWQpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgZmVlZHM6IFtmZWVkLCAuLi5zdGF0ZS5mZWVkc10sXG4gICAgICAgICAgZmlsdGVyZWRGZWVkczogW2ZlZWQsIC4uLnN0YXRlLmZpbHRlcmVkRmVlZHNdLFxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICB1cGRhdGVGZWVkOiAoaWQsIHVwZGF0ZXMpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgZmVlZHM6IHN0YXRlLmZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCA/IHsgLi4uZmVlZCwgLi4udXBkYXRlcyB9IDogZmVlZFxuICAgICAgICAgICksXG4gICAgICAgICAgZmlsdGVyZWRGZWVkczogc3RhdGUuZmlsdGVyZWRGZWVkcy5tYXAoZmVlZCA9PlxuICAgICAgICAgICAgZmVlZC5pZCA9PT0gaWQgPyB7IC4uLmZlZWQsIC4uLnVwZGF0ZXMgfSA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICByZW1vdmVGZWVkOiAoaWQpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgZmVlZHM6IHN0YXRlLmZlZWRzLmZpbHRlcihmZWVkID0+IGZlZWQuaWQgIT09IGlkKSxcbiAgICAgICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5maWx0ZXJlZEZlZWRzLmZpbHRlcihmZWVkID0+IGZlZWQuaWQgIT09IGlkKSxcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgcmVmcmVzaEZlZWRzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBpc1JlZnJlc2hpbmcgfSA9IGdldCgpO1xuICAgICAgICAgIGlmIChpc1JlZnJlc2hpbmcpIHJldHVybjsgLy8gUHJldmVudCBtdWx0aXBsZSBzaW11bHRhbmVvdXMgY2FsbHNcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0KHsgaXNSZWZyZXNoaW5nOiB0cnVlLCBlcnJvcjogbnVsbCB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9mZWVkcycsIHtcbiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGNhdGVnb3J5OiBudWxsIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2U/Lm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHJlZnJlc2ggZmVlZHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZmVlZHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBzZXQoeyBmZWVkcywgZmlsdGVyZWRGZWVkczogZmVlZHMsIGlzUmVmcmVzaGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdGZWVkcyByZWZyZXNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0KHsgZXJyb3I6IGVycm9yTWVzc2FnZSwgaXNSZWZyZXNoaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHJlZnJlc2ggZmVlZHM6JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGxvYWRNb3JlRmVlZHM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IGlzTG9hZGluZyB9ID0gZ2V0KCk7XG4gICAgICAgICAgaWYgKGlzTG9hZGluZykgcmV0dXJuOyAvLyBQcmV2ZW50IG11bHRpcGxlIHNpbXVsdGFuZW91cyBjYWxsc1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXQoeyBpc0xvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2ZlZWRzJywge1xuICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY2F0ZWdvcnk6IG51bGwgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIG1vcmUgZmVlZHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbmV3RmVlZHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgICAgICBmZWVkczogWy4uLnN0YXRlLmZlZWRzLCAuLi5uZXdGZWVkc10sXG4gICAgICAgICAgICAgIGZpbHRlcmVkRmVlZHM6IFsuLi5zdGF0ZS5maWx0ZXJlZEZlZWRzLCAuLi5uZXdGZWVkc10sXG4gICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ01vcmUgZmVlZHMgbG9hZGVkJyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0KHsgZXJyb3I6IGVycm9yTWVzc2FnZSwgaXNMb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGxvYWQgbW9yZSBmZWVkczonLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLy8gRmlsdGVyaW5nIGFuZCBzZWFyY2ggYWN0aW9uc1xuICAgICAgICBzZXRGaWx0ZXJzOiAoZmlsdGVycykgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld0ZpbHRlcnMgPSB7IC4uLnN0YXRlLmZpbHRlcnMsIC4uLmZpbHRlcnMgfTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBcHBseSBmaWx0ZXJzIHRvIGZlZWRzXG4gICAgICAgICAgY29uc3QgZmlsdGVyZWQgPSBzdGF0ZS5mZWVkcy5maWx0ZXIoZmVlZCA9PiB7XG4gICAgICAgICAgICBpZiAobmV3RmlsdGVycy5jYXRlZ29yaWVzICYmIG5ld0ZpbHRlcnMuY2F0ZWdvcmllcy5sZW5ndGggPiAwICYmICFuZXdGaWx0ZXJzLmNhdGVnb3JpZXMuaW5jbHVkZXMoZmVlZC5jYXRlZ29yeSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld0ZpbHRlcnMudHlwZXMgJiYgbmV3RmlsdGVycy50eXBlcy5sZW5ndGggPiAwICYmICFuZXdGaWx0ZXJzLnR5cGVzLmluY2x1ZGVzKGZlZWQudHlwZSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld0ZpbHRlcnMuc291cmNlcyAmJiBuZXdGaWx0ZXJzLnNvdXJjZXMubGVuZ3RoID4gMCAmJiAhbmV3RmlsdGVycy5zb3VyY2VzLmluY2x1ZGVzKGZlZWQuc291cmNlLm5hbWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdGaWx0ZXJzLnJlYWRTdGF0dXMgPT09ICdyZWFkJyAmJiAhZmVlZC51c2VySW50ZXJhY3Rpb24ucmVhZCkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3RmlsdGVycy5yZWFkU3RhdHVzID09PSAndW5yZWFkJyAmJiBmZWVkLnVzZXJJbnRlcmFjdGlvbi5yZWFkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdGaWx0ZXJzLnRhZ3MgJiYgbmV3RmlsdGVycy50YWdzLmxlbmd0aCA+IDAgJiYgIW5ld0ZpbHRlcnMudGFncy5zb21lKHRhZyA9PiBmZWVkLnRhZ3MuaW5jbHVkZXModGFnKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHsgZmlsdGVyczogbmV3RmlsdGVycywgZmlsdGVyZWRGZWVkczogZmlsdGVyZWQgfTtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBjbGVhckZpbHRlcnM6ICgpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgZmlsdGVyczogZGVmYXVsdEZpbHRlcnMsXG4gICAgICAgICAgZmlsdGVyZWRGZWVkczogc3RhdGUuZmVlZHMsXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIHNlYXJjaEZlZWRzOiBhc3luYyAocXVlcnkpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldFNlYXJjaGluZywgc2V0RXJyb3IgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRTZWFyY2hpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9mZWVkcy9zZWFyY2gnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBxdWVyeSB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNlYXJjaCBmZWVkcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgICAgICBzZWFyY2g6IHtcbiAgICAgICAgICAgICAgICAuLi5zdGF0ZS5zZWFyY2gsXG4gICAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgICAgcmVzdWx0czogcmVzdWx0cy5pdGVtcyxcbiAgICAgICAgICAgICAgICB0b3RhbFJlc3VsdHM6IHJlc3VsdHMudG90YWwsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXG4gICAgICAgICAgICAgICAgdG90YWxQYWdlczogTWF0aC5jZWlsKHJlc3VsdHMudG90YWwgLyBzdGF0ZS5wcmVmZXJlbmNlcy5pdGVtc1BlclBhZ2UpLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnRmVlZHMgc2VhcmNoZWQnLCB7XG4gICAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgICByZXN1bHRzOiByZXN1bHRzLml0ZW1zLmxlbmd0aCxcbiAgICAgICAgICAgICAgdG90YWw6IHJlc3VsdHMudG90YWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBzZWFyY2ggZmVlZHM6JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRTZWFyY2hpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHNldFNlYXJjaFF1ZXJ5OiAocXVlcnkpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgc2VhcmNoOiB7IC4uLnN0YXRlLnNlYXJjaCwgcXVlcnkgfVxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICBjbGVhclNlYXJjaDogKCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBzZWFyY2g6IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLnNlYXJjaCxcbiAgICAgICAgICAgIHF1ZXJ5OiAnJyxcbiAgICAgICAgICAgIHJlc3VsdHM6IFtdLFxuICAgICAgICAgICAgdG90YWxSZXN1bHRzOiAwLFxuICAgICAgICAgICAgY3VycmVudFBhZ2U6IDEsXG4gICAgICAgICAgICB0b3RhbFBhZ2VzOiAxLFxuICAgICAgICAgIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgLy8gRmVlZCBpbnRlcmFjdGlvbiBhY3Rpb25zXG4gICAgICAgIGxpa2VGZWVkOiAoaWQpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgZmVlZHM6IHN0YXRlLmZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB7IFxuICAgICAgICAgICAgICAgICAgLi4uZmVlZCxcbiAgICAgICAgICAgICAgICAgIHVzZXJJbnRlcmFjdGlvbjogeyAuLi5mZWVkLnVzZXJJbnRlcmFjdGlvbiwgbGlrZWQ6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgIGVuZ2FnZW1lbnQ6IHsgLi4uZmVlZC5lbmdhZ2VtZW50LCBsaWtlczogZmVlZC5lbmdhZ2VtZW50Lmxpa2VzICsgMSB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICAgIGZpbHRlcmVkRmVlZHM6IHN0YXRlLmZpbHRlcmVkRmVlZHMubWFwKGZlZWQgPT5cbiAgICAgICAgICAgIGZlZWQuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHsgXG4gICAgICAgICAgICAgICAgICAuLi5mZWVkLFxuICAgICAgICAgICAgICAgICAgdXNlckludGVyYWN0aW9uOiB7IC4uLmZlZWQudXNlckludGVyYWN0aW9uLCBsaWtlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgZW5nYWdlbWVudDogeyAuLi5mZWVkLmVuZ2FnZW1lbnQsIGxpa2VzOiBmZWVkLmVuZ2FnZW1lbnQubGlrZXMgKyAxIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDogZmVlZFxuICAgICAgICAgICksXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIHVubGlrZUZlZWQ6IChpZCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBmZWVkczogc3RhdGUuZmVlZHMubWFwKGZlZWQgPT5cbiAgICAgICAgICAgIGZlZWQuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHsgXG4gICAgICAgICAgICAgICAgICAuLi5mZWVkLFxuICAgICAgICAgICAgICAgICAgdXNlckludGVyYWN0aW9uOiB7IC4uLmZlZWQudXNlckludGVyYWN0aW9uLCBsaWtlZDogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICAgIGVuZ2FnZW1lbnQ6IHsgLi4uZmVlZC5lbmdhZ2VtZW50LCBsaWtlczogTWF0aC5tYXgoMCwgZmVlZC5lbmdhZ2VtZW50Lmxpa2VzIC0gMSkgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgOiBmZWVkXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5maWx0ZXJlZEZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB7IFxuICAgICAgICAgICAgICAgICAgLi4uZmVlZCxcbiAgICAgICAgICAgICAgICAgIHVzZXJJbnRlcmFjdGlvbjogeyAuLi5mZWVkLnVzZXJJbnRlcmFjdGlvbiwgbGlrZWQ6IGZhbHNlIH0sXG4gICAgICAgICAgICAgICAgICBlbmdhZ2VtZW50OiB7IC4uLmZlZWQuZW5nYWdlbWVudCwgbGlrZXM6IE1hdGgubWF4KDAsIGZlZWQuZW5nYWdlbWVudC5saWtlcyAtIDEpIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIDogZmVlZFxuICAgICAgICAgICksXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIHNoYXJlRmVlZDogKGlkKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGZlZWRzOiBzdGF0ZS5mZWVkcy5tYXAoZmVlZCA9PlxuICAgICAgICAgICAgZmVlZC5pZCA9PT0gaWQgXG4gICAgICAgICAgICAgID8geyBcbiAgICAgICAgICAgICAgICAgIC4uLmZlZWQsXG4gICAgICAgICAgICAgICAgICB1c2VySW50ZXJhY3Rpb246IHsgLi4uZmVlZC51c2VySW50ZXJhY3Rpb24sIHNoYXJlZDogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgZW5nYWdlbWVudDogeyAuLi5mZWVkLmVuZ2FnZW1lbnQsIHNoYXJlczogZmVlZC5lbmdhZ2VtZW50LnNoYXJlcyArIDEgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgOiBmZWVkXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5maWx0ZXJlZEZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB7IFxuICAgICAgICAgICAgICAgICAgLi4uZmVlZCxcbiAgICAgICAgICAgICAgICAgIHVzZXJJbnRlcmFjdGlvbjogeyAuLi5mZWVkLnVzZXJJbnRlcmFjdGlvbiwgc2hhcmVkOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICBlbmdhZ2VtZW50OiB7IC4uLmZlZWQuZW5nYWdlbWVudCwgc2hhcmVzOiBmZWVkLmVuZ2FnZW1lbnQuc2hhcmVzICsgMSB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICBib29rbWFya0ZlZWQ6IChpZCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBmZWVkczogc3RhdGUuZmVlZHMubWFwKGZlZWQgPT5cbiAgICAgICAgICAgIGZlZWQuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHsgLi4uZmVlZCwgdXNlckludGVyYWN0aW9uOiB7IC4uLmZlZWQudXNlckludGVyYWN0aW9uLCBib29rbWFya2VkOiB0cnVlIH0gfVxuICAgICAgICAgICAgICA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICAgIGZpbHRlcmVkRmVlZHM6IHN0YXRlLmZpbHRlcmVkRmVlZHMubWFwKGZlZWQgPT5cbiAgICAgICAgICAgIGZlZWQuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHsgLi4uZmVlZCwgdXNlckludGVyYWN0aW9uOiB7IC4uLmZlZWQudXNlckludGVyYWN0aW9uLCBib29rbWFya2VkOiB0cnVlIH0gfVxuICAgICAgICAgICAgICA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICB1bmJvb2ttYXJrRmVlZDogKGlkKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGZlZWRzOiBzdGF0ZS5mZWVkcy5tYXAoZmVlZCA9PlxuICAgICAgICAgICAgZmVlZC5pZCA9PT0gaWQgXG4gICAgICAgICAgICAgID8geyAuLi5mZWVkLCB1c2VySW50ZXJhY3Rpb246IHsgLi4uZmVlZC51c2VySW50ZXJhY3Rpb24sIGJvb2ttYXJrZWQ6IGZhbHNlIH0gfVxuICAgICAgICAgICAgICA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICAgIGZpbHRlcmVkRmVlZHM6IHN0YXRlLmZpbHRlcmVkRmVlZHMubWFwKGZlZWQgPT5cbiAgICAgICAgICAgIGZlZWQuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHsgLi4uZmVlZCwgdXNlckludGVyYWN0aW9uOiB7IC4uLmZlZWQudXNlckludGVyYWN0aW9uLCBib29rbWFya2VkOiBmYWxzZSB9IH1cbiAgICAgICAgICAgICAgOiBmZWVkXG4gICAgICAgICAgKSxcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgbWFya0FzUmVhZDogKGlkKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGZlZWRzOiBzdGF0ZS5mZWVkcy5tYXAoZmVlZCA9PlxuICAgICAgICAgICAgZmVlZC5pZCA9PT0gaWQgXG4gICAgICAgICAgICAgID8geyBcbiAgICAgICAgICAgICAgICAgIC4uLmZlZWQsXG4gICAgICAgICAgICAgICAgICB1c2VySW50ZXJhY3Rpb246IHsgXG4gICAgICAgICAgICAgICAgICAgIC4uLmZlZWQudXNlckludGVyYWN0aW9uLCBcbiAgICAgICAgICAgICAgICAgICAgcmVhZDogdHJ1ZSwgXG4gICAgICAgICAgICAgICAgICAgIHJlYWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgOiBmZWVkXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5maWx0ZXJlZEZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB7IFxuICAgICAgICAgICAgICAgICAgLi4uZmVlZCxcbiAgICAgICAgICAgICAgICAgIHVzZXJJbnRlcmFjdGlvbjogeyBcbiAgICAgICAgICAgICAgICAgICAgLi4uZmVlZC51c2VySW50ZXJhY3Rpb24sIFxuICAgICAgICAgICAgICAgICAgICByZWFkOiB0cnVlLCBcbiAgICAgICAgICAgICAgICAgICAgcmVhZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICBtYXJrQXNVbnJlYWQ6IChpZCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBmZWVkczogc3RhdGUuZmVlZHMubWFwKGZlZWQgPT5cbiAgICAgICAgICAgIGZlZWQuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHsgXG4gICAgICAgICAgICAgICAgICAuLi5mZWVkLFxuICAgICAgICAgICAgICAgICAgdXNlckludGVyYWN0aW9uOiB7IFxuICAgICAgICAgICAgICAgICAgICAuLi5mZWVkLnVzZXJJbnRlcmFjdGlvbiwgXG4gICAgICAgICAgICAgICAgICAgIHJlYWQ6IGZhbHNlLCBcbiAgICAgICAgICAgICAgICAgICAgcmVhZEF0OiB1bmRlZmluZWQgXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICAgIGZpbHRlcmVkRmVlZHM6IHN0YXRlLmZpbHRlcmVkRmVlZHMubWFwKGZlZWQgPT5cbiAgICAgICAgICAgIGZlZWQuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHsgXG4gICAgICAgICAgICAgICAgICAuLi5mZWVkLFxuICAgICAgICAgICAgICAgICAgdXNlckludGVyYWN0aW9uOiB7IFxuICAgICAgICAgICAgICAgICAgICAuLi5mZWVkLnVzZXJJbnRlcmFjdGlvbiwgXG4gICAgICAgICAgICAgICAgICAgIHJlYWQ6IGZhbHNlLCBcbiAgICAgICAgICAgICAgICAgICAgcmVhZEF0OiB1bmRlZmluZWQgXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICAvLyBDYXRlZ29yeSBhY3Rpb25zXG4gICAgICAgIHNldENhdGVnb3JpZXM6IChjYXRlZ29yaWVzKSA9PiBzZXQoeyBjYXRlZ29yaWVzIH0pLFxuICAgICAgICBcbiAgICAgICAgdG9nZ2xlQ2F0ZWdvcnk6IChjYXRlZ29yeUlkKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGNhdGVnb3JpZXM6IHN0YXRlLmNhdGVnb3JpZXMubWFwKGNhdGVnb3J5ID0+XG4gICAgICAgICAgICBjYXRlZ29yeS5pZCA9PT0gY2F0ZWdvcnlJZCBcbiAgICAgICAgICAgICAgPyB7IC4uLmNhdGVnb3J5LCBlbmFibGVkOiAhY2F0ZWdvcnkuZW5hYmxlZCB9XG4gICAgICAgICAgICAgIDogY2F0ZWdvcnlcbiAgICAgICAgICApXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIHNldFNlbGVjdGVkQ2F0ZWdvcnk6IChjYXRlZ29yeUlkKSA9PiBzZXQoeyBzZWxlY3RlZENhdGVnb3J5OiBjYXRlZ29yeUlkIH0pLFxuICAgICAgICBcbiAgICAgICAgLy8gUHJlZmVyZW5jZXMgYWN0aW9uc1xuICAgICAgICB1cGRhdGVQcmVmZXJlbmNlczogKHByZWZlcmVuY2VzKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHByZWZlcmVuY2VzOiB7IC4uLnN0YXRlLnByZWZlcmVuY2VzLCAuLi5wcmVmZXJlbmNlcyB9XG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIHJlc2V0UHJlZmVyZW5jZXM6ICgpID0+IHNldCh7IHByZWZlcmVuY2VzOiBkZWZhdWx0UHJlZmVyZW5jZXMgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBWaWV3IG1hbmFnZW1lbnQgYWN0aW9uc1xuICAgICAgICBzZXRDdXJyZW50VmlldzogKHZpZXcpID0+IHNldCh7IGN1cnJlbnRWaWV3OiB2aWV3IH0pLFxuICAgICAgICBcbiAgICAgICAgc2V0U2VsZWN0ZWRGZWVkOiAoZmVlZCkgPT4gc2V0KHsgc2VsZWN0ZWRGZWVkOiBmZWVkIH0pLFxuICAgICAgICBcbiAgICAgICAgLy8gRGF0YSBvcGVyYXRpb25zXG4gICAgICAgIGxvYWRGZWVkczogYXN5bmMgKGNhdGVnb3J5KSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldCh7IGlzTG9hZGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZmVlZHMnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjYXRlZ29yeSB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgY29uc3QgZmVlZHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgIHNldCh7IGZlZWRzLCBmaWx0ZXJlZEZlZWRzOiBmZWVkcywgaXNMb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdGZWVkcyBsb2FkZWQnLCB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgY291bnQ6IGZlZWRzLmxlbmd0aFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIE5vIGZhbGxiYWNrIGRhdGEgLSBqdXN0IHNldCBlbXB0eSBzdGF0ZVxuICAgICAgICAgICAgICBzZXQoeyBmZWVkczogW10sIGZpbHRlcmVkRmVlZHM6IFtdLCBpc0xvYWRpbmc6IGZhbHNlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBObyBmYWxsYmFjayBkYXRhIC0ganVzdCBzZXQgZW1wdHkgc3RhdGUgb24gZXJyb3JcbiAgICAgICAgICAgIHNldCh7IGZlZWRzOiBbXSwgZmlsdGVyZWRGZWVkczogW10sIGlzTG9hZGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnQVBJIGVycm9yLCB1c2luZyBlbXB0eSBzdGF0ZTonLCB7IGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJyB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBsb2FkQ2F0ZWdvcmllczogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXQoeyBpc0xvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2ZlZWRzL2NhdGVnb3JpZXMnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNhdGVnb3JpZXMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgY2F0ZWdvcmllcyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIHNldCh7IGNhdGVnb3JpZXMsIGlzTG9hZGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdGZWVkIGNhdGVnb3JpZXMgbG9hZGVkJywge1xuICAgICAgICAgICAgICBjb3VudDogY2F0ZWdvcmllcy5sZW5ndGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIHNldCh7IGVycm9yOiBlcnJvck1lc3NhZ2UsIGlzTG9hZGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNhdGVnb3JpZXM6JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHNhdmVVc2VySW50ZXJhY3Rpb246IGFzeW5jIChmZWVkSWQsIGludGVyYWN0aW9uKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldCh7IGlzVXBkYXRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2ZlZWRzL2ludGVyYWN0aW9ucycsIHtcbiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGZlZWRJZCwgaW50ZXJhY3Rpb24gfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzYXZlIHVzZXIgaW50ZXJhY3Rpb24nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgc2V0KHsgaXNVcGRhdGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnVXNlciBpbnRlcmFjdGlvbiBzYXZlZCcsIHtcbiAgICAgICAgICAgICAgZmVlZElkLFxuICAgICAgICAgICAgICBpbnRlcmFjdGlvblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0KHsgZXJyb3I6IGVycm9yTWVzc2FnZSwgaXNVcGRhdGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBzYXZlIHVzZXIgaW50ZXJhY3Rpb246JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIC8vIExvYWRpbmcgc3RhdGUgYWN0aW9uc1xuICAgICAgICBzZXRMb2FkaW5nOiAobG9hZGluZykgPT4gc2V0KHsgaXNMb2FkaW5nOiBsb2FkaW5nIH0pLFxuICAgICAgICBzZXRTZWFyY2hpbmc6IChzZWFyY2hpbmcpID0+IHNldCh7IGlzU2VhcmNoaW5nOiBzZWFyY2hpbmcgfSksXG4gICAgICAgIHNldFJlZnJlc2hpbmc6IChyZWZyZXNoaW5nKSA9PiBzZXQoeyBpc1JlZnJlc2hpbmc6IHJlZnJlc2hpbmcgfSksXG4gICAgICAgIHNldFVwZGF0aW5nOiAodXBkYXRpbmcpID0+IHNldCh7IGlzVXBkYXRpbmc6IHVwZGF0aW5nIH0pLFxuICAgICAgICBzZXRFcnJvcjogKGVycm9yKSA9PiBzZXQoeyBlcnJvciB9KSxcbiAgICAgICAgY2xlYXJFcnJvcjogKCkgPT4gc2V0KHsgZXJyb3I6IG51bGwgfSksXG4gICAgICB9KSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2ZlZWRzLXN0b3JlJyxcbiAgICAgICAgcGFydGlhbGl6ZTogKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGZlZWRzOiBzdGF0ZS5mZWVkcyxcbiAgICAgICAgICBjYXRlZ29yaWVzOiBzdGF0ZS5jYXRlZ29yaWVzLFxuICAgICAgICAgIHByZWZlcmVuY2VzOiBzdGF0ZS5wcmVmZXJlbmNlcyxcbiAgICAgICAgICBmaWx0ZXJzOiBzdGF0ZS5maWx0ZXJzLFxuICAgICAgICAgIGN1cnJlbnRWaWV3OiBzdGF0ZS5jdXJyZW50VmlldyxcbiAgICAgICAgfSksXG4gICAgICB9XG4gICAgKSxcbiAgICB7IG5hbWU6ICdmZWVkcy1zdG9yZScgfVxuICApXG4pO1xuXG4vLyBTdG9yZSBzZWxlY3RvcnMgZm9yIG9wdGltaXplZCByZS1yZW5kZXJzXG5leHBvcnQgY29uc3QgdXNlRmVlZHMgPSAoKSA9PiB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IHN0YXRlLmZlZWRzKTtcbmV4cG9ydCBjb25zdCB1c2VGaWx0ZXJlZEZlZWRzID0gKCkgPT4gdXNlRmVlZHNTdG9yZShzdGF0ZSA9PiBzdGF0ZS5maWx0ZXJlZEZlZWRzKTtcbmV4cG9ydCBjb25zdCB1c2VGZWVkQ2F0ZWdvcmllcyA9ICgpID0+IHVzZUZlZWRzU3RvcmUoc3RhdGUgPT4gc3RhdGUuY2F0ZWdvcmllcyk7XG5leHBvcnQgY29uc3QgdXNlRmVlZFNlYXJjaCA9ICgpID0+IHVzZUZlZWRzU3RvcmUoc3RhdGUgPT4gc3RhdGUuc2VhcmNoKTtcbmV4cG9ydCBjb25zdCB1c2VTZWxlY3RlZEZlZWQgPSAoKSA9PiB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IHN0YXRlLnNlbGVjdGVkRmVlZCk7XG5leHBvcnQgY29uc3QgdXNlRmVlZFByZWZlcmVuY2VzID0gKCkgPT4gdXNlRmVlZHNTdG9yZShzdGF0ZSA9PiBzdGF0ZS5wcmVmZXJlbmNlcyk7XG5leHBvcnQgY29uc3QgdXNlRmVlZEZpbHRlcnMgPSAoKSA9PiB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IHN0YXRlLmZpbHRlcnMpO1xuZXhwb3J0IGNvbnN0IHVzZUZlZWRzTG9hZGluZyA9ICgpID0+IHVzZUZlZWRzU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNMb2FkaW5nKTtcbmV4cG9ydCBjb25zdCB1c2VGZWVkc0Vycm9yID0gKCkgPT4gdXNlRmVlZHNTdG9yZShzdGF0ZSA9PiBzdGF0ZS5lcnJvcik7XG5cbi8vIEFjdGlvbiBzZWxlY3RvcnMgLSBGSVhFRDogVXNlIGluZGl2aWR1YWwgc2VsZWN0b3JzIHRvIHByZXZlbnQgaW5maW5pdGUgcmUtcmVuZGVyc1xuZXhwb3J0IGNvbnN0IHVzZUZlZWRzQWN0aW9ucyA9ICgpID0+IHVzZUZlZWRzU3RvcmUoc3RhdGUgPT4gc3RhdGUpO1xuXG4vLyBDb21wdXRlZCBzZWxlY3RvcnMgLSBGSVhFRDogVXNlIGluZGl2aWR1YWwgc2VsZWN0b3JzIHRvIHByZXZlbnQgaW5maW5pdGUgcmUtcmVuZGVyc1xuZXhwb3J0IGNvbnN0IHVzZUZlZWRzU3RhdHMgPSAoKSA9PiB7XG4gIGNvbnN0IHRvdGFsRmVlZHMgPSB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IHN0YXRlLmZlZWRzLmxlbmd0aCk7XG4gIGNvbnN0IGZpbHRlcmVkRmVlZHMgPSB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IHN0YXRlLmZpbHRlcmVkRmVlZHMubGVuZ3RoKTtcbiAgY29uc3QgdG90YWxDYXRlZ29yaWVzID0gdXNlRmVlZHNTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jYXRlZ29yaWVzLmxlbmd0aCk7XG4gIGNvbnN0IGVuYWJsZWRDYXRlZ29yaWVzID0gdXNlRmVlZHNTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jYXRlZ29yaWVzLmZpbHRlcihjYXQgPT4gY2F0LmVuYWJsZWQpLmxlbmd0aCk7XG4gIGNvbnN0IHNlYXJjaFJlc3VsdHMgPSB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IHN0YXRlLnNlYXJjaC5yZXN1bHRzLmxlbmd0aCk7XG4gIGNvbnN0IGlzTG9hZGluZyA9IHVzZUZlZWRzU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNMb2FkaW5nKTtcbiAgY29uc3QgaXNTZWFyY2hpbmcgPSB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IHN0YXRlLmlzU2VhcmNoaW5nKTtcbiAgY29uc3QgZXJyb3IgPSB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IHN0YXRlLmVycm9yKTtcbiAgXG4gIHJldHVybiB7XG4gICAgdG90YWxGZWVkcyxcbiAgICBmaWx0ZXJlZEZlZWRzLFxuICAgIHRvdGFsQ2F0ZWdvcmllcyxcbiAgICBlbmFibGVkQ2F0ZWdvcmllcyxcbiAgICBzZWFyY2hSZXN1bHRzLFxuICAgIGlzTG9hZGluZyxcbiAgICBpc1NlYXJjaGluZyxcbiAgICBlcnJvcixcbiAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VCb29rbWFya2VkRmVlZHMgPSAoKSA9PiB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IFxuICBzdGF0ZS5mZWVkcy5maWx0ZXIoZmVlZCA9PiBmZWVkLnVzZXJJbnRlcmFjdGlvbi5ib29rbWFya2VkKVxuKTtcblxuZXhwb3J0IGNvbnN0IHVzZVVucmVhZEZlZWRzID0gKCkgPT4gdXNlRmVlZHNTdG9yZShzdGF0ZSA9PiBcbiAgc3RhdGUuZmVlZHMuZmlsdGVyKGZlZWQgPT4gIWZlZWQudXNlckludGVyYWN0aW9uLnJlYWQpXG4pO1xuXG5leHBvcnQgY29uc3QgdXNlTGlrZWRGZWVkcyA9ICgpID0+IHVzZUZlZWRzU3RvcmUoc3RhdGUgPT4gXG4gIHN0YXRlLmZlZWRzLmZpbHRlcihmZWVkID0+IGZlZWQudXNlckludGVyYWN0aW9uLmxpa2VkKVxuKTtcblxuLy8gU3RvcmUgdXRpbGl0aWVzXG5leHBvcnQgY29uc3QgZmVlZHNTdG9yZVV0aWxzID0ge1xuICAvKipcbiAgICogR2V0IGZlZWRzIHN1bW1hcnlcbiAgICovXG4gIGdldEZlZWRzU3VtbWFyeTogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlRmVlZHNTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICB0b3RhbEZlZWRzOiBzdGF0ZS5mZWVkcy5sZW5ndGgsXG4gICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5maWx0ZXJlZEZlZWRzLmxlbmd0aCxcbiAgICAgIGNhdGVnb3JpZXM6IHN0YXRlLmNhdGVnb3JpZXMubGVuZ3RoLFxuICAgICAgc2VhcmNoUmVzdWx0czogc3RhdGUuc2VhcmNoLnJlc3VsdHMubGVuZ3RoLFxuICAgICAgcHJlZmVyZW5jZXM6IHN0YXRlLnByZWZlcmVuY2VzLFxuICAgIH07XG4gIH0sXG4gIFxuICAvKipcbiAgICogR2V0IGZlZWRzIGJ5IGNhdGVnb3J5XG4gICAqL1xuICBnZXRGZWVkc0J5Q2F0ZWdvcnk6IChjYXRlZ29yeTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VGZWVkc1N0b3JlLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHN0YXRlLmZlZWRzLmZpbHRlcihmZWVkID0+IGZlZWQuY2F0ZWdvcnkgPT09IGNhdGVnb3J5KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBHZXQgZmVlZHMgYnkgdHlwZVxuICAgKi9cbiAgZ2V0RmVlZHNCeVR5cGU6ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZUZlZWRzU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gc3RhdGUuZmVlZHMuZmlsdGVyKGZlZWQgPT4gZmVlZC50eXBlID09PSB0eXBlKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBHZXQgdHJlbmRpbmcgZmVlZHNcbiAgICovXG4gIGdldFRyZW5kaW5nRmVlZHM6ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZUZlZWRzU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gc3RhdGUuZmVlZHNcbiAgICAgIC5zb3J0KChhLCBiKSA9PiAoYi5lbmdhZ2VtZW50Lmxpa2VzICsgYi5lbmdhZ2VtZW50LnNoYXJlcykgLSAoYS5lbmdhZ2VtZW50Lmxpa2VzICsgYS5lbmdhZ2VtZW50LnNoYXJlcykpXG4gICAgICAuc2xpY2UoMCwgMTApO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIEdldCByZWNlbnQgZmVlZHNcbiAgICovXG4gIGdldFJlY2VudEZlZWRzOiAobGltaXQgPSAxMCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlRmVlZHNTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiBzdGF0ZS5mZWVkc1xuICAgICAgLnNvcnQoKGEsIGIpID0+IG5ldyBEYXRlKGIucHVibGlzaGVkQXQpLmdldFRpbWUoKSAtIG5ldyBEYXRlKGEucHVibGlzaGVkQXQpLmdldFRpbWUoKSlcbiAgICAgIC5zbGljZSgwLCBsaW1pdCk7XG4gIH1cbn07XG5cbi8vIFN0b3JlIHN1YnNjcmlwdGlvbnMgZm9yIGV4dGVybmFsIGludGVncmF0aW9uc1xuZXhwb3J0IGNvbnN0IGZlZWRzU3RvcmVTdWJzY3JpcHRpb25zID0ge1xuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIGZlZWRzIGNoYW5nZXNcbiAgICovXG4gIG9uRmVlZHNDaGFuZ2U6IChjYWxsYmFjazogKGZlZWRzOiBGZWVkSXRlbVtdKSA9PiB2b2lkKSA9PiB7XG4gICAgcmV0dXJuIHVzZUZlZWRzU3RvcmUuc3Vic2NyaWJlKFxuICAgICAgKHN0YXRlKSA9PiB7XG4gICAgICAgIGNhbGxiYWNrKHN0YXRlLmZlZWRzKTtcbiAgICAgIH1cbiAgICApO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byBzZWFyY2ggcmVzdWx0cyBjaGFuZ2VzXG4gICAqL1xuICBvblNlYXJjaFJlc3VsdHNDaGFuZ2U6IChjYWxsYmFjazogKHJlc3VsdHM6IEZlZWRJdGVtW10pID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gdXNlRmVlZHNTdG9yZS5zdWJzY3JpYmUoXG4gICAgICAoc3RhdGUpID0+IHtcbiAgICAgICAgY2FsbGJhY2soc3RhdGUuc2VhcmNoLnJlc3VsdHMpO1xuICAgICAgfVxuICAgICk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHByZWZlcmVuY2VzIGNoYW5nZXNcbiAgICovXG4gIG9uUHJlZmVyZW5jZXNDaGFuZ2U6IChjYWxsYmFjazogKHByZWZlcmVuY2VzOiBGZWVkUHJlZmVyZW5jZXMpID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gdXNlRmVlZHNTdG9yZS5zdWJzY3JpYmUoXG4gICAgICAoc3RhdGUpID0+IHtcbiAgICAgICAgY2FsbGJhY2soc3RhdGUucHJlZmVyZW5jZXMpO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn07XG5cbi8vIFN0b3JlIGRlYnVnZ2luZyB1dGlsaXRpZXNcbmV4cG9ydCBjb25zdCBmZWVkc1N0b3JlRGVidWcgPSB7XG4gIC8qKlxuICAgKiBMb2cgY3VycmVudCBmZWVkcyBzdGF0ZVxuICAgKi9cbiAgbG9nU3RhdGU6ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZUZlZWRzU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBsb2dnZXIuZGVidWcoJ0ZlZWRzIFN0b3JlIFN0YXRlJywge1xuICAgICAgdG90YWxGZWVkczogc3RhdGUuZmVlZHMubGVuZ3RoLFxuICAgICAgZmlsdGVyZWRGZWVkczogc3RhdGUuZmlsdGVyZWRGZWVkcy5sZW5ndGgsXG4gICAgICBjYXRlZ29yaWVzOiBzdGF0ZS5jYXRlZ29yaWVzLmxlbmd0aCxcbiAgICAgIHNlYXJjaFJlc3VsdHM6IHN0YXRlLnNlYXJjaC5yZXN1bHRzLmxlbmd0aCxcbiAgICAgIGN1cnJlbnRWaWV3OiBzdGF0ZS5jdXJyZW50VmlldyxcbiAgICAgIHNlbGVjdGVkQ2F0ZWdvcnk6IHN0YXRlLnNlbGVjdGVkQ2F0ZWdvcnksXG4gICAgICBpc0xvYWRpbmc6IHN0YXRlLmlzTG9hZGluZyxcbiAgICAgIGVycm9yOiBzdGF0ZS5lcnJvclxuICAgIH0pO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIExvZyBmZWVkcyBzdW1tYXJ5XG4gICAqL1xuICBsb2dTdW1tYXJ5OiAoKSA9PiB7XG4gICAgY29uc3Qgc3VtbWFyeSA9IGZlZWRzU3RvcmVVdGlscy5nZXRGZWVkc1N1bW1hcnkoKTtcbiAgICBsb2dnZXIuZGVidWcoJ0ZlZWRzIFN1bW1hcnknLCBzdW1tYXJ5KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBMb2cgZmVlZHMgYnkgY2F0ZWdvcnlcbiAgICovXG4gIGxvZ0ZlZWRzQnlDYXRlZ29yeTogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlRmVlZHNTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGJ5Q2F0ZWdvcnkgPSBzdGF0ZS5mZWVkcy5yZWR1Y2UoKGFjYywgZmVlZCkgPT4ge1xuICAgICAgYWNjW2ZlZWQuY2F0ZWdvcnldID0gKGFjY1tmZWVkLmNhdGVnb3J5XSB8fCAwKSArIDE7XG4gICAgICByZXR1cm4gYWNjO1xuICAgIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIG51bWJlcj4pO1xuICAgIGxvZ2dlci5kZWJ1ZygnRmVlZHMgYnkgQ2F0ZWdvcnknLCBieUNhdGVnb3J5KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBSZXNldCBmZWVkcyBzdG9yZVxuICAgKi9cbiAgcmVzZXQ6ICgpID0+IHtcbiAgICB1c2VGZWVkc1N0b3JlLmdldFN0YXRlKCkuY2xlYXJGaWx0ZXJzKCk7XG4gICAgdXNlRmVlZHNTdG9yZS5nZXRTdGF0ZSgpLnJlc2V0UHJlZmVyZW5jZXMoKTtcbiAgICBsb2dnZXIuaW5mbygnRmVlZHMgc3RvcmUgcmVzZXQnKTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJmZWVkc1N0b3JlRGVidWciLCJmZWVkc1N0b3JlU3Vic2NyaXB0aW9ucyIsImZlZWRzU3RvcmVVdGlscyIsInVzZUJvb2ttYXJrZWRGZWVkcyIsInVzZUZlZWRDYXRlZ29yaWVzIiwidXNlRmVlZEZpbHRlcnMiLCJ1c2VGZWVkUHJlZmVyZW5jZXMiLCJ1c2VGZWVkU2VhcmNoIiwidXNlRmVlZHMiLCJ1c2VGZWVkc0FjdGlvbnMiLCJ1c2VGZWVkc0Vycm9yIiwidXNlRmVlZHNMb2FkaW5nIiwidXNlRmVlZHNTdGF0cyIsInVzZUZlZWRzU3RvcmUiLCJ1c2VGaWx0ZXJlZEZlZWRzIiwidXNlTGlrZWRGZWVkcyIsInVzZVNlbGVjdGVkRmVlZCIsInVzZVVucmVhZEZlZWRzIiwiZGVmYXVsdFByZWZlcmVuY2VzIiwiZGVmYXVsdFZpZXciLCJzb3J0QnkiLCJpdGVtc1BlclBhZ2UiLCJhdXRvUmVmcmVzaCIsInJlZnJlc2hJbnRlcnZhbCIsIm5vdGlmaWNhdGlvbnMiLCJuZXdDb250ZW50IiwidHJlbmRpbmdDb250ZW50IiwiY2F0ZWdvcnlVcGRhdGVzIiwiYXV0aG9yVXBkYXRlcyIsInByaXZhY3kiLCJzaG93UmVhZEhpc3RvcnkiLCJzaG93Qm9va21hcmtzIiwic2hvd0xpa2VzIiwic2hhcmVBY3Rpdml0eSIsImNvbnRlbnQiLCJzaG93SW1hZ2VzIiwic2hvd1ZpZGVvcyIsInNob3dBdWRpbyIsImF1dG9QbGF5IiwicXVhbGl0eSIsImRlZmF1bHRGaWx0ZXJzIiwiY2F0ZWdvcmllcyIsInR5cGVzIiwic291cmNlcyIsImRhdGVSYW5nZSIsInN0YXJ0IiwiZW5kIiwicmVhZFN0YXR1cyIsImVuZ2FnZW1lbnQiLCJsYW5ndWFnZSIsInRhZ3MiLCJjcmVhdGUiLCJkZXZ0b29scyIsInBlcnNpc3QiLCJzZXQiLCJnZXQiLCJmZWVkcyIsImZpbHRlcmVkRmVlZHMiLCJzZWFyY2giLCJxdWVyeSIsInJlc3VsdHMiLCJ0b3RhbFJlc3VsdHMiLCJjdXJyZW50UGFnZSIsInRvdGFsUGFnZXMiLCJmaWx0ZXJzIiwic3VnZ2VzdGlvbnMiLCJyZWNlbnRTZWFyY2hlcyIsImN1cnJlbnRWaWV3Iiwic2VsZWN0ZWRGZWVkIiwic2VsZWN0ZWRDYXRlZ29yeSIsInByZWZlcmVuY2VzIiwiaXNMb2FkaW5nIiwiaXNTZWFyY2hpbmciLCJpc1JlZnJlc2hpbmciLCJpc1VwZGF0aW5nIiwiZXJyb3IiLCJzZXRGZWVkcyIsImFkZEZlZWQiLCJmZWVkIiwic3RhdGUiLCJ1cGRhdGVGZWVkIiwiaWQiLCJ1cGRhdGVzIiwibWFwIiwicmVtb3ZlRmVlZCIsImZpbHRlciIsInJlZnJlc2hGZWVkcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXRlZ29yeSIsIm9rIiwiRXJyb3IiLCJqc29uIiwibG9nZ2VyIiwiaW5mbyIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJsb2FkTW9yZUZlZWRzIiwibmV3RmVlZHMiLCJzZXRGaWx0ZXJzIiwibmV3RmlsdGVycyIsImZpbHRlcmVkIiwibGVuZ3RoIiwiaW5jbHVkZXMiLCJ0eXBlIiwic291cmNlIiwibmFtZSIsInVzZXJJbnRlcmFjdGlvbiIsInJlYWQiLCJzb21lIiwidGFnIiwiY2xlYXJGaWx0ZXJzIiwic2VhcmNoRmVlZHMiLCJzZXRTZWFyY2hpbmciLCJzZXRFcnJvciIsIml0ZW1zIiwidG90YWwiLCJNYXRoIiwiY2VpbCIsInNldFNlYXJjaFF1ZXJ5IiwiY2xlYXJTZWFyY2giLCJsaWtlRmVlZCIsImxpa2VkIiwibGlrZXMiLCJ1bmxpa2VGZWVkIiwibWF4Iiwic2hhcmVGZWVkIiwic2hhcmVkIiwic2hhcmVzIiwiYm9va21hcmtGZWVkIiwiYm9va21hcmtlZCIsInVuYm9va21hcmtGZWVkIiwibWFya0FzUmVhZCIsInJlYWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsIm1hcmtBc1VucmVhZCIsInVuZGVmaW5lZCIsInNldENhdGVnb3JpZXMiLCJ0b2dnbGVDYXRlZ29yeSIsImNhdGVnb3J5SWQiLCJlbmFibGVkIiwic2V0U2VsZWN0ZWRDYXRlZ29yeSIsInVwZGF0ZVByZWZlcmVuY2VzIiwicmVzZXRQcmVmZXJlbmNlcyIsInNldEN1cnJlbnRWaWV3IiwidmlldyIsInNldFNlbGVjdGVkRmVlZCIsImxvYWRGZWVkcyIsImNvdW50IiwibG9hZENhdGVnb3JpZXMiLCJzYXZlVXNlckludGVyYWN0aW9uIiwiZmVlZElkIiwiaW50ZXJhY3Rpb24iLCJzZXRMb2FkaW5nIiwibG9hZGluZyIsInNlYXJjaGluZyIsInNldFJlZnJlc2hpbmciLCJyZWZyZXNoaW5nIiwic2V0VXBkYXRpbmciLCJ1cGRhdGluZyIsImNsZWFyRXJyb3IiLCJwYXJ0aWFsaXplIiwidG90YWxGZWVkcyIsInRvdGFsQ2F0ZWdvcmllcyIsImVuYWJsZWRDYXRlZ29yaWVzIiwiY2F0Iiwic2VhcmNoUmVzdWx0cyIsImdldEZlZWRzU3VtbWFyeSIsImdldFN0YXRlIiwiZ2V0RmVlZHNCeUNhdGVnb3J5IiwiZ2V0RmVlZHNCeVR5cGUiLCJnZXRUcmVuZGluZ0ZlZWRzIiwic29ydCIsImEiLCJiIiwic2xpY2UiLCJnZXRSZWNlbnRGZWVkcyIsImxpbWl0IiwicHVibGlzaGVkQXQiLCJnZXRUaW1lIiwib25GZWVkc0NoYW5nZSIsImNhbGxiYWNrIiwic3Vic2NyaWJlIiwib25TZWFyY2hSZXN1bHRzQ2hhbmdlIiwib25QcmVmZXJlbmNlc0NoYW5nZSIsImxvZ1N0YXRlIiwiZGVidWciLCJsb2dTdW1tYXJ5Iiwic3VtbWFyeSIsImxvZ0ZlZWRzQnlDYXRlZ29yeSIsImJ5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