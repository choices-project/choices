d4498e0bb30175ddfb4c867f6ed3cf95
/**
 * @jest-environment jsdom
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _reactrouterdom = require("react-router-dom");
const _UnifiedFeed = /*#__PURE__*/ _interop_require_default(require("../../../../features/feeds/components/UnifiedFeed"));
const _logger = require("../../../../lib/utils/logger");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Use real functionality - minimal mocking only for test environment setup
// Setup minimal mocks for test environment
beforeAll(()=>{
    // Mock localStorage for component functionality
    Object.defineProperty(window, 'localStorage', {
        value: {
            getItem: jest.fn(),
            setItem: jest.fn(),
            removeItem: jest.fn(),
            clear: jest.fn()
        },
        writable: true
    });
    // Mock navigator for online status
    Object.defineProperty(navigator, 'onLine', {
        value: true,
        writable: true
    });
    // Mock fetch to handle API calls
    global.fetch = jest.fn((url)=>{
        if (url.includes('/api/feeds')) {
            return Promise.resolve({
                ok: true,
                json: ()=>Promise.resolve([
                        {
                            id: '1',
                            title: 'Sample Civic Activity',
                            description: 'A sample civic activity for testing',
                            category: 'civic',
                            timestamp: new Date().toISOString(),
                            source: 'test'
                        }
                    ])
            });
        }
        if (url.includes('/api/civics/analytics')) {
            return Promise.resolve({
                ok: true,
                json: ()=>Promise.resolve({
                        totalUsers: 100,
                        activeUsers: 50,
                        engagement: 0.75
                    })
            });
        }
        if (url.includes('/api/pwa/offline/sync')) {
            return Promise.resolve({
                ok: true,
                json: ()=>Promise.resolve({
                        synced: true
                    })
            });
        }
        // Default response
        return Promise.resolve({
            ok: true,
            json: ()=>Promise.resolve({})
        });
    });
});
// Clean up after each test
afterEach(()=>{
    jest.clearAllMocks();
});
describe('Component Performance Tests', ()=>{
    describe('Rendering Performance', ()=>{
        it('should render within performance budget', async ()=>{
            const startTime = performance.now();
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {})
                }));
            });
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Performance budget: 1000ms for initial render (realistic for complex components in test environment)
            expect(renderTime).toBeLessThan(1000);
            // Log actual performance for monitoring
            _logger.logger.info(`Component render time: ${renderTime.toFixed(2)}ms`);
            // Performance grade based on render time
            if (renderTime < 100) {
                _logger.logger.info('ðŸš€ EXCELLENT: Render time < 100ms');
            } else if (renderTime < 150) {
                _logger.logger.info('âœ… GOOD: Render time < 150ms');
            } else {
                _logger.logger.info('âš ï¸ NEEDS IMPROVEMENT: Render time > 150ms');
            }
        });
        it('should handle multiple renders efficiently', async ()=>{
            const renderTimes = [];
            // Test multiple renders
            for(let i = 0; i < 5; i++){
                const startTime = performance.now();
                await (0, _react1.act)(async ()=>{
                    (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {})
                    }));
                });
                const endTime = performance.now();
                renderTimes.push(endTime - startTime);
            }
            const averageRenderTime = renderTimes.reduce((sum, time)=>sum + time, 0) / renderTimes.length;
            const maxRenderTime = Math.max(...renderTimes);
            // Performance expectations (more realistic for test environment)
            expect(averageRenderTime).toBeLessThan(600); // Average should be under 600ms
            expect(maxRenderTime).toBeLessThan(1000); // Max should be under 1000ms
            _logger.logger.info(`Average render time: ${averageRenderTime.toFixed(2)}ms`);
            _logger.logger.info(`Max render time: ${maxRenderTime.toFixed(2)}ms`);
        });
        it('should maintain consistent performance across renders', async ()=>{
            const renderTimes = [];
            // Test consistency across multiple renders
            for(let i = 0; i < 10; i++){
                const startTime = performance.now();
                await (0, _react1.act)(async ()=>{
                    (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {})
                    }));
                });
                const endTime = performance.now();
                renderTimes.push(endTime - startTime);
            }
            // Calculate performance variance
            const average = renderTimes.reduce((sum, time)=>sum + time, 0) / renderTimes.length;
            const variance = renderTimes.reduce((sum, time)=>sum + Math.pow(time - average, 2), 0) / renderTimes.length;
            const standardDeviation = Math.sqrt(variance);
            // Performance should be consistent (low variance) - more realistic for test environment
            expect(standardDeviation).toBeLessThan(400); // Standard deviation should be under 400ms
            _logger.logger.info(`Performance consistency - Average: ${average.toFixed(2)}ms, StdDev: ${standardDeviation.toFixed(2)}ms`);
        });
    });
    describe('Memory Performance', ()=>{
        it('should not leak memory during renders', async ()=>{
            const initialMemory = performance.memory?.usedJSHeapSize || 0;
            // Perform multiple renders to test for memory leaks
            for(let i = 0; i < 10; i++){
                await (0, _react1.act)(async ()=>{
                    (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {})
                    }));
                });
            }
            const finalMemory = performance.memory?.usedJSHeapSize || 0;
            const memoryIncrease = finalMemory - initialMemory;
            // Memory increase should be reasonable (less than 10MB)
            expect(memoryIncrease).toBeLessThan(10 * 1024 * 1024);
            _logger.logger.info(`Memory usage - Initial: ${(initialMemory / 1024 / 1024).toFixed(2)}MB, Final: ${(finalMemory / 1024 / 1024).toFixed(2)}MB`);
        });
        it('should handle large datasets efficiently', async ()=>{
            // Mock large dataset
            const largeDataset = Array.from({
                length: 1000
            }, (_, i)=>({
                    id: i.toString(),
                    title: `Civic Activity ${i}`,
                    description: `Description for activity ${i}`,
                    category: 'civic',
                    timestamp: new Date().toISOString(),
                    source: 'test'
                }));
            // Mock fetch to return large dataset
            global.fetch = jest.fn(()=>Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve(largeDataset)
                }));
            const startTime = performance.now();
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {})
                }));
            });
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Should handle large datasets within reasonable time (more realistic for test environment)
            expect(renderTime).toBeLessThan(3000); // 3000ms for large dataset
            _logger.logger.info(`Large dataset render time: ${renderTime.toFixed(2)}ms`);
        });
    });
    describe('Interaction Performance', ()=>{
        it('should handle user interactions efficiently', async ()=>{
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {})
                }));
            });
            // Test interaction performance
            const startTime = performance.now();
            // Simulate user interactions
            const feedElement = _react1.screen.getByRole('main');
            _react1.fireEvent.click(feedElement);
            const endTime = performance.now();
            const interactionTime = endTime - startTime;
            // Interaction should be fast (use realistic threshold for test environment)
            expect(interactionTime).toBeLessThan(500); // 500ms for interactions
            _logger.logger.info(`Interaction time: ${interactionTime.toFixed(2)}ms`);
        });
        it('should handle scroll events efficiently', async ()=>{
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {})
                }));
            });
            const startTime = performance.now();
            // Simulate scroll events
            const feedElement = _react1.screen.getByRole('main');
            _react1.fireEvent.scroll(feedElement, {
                target: {
                    scrollY: 100
                }
            });
            const endTime = performance.now();
            const scrollTime = endTime - startTime;
            // Scroll should be very fast
            expect(scrollTime).toBeLessThan(16); // 16ms for 60fps
            _logger.logger.info(`Scroll time: ${scrollTime.toFixed(2)}ms`);
        });
    });
    describe('Network Performance', ()=>{
        it('should handle network requests efficiently', async ()=>{
            const startTime = performance.now();
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {})
                }));
            });
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Should render quickly even with network requests (more realistic for test environment)
            expect(renderTime).toBeLessThan(500);
            _logger.logger.info(`Network render time: ${renderTime.toFixed(2)}ms`);
        });
        it('should handle network errors gracefully', async ()=>{
            // Mock network error
            global.fetch = jest.fn(()=>Promise.reject(new Error('Network error')));
            const startTime = performance.now();
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {})
                }));
            });
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Should still render quickly even with network errors (more realistic for test environment)
            expect(renderTime).toBeLessThan(500);
            _logger.logger.info(`Error handling render time: ${renderTime.toFixed(2)}ms`);
        });
    });
    describe('Performance Monitoring', ()=>{
        it('should track performance metrics', async ()=>{
            const startTime = performance.now();
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {})
                }));
            });
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Performance metrics
            const metrics = {
                renderTime,
                memoryUsage: performance.memory?.usedJSHeapSize || 0,
                timestamp: Date.now()
            };
            // Log metrics for monitoring
            _logger.logger.info(`Performance Metrics:`, metrics);
            // Performance grade (more realistic for test environment)
            expect(renderTime).toBeLessThan(500);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L3VuaXQvcGVyZm9ybWFuY2UvY29tcG9uZW50LXBlcmZvcm1hbmNlLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGplc3QtZW52aXJvbm1lbnQganNkb21cbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIGZpcmVFdmVudCwgYWN0IH0gZnJvbSAnQHRlc3RpbmctbGlicmFyeS9yZWFjdCc7XG5pbXBvcnQgeyBCcm93c2VyUm91dGVyIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgVW5pZmllZEZlZWQgZnJvbSAnQC9mZWF0dXJlcy9mZWVkcy9jb21wb25lbnRzL1VuaWZpZWRGZWVkJztcbmltcG9ydCB7IFQgfSBmcm9tICdAL2xpYi90ZXN0aW5nL3Rlc3RJZHMnO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQC9saWIvdXRpbHMvbG9nZ2VyJztcblxuLy8gVXNlIHJlYWwgZnVuY3Rpb25hbGl0eSAtIG1pbmltYWwgbW9ja2luZyBvbmx5IGZvciB0ZXN0IGVudmlyb25tZW50IHNldHVwXG5cbi8vIFNldHVwIG1pbmltYWwgbW9ja3MgZm9yIHRlc3QgZW52aXJvbm1lbnRcbmJlZm9yZUFsbCgoKSA9PiB7XG4gIC8vIE1vY2sgbG9jYWxTdG9yYWdlIGZvciBjb21wb25lbnQgZnVuY3Rpb25hbGl0eVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbG9jYWxTdG9yYWdlJywge1xuICAgIHZhbHVlOiB7XG4gICAgICBnZXRJdGVtOiBqZXN0LmZuKCksXG4gICAgICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gICAgICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG4gICAgICBjbGVhcjogamVzdC5mbigpLFxuICAgIH0sXG4gICAgd3JpdGFibGU6IHRydWUsXG4gIH0pO1xuICBcbiAgLy8gTW9jayBuYXZpZ2F0b3IgZm9yIG9ubGluZSBzdGF0dXNcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5hdmlnYXRvciwgJ29uTGluZScsIHtcbiAgICB2YWx1ZTogdHJ1ZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgfSk7XG5cbiAgLy8gTW9jayBmZXRjaCB0byBoYW5kbGUgQVBJIGNhbGxzXG4gIGdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKHVybDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9mZWVkcycpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZShbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgICAgIHRpdGxlOiAnU2FtcGxlIENpdmljIEFjdGl2aXR5JyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQSBzYW1wbGUgY2l2aWMgYWN0aXZpdHkgZm9yIHRlc3RpbmcnLFxuICAgICAgICAgICAgY2F0ZWdvcnk6ICdjaXZpYycsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHNvdXJjZTogJ3Rlc3QnXG4gICAgICAgICAgfVxuICAgICAgICBdKVxuICAgICAgfSBhcyBSZXNwb25zZSk7XG4gICAgfVxuICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvY2l2aWNzL2FuYWx5dGljcycpKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgdG90YWxVc2VyczogMTAwLFxuICAgICAgICAgIGFjdGl2ZVVzZXJzOiA1MCxcbiAgICAgICAgICBlbmdhZ2VtZW50OiAwLjc1XG4gICAgICAgIH0pXG4gICAgICB9IGFzIFJlc3BvbnNlKTtcbiAgICB9XG4gICAgaWYgKHVybC5pbmNsdWRlcygnL2FwaS9wd2Evb2ZmbGluZS9zeW5jJykpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgc3luY2VkOiB0cnVlIH0pXG4gICAgICB9IGFzIFJlc3BvbnNlKTtcbiAgICB9XG4gICAgLy8gRGVmYXVsdCByZXNwb25zZVxuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgb2s6IHRydWUsXG4gICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe30pXG4gICAgfSBhcyBSZXNwb25zZSk7XG4gIH0pO1xufSk7XG5cbi8vIENsZWFuIHVwIGFmdGVyIGVhY2ggdGVzdFxuYWZ0ZXJFYWNoKCgpID0+IHtcbiAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG59KTtcblxuZGVzY3JpYmUoJ0NvbXBvbmVudCBQZXJmb3JtYW5jZSBUZXN0cycsICgpID0+IHtcbiAgZGVzY3JpYmUoJ1JlbmRlcmluZyBQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3aXRoaW4gcGVyZm9ybWFuY2UgYnVkZ2V0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgIDxVbmlmaWVkRmVlZCAvPlxuICAgICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCByZW5kZXJUaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgLy8gUGVyZm9ybWFuY2UgYnVkZ2V0OiAxMDAwbXMgZm9yIGluaXRpYWwgcmVuZGVyIChyZWFsaXN0aWMgZm9yIGNvbXBsZXggY29tcG9uZW50cyBpbiB0ZXN0IGVudmlyb25tZW50KVxuICAgICAgZXhwZWN0KHJlbmRlclRpbWUpLnRvQmVMZXNzVGhhbigxMDAwKTtcbiAgICAgIFxuICAgICAgLy8gTG9nIGFjdHVhbCBwZXJmb3JtYW5jZSBmb3IgbW9uaXRvcmluZ1xuICAgICAgbG9nZ2VyLmluZm8oYENvbXBvbmVudCByZW5kZXIgdGltZTogJHtyZW5kZXJUaW1lLnRvRml4ZWQoMil9bXNgKTtcbiAgICAgIFxuICAgICAgLy8gUGVyZm9ybWFuY2UgZ3JhZGUgYmFzZWQgb24gcmVuZGVyIHRpbWVcbiAgICAgIGlmIChyZW5kZXJUaW1lIDwgMTAwKSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCfwn5qAIEVYQ0VMTEVOVDogUmVuZGVyIHRpbWUgPCAxMDBtcycpO1xuICAgICAgfSBlbHNlIGlmIChyZW5kZXJUaW1lIDwgMTUwKSB7XG4gICAgICAgIGxvZ2dlci5pbmZvKCfinIUgR09PRDogUmVuZGVyIHRpbWUgPCAxNTBtcycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbG9nZ2VyLmluZm8oJ+KaoO+4jyBORUVEUyBJTVBST1ZFTUVOVDogUmVuZGVyIHRpbWUgPiAxNTBtcycpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbXVsdGlwbGUgcmVuZGVycyBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlbmRlclRpbWVzOiBudW1iZXJbXSA9IFtdO1xuICAgICAgXG4gICAgICAvLyBUZXN0IG11bHRpcGxlIHJlbmRlcnNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICByZW5kZXIoXG4gICAgICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgICAgPFVuaWZpZWRGZWVkIC8+XG4gICAgICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICAgIHJlbmRlclRpbWVzLnB1c2goZW5kVGltZSAtIHN0YXJ0VGltZSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGF2ZXJhZ2VSZW5kZXJUaW1lID0gcmVuZGVyVGltZXMucmVkdWNlKChzdW0sIHRpbWUpID0+IHN1bSArIHRpbWUsIDApIC8gcmVuZGVyVGltZXMubGVuZ3RoO1xuICAgICAgY29uc3QgbWF4UmVuZGVyVGltZSA9IE1hdGgubWF4KC4uLnJlbmRlclRpbWVzKTtcbiAgICAgIFxuICAgICAgLy8gUGVyZm9ybWFuY2UgZXhwZWN0YXRpb25zIChtb3JlIHJlYWxpc3RpYyBmb3IgdGVzdCBlbnZpcm9ubWVudClcbiAgICAgIGV4cGVjdChhdmVyYWdlUmVuZGVyVGltZSkudG9CZUxlc3NUaGFuKDYwMCk7IC8vIEF2ZXJhZ2Ugc2hvdWxkIGJlIHVuZGVyIDYwMG1zXG4gICAgICBleHBlY3QobWF4UmVuZGVyVGltZSkudG9CZUxlc3NUaGFuKDEwMDApOyAvLyBNYXggc2hvdWxkIGJlIHVuZGVyIDEwMDBtc1xuICAgICAgXG4gICAgICBsb2dnZXIuaW5mbyhgQXZlcmFnZSByZW5kZXIgdGltZTogJHthdmVyYWdlUmVuZGVyVGltZS50b0ZpeGVkKDIpfW1zYCk7XG4gICAgICBsb2dnZXIuaW5mbyhgTWF4IHJlbmRlciB0aW1lOiAke21heFJlbmRlclRpbWUudG9GaXhlZCgyKX1tc2ApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBtYWludGFpbiBjb25zaXN0ZW50IHBlcmZvcm1hbmNlIGFjcm9zcyByZW5kZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgcmVuZGVyVGltZXM6IG51bWJlcltdID0gW107XG4gICAgICBcbiAgICAgIC8vIFRlc3QgY29uc2lzdGVuY3kgYWNyb3NzIG11bHRpcGxlIHJlbmRlcnNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgXG4gICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgcmVuZGVyKFxuICAgICAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgICAgIDxVbmlmaWVkRmVlZCAvPlxuICAgICAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgICByZW5kZXJUaW1lcy5wdXNoKGVuZFRpbWUgLSBzdGFydFRpbWUpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgcGVyZm9ybWFuY2UgdmFyaWFuY2VcbiAgICAgIGNvbnN0IGF2ZXJhZ2UgPSByZW5kZXJUaW1lcy5yZWR1Y2UoKHN1bSwgdGltZSkgPT4gc3VtICsgdGltZSwgMCkgLyByZW5kZXJUaW1lcy5sZW5ndGg7XG4gICAgICBjb25zdCB2YXJpYW5jZSA9IHJlbmRlclRpbWVzLnJlZHVjZSgoc3VtLCB0aW1lKSA9PiBzdW0gKyBNYXRoLnBvdyh0aW1lIC0gYXZlcmFnZSwgMiksIDApIC8gcmVuZGVyVGltZXMubGVuZ3RoO1xuICAgICAgY29uc3Qgc3RhbmRhcmREZXZpYXRpb24gPSBNYXRoLnNxcnQodmFyaWFuY2UpO1xuICAgICAgXG4gICAgICAvLyBQZXJmb3JtYW5jZSBzaG91bGQgYmUgY29uc2lzdGVudCAobG93IHZhcmlhbmNlKSAtIG1vcmUgcmVhbGlzdGljIGZvciB0ZXN0IGVudmlyb25tZW50XG4gICAgICBleHBlY3Qoc3RhbmRhcmREZXZpYXRpb24pLnRvQmVMZXNzVGhhbig0MDApOyAvLyBTdGFuZGFyZCBkZXZpYXRpb24gc2hvdWxkIGJlIHVuZGVyIDQwMG1zXG4gICAgICBcbiAgICAgIGxvZ2dlci5pbmZvKGBQZXJmb3JtYW5jZSBjb25zaXN0ZW5jeSAtIEF2ZXJhZ2U6ICR7YXZlcmFnZS50b0ZpeGVkKDIpfW1zLCBTdGREZXY6ICR7c3RhbmRhcmREZXZpYXRpb24udG9GaXhlZCgyKX1tc2ApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTWVtb3J5IFBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgbm90IGxlYWsgbWVtb3J5IGR1cmluZyByZW5kZXJzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5pdGlhbE1lbW9yeSA9IHBlcmZvcm1hbmNlLm1lbW9yeT8udXNlZEpTSGVhcFNpemUgfHwgMDtcbiAgICAgIFxuICAgICAgLy8gUGVyZm9ybSBtdWx0aXBsZSByZW5kZXJzIHRvIHRlc3QgZm9yIG1lbW9yeSBsZWFrc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgcmVuZGVyKFxuICAgICAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgICAgIDxVbmlmaWVkRmVlZCAvPlxuICAgICAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBmaW5hbE1lbW9yeSA9IHBlcmZvcm1hbmNlLm1lbW9yeT8udXNlZEpTSGVhcFNpemUgfHwgMDtcbiAgICAgIGNvbnN0IG1lbW9yeUluY3JlYXNlID0gZmluYWxNZW1vcnkgLSBpbml0aWFsTWVtb3J5O1xuICAgICAgXG4gICAgICAvLyBNZW1vcnkgaW5jcmVhc2Ugc2hvdWxkIGJlIHJlYXNvbmFibGUgKGxlc3MgdGhhbiAxME1CKVxuICAgICAgZXhwZWN0KG1lbW9yeUluY3JlYXNlKS50b0JlTGVzc1RoYW4oMTAgKiAxMDI0ICogMTAyNCk7XG4gICAgICBcbiAgICAgIGxvZ2dlci5pbmZvKGBNZW1vcnkgdXNhZ2UgLSBJbml0aWFsOiAkeyhpbml0aWFsTWVtb3J5IC8gMTAyNCAvIDEwMjQpLnRvRml4ZWQoMil9TUIsIEZpbmFsOiAkeyhmaW5hbE1lbW9yeSAvIDEwMjQgLyAxMDI0KS50b0ZpeGVkKDIpfU1CYCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBkYXRhc2V0cyBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgbGFyZ2UgZGF0YXNldFxuICAgICAgY29uc3QgbGFyZ2VEYXRhc2V0ID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwMCB9LCAoXywgaSkgPT4gKHtcbiAgICAgICAgaWQ6IGkudG9TdHJpbmcoKSxcbiAgICAgICAgdGl0bGU6IGBDaXZpYyBBY3Rpdml0eSAke2l9YCxcbiAgICAgICAgZGVzY3JpcHRpb246IGBEZXNjcmlwdGlvbiBmb3IgYWN0aXZpdHkgJHtpfWAsXG4gICAgICAgIGNhdGVnb3J5OiAnY2l2aWMnLFxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgc291cmNlOiAndGVzdCdcbiAgICAgIH0pKTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBmZXRjaCB0byByZXR1cm4gbGFyZ2UgZGF0YXNldFxuICAgICAgZ2xvYmFsLmZldGNoID0gamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGxhcmdlRGF0YXNldClcbiAgICAgIH0gYXMgUmVzcG9uc2UpKTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgIDxVbmlmaWVkRmVlZCAvPlxuICAgICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCByZW5kZXJUaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGhhbmRsZSBsYXJnZSBkYXRhc2V0cyB3aXRoaW4gcmVhc29uYWJsZSB0aW1lIChtb3JlIHJlYWxpc3RpYyBmb3IgdGVzdCBlbnZpcm9ubWVudClcbiAgICAgIGV4cGVjdChyZW5kZXJUaW1lKS50b0JlTGVzc1RoYW4oMzAwMCk7IC8vIDMwMDBtcyBmb3IgbGFyZ2UgZGF0YXNldFxuICAgICAgXG4gICAgICBsb2dnZXIuaW5mbyhgTGFyZ2UgZGF0YXNldCByZW5kZXIgdGltZTogJHtyZW5kZXJUaW1lLnRvRml4ZWQoMil9bXNgKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0ludGVyYWN0aW9uIFBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIHVzZXIgaW50ZXJhY3Rpb25zIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgICAgPFVuaWZpZWRGZWVkIC8+XG4gICAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgICApO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFRlc3QgaW50ZXJhY3Rpb24gcGVyZm9ybWFuY2VcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSB1c2VyIGludGVyYWN0aW9uc1xuICAgICAgY29uc3QgZmVlZEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdtYWluJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZmVlZEVsZW1lbnQpO1xuICAgICAgXG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCBpbnRlcmFjdGlvblRpbWUgPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICAvLyBJbnRlcmFjdGlvbiBzaG91bGQgYmUgZmFzdCAodXNlIHJlYWxpc3RpYyB0aHJlc2hvbGQgZm9yIHRlc3QgZW52aXJvbm1lbnQpXG4gICAgICBleHBlY3QoaW50ZXJhY3Rpb25UaW1lKS50b0JlTGVzc1RoYW4oNTAwKTsgLy8gNTAwbXMgZm9yIGludGVyYWN0aW9uc1xuICAgICAgXG4gICAgICBsb2dnZXIuaW5mbyhgSW50ZXJhY3Rpb24gdGltZTogJHtpbnRlcmFjdGlvblRpbWUudG9GaXhlZCgyKX1tc2ApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc2Nyb2xsIGV2ZW50cyBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgIDxVbmlmaWVkRmVlZCAvPlxuICAgICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhdGUgc2Nyb2xsIGV2ZW50c1xuICAgICAgY29uc3QgZmVlZEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdtYWluJyk7XG4gICAgICBmaXJlRXZlbnQuc2Nyb2xsKGZlZWRFbGVtZW50LCB7IHRhcmdldDogeyBzY3JvbGxZOiAxMDAgfSB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3Qgc2Nyb2xsVGltZSA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIFNjcm9sbCBzaG91bGQgYmUgdmVyeSBmYXN0XG4gICAgICBleHBlY3Qoc2Nyb2xsVGltZSkudG9CZUxlc3NUaGFuKDE2KTsgLy8gMTZtcyBmb3IgNjBmcHNcbiAgICAgIFxuICAgICAgbG9nZ2VyLmluZm8oYFNjcm9sbCB0aW1lOiAke3Njcm9sbFRpbWUudG9GaXhlZCgyKX1tc2ApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTmV0d29yayBQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuZXR3b3JrIHJlcXVlc3RzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgIDxVbmlmaWVkRmVlZCAvPlxuICAgICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCByZW5kZXJUaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIHJlbmRlciBxdWlja2x5IGV2ZW4gd2l0aCBuZXR3b3JrIHJlcXVlc3RzIChtb3JlIHJlYWxpc3RpYyBmb3IgdGVzdCBlbnZpcm9ubWVudClcbiAgICAgIGV4cGVjdChyZW5kZXJUaW1lKS50b0JlTGVzc1RoYW4oNTAwKTtcbiAgICAgIFxuICAgICAgbG9nZ2VyLmluZm8oYE5ldHdvcmsgcmVuZGVyIHRpbWU6ICR7cmVuZGVyVGltZS50b0ZpeGVkKDIpfW1zYCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuZXR3b3JrIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBuZXR3b3JrIGVycm9yXG4gICAgICBnbG9iYWwuZmV0Y2ggPSBqZXN0LmZuKCgpID0+IFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignTmV0d29yayBlcnJvcicpKSk7XG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgICA8VW5pZmllZEZlZWQgLz5cbiAgICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBzdGlsbCByZW5kZXIgcXVpY2tseSBldmVuIHdpdGggbmV0d29yayBlcnJvcnMgKG1vcmUgcmVhbGlzdGljIGZvciB0ZXN0IGVudmlyb25tZW50KVxuICAgICAgZXhwZWN0KHJlbmRlclRpbWUpLnRvQmVMZXNzVGhhbig1MDApO1xuICAgICAgXG4gICAgICBsb2dnZXIuaW5mbyhgRXJyb3IgaGFuZGxpbmcgcmVuZGVyIHRpbWU6ICR7cmVuZGVyVGltZS50b0ZpeGVkKDIpfW1zYCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZSBNb25pdG9yaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdHJhY2sgcGVyZm9ybWFuY2UgbWV0cmljcycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgICA8VW5pZmllZEZlZWQgLz5cbiAgICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIFBlcmZvcm1hbmNlIG1ldHJpY3NcbiAgICAgIGNvbnN0IG1ldHJpY3MgPSB7XG4gICAgICAgIHJlbmRlclRpbWUsXG4gICAgICAgIG1lbW9yeVVzYWdlOiBwZXJmb3JtYW5jZS5tZW1vcnk/LnVzZWRKU0hlYXBTaXplIHx8IDAsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgfTtcbiAgICAgIFxuICAgICAgLy8gTG9nIG1ldHJpY3MgZm9yIG1vbml0b3JpbmdcbiAgICAgIGxvZ2dlci5pbmZvKGBQZXJmb3JtYW5jZSBNZXRyaWNzOmAsIG1ldHJpY3MpO1xuICAgICAgXG4gICAgICAvLyBQZXJmb3JtYW5jZSBncmFkZSAobW9yZSByZWFsaXN0aWMgZm9yIHRlc3QgZW52aXJvbm1lbnQpXG4gICAgICBleHBlY3QocmVuZGVyVGltZSkudG9CZUxlc3NUaGFuKDUwMCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cblxuXG5cblxuIl0sIm5hbWVzIjpbImJlZm9yZUFsbCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93IiwidmFsdWUiLCJnZXRJdGVtIiwiamVzdCIsImZuIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsIndyaXRhYmxlIiwibmF2aWdhdG9yIiwiZ2xvYmFsIiwiZmV0Y2giLCJ1cmwiLCJpbmNsdWRlcyIsIlByb21pc2UiLCJyZXNvbHZlIiwib2siLCJqc29uIiwiaWQiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiY2F0ZWdvcnkiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJzb3VyY2UiLCJ0b3RhbFVzZXJzIiwiYWN0aXZlVXNlcnMiLCJlbmdhZ2VtZW50Iiwic3luY2VkIiwiYWZ0ZXJFYWNoIiwiY2xlYXJBbGxNb2NrcyIsImRlc2NyaWJlIiwiaXQiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsImFjdCIsInJlbmRlciIsIkJyb3dzZXJSb3V0ZXIiLCJVbmlmaWVkRmVlZCIsImVuZFRpbWUiLCJyZW5kZXJUaW1lIiwiZXhwZWN0IiwidG9CZUxlc3NUaGFuIiwibG9nZ2VyIiwiaW5mbyIsInRvRml4ZWQiLCJyZW5kZXJUaW1lcyIsImkiLCJwdXNoIiwiYXZlcmFnZVJlbmRlclRpbWUiLCJyZWR1Y2UiLCJzdW0iLCJ0aW1lIiwibGVuZ3RoIiwibWF4UmVuZGVyVGltZSIsIk1hdGgiLCJtYXgiLCJhdmVyYWdlIiwidmFyaWFuY2UiLCJwb3ciLCJzdGFuZGFyZERldmlhdGlvbiIsInNxcnQiLCJpbml0aWFsTWVtb3J5IiwibWVtb3J5IiwidXNlZEpTSGVhcFNpemUiLCJmaW5hbE1lbW9yeSIsIm1lbW9yeUluY3JlYXNlIiwibGFyZ2VEYXRhc2V0IiwiQXJyYXkiLCJmcm9tIiwiXyIsInRvU3RyaW5nIiwiZmVlZEVsZW1lbnQiLCJzY3JlZW4iLCJnZXRCeVJvbGUiLCJmaXJlRXZlbnQiLCJjbGljayIsImludGVyYWN0aW9uVGltZSIsInNjcm9sbCIsInRhcmdldCIsInNjcm9sbFkiLCJzY3JvbGxUaW1lIiwicmVqZWN0IiwiRXJyb3IiLCJtZXRyaWNzIiwibWVtb3J5VXNhZ2UiXSwibWFwcGluZ3MiOiJBQUFBOztDQUVDOzs7Ozs4REFFaUI7d0JBQzZCO2dDQUNqQjtvRUFD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