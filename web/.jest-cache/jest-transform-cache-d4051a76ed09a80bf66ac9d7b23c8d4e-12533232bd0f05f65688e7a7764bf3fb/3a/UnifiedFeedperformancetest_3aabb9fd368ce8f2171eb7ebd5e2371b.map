{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/features/feeds/UnifiedFeed.performance.test.tsx"],"sourcesContent":["/**\n * UnifiedFeed Performance Tests\n * \n * Comprehensive performance testing for the UnifiedFeed component\n * Tests real performance metrics and optimization\n * \n * Created: January 19, 2025\n * Status: âœ… PRODUCTION READY\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, act } from '@testing-library/react';\nimport { jest } from '@jest/globals';\nimport { UnifiedFeed } from '@/features/feeds/components/UnifiedFeed';\nimport { useFeeds } from '@/lib/stores/feedsStore';\nimport { useHashtags } from '@/features/hashtags/hooks/useHashtags';\n\n// Mock the stores\njest.mock('@/lib/stores/feedsStore');\njest.mock('@/features/hashtags/hooks/useHashtags');\n\nconst mockUseFeeds = useFeeds as jest.MockedFunction<typeof useFeeds>;\nconst mockUseHashtags = useHashtags as jest.MockedFunction<typeof useHashtags>;\n\n// Performance test data\nconst generateLargeFeedData = (count: number) => \n  Array.from({ length: count }, (_, i) => ({\n    id: `${i}`,\n    type: i % 2 === 0 ? 'poll' : 'post',\n    title: `Test ${i % 2 === 0 ? 'Poll' : 'Post'} ${i}`,\n    description: `This is test ${i % 2 === 0 ? 'poll' : 'post'} ${i} with some content`,\n    hashtags: [`hashtag${i % 10}`, `category${i % 5}`],\n    created_at: new Date(Date.now() - i * 1000).toISOString(),\n    author: `User ${i}`,\n    engagement: {\n      likes: Math.floor(Math.random() * 1000),\n      shares: Math.floor(Math.random() * 500),\n      comments: Math.floor(Math.random() * 200)\n    }\n  }));\n\nconst generateLargeHashtagData = (count: number) =>\n  Array.from({ length: count }, (_, i) => ({\n    id: `${i}`,\n    name: `hashtag${i}`,\n    display_name: `Hashtag ${i}`,\n    usage_count: Math.floor(Math.random() * 1000),\n    follower_count: Math.floor(Math.random() * 500),\n    is_trending: Math.random() > 0.7,\n    trend_score: Math.random(),\n    created_at: new Date(Date.now() - i * 1000).toISOString(),\n    updated_at: new Date(Date.now() - i * 1000).toISOString(),\n    is_verified: Math.random() > 0.9,\n    is_featured: Math.random() > 0.8\n  }));\n\ndescribe('UnifiedFeed Performance Tests', () => {\n  beforeEach(() => {\n    // Mock store implementations\n    mockUseFeeds.mockReturnValue({\n      feeds: [],\n      loading: false,\n      error: null,\n      refreshFeeds: jest.fn(),\n      likeFeed: jest.fn(),\n      shareFeed: jest.fn(),\n      commentFeed: jest.fn(),\n      bookmarkFeed: jest.fn()\n    });\n\n    mockUseHashtags.mockReturnValue({\n      hashtags: [],\n      loading: false,\n      error: null,\n      searchHashtags: jest.fn(),\n      followHashtag: jest.fn(),\n      unfollowHashtag: jest.fn(),\n      getTrendingHashtags: jest.fn()\n    });\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Rendering Performance', () => {\n    test('should render small dataset (< 50 items) within 500ms', async () => {\n      const smallDataset = generateLargeFeedData(50);\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        feeds: smallDataset\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      expect(renderTime).toBeLessThan(500);\n    });\n\n    test('should render medium dataset (50-200 items) within 1000ms', async () => {\n      const mediumDataset = generateLargeFeedData(200);\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        feeds: mediumDataset\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      expect(renderTime).toBeLessThan(1000);\n    });\n\n    test('should render large dataset (200+ items) within 2000ms', async () => {\n      const largeDataset = generateLargeFeedData(500);\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        feeds: largeDataset\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      expect(renderTime).toBeLessThan(2000);\n    });\n\n    test('should handle hashtag data efficiently', async () => {\n      const largeHashtagDataset = generateLargeHashtagData(1000);\n      mockUseHashtags.mockReturnValue({\n        ...mockUseHashtags(),\n        hashtags: largeHashtagDataset\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      expect(renderTime).toBeLessThan(1500);\n    });\n  });\n\n  describe('Interaction Performance', () => {\n    test('should handle rapid clicks within acceptable time', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate rapid interactions\n      for (let i = 0; i < 20; i++) {\n        const likeButton = screen.getByLabelText(/like/i);\n        fireEvent.click(likeButton);\n        \n        // Small delay to simulate real user behavior\n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 10));\n        });\n      }\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      // Should handle 20 interactions within 1 second\n      expect(totalTime).toBeLessThan(1000);\n    });\n\n    test('should handle scroll events efficiently', async () => {\n      const largeDataset = generateLargeFeedData(300);\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        feeds: largeDataset\n      });\n\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate scroll events\n      for (let i = 0; i < 10; i++) {\n        fireEvent.scroll(window, { target: { scrollY: i * 100 } });\n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 50));\n        });\n      }\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      // Should handle scroll events efficiently\n      expect(totalTime).toBeLessThan(2000);\n    });\n\n    test('should handle filter changes efficiently', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate filter changes\n      for (let i = 0; i < 10; i++) {\n        const hashtag = screen.getByText(`hashtag${i % 10}`);\n        fireEvent.click(hashtag);\n        \n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 50));\n        });\n      }\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      // Should handle filter changes within 1 second\n      expect(totalTime).toBeLessThan(1000);\n    });\n  });\n\n  describe('Memory Performance', () => {\n    test('should not leak memory during repeated renders', async () => {\n      const initialMemory = (performance as any).memory?.usedJSHeapSize || 0;\n      \n      // Render and unmount component multiple times\n      for (let i = 0; i < 10; i++) {\n        const { unmount } = render(<UnifiedFeed />);\n        unmount();\n        \n        // Force garbage collection if available\n        if (global.gc) {\n          global.gc();\n        }\n      }\n      \n      const finalMemory = (performance as any).memory?.usedJSHeapSize || 0;\n      const memoryIncrease = finalMemory - initialMemory;\n      \n      // Memory increase should be minimal (< 10MB)\n      expect(memoryIncrease).toBeLessThan(10 * 1024 * 1024);\n    });\n\n    test('should handle large datasets without memory issues', async () => {\n      const veryLargeDataset = generateLargeFeedData(1000);\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        feeds: veryLargeDataset\n      });\n\n      const initialMemory = (performance as any).memory?.usedJSHeapSize || 0;\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      const finalMemory = (performance as any).memory?.usedJSHeapSize || 0;\n      const memoryIncrease = finalMemory - initialMemory;\n      \n      // Memory increase should be reasonable (< 50MB for 1000 items)\n      expect(memoryIncrease).toBeLessThan(50 * 1024 * 1024);\n    });\n  });\n\n  describe('Network Performance', () => {\n    test('should handle slow network responses gracefully', async () => {\n      // Mock slow network response\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        loading: true\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      // Simulate slow loading\n      await act(async () => {\n        await new Promise(resolve => setTimeout(resolve, 2000));\n      });\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      // Should handle slow loading within 3 seconds\n      expect(totalTime).toBeLessThan(3000);\n    });\n\n    test('should handle network errors without performance degradation', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        error: 'Network error'\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Should render error state quickly\n      expect(renderTime).toBeLessThan(500);\n    });\n  });\n\n  describe('Animation Performance', () => {\n    test('should handle animations smoothly', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Trigger animations\n      const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n      fireEvent.click(darkModeButton);\n      \n      // Wait for animation to complete\n      await act(async () => {\n        await new Promise(resolve => setTimeout(resolve, 300));\n      });\n      \n      const endTime = performance.now();\n      const animationTime = endTime - startTime;\n      \n      // Animation should complete within 500ms\n      expect(animationTime).toBeLessThan(500);\n    });\n\n    test('should handle multiple simultaneous animations', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Trigger multiple animations simultaneously\n      const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n      const filtersButton = screen.getByLabelText(/toggle advanced filters/i);\n      \n      fireEvent.click(darkModeButton);\n      fireEvent.click(filtersButton);\n      \n      // Wait for animations to complete\n      await act(async () => {\n        await new Promise(resolve => setTimeout(resolve, 500));\n      });\n      \n      const endTime = performance.now();\n      const animationTime = endTime - startTime;\n      \n      // Multiple animations should complete within 1 second\n      expect(animationTime).toBeLessThan(1000);\n    });\n  });\n\n  describe('Real-time Updates Performance', () => {\n    test('should handle real-time updates efficiently', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate real-time updates\n      for (let i = 0; i < 10; i++) {\n        const newFeedData = generateLargeFeedData(10);\n        mockUseFeeds.mockReturnValue({\n          ...mockUseFeeds(),\n          feeds: newFeedData\n        });\n        \n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 100));\n        });\n      }\n      \n      const endTime = performance.now();\n      const updateTime = endTime - startTime;\n      \n      // Should handle 10 updates within 2 seconds\n      expect(updateTime).toBeLessThan(2000);\n    });\n\n    test('should handle WebSocket updates without performance issues', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate WebSocket updates\n      for (let i = 0; i < 5; i++) {\n        // Simulate WebSocket message\n        fireEvent(window, new Event('message'));\n        \n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 200));\n        });\n      }\n      \n      const endTime = performance.now();\n      const updateTime = endTime - startTime;\n      \n      // Should handle WebSocket updates within 1.5 seconds\n      expect(updateTime).toBeLessThan(1500);\n    });\n  });\n\n  describe('Accessibility Performance', () => {\n    test('should handle screen reader updates efficiently', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate screen reader updates\n      for (let i = 0; i < 5; i++) {\n        const likeButton = screen.getByLabelText(/like/i);\n        fireEvent.click(likeButton);\n        \n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 100));\n        });\n      }\n      \n      const endTime = performance.now();\n      const updateTime = endTime - startTime;\n      \n      // Should handle screen reader updates within 1 second\n      expect(updateTime).toBeLessThan(1000);\n    });\n\n    test('should handle keyboard navigation efficiently', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate keyboard navigation\n      for (let i = 0; i < 10; i++) {\n        fireEvent.keyDown(document, { key: 'Tab' });\n        \n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 50));\n        });\n      }\n      \n      const endTime = performance.now();\n      const navigationTime = endTime - startTime;\n      \n      // Should handle keyboard navigation within 1 second\n      expect(navigationTime).toBeLessThan(1000);\n    });\n  });\n});\n"],"names":["jest","mock","mockUseFeeds","useFeeds","mockUseHashtags","useHashtags","generateLargeFeedData","count","Array","from","length","_","i","id","type","title","description","hashtags","created_at","Date","now","toISOString","author","engagement","likes","Math","floor","random","shares","comments","generateLargeHashtagData","name","display_name","usage_count","follower_count","is_trending","trend_score","updated_at","is_verified","is_featured","describe","beforeEach","mockReturnValue","feeds","loading","error","refreshFeeds","fn","likeFeed","shareFeed","commentFeed","bookmarkFeed","searchHashtags","followHashtag","unfollowHashtag","getTrendingHashtags","afterEach","clearAllMocks","test","smallDataset","startTime","performance","act","render","UnifiedFeed","endTime","renderTime","expect","toBeLessThan","mediumDataset","largeDataset","largeHashtagDataset","component","likeButton","screen","getByLabelText","fireEvent","click","Promise","resolve","setTimeout","totalTime","scroll","window","target","scrollY","hashtag","getByText","initialMemory","memory","usedJSHeapSize","unmount","global","gc","finalMemory","memoryIncrease","veryLargeDataset","darkModeButton","animationTime","filtersButton","newFeedData","updateTime","Event","keyDown","document","key","navigationTime"],"mappings":"AAAA;;;;;;;;CAQC;;;;;8DAEiB;wBAC6B;yBAC1B;6BACO;4BACH;6BACG;;;;;;AAE5B,kBAAkB;AAClBA,aAAI,CAACC,IAAI,CAAC;AACVD,aAAI,CAACC,IAAI,CAAC;AAEV,MAAMC,eAAeC,oBAAQ;AAC7B,MAAMC,kBAAkBC,wBAAW;AAEnC,wBAAwB;AACxB,MAAMC,wBAAwB,CAACC,QAC7BC,MAAMC,IAAI,CAAC;QAAEC,QAAQH;IAAM,GAAG,CAACI,GAAGC,IAAO,CAAA;YACvCC,IAAI,GAAGD,GAAG;YACVE,MAAMF,IAAI,MAAM,IAAI,SAAS;YAC7BG,OAAO,CAAC,KAAK,EAAEH,IAAI,MAAM,IAAI,SAAS,OAAO,CAAC,EAAEA,GAAG;YACnDI,aAAa,CAAC,aAAa,EAAEJ,IAAI,MAAM,IAAI,SAAS,OAAO,CAAC,EAAEA,EAAE,kBAAkB,CAAC;YACnFK,UAAU;gBAAC,CAAC,OAAO,EAAEL,IAAI,IAAI;gBAAE,CAAC,QAAQ,EAAEA,IAAI,GAAG;aAAC;YAClDM,YAAY,IAAIC,KAAKA,KAAKC,GAAG,KAAKR,IAAI,MAAMS,WAAW;YACvDC,QAAQ,CAAC,KAAK,EAAEV,GAAG;YACnBW,YAAY;gBACVC,OAAOC,KAAKC,KAAK,CAACD,KAAKE,MAAM,KAAK;gBAClCC,QAAQH,KAAKC,KAAK,CAACD,KAAKE,MAAM,KAAK;gBACnCE,UAAUJ,KAAKC,KAAK,CAACD,KAAKE,MAAM,KAAK;YACvC;QACF,CAAA;AAEF,MAAMG,2BAA2B,CAACvB,QAChCC,MAAMC,IAAI,CAAC;QAAEC,QAAQH;IAAM,GAAG,CAACI,GAAGC,IAAO,CAAA;YACvCC,IAAI,GAAGD,GAAG;YACVmB,MAAM,CAAC,OAAO,EAAEnB,GAAG;YACnBoB,cAAc,CAAC,QAAQ,EAAEpB,GAAG;YAC5BqB,aAAaR,KAAKC,KAAK,CAACD,KAAKE,MAAM,KAAK;YACxCO,gBAAgBT,KAAKC,KAAK,CAACD,KAAKE,MAAM,KAAK;YAC3CQ,aAAaV,KAAKE,MAAM,KAAK;YAC7BS,aAAaX,KAAKE,MAAM;YACxBT,YAAY,IAAIC,KAAKA,KAAKC,GAAG,KAAKR,IAAI,MAAMS,WAAW;YACvDgB,YAAY,IAAIlB,KAAKA,KAAKC,GAAG,KAAKR,IAAI,MAAMS,WAAW;YACvDiB,aAAab,KAAKE,MAAM,KAAK;YAC7BY,aAAad,KAAKE,MAAM,KAAK;QAC/B,CAAA;AAEFa,SAAS,iCAAiC;IACxCC,WAAW;QACT,6BAA6B;QAC7BvC,aAAawC,eAAe,CAAC;YAC3BC,OAAO,EAAE;YACTC,SAAS;YACTC,OAAO;YACPC,cAAc9C,aAAI,CAAC+C,EAAE;YACrBC,UAAUhD,aAAI,CAAC+C,EAAE;YACjBE,WAAWjD,aAAI,CAAC+C,EAAE;YAClBG,aAAalD,aAAI,CAAC+C,EAAE;YACpBI,cAAcnD,aAAI,CAAC+C,EAAE;QACvB;QAEA3C,gBAAgBsC,eAAe,CAAC;YAC9BzB,UAAU,EAAE;YACZ2B,SAAS;YACTC,OAAO;YACPO,gBAAgBpD,aAAI,CAAC+C,EAAE;YACvBM,eAAerD,aAAI,CAAC+C,EAAE;YACtBO,iBAAiBtD,aAAI,CAAC+C,EAAE;YACxBQ,qBAAqBvD,aAAI,CAAC+C,EAAE;QAC9B;IACF;IAEAS,UAAU;QACRxD,aAAI,CAACyD,aAAa;IACpB;IAEAjB,SAAS,yBAAyB;QAChCkB,KAAK,yDAAyD;YAC5D,MAAMC,eAAerD,sBAAsB;YAC3CJ,aAAawC,eAAe,CAAC;gBAC3B,GAAGxC,cAAc;gBACjByC,OAAOgB;YACT;YAEA,MAAMC,YAAYC,YAAYzC,GAAG;YAEjC,MAAM0C,IAAAA,WAAG,EAAC;gBACRC,IAAAA,cAAM,gBAAC,qBAACC,wBAAW;YACrB;YAEA,MAAMC,UAAUJ,YAAYzC,GAAG;YAC/B,MAAM8C,aAAaD,UAAUL;YAE7BO,OAAOD,YAAYE,YAAY,CAAC;QAClC;QAEAV,KAAK,6DAA6D;YAChE,MAAMW,gBAAgB/D,sBAAsB;YAC5CJ,aAAawC,eAAe,CAAC;gBAC3B,GAAGxC,cAAc;gBACjByC,OAAO0B;YACT;YAEA,MAAMT,YAAYC,YAAYzC,GAAG;YAEjC,MAAM0C,IAAAA,WAAG,EAAC;gBACRC,IAAAA,cAAM,gBAAC,qBAACC,wBAAW;YACrB;YAEA,MAAMC,UAAUJ,YAAYzC,GAAG;YAC/B,MAAM8C,aAAaD,UAAUL;YAE7BO,OAAOD,YAAYE,YAAY,CAAC;QAClC;QAEAV,KAAK,0DAA0D;YAC7D,MAAMY,eAAehE,sBAAsB;YAC3CJ,aAAawC,eAAe,CAAC;gBAC3B,GAAGxC,cAAc;gBACjByC,OAAO2B;YACT;YAEA,MAAMV,YAAYC,YAAYzC,GAAG;YAEjC,MAAM0C,IAAAA,WAAG,EAAC;gBACRC,IAAAA,cAAM,gBAAC,qBAACC,wBAAW;YACrB;YAEA,MAAMC,UAAUJ,YAAYzC,GAAG;YAC/B,MAAM8C,aAAaD,UAAUL;YAE7BO,OAAOD,YAAYE,YAAY,CAAC;QAClC;QAEAV,KAAK,0CAA0C;YAC7C,MAAMa,sBAAsBzC,yBAAyB;YACrD1B,gBAAgBsC,eAAe,CAAC;gBAC9B,GAAGtC,iBAAiB;gBACpBa,UAAUsD;YACZ;YAEA,MAAMX,YAAYC,YAAYzC,GAAG;YAEjC,MAAM0C,IAAAA,WAAG,EAAC;gBACRC,IAAAA,cAAM,gBAAC,qBAACC,wBAAW;YACrB;YAEA,MAAMC,UAAUJ,YAAYzC,GAAG;YAC/B,MAAM8C,aAAaD,UAAUL;YAE7BO,OAAOD,YAAYE,YAAY,CAAC;QAClC;IACF;IAEA5B,SAAS,2BAA2B;QAClCkB,KAAK,qDAAqD;YACxD,MAAMc,0BAAY,qBAACR,wBAAW;YAC9BD,IAAAA,cAAM,EAACS;YAEP,MAAMZ,YAAYC,YAAYzC,GAAG;YAEjC,8BAA8B;YAC9B,IAAK,IAAIR,IAAI,GAAGA,IAAI,IAAIA,IAAK;gBAC3B,MAAM6D,aAAaC,cAAM,CAACC,cAAc,CAAC;gBACzCC,iBAAS,CAACC,KAAK,CAACJ;gBAEhB,6CAA6C;gBAC7C,MAAMX,IAAAA,WAAG,EAAC;oBACR,MAAM,IAAIgB,QAAQC,CAAAA,UAAWC,WAAWD,SAAS;gBACnD;YACF;YAEA,MAAMd,UAAUJ,YAAYzC,GAAG;YAC/B,MAAM6D,YAAYhB,UAAUL;YAE5B,gDAAgD;YAChDO,OAAOc,WAAWb,YAAY,CAAC;QACjC;QAEAV,KAAK,2CAA2C;YAC9C,MAAMY,eAAehE,sBAAsB;YAC3CJ,aAAawC,eAAe,CAAC;gBAC3B,GAAGxC,cAAc;gBACjByC,OAAO2B;YACT;YAEA,MAAME,0BAAY,qBAACR,wBAAW;YAC9BD,IAAAA,cAAM,EAACS;YAEP,MAAMZ,YAAYC,YAAYzC,GAAG;YAEjC,yBAAyB;YACzB,IAAK,IAAIR,IAAI,GAAGA,IAAI,IAAIA,IAAK;gBAC3BgE,iBAAS,CAACM,MAAM,CAACC,QAAQ;oBAAEC,QAAQ;wBAAEC,SAASzE,IAAI;oBAAI;gBAAE;gBACxD,MAAMkD,IAAAA,WAAG,EAAC;oBACR,MAAM,IAAIgB,QAAQC,CAAAA,UAAWC,WAAWD,SAAS;gBACnD;YACF;YAEA,MAAMd,UAAUJ,YAAYzC,GAAG;YAC/B,MAAM6D,YAAYhB,UAAUL;YAE5B,0CAA0C;YAC1CO,OAAOc,WAAWb,YAAY,CAAC;QACjC;QAEAV,KAAK,4CAA4C;YAC/C,MAAMc,0BAAY,qBAACR,wBAAW;YAC9BD,IAAAA,cAAM,EAACS;YAEP,MAAMZ,YAAYC,YAAYzC,GAAG;YAEjC,0BAA0B;YAC1B,IAAK,IAAIR,IAAI,GAAGA,IAAI,IAAIA,IAAK;gBAC3B,MAAM0E,UAAUZ,cAAM,CAACa,SAAS,CAAC,CAAC,OAAO,EAAE3E,IAAI,IAAI;gBACnDgE,iBAAS,CAACC,KAAK,CAACS;gBAEhB,MAAMxB,IAAAA,WAAG,EAAC;oBACR,MAAM,IAAIgB,QAAQC,CAAAA,UAAWC,WAAWD,SAAS;gBACnD;YACF;YAEA,MAAMd,UAAUJ,YAAYzC,GAAG;YAC/B,MAAM6D,YAAYhB,UAAUL;YAE5B,+CAA+C;YAC/CO,OAAOc,WAAWb,YAAY,CAAC;QACjC;IACF;IAEA5B,SAAS,sBAAsB;QAC7BkB,KAAK,kDAAkD;YACrD,MAAM8B,gBAAgB,AAAC3B,YAAoB4B,MAAM,EAAEC,kBAAkB;YAErE,8CAA8C;YAC9C,IAAK,IAAI9E,IAAI,GAAGA,IAAI,IAAIA,IAAK;gBAC3B,MAAM,EAAE+E,OAAO,EAAE,GAAG5B,IAAAA,cAAM,gBAAC,qBAACC,wBAAW;gBACvC2B;gBAEA,wCAAwC;gBACxC,IAAIC,OAAOC,EAAE,EAAE;oBACbD,OAAOC,EAAE;gBACX;YACF;YAEA,MAAMC,cAAc,AAACjC,YAAoB4B,MAAM,EAAEC,kBAAkB;YACnE,MAAMK,iBAAiBD,cAAcN;YAErC,6CAA6C;YAC7CrB,OAAO4B,gBAAgB3B,YAAY,CAAC,KAAK,OAAO;QAClD;QAEAV,KAAK,sDAAsD;YACzD,MAAMsC,mBAAmB1F,sBAAsB;YAC/CJ,aAAawC,eAAe,CAAC;gBAC3B,GAAGxC,cAAc;gBACjByC,OAAOqD;YACT;YAEA,MAAMR,gBAAgB,AAAC3B,YAAoB4B,MAAM,EAAEC,kBAAkB;YAErE,MAAM5B,IAAAA,WAAG,EAAC;gBACRC,IAAAA,cAAM,gBAAC,qBAACC,wBAAW;YACrB;YAEA,MAAM8B,cAAc,AAACjC,YAAoB4B,MAAM,EAAEC,kBAAkB;YACnE,MAAMK,iBAAiBD,cAAcN;YAErC,+DAA+D;YAC/DrB,OAAO4B,gBAAgB3B,YAAY,CAAC,KAAK,OAAO;QAClD;IACF;IAEA5B,SAAS,uBAAuB;QAC9BkB,KAAK,mDAAmD;YACtD,6BAA6B;YAC7BxD,aAAawC,eAAe,CAAC;gBAC3B,GAAGxC,cAAc;gBACjB0C,SAAS;YACX;YAEA,MAAMgB,YAAYC,YAAYzC,GAAG;YAEjC,MAAM0C,IAAAA,WAAG,EAAC;gBACRC,IAAAA,cAAM,gBAAC,qBAACC,wBAAW;YACrB;YAEA,wBAAwB;YACxB,MAAMF,IAAAA,WAAG,EAAC;gBACR,MAAM,IAAIgB,QAAQC,CAAAA,UAAWC,WAAWD,SAAS;YACnD;YAEA,MAAMd,UAAUJ,YAAYzC,GAAG;YAC/B,MAAM6D,YAAYhB,UAAUL;YAE5B,8CAA8C;YAC9CO,OAAOc,WAAWb,YAAY,CAAC;QACjC;QAEAV,KAAK,gEAAgE;YACnExD,aAAawC,eAAe,CAAC;gBAC3B,GAAGxC,cAAc;gBACjB2C,OAAO;YACT;YAEA,MAAMe,YAAYC,YAAYzC,GAAG;YAEjC,MAAM0C,IAAAA,WAAG,EAAC;gBACRC,IAAAA,cAAM,gBAAC,qBAACC,wBAAW;YACrB;YAEA,MAAMC,UAAUJ,YAAYzC,GAAG;YAC/B,MAAM8C,aAAaD,UAAUL;YAE7B,oCAAoC;YACpCO,OAAOD,YAAYE,YAAY,CAAC;QAClC;IACF;IAEA5B,SAAS,yBAAyB;QAChCkB,KAAK,qCAAqC;YACxC,MAAMc,0BAAY,qBAACR,wBAAW;YAC9BD,IAAAA,cAAM,EAACS;YAEP,MAAMZ,YAAYC,YAAYzC,GAAG;YAEjC,qBAAqB;YACrB,MAAM6E,iBAAiBvB,cAAM,CAACC,cAAc,CAAC;YAC7CC,iBAAS,CAACC,KAAK,CAACoB;YAEhB,iCAAiC;YACjC,MAAMnC,IAAAA,WAAG,EAAC;gBACR,MAAM,IAAIgB,QAAQC,CAAAA,UAAWC,WAAWD,SAAS;YACnD;YAEA,MAAMd,UAAUJ,YAAYzC,GAAG;YAC/B,MAAM8E,gBAAgBjC,UAAUL;YAEhC,yCAAyC;YACzCO,OAAO+B,eAAe9B,YAAY,CAAC;QACrC;QAEAV,KAAK,kDAAkD;YACrD,MAAMc,0BAAY,qBAACR,wBAAW;YAC9BD,IAAAA,cAAM,EAACS;YAEP,MAAMZ,YAAYC,YAAYzC,GAAG;YAEjC,6CAA6C;YAC7C,MAAM6E,iBAAiBvB,cAAM,CAACC,cAAc,CAAC;YAC7C,MAAMwB,gBAAgBzB,cAAM,CAACC,cAAc,CAAC;YAE5CC,iBAAS,CAACC,KAAK,CAACoB;YAChBrB,iBAAS,CAACC,KAAK,CAACsB;YAEhB,kCAAkC;YAClC,MAAMrC,IAAAA,WAAG,EAAC;gBACR,MAAM,IAAIgB,QAAQC,CAAAA,UAAWC,WAAWD,SAAS;YACnD;YAEA,MAAMd,UAAUJ,YAAYzC,GAAG;YAC/B,MAAM8E,gBAAgBjC,UAAUL;YAEhC,sDAAsD;YACtDO,OAAO+B,eAAe9B,YAAY,CAAC;QACrC;IACF;IAEA5B,SAAS,iCAAiC;QACxCkB,KAAK,+CAA+C;YAClD,MAAMc,0BAAY,qBAACR,wBAAW;YAC9BD,IAAAA,cAAM,EAACS;YAEP,MAAMZ,YAAYC,YAAYzC,GAAG;YAEjC,6BAA6B;YAC7B,IAAK,IAAIR,IAAI,GAAGA,IAAI,IAAIA,IAAK;gBAC3B,MAAMwF,cAAc9F,sBAAsB;gBAC1CJ,aAAawC,eAAe,CAAC;oBAC3B,GAAGxC,cAAc;oBACjByC,OAAOyD;gBACT;gBAEA,MAAMtC,IAAAA,WAAG,EAAC;oBACR,MAAM,IAAIgB,QAAQC,CAAAA,UAAWC,WAAWD,SAAS;gBACnD;YACF;YAEA,MAAMd,UAAUJ,YAAYzC,GAAG;YAC/B,MAAMiF,aAAapC,UAAUL;YAE7B,4CAA4C;YAC5CO,OAAOkC,YAAYjC,YAAY,CAAC;QAClC;QAEAV,KAAK,8DAA8D;YACjE,MAAMc,0BAAY,qBAACR,wBAAW;YAC9BD,IAAAA,cAAM,EAACS;YAEP,MAAMZ,YAAYC,YAAYzC,GAAG;YAEjC,6BAA6B;YAC7B,IAAK,IAAIR,IAAI,GAAGA,IAAI,GAAGA,IAAK;gBAC1B,6BAA6B;gBAC7BgE,IAAAA,iBAAS,EAACO,QAAQ,IAAImB,MAAM;gBAE5B,MAAMxC,IAAAA,WAAG,EAAC;oBACR,MAAM,IAAIgB,QAAQC,CAAAA,UAAWC,WAAWD,SAAS;gBACnD;YACF;YAEA,MAAMd,UAAUJ,YAAYzC,GAAG;YAC/B,MAAMiF,aAAapC,UAAUL;YAE7B,qDAAqD;YACrDO,OAAOkC,YAAYjC,YAAY,CAAC;QAClC;IACF;IAEA5B,SAAS,6BAA6B;QACpCkB,KAAK,mDAAmD;YACtD,MAAMc,0BAAY,qBAACR,wBAAW;YAC9BD,IAAAA,cAAM,EAACS;YAEP,MAAMZ,YAAYC,YAAYzC,GAAG;YAEjC,iCAAiC;YACjC,IAAK,IAAIR,IAAI,GAAGA,IAAI,GAAGA,IAAK;gBAC1B,MAAM6D,aAAaC,cAAM,CAACC,cAAc,CAAC;gBACzCC,iBAAS,CAACC,KAAK,CAACJ;gBAEhB,MAAMX,IAAAA,WAAG,EAAC;oBACR,MAAM,IAAIgB,QAAQC,CAAAA,UAAWC,WAAWD,SAAS;gBACnD;YACF;YAEA,MAAMd,UAAUJ,YAAYzC,GAAG;YAC/B,MAAMiF,aAAapC,UAAUL;YAE7B,sDAAsD;YACtDO,OAAOkC,YAAYjC,YAAY,CAAC;QAClC;QAEAV,KAAK,iDAAiD;YACpD,MAAMc,0BAAY,qBAACR,wBAAW;YAC9BD,IAAAA,cAAM,EAACS;YAEP,MAAMZ,YAAYC,YAAYzC,GAAG;YAEjC,+BAA+B;YAC/B,IAAK,IAAIR,IAAI,GAAGA,IAAI,IAAIA,IAAK;gBAC3BgE,iBAAS,CAAC2B,OAAO,CAACC,UAAU;oBAAEC,KAAK;gBAAM;gBAEzC,MAAM3C,IAAAA,WAAG,EAAC;oBACR,MAAM,IAAIgB,QAAQC,CAAAA,UAAWC,WAAWD,SAAS;gBACnD;YACF;YAEA,MAAMd,UAAUJ,YAAYzC,GAAG;YAC/B,MAAMsF,iBAAiBzC,UAAUL;YAEjC,oDAAoD;YACpDO,OAAOuC,gBAAgBtC,YAAY,CAAC;QACtC;IACF;AACF"}