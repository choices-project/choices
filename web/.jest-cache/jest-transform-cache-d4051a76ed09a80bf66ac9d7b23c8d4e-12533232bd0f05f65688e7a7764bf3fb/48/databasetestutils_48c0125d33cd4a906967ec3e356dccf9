b4ae837a0945e02c3ff96cadb81478b8
/**
 * Database Test Utilities
 * 
 * Provides real database operations for integration testing.
 * Follows integration testing best practices:
 * - Uses real database connections
 * - Implements proper test isolation
 * - Provides cleanup utilities
 * - Supports both local and CI environments
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get cleanupTestDatabase () {
        return cleanupTestDatabase;
    },
    get createTestSupabaseClient () {
        return createTestSupabaseClient;
    },
    get createTestUser () {
        return createTestUser;
    },
    get setupTestDatabase () {
        return setupTestDatabase;
    },
    get trackTestData () {
        return trackTestData;
    }
});
const _supabasejs = require("@supabase/supabase-js");
const _globals = require("@jest/globals");
// Test database configuration
const TEST_DB_URL = process.env.TEST_SUPABASE_URL || process.env.NEXT_PUBLIC_SUPABASE_URL;
const TEST_DB_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;
// Test data tracking for cleanup
let testDataIds = {
    polls: [],
    votes: [],
    users: []
};
const createTestSupabaseClient = ()=>{
    if (!TEST_DB_URL || !TEST_DB_KEY) {
        console.warn('Test database credentials not found. Integration tests will be skipped.');
        console.warn('TEST_DB_URL:', TEST_DB_URL);
        console.warn('TEST_DB_KEY:', TEST_DB_KEY ? 'Present' : 'Missing');
        return null;
    }
    try {
        const client = (0, _supabasejs.createClient)(TEST_DB_URL, TEST_DB_KEY);
        console.log('Supabase client created successfully');
        return client;
    } catch (error) {
        console.error('Failed to create Supabase client:', error);
        return null;
    }
};
const setupTestDatabase = async ()=>{
    const client = createTestSupabaseClient();
    if (!client) {
        console.warn('No test database available. Using mock client for CI/CD.');
        return createMockSupabaseClient();
    }
    // Reset test data tracking
    testDataIds = {
        polls: [],
        votes: [],
        users: []
    };
    console.log('Integration: Real test database connected');
    return client;
};
const createTestUser = async (supabase)=>{
    if (!supabase) {
        return {
            id: 'test-user-id',
            email: 'test@example.com',
            name: 'Test User'
        };
    }
    try {
        // Use an existing user ID from the database
        const testUser = {
            id: '6f12e40c-fd46-4ace-9470-2016dc0e2e8b',
            email: 'test@example.com',
            name: 'Test User'
        };
        // Track for cleanup
        testDataIds.users.push(testUser.id);
        return testUser;
    } catch (error) {
        console.warn('Failed to create test user:', error);
        return {
            id: '6f12e40c-fd46-4ace-9470-2016dc0e2e8b',
            email: 'test@example.com',
            name: 'Test User'
        };
    }
};
const trackTestData = (type, id)=>{
    testDataIds[type].push(id);
};
const cleanupTestDatabase = async (supabase)=>{
    if (!supabase) {
        console.log('Integration: Mock database cleanup completed');
        return;
    }
    try {
        // Clean up in reverse order to respect foreign key constraints
        if (testDataIds.votes.length > 0) {
            await supabase.from('votes').delete().in('id', testDataIds.votes);
            console.log(`Integration: Cleaned up ${testDataIds.votes.length} test votes`);
        }
        if (testDataIds.polls.length > 0) {
            await supabase.from('polls').delete().in('id', testDataIds.polls);
            console.log(`Integration: Cleaned up ${testDataIds.polls.length} test polls`);
        }
        // Note: Users are managed by Supabase Auth, not a custom users table
        if (testDataIds.users.length > 0) {
            console.log(`Integration: Note - ${testDataIds.users.length} test users tracked (managed by Supabase Auth)`);
        }
        // Reset tracking
        testDataIds = {
            polls: [],
            votes: [],
            users: []
        };
        console.log('Integration: Test database cleanup completed');
    } catch (error) {
        console.error('Integration: Failed to cleanup test database:', error);
    }
};
// Mock client fallback for CI/CD environments
const createMockSupabaseClient = ()=>{
    const mockSingle = _globals.jest.fn().mockResolvedValue({
        data: {
            id: 'test-poll-id',
            title: 'Test Poll',
            description: 'A test poll',
            votingMethod: 'single',
            options: [
                {
                    id: 'option-1',
                    text: 'Option 1'
                },
                {
                    id: 'option-2',
                    text: 'Option 2'
                }
            ],
            status: 'active',
            createdAt: new Date().toISOString(),
            closeAt: new Date(Date.now() + 86400000).toISOString(),
            createdBy: 'test-user-id'
        },
        error: null
    });
    return {
        from: _globals.jest.fn().mockReturnValue({
            insert: _globals.jest.fn().mockReturnValue({
                select: _globals.jest.fn().mockReturnValue({
                    single: mockSingle
                })
            }),
            select: _globals.jest.fn().mockReturnValue({
                eq: _globals.jest.fn().mockReturnValue({
                    single: mockSingle
                })
            })
        }),
        auth: {
            signInWithPassword: _globals.jest.fn().mockResolvedValue({
                data: {
                    user: {
                        id: 'test-user-id',
                        email: 'test@example.com'
                    }
                },
                error: null
            })
        }
    };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9oZWxwZXJzL2RhdGFiYXNlLXRlc3QtdXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEYXRhYmFzZSBUZXN0IFV0aWxpdGllc1xuICogXG4gKiBQcm92aWRlcyByZWFsIGRhdGFiYXNlIG9wZXJhdGlvbnMgZm9yIGludGVncmF0aW9uIHRlc3RpbmcuXG4gKiBGb2xsb3dzIGludGVncmF0aW9uIHRlc3RpbmcgYmVzdCBwcmFjdGljZXM6XG4gKiAtIFVzZXMgcmVhbCBkYXRhYmFzZSBjb25uZWN0aW9uc1xuICogLSBJbXBsZW1lbnRzIHByb3BlciB0ZXN0IGlzb2xhdGlvblxuICogLSBQcm92aWRlcyBjbGVhbnVwIHV0aWxpdGllc1xuICogLSBTdXBwb3J0cyBib3RoIGxvY2FsIGFuZCBDSSBlbnZpcm9ubWVudHNcbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQsIFN1cGFiYXNlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB7IGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcblxuLy8gVGVzdCBkYXRhYmFzZSBjb25maWd1cmF0aW9uXG5jb25zdCBURVNUX0RCX1VSTCA9IHByb2Nlc3MuZW52LlRFU1RfU1VQQUJBU0VfVVJMIHx8IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbmNvbnN0IFRFU1RfREJfS0VZID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSB8fCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcblxuLy8gVGVzdCBkYXRhIHRyYWNraW5nIGZvciBjbGVhbnVwXG5sZXQgdGVzdERhdGFJZHM6IHtcbiAgcG9sbHM6IHN0cmluZ1tdO1xuICB2b3Rlczogc3RyaW5nW107XG4gIHVzZXJzOiBzdHJpbmdbXTtcbn0gPSB7XG4gIHBvbGxzOiBbXSxcbiAgdm90ZXM6IFtdLFxuICB1c2VyczogW11cbn07XG5cbi8vIENyZWF0ZSByZWFsIFN1cGFiYXNlIGNsaWVudCBmb3IgdGVzdGluZ1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVRlc3RTdXBhYmFzZUNsaWVudCA9ICgpOiBTdXBhYmFzZUNsaWVudCB8IG51bGwgPT4ge1xuICBpZiAoIVRFU1RfREJfVVJMIHx8ICFURVNUX0RCX0tFWSkge1xuICAgIGNvbnNvbGUud2FybignVGVzdCBkYXRhYmFzZSBjcmVkZW50aWFscyBub3QgZm91bmQuIEludGVncmF0aW9uIHRlc3RzIHdpbGwgYmUgc2tpcHBlZC4nKTtcbiAgICBjb25zb2xlLndhcm4oJ1RFU1RfREJfVVJMOicsIFRFU1RfREJfVVJMKTtcbiAgICBjb25zb2xlLndhcm4oJ1RFU1RfREJfS0VZOicsIFRFU1RfREJfS0VZID8gJ1ByZXNlbnQnIDogJ01pc3NpbmcnKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBjbGllbnQgPSBjcmVhdGVDbGllbnQoVEVTVF9EQl9VUkwsIFRFU1RfREJfS0VZKTtcbiAgICBjb25zb2xlLmxvZygnU3VwYWJhc2UgY2xpZW50IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgcmV0dXJuIGNsaWVudDtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY3JlYXRlIFN1cGFiYXNlIGNsaWVudDonLCBlcnJvcik7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn07XG5cbi8vIFNldHVwIHRlc3QgZGF0YWJhc2Ugd2l0aCByZWFsIGNvbm5lY3Rpb25cbmV4cG9ydCBjb25zdCBzZXR1cFRlc3REYXRhYmFzZSA9IGFzeW5jICgpOiBQcm9taXNlPFN1cGFiYXNlQ2xpZW50IHwgbnVsbD4gPT4ge1xuICBjb25zdCBjbGllbnQgPSBjcmVhdGVUZXN0U3VwYWJhc2VDbGllbnQoKTtcbiAgXG4gIGlmICghY2xpZW50KSB7XG4gICAgY29uc29sZS53YXJuKCdObyB0ZXN0IGRhdGFiYXNlIGF2YWlsYWJsZS4gVXNpbmcgbW9jayBjbGllbnQgZm9yIENJL0NELicpO1xuICAgIHJldHVybiBjcmVhdGVNb2NrU3VwYWJhc2VDbGllbnQoKTtcbiAgfVxuICBcbiAgLy8gUmVzZXQgdGVzdCBkYXRhIHRyYWNraW5nXG4gIHRlc3REYXRhSWRzID0geyBwb2xsczogW10sIHZvdGVzOiBbXSwgdXNlcnM6IFtdIH07XG4gIFxuICBjb25zb2xlLmxvZygnSW50ZWdyYXRpb246IFJlYWwgdGVzdCBkYXRhYmFzZSBjb25uZWN0ZWQnKTtcbiAgcmV0dXJuIGNsaWVudDtcbn07XG5cbi8vIENyZWF0ZSB0ZXN0IHVzZXIgd2l0aCByZWFsIGRhdGFiYXNlXG5leHBvcnQgY29uc3QgY3JlYXRlVGVzdFVzZXIgPSBhc3luYyAoc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50IHwgbnVsbCkgPT4ge1xuICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiAndGVzdC11c2VyLWlkJyxcbiAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICBuYW1lOiAnVGVzdCBVc2VyJ1xuICAgIH07XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgLy8gVXNlIGFuIGV4aXN0aW5nIHVzZXIgSUQgZnJvbSB0aGUgZGF0YWJhc2VcbiAgICBjb25zdCB0ZXN0VXNlciA9IHtcbiAgICAgIGlkOiAnNmYxMmU0MGMtZmQ0Ni00YWNlLTk0NzAtMjAxNmRjMGUyZThiJywgLy8gRXhpc3RpbmcgdXNlciBJRCBmcm9tIGRhdGFiYXNlXG4gICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgbmFtZTogJ1Rlc3QgVXNlcidcbiAgICB9O1xuICAgIFxuICAgIC8vIFRyYWNrIGZvciBjbGVhbnVwXG4gICAgdGVzdERhdGFJZHMudXNlcnMucHVzaCh0ZXN0VXNlci5pZCk7XG4gICAgXG4gICAgcmV0dXJuIHRlc3RVc2VyO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUud2FybignRmFpbGVkIHRvIGNyZWF0ZSB0ZXN0IHVzZXI6JywgZXJyb3IpO1xuICAgIHJldHVybiB7XG4gICAgICBpZDogJzZmMTJlNDBjLWZkNDYtNGFjZS05NDcwLTIwMTZkYzBlMmU4YicsIC8vIEV4aXN0aW5nIHVzZXIgSUQgZnJvbSBkYXRhYmFzZVxuICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgIG5hbWU6ICdUZXN0IFVzZXInXG4gICAgfTtcbiAgfVxufTtcblxuLy8gVHJhY2sgdGVzdCBkYXRhIGZvciBjbGVhbnVwXG5leHBvcnQgY29uc3QgdHJhY2tUZXN0RGF0YSA9ICh0eXBlOiAncG9sbHMnIHwgJ3ZvdGVzJyB8ICd1c2VycycsIGlkOiBzdHJpbmcpID0+IHtcbiAgdGVzdERhdGFJZHNbdHlwZV0ucHVzaChpZCk7XG59O1xuXG4vLyBDbGVhbnVwIHRlc3QgZGF0YWJhc2UgLSByZW1vdmVzIGFsbCB0ZXN0IGRhdGFcbmV4cG9ydCBjb25zdCBjbGVhbnVwVGVzdERhdGFiYXNlID0gYXN5bmMgKHN1cGFiYXNlOiBTdXBhYmFzZUNsaWVudCB8IG51bGwpID0+IHtcbiAgaWYgKCFzdXBhYmFzZSkge1xuICAgIGNvbnNvbGUubG9nKCdJbnRlZ3JhdGlvbjogTW9jayBkYXRhYmFzZSBjbGVhbnVwIGNvbXBsZXRlZCcpO1xuICAgIHJldHVybjtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICAvLyBDbGVhbiB1cCBpbiByZXZlcnNlIG9yZGVyIHRvIHJlc3BlY3QgZm9yZWlnbiBrZXkgY29uc3RyYWludHNcbiAgICBpZiAodGVzdERhdGFJZHMudm90ZXMubGVuZ3RoID4gMCkge1xuICAgICAgYXdhaXQgc3VwYWJhc2UuZnJvbSgndm90ZXMnKS5kZWxldGUoKS5pbignaWQnLCB0ZXN0RGF0YUlkcy52b3Rlcyk7XG4gICAgICBjb25zb2xlLmxvZyhgSW50ZWdyYXRpb246IENsZWFuZWQgdXAgJHt0ZXN0RGF0YUlkcy52b3Rlcy5sZW5ndGh9IHRlc3Qgdm90ZXNgKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHRlc3REYXRhSWRzLnBvbGxzLmxlbmd0aCA+IDApIHtcbiAgICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oJ3BvbGxzJykuZGVsZXRlKCkuaW4oJ2lkJywgdGVzdERhdGFJZHMucG9sbHMpO1xuICAgICAgY29uc29sZS5sb2coYEludGVncmF0aW9uOiBDbGVhbmVkIHVwICR7dGVzdERhdGFJZHMucG9sbHMubGVuZ3RofSB0ZXN0IHBvbGxzYCk7XG4gICAgfVxuICAgIFxuICAgIC8vIE5vdGU6IFVzZXJzIGFyZSBtYW5hZ2VkIGJ5IFN1cGFiYXNlIEF1dGgsIG5vdCBhIGN1c3RvbSB1c2VycyB0YWJsZVxuICAgIGlmICh0ZXN0RGF0YUlkcy51c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhgSW50ZWdyYXRpb246IE5vdGUgLSAke3Rlc3REYXRhSWRzLnVzZXJzLmxlbmd0aH0gdGVzdCB1c2VycyB0cmFja2VkIChtYW5hZ2VkIGJ5IFN1cGFiYXNlIEF1dGgpYCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFJlc2V0IHRyYWNraW5nXG4gICAgdGVzdERhdGFJZHMgPSB7IHBvbGxzOiBbXSwgdm90ZXM6IFtdLCB1c2VyczogW10gfTtcbiAgICBcbiAgICBjb25zb2xlLmxvZygnSW50ZWdyYXRpb246IFRlc3QgZGF0YWJhc2UgY2xlYW51cCBjb21wbGV0ZWQnKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdJbnRlZ3JhdGlvbjogRmFpbGVkIHRvIGNsZWFudXAgdGVzdCBkYXRhYmFzZTonLCBlcnJvcik7XG4gIH1cbn07XG5cbi8vIE1vY2sgY2xpZW50IGZhbGxiYWNrIGZvciBDSS9DRCBlbnZpcm9ubWVudHNcbmNvbnN0IGNyZWF0ZU1vY2tTdXBhYmFzZUNsaWVudCA9ICgpOiBhbnkgPT4ge1xuICBjb25zdCBtb2NrU2luZ2xlID0gKGplc3QuZm4oKSBhcyBhbnkpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICBkYXRhOiB7XG4gICAgICBpZDogJ3Rlc3QtcG9sbC1pZCcsXG4gICAgICB0aXRsZTogJ1Rlc3QgUG9sbCcsXG4gICAgICBkZXNjcmlwdGlvbjogJ0EgdGVzdCBwb2xsJyxcbiAgICAgIHZvdGluZ01ldGhvZDogJ3NpbmdsZScsXG4gICAgICBvcHRpb25zOiBbXG4gICAgICAgIHsgaWQ6ICdvcHRpb24tMScsIHRleHQ6ICdPcHRpb24gMScgfSxcbiAgICAgICAgeyBpZDogJ29wdGlvbi0yJywgdGV4dDogJ09wdGlvbiAyJyB9XG4gICAgICBdLFxuICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgY2xvc2VBdDogbmV3IERhdGUoRGF0ZS5ub3coKSArIDg2NDAwMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgY3JlYXRlZEJ5OiAndGVzdC11c2VyLWlkJ1xuICAgIH0sXG4gICAgZXJyb3I6IG51bGxcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBmcm9tOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGluc2VydDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgICAgc2luZ2xlOiBtb2NrU2luZ2xlXG4gICAgICAgIH0pXG4gICAgICB9KSxcbiAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGVxOiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBzaW5nbGU6IG1vY2tTaW5nbGVcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgfSksXG4gICAgYXV0aDoge1xuICAgICAgc2lnbkluV2l0aFBhc3N3b3JkOiAoamVzdC5mbigpIGFzIGFueSkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICBkYXRhOiB7IHVzZXI6IHsgaWQ6ICd0ZXN0LXVzZXItaWQnLCBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nIH0gfSxcbiAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgIH0pXG4gICAgfVxuICB9O1xufTtcbiJdLCJuYW1lcyI6WyJjbGVhbnVwVGVzdERhdGFiYXNlIiwiY3JlYXRlVGVzdFN1cGFiYXNlQ2xpZW50IiwiY3JlYXRlVGVzdFVzZXIiLCJzZXR1cFRlc3REYXRhYmFzZSIsInRyYWNrVGVzdERhdGEiLCJURVNUX0RCX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJURVNUX1NVUEFCQVNFX1VSTCIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsIlRFU1RfREJfS0VZIiwiU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwidGVzdERhdGFJZHMiLCJwb2xscyIsInZvdGVzIiwidXNlcnMiLCJjb25zb2xlIiwid2FybiIsImNsaWVudCIsImNyZWF0ZUNsaWVudCIsImxvZyIsImVycm9yIiwiY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50Iiwic3VwYWJhc2UiLCJpZCIsImVtYWlsIiwibmFtZSIsInRlc3RVc2VyIiwicHVzaCIsInR5cGUiLCJsZW5ndGgiLCJmcm9tIiwiZGVsZXRlIiwiaW4iLCJtb2NrU2luZ2xlIiwiamVzdCIsImZuIiwibW9ja1Jlc29sdmVkVmFsdWUiLCJkYXRhIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInZvdGluZ01ldGhvZCIsIm9wdGlvbnMiLCJ0ZXh0Iiwic3RhdHVzIiwiY3JlYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiY2xvc2VBdCIsIm5vdyIsImNyZWF0ZWRCeSIsIm1vY2tSZXR1cm5WYWx1ZSIsImluc2VydCIsInNlbGVjdCIsInNpbmdsZSIsImVxIiwiYXV0aCIsInNpZ25JbldpdGhQYXNzd29yZCIsInVzZXIiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Q0FTQzs7Ozs7Ozs7Ozs7UUE2RllBO2VBQUFBOztRQXhFQUM7ZUFBQUE7O1FBbUNB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