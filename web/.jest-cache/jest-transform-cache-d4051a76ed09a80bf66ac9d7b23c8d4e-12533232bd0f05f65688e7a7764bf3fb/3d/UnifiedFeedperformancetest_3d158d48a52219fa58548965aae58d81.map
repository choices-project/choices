{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/features/feeds/UnifiedFeed.performance.test.tsx"],"sourcesContent":["/**\n * UnifiedFeed Performance Tests\n * \n * Comprehensive performance testing for the UnifiedFeed component\n * Tests real performance metrics and optimization\n * \n * Created: January 19, 2025\n * Status: âœ… PRODUCTION READY\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, act } from '@testing-library/react';\nimport { jest } from '@jest/globals';\nimport UnifiedFeed from '@/features/feeds/components/UnifiedFeed';\nimport { useFeeds } from '@/lib/stores/feedsStore';\nimport { useHashtags } from '@/features/hashtags/hooks/useHashtags';\nimport { T } from '@/lib/testing/testIds';\n\n// Mock the stores\njest.mock('@/lib/stores/feedsStore', () => ({\n  useFeeds: jest.fn()\n}));\n\njest.mock('@/features/hashtags/hooks/useHashtags', () => ({\n  useHashtags: jest.fn()\n}));\n\nconst mockUseFeeds = useFeeds as jest.MockedFunction<typeof useFeeds>;\nconst mockUseHashtags = useHashtags as jest.MockedFunction<typeof useHashtags>;\n\n// Performance test data\nconst generateLargeFeedData = (count: number) => \n  Array.from({ length: count }, (_, i) => ({\n    id: `${i}`,\n    title: `Test ${i % 2 === 0 ? 'Poll' : 'Post'} ${i}`,\n    content: `This is test ${i % 2 === 0 ? 'poll' : 'post'} ${i} with some content`,\n    summary: `This is test ${i % 2 === 0 ? 'poll' : 'post'} ${i}`,\n    author: {\n      id: `author-${i}`,\n      name: `User ${i}`,\n      avatar: `/test-avatar-${i}.jpg`,\n      verified: Math.random() > 0.8\n    },\n    category: `category${i % 5}`,\n    tags: [`hashtag${i % 10}`, `category${i % 5}`],\n    type: (i % 2 === 0 ? 'poll' : 'article') as 'poll' | 'article',\n    source: {\n      name: `Source ${i}`,\n      url: `https://example.com/${i}`,\n      logo: `/test-logo-${i}.jpg`,\n      verified: true\n    },\n    publishedAt: new Date(Date.now() - i * 1000).toISOString(),\n    updatedAt: new Date(Date.now() - i * 1000).toISOString(),\n    readTime: Math.floor(Math.random() * 10) + 1,\n    engagement: {\n      likes: Math.floor(Math.random() * 1000),\n      shares: Math.floor(Math.random() * 500),\n      comments: Math.floor(Math.random() * 200),\n      views: Math.floor(Math.random() * 5000)\n    },\n    userInteraction: {\n      liked: false,\n      shared: false,\n      bookmarked: false,\n      read: false\n    },\n    metadata: {\n      hashtags: [`hashtag${i % 10}`, `category${i % 5}`],\n      primary_hashtag: `hashtag${i % 10}`,\n      language: 'en'\n    }\n  }));\n\nconst generateLargeHashtagData = (count: number) =>\n  Array.from({ length: count }, (_, i) => ({\n    id: `${i}`,\n    name: `hashtag${i}`,\n    display_name: `Hashtag ${i}`,\n    usage_count: Math.floor(Math.random() * 1000),\n    follower_count: Math.floor(Math.random() * 500),\n    is_trending: Math.random() > 0.7,\n    trend_score: Math.random(),\n    created_at: new Date(Date.now() - i * 1000).toISOString(),\n    updated_at: new Date(Date.now() - i * 1000).toISOString(),\n    is_verified: Math.random() > 0.9,\n    is_featured: Math.random() > 0.8\n  }));\n\ndescribe('UnifiedFeed Performance Tests', () => {\n  beforeEach(() => {\n    // Mock store implementations\n    mockUseFeeds.mockReturnValue([]);\n\n    mockUseHashtags.mockReturnValue({\n      hashtags: [],\n      trendingHashtags: [],\n      userHashtags: [],\n      isLoading: false,\n      error: null,\n      loadTrendingHashtags: jest.fn(),\n      searchHashtags: jest.fn(),\n      followHashtag: jest.fn(),\n      unfollowHashtag: jest.fn(),\n      getTrendingHashtags: jest.fn(),\n      refresh: jest.fn()\n    });\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Rendering Performance', () => {\n    test('should render small dataset (< 50 items) within 500ms', async () => {\n      const smallDataset = generateLargeFeedData(50);\n      mockUseFeeds.mockReturnValue(smallDataset);\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      expect(renderTime).toBeLessThan(500);\n    });\n\n    test('should render medium dataset (50-200 items) within 1000ms', async () => {\n      const mediumDataset = generateLargeFeedData(200);\n      mockUseFeeds.mockReturnValue(mediumDataset);\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      expect(renderTime).toBeLessThan(1000);\n    });\n\n    test('should render large dataset (200+ items) within 2000ms', async () => {\n      const largeDataset = generateLargeFeedData(500);\n      mockUseFeeds.mockReturnValue(largeDataset);\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      expect(renderTime).toBeLessThan(2000);\n    });\n\n    test('should handle hashtag data efficiently', async () => {\n      const largeHashtagDataset = generateLargeHashtagData(1000);\n      mockUseHashtags.mockReturnValue({\n        ...mockUseHashtags(),\n        hashtags: largeHashtagDataset\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      expect(renderTime).toBeLessThan(1500);\n    });\n  });\n\n  describe('Interaction Performance', () => {\n    test('should handle rapid clicks within acceptable time', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate rapid interactions\n      for (let i = 0; i < 20; i++) {\n        const likeButton = screen.getByLabelText(/like/i);\n        fireEvent.click(likeButton);\n        \n        // Small delay to simulate real user behavior\n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 10));\n        });\n      }\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      // Should handle 20 interactions within 1 second\n      expect(totalTime).toBeLessThan(1000);\n    });\n\n    test('should handle scroll events efficiently', async () => {\n      const largeDataset = generateLargeFeedData(300);\n      mockUseFeeds.mockReturnValue(largeDataset);\n\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate scroll events\n      for (let i = 0; i < 10; i++) {\n        fireEvent.scroll(window, { target: { scrollY: i * 100 } });\n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 50));\n        });\n      }\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      // Should handle scroll events efficiently\n      expect(totalTime).toBeLessThan(2000);\n    });\n\n    test('should handle filter changes efficiently', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate filter changes\n      for (let i = 0; i < 10; i++) {\n        const hashtag = screen.getByText(`hashtag${i % 10}`);\n        fireEvent.click(hashtag);\n        \n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 50));\n        });\n      }\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      // Should handle filter changes within 1 second\n      expect(totalTime).toBeLessThan(1000);\n    });\n  });\n\n  describe('Memory Performance', () => {\n    test('should not leak memory during repeated renders', async () => {\n      const initialMemory = (performance as any).memory?.usedJSHeapSize || 0;\n      \n      // Render and unmount component multiple times\n      for (let i = 0; i < 10; i++) {\n        const { unmount } = render(<UnifiedFeed />);\n        unmount();\n        \n        // Force garbage collection if available\n        if (global.gc) {\n          global.gc();\n        }\n      }\n      \n      const finalMemory = (performance as any).memory?.usedJSHeapSize || 0;\n      const memoryIncrease = finalMemory - initialMemory;\n      \n      // Memory increase should be minimal (< 10MB)\n      expect(memoryIncrease).toBeLessThan(10 * 1024 * 1024);\n    });\n\n    test('should handle large datasets without memory issues', async () => {\n      const veryLargeDataset = generateLargeFeedData(1000);\n      mockUseFeeds.mockReturnValue(veryLargeDataset);\n\n      const initialMemory = (performance as any).memory?.usedJSHeapSize || 0;\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      const finalMemory = (performance as any).memory?.usedJSHeapSize || 0;\n      const memoryIncrease = finalMemory - initialMemory;\n      \n      // Memory increase should be reasonable (< 50MB for 1000 items)\n      expect(memoryIncrease).toBeLessThan(50 * 1024 * 1024);\n    });\n  });\n\n  describe('Network Performance', () => {\n    test('should handle slow network responses gracefully', async () => {\n      // Mock slow network response\n      mockUseHashtags.mockReturnValue({\n        ...mockUseHashtags(),\n        isLoading: true\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      // Simulate slow loading\n      await act(async () => {\n        await new Promise(resolve => setTimeout(resolve, 2000));\n      });\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      // Should handle slow loading within 3 seconds\n      expect(totalTime).toBeLessThan(3000);\n    });\n\n    test('should handle network errors without performance degradation', async () => {\n      mockUseHashtags.mockReturnValue({\n        ...mockUseHashtags(),\n        error: 'Network error'\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(<UnifiedFeed />);\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Should render error state quickly\n      expect(renderTime).toBeLessThan(500);\n    });\n  });\n\n  describe('Animation Performance', () => {\n    test('should handle animations smoothly', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Trigger animations\n      const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n      fireEvent.click(darkModeButton);\n      \n      // Wait for animation to complete\n      await act(async () => {\n        await new Promise(resolve => setTimeout(resolve, 300));\n      });\n      \n      const endTime = performance.now();\n      const animationTime = endTime - startTime;\n      \n      // Animation should complete within 500ms\n      expect(animationTime).toBeLessThan(500);\n    });\n\n    test('should handle multiple simultaneous animations', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Trigger multiple animations simultaneously\n      const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n      const filtersButton = screen.getByLabelText(/toggle advanced filters/i);\n      \n      fireEvent.click(darkModeButton);\n      fireEvent.click(filtersButton);\n      \n      // Wait for animations to complete\n      await act(async () => {\n        await new Promise(resolve => setTimeout(resolve, 500));\n      });\n      \n      const endTime = performance.now();\n      const animationTime = endTime - startTime;\n      \n      // Multiple animations should complete within 1 second\n      expect(animationTime).toBeLessThan(1000);\n    });\n  });\n\n  describe('Real-time Updates Performance', () => {\n    test('should handle real-time updates efficiently', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate real-time updates\n      for (let i = 0; i < 10; i++) {\n        const newFeedData = generateLargeFeedData(10);\n        mockUseFeeds.mockReturnValue(newFeedData);\n        \n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 100));\n        });\n      }\n      \n      const endTime = performance.now();\n      const updateTime = endTime - startTime;\n      \n      // Should handle 10 updates within 2 seconds\n      expect(updateTime).toBeLessThan(2000);\n    });\n\n    test('should handle WebSocket updates without performance issues', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate WebSocket updates\n      for (let i = 0; i < 5; i++) {\n        // Simulate WebSocket message\n        fireEvent(window, new Event('message'));\n        \n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 200));\n        });\n      }\n      \n      const endTime = performance.now();\n      const updateTime = endTime - startTime;\n      \n      // Should handle WebSocket updates within 1.5 seconds\n      expect(updateTime).toBeLessThan(1500);\n    });\n  });\n\n  describe('Accessibility Performance', () => {\n    test('should handle screen reader updates efficiently', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate screen reader updates\n      for (let i = 0; i < 5; i++) {\n        const likeButton = screen.getByLabelText(/like/i);\n        fireEvent.click(likeButton);\n        \n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 100));\n        });\n      }\n      \n      const endTime = performance.now();\n      const updateTime = endTime - startTime;\n      \n      // Should handle screen reader updates within 1 second\n      expect(updateTime).toBeLessThan(1000);\n    });\n\n    test('should handle keyboard navigation efficiently', async () => {\n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const startTime = performance.now();\n      \n      // Simulate keyboard navigation\n      for (let i = 0; i < 10; i++) {\n        fireEvent.keyDown(document, { key: 'Tab' });\n        \n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 50));\n        });\n      }\n      \n      const endTime = performance.now();\n      const navigationTime = endTime - startTime;\n      \n      // Should handle keyboard navigation within 1 second\n      expect(navigationTime).toBeLessThan(1000);\n    });\n  });\n});\n"],"names":["jest","mock","useFeeds","fn","useHashtags","mockUseFeeds","mockUseHashtags","generateLargeFeedData","count","Array","from","length","_","i","id","title","content","summary","author","name","avatar","verified","Math","random","category","tags","type","source","url","logo","publishedAt","Date","now","toISOString","updatedAt","readTime","floor","engagement","likes","shares","comments","views","userInteraction","liked","shared","bookmarked","read","metadata","hashtags","primary_hashtag","language","generateLargeHashtagData","display_name","usage_count","follower_count","is_trending","trend_score","created_at","updated_at","is_verified","is_featured","describe","beforeEach","mockReturnValue","trendingHashtags","userHashtags","isLoading","error","loadTrendingHashtags","searchHashtags","followHashtag","unfollowHashtag","getTrendingHashtags","refresh","afterEach","clearAllMocks","test","smallDataset","startTime","performance","act","render","UnifiedFeed","endTime","renderTime","expect","toBeLessThan","mediumDataset","largeDataset","largeHashtagDataset","component","likeButton","screen","getByLabelText","fireEvent","click","Promise","resolve","setTimeout","totalTime","scroll","window","target","scrollY","hashtag","getByText","initialMemory","memory","usedJSHeapSize","unmount","global","gc","finalMemory","memoryIncrease","veryLargeDataset","darkModeButton","animationTime","filtersButton","newFeedData","updateTime","Event","keyDown","document","key","navigationTime"],"mappings":"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"}