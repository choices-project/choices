{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/features/hashtags/utils/hashtag-utils.ts"],"sourcesContent":["/**\n * Hashtag Utility Functions\n * \n * Utility functions for hashtag operations, validation, formatting, and analytics\n * \n * Created: December 19, 2024\n * Status: âœ… ACTIVE\n */\n\nimport type { \n  Hashtag, \n  HashtagCategory, \n  HashtagValidation\n} from '../types';\n\n// ============================================================================\n// HASHTAG VALIDATION UTILITIES\n// ============================================================================\n\n/**\n * Validate hashtag name format\n */\nexport function validateHashtagName(name: string): HashtagValidation {\n  const normalizedName = normalizeHashtagName(name);\n  const errors: string[] = [];\n  const warnings: string[] = [];\n  const suggestions: string[] = [];\n\n  // Basic validation\n  if (!normalizedName || normalizedName.length < 2) {\n    errors.push('Hashtag must be at least 2 characters long');\n  }\n\n  if (normalizedName.length > 50) {\n    errors.push('Hashtag must be less than 50 characters');\n  }\n\n  if (!/^[a-z0-9_-]+$/.test(normalizedName)) {\n    errors.push('Hashtag can only contain letters, numbers, underscores, and hyphens');\n  }\n\n  // Check for common issues\n  if (normalizedName.includes('__')) {\n    warnings.push('Avoid consecutive underscores');\n  }\n\n  if (normalizedName.endsWith('_')) {\n    warnings.push('Avoid ending with underscore');\n  }\n\n  if (normalizedName.startsWith('_')) {\n    warnings.push('Avoid starting with underscore');\n  }\n\n  // Generate suggestions for common issues\n  if (name.includes(' ')) {\n    suggestions.push(normalizedName);\n    warnings.push('Spaces will be converted to underscores automatically');\n  }\n\n  if (normalizedName !== normalizedName.toLowerCase()) {\n    suggestions.push(normalizedName.toLowerCase());\n  }\n\n  return {\n    name: normalizedName,\n    is_valid: errors.length === 0,\n    errors,\n    warnings,\n    suggestions,\n    normalized_name: normalizedName,\n    availability: {\n      is_available: errors.length === 0,\n      similar_hashtags: [],\n      conflict_reason: errors.length > 0 ? errors[0] : undefined\n    }\n  };\n}\n\n/**\n * Normalize hashtag name\n */\nexport function normalizeHashtagName(name: string): string {\n  return name\n    .toLowerCase()\n    .replace(/^#/, '') // Remove leading #\n    .replace(/\\s+/g, '_') // Convert spaces to underscores\n    .trim();\n}\n\n/**\n * Format hashtag for display\n */\nexport function formatHashtagForDisplay(name: string): string {\n  return `#${normalizeHashtagName(name)}`;\n}\n\n// ============================================================================\n// HASHTAG CATEGORY UTILITIES\n// ============================================================================\n\n/**\n * Get hashtag category color\n */\nexport function getHashtagCategoryColor(category: HashtagCategory): string {\n  const colors: Record<HashtagCategory, string> = {\n    politics: 'bg-red-100 text-red-700 border-red-200',\n    civics: 'bg-blue-100 text-blue-700 border-blue-200',\n    social: 'bg-green-100 text-green-700 border-green-200',\n    environment: 'bg-emerald-100 text-emerald-700 border-emerald-200',\n    economy: 'bg-yellow-100 text-yellow-700 border-yellow-200',\n    health: 'bg-pink-100 text-pink-700 border-pink-200',\n    education: 'bg-purple-100 text-purple-700 border-purple-200',\n    technology: 'bg-indigo-100 text-indigo-700 border-indigo-200',\n    culture: 'bg-orange-100 text-orange-700 border-orange-200',\n    sports: 'bg-cyan-100 text-cyan-700 border-cyan-200',\n    entertainment: 'bg-violet-100 text-violet-700 border-violet-200',\n    news: 'bg-slate-100 text-slate-700 border-slate-200',\n    local: 'bg-amber-100 text-amber-700 border-amber-200',\n    national: 'bg-rose-100 text-rose-700 border-rose-200',\n    international: 'bg-teal-100 text-teal-700 border-teal-200',\n    custom: 'bg-gray-100 text-gray-700 border-gray-200',\n    global: 'bg-blue-100 text-blue-700 border-blue-200',\n    activism: 'bg-red-100 text-red-700 border-red-200',\n    community: 'bg-green-100 text-green-700 border-green-200',\n    business: 'bg-purple-100 text-purple-700 border-purple-200',\n    science: 'bg-indigo-100 text-indigo-700 border-indigo-200',\n    art: 'bg-pink-100 text-pink-700 border-pink-200',\n    music: 'bg-violet-100 text-violet-700 border-violet-200',\n    food: 'bg-orange-100 text-orange-700 border-orange-200',\n    travel: 'bg-cyan-100 text-cyan-700 border-cyan-200',\n    fashion: 'bg-rose-100 text-rose-700 border-rose-200',\n    lifestyle: 'bg-amber-100 text-amber-700 border-amber-200',\n    other: 'bg-gray-100 text-gray-700 border-gray-200'\n  };\n  \n  return colors[category] || colors.custom;\n}\n\n/**\n * Get hashtag category icon\n */\nexport function getHashtagCategoryIcon(category: HashtagCategory): string {\n  const icons: Record<HashtagCategory, string> = {\n    politics: 'ðŸ›ï¸',\n    civics: 'ðŸ—³ï¸',\n    social: 'ðŸ‘¥',\n    environment: 'ðŸŒ±',\n    economy: 'ðŸ’°',\n    health: 'ðŸ¥',\n    education: 'ðŸ“š',\n    technology: 'ðŸ’»',\n    culture: 'ðŸŽ­',\n    sports: 'âš½',\n    entertainment: 'ðŸŽ¬',\n    news: 'ðŸ“°',\n    local: 'ðŸ˜ï¸',\n    national: 'ðŸ‡ºðŸ‡¸',\n    international: 'ðŸŒ',\n    custom: 'ðŸ·ï¸',\n    global: 'ðŸŒ',\n    activism: 'âœŠ',\n    community: 'ðŸ¤',\n    business: 'ðŸ’¼',\n    science: 'ðŸ”¬',\n    art: 'ðŸŽ¨',\n    music: 'ðŸŽµ',\n    food: 'ðŸ½ï¸',\n    travel: 'âœˆï¸',\n    fashion: 'ðŸ‘—',\n    lifestyle: 'ðŸŒŸ',\n    other: 'ðŸ“'\n  };\n  \n  return icons[category] || icons.custom;\n}\n\n/**\n * Auto-categorize hashtag based on name\n */\nexport function autoCategorizeHashtag(name: string): HashtagCategory {\n  const normalizedName = normalizeHashtagName(name);\n  \n  // Politics and civics keywords\n  if (/\\b(politics|government|election|vote|democracy|republican|democrat|liberal|conservative|senate|congress|president|mayor|governor)\\b/.test(normalizedName)) {\n    return 'politics';\n  }\n  \n  if (/\\b(civics|civic|community|public|citizen|rights|freedom|justice|law|legal)\\b/.test(normalizedName)) {\n    return 'civics';\n  }\n  \n  // Environment keywords\n  if (/\\b(environment|climate|green|sustainability|renewable|carbon|pollution|conservation|nature|eco)\\b/.test(normalizedName)) {\n    return 'environment';\n  }\n  \n  // Health keywords\n  if (/\\b(health|medical|healthcare|medicine|doctor|hospital|wellness|fitness|mental|therapy)\\b/.test(normalizedName)) {\n    return 'health';\n  }\n  \n  // Education keywords\n  if (/\\b(education|school|university|college|student|teacher|learning|academic|research|study)\\b/.test(normalizedName)) {\n    return 'education';\n  }\n  \n  // Technology keywords\n  if (/\\b(tech|technology|digital|ai|artificial|software|programming|coding|internet|cyber|data)\\b/.test(normalizedName)) {\n    return 'technology';\n  }\n  \n  // Economy keywords\n  if (/\\b(economy|economic|finance|business|money|market|trade|commerce|employment|job|work)\\b/.test(normalizedName)) {\n    return 'economy';\n  }\n  \n  // Social keywords\n  if (/\\b(social|community|society|people|human|family|relationship|friendship|support|help)\\b/.test(normalizedName)) {\n    return 'social';\n  }\n  \n  // Culture keywords\n  if (/\\b(culture|cultural|art|music|literature|tradition|heritage|diversity|identity|creative)\\b/.test(normalizedName)) {\n    return 'culture';\n  }\n  \n  // Sports keywords\n  if (/\\b(sports|sport|athletic|fitness|exercise|team|game|competition|olympic|football|basketball|soccer)\\b/.test(normalizedName)) {\n    return 'sports';\n  }\n  \n  // Entertainment keywords\n  if (/\\b(entertainment|entertain|movie|film|tv|television|show|music|game|fun|comedy|drama)\\b/.test(normalizedName)) {\n    return 'entertainment';\n  }\n  \n  // News keywords\n  if (/\\b(news|current|breaking|update|report|journalism|media|press|coverage|headline)\\b/.test(normalizedName)) {\n    return 'news';\n  }\n  \n  // Geographic keywords\n  if (/\\b(local|neighborhood|city|town|community|regional|area|district|ward)\\b/.test(normalizedName)) {\n    return 'local';\n  }\n  \n  if (/\\b(national|country|federal|state|nation|patriotic|american|usa|united)\\b/.test(normalizedName)) {\n    return 'national';\n  }\n  \n  if (/\\b(international|global|world|foreign|international|worldwide|global|overseas)\\b/.test(normalizedName)) {\n    return 'international';\n  }\n  \n  return 'custom';\n}\n\n// ============================================================================\n// HASHTAG FORMATTING UTILITIES\n// ============================================================================\n\n/**\n * Format usage count for display\n */\nexport function formatUsageCount(count: number): string {\n  if (count >= 1000000) {\n    return `${(count / 1000000).toFixed(1)}M`;\n  } else if (count >= 1000) {\n    return `${(count / 1000).toFixed(1)}K`;\n  }\n  return count.toString();\n}\n\n/**\n * Format engagement rate\n */\nexport function formatEngagementRate(rate: number): string {\n  return `${(rate * 100).toFixed(1)}%`;\n}\n\n/**\n * Format growth rate\n */\nexport function formatGrowthRate(rate: number): string {\n  const sign = rate >= 0 ? '+' : '';\n  return `${sign}${rate.toFixed(1)}%`;\n}\n\n/**\n * Format trending score\n */\nexport function formatTrendingScore(score: number): string {\n  if (score >= 1000) {\n    return `${(score / 1000).toFixed(1)}K`;\n  }\n  return score.toString();\n}\n\n// ============================================================================\n// HASHTAG ANALYTICS UTILITIES\n// ============================================================================\n\n/**\n * Calculate hashtag engagement rate\n */\nexport function calculateEngagementRate(views: number, interactions: number): number {\n  if (views === 0) return 0;\n  return interactions / views;\n}\n\n/**\n * Calculate hashtag growth rate\n */\nexport function calculateGrowthRate(current: number, previous: number): number {\n  if (previous === 0) return current > 0 ? 100 : 0;\n  return ((current - previous) / previous) * 100;\n}\n\n/**\n * Calculate trending score\n */\nexport function calculateTrendingScore(\n  usageCount: number,\n  growthRate: number,\n  recency: number,\n  engagementRate: number\n): number {\n  const weights = {\n    usage: 0.3,\n    growth: 0.3,\n    recency: 0.2,\n    engagement: 0.2\n  };\n  \n  const normalizedUsage = Math.log(usageCount + 1) / Math.log(1000);\n  const normalizedGrowth = Math.max(0, Math.min(1, growthRate / 100));\n  const normalizedRecency = Math.max(0, Math.min(1, recency));\n  const normalizedEngagement = Math.max(0, Math.min(1, engagementRate));\n  \n  return (\n    normalizedUsage * weights.usage +\n    normalizedGrowth * weights.growth +\n    normalizedRecency * weights.recency +\n    normalizedEngagement * weights.engagement\n  ) * 100;\n}\n\n/**\n * Get hashtag performance level\n */\nexport function getHashtagPerformanceLevel(score: number): 'low' | 'medium' | 'high' | 'viral' {\n  if (score >= 80) return 'viral';\n  if (score >= 60) return 'high';\n  if (score >= 30) return 'medium';\n  return 'low';\n}\n\n// ============================================================================\n// HASHTAG SEARCH UTILITIES\n// ============================================================================\n\n/**\n * Generate hashtag suggestions based on input\n */\nexport function generateHashtagSuggestions(\n  input: string,\n  existingHashtags: Hashtag[],\n  userHashtags: string[] = []\n): string[] {\n  const normalizedInput = normalizeHashtagName(input);\n  const suggestions: string[] = [];\n  \n  // Exact matches\n  const exactMatches = existingHashtags\n    .filter(h => h.name.includes(normalizedInput))\n    .map(h => h.name)\n    .slice(0, 5);\n  \n  suggestions.push(...exactMatches);\n  \n  // Partial matches\n  const partialMatches = existingHashtags\n    .filter(h => h.name.startsWith(normalizedInput))\n    .map(h => h.name)\n    .slice(0, 3);\n  \n  suggestions.push(...partialMatches);\n  \n  // Related hashtags\n  const relatedHashtags = existingHashtags\n    .filter(h => h.category && h.usage_count > 100)\n    .sort((a, b) => b.usage_count - a.usage_count)\n    .map(h => h.name)\n    .slice(0, 3);\n  \n  suggestions.push(...relatedHashtags);\n  \n  // Remove duplicates and user's existing hashtags\n  return [...new Set(suggestions)]\n    .filter(suggestion => !userHashtags.includes(suggestion))\n    .slice(0, 10);\n}\n\n/**\n * Extract hashtags from text\n */\nexport function extractHashtagsFromText(text: string): string[] {\n  const hashtagRegex = /#[\\w\\u0590-\\u05ff]+/g;\n  const matches = text.match(hashtagRegex) || [];\n  return matches.map(tag => normalizeHashtagName(tag));\n}\n\n/**\n * Remove hashtags from text\n */\nexport function removeHashtagsFromText(text: string): string {\n  const hashtagRegex = /#[\\w\\u0590-\\u05ff]+/g;\n  return text.replace(hashtagRegex, '').trim();\n}\n\n// ============================================================================\n// HASHTAG COMPARISON UTILITIES\n// ============================================================================\n\n/**\n * Compare hashtags by usage\n */\nexport function compareHashtagsByUsage(a: Hashtag, b: Hashtag): number {\n  return b.usage_count - a.usage_count;\n}\n\n/**\n * Compare hashtags by trending score\n */\nexport function compareHashtagsByTrending(a: Hashtag, b: Hashtag): number {\n  return (b.trend_score || 0) - (a.trend_score || 0);\n}\n\n/**\n * Compare hashtags by follower count\n */\nexport function compareHashtagsByFollowers(a: Hashtag, b: Hashtag): number {\n  return b.usage_count - a.usage_count;\n}\n\n/**\n * Compare hashtags by creation date\n */\nexport function compareHashtagsByDate(a: Hashtag, b: Hashtag): number {\n  return new Date(b.created_at).getTime() - new Date(a.created_at).getTime();\n}\n\n// ============================================================================\n// HASHTAG FILTERING UTILITIES\n// ============================================================================\n\n/**\n * Filter hashtags by category\n */\nexport function filterHashtagsByCategory(hashtags: Hashtag[], category: HashtagCategory): Hashtag[] {\n  return hashtags.filter(h => h.category === category);\n}\n\n/**\n * Filter hashtags by trending status\n */\nexport function filterTrendingHashtags(hashtags: Hashtag[]): Hashtag[] {\n  return hashtags.filter(h => h.is_trending);\n}\n\n/**\n * Filter hashtags by verification status\n */\nexport function filterVerifiedHashtags(hashtags: Hashtag[]): Hashtag[] {\n  return hashtags.filter(h => h.is_verified);\n}\n\n/**\n * Filter hashtags by usage threshold\n */\nexport function filterHashtagsByUsage(hashtags: Hashtag[], minUsage: number): Hashtag[] {\n  return hashtags.filter(h => h.usage_count >= minUsage);\n}\n\n// ============================================================================\n// HASHTAG EXPORT UTILITIES\n// ============================================================================\n\n/**\n * Export hashtags to CSV format\n */\nexport function exportHashtagsToCSV(hashtags: Hashtag[]): string {\n  const headers = ['Name', 'Display Name', 'Category', 'Usage Count', 'Engagement Rate', 'Trending Score', 'Created At'];\n  const rows = hashtags.map(h => [\n    h.name,\n    h.display_name,\n    h.category || '',\n    h.usage_count.toString(),\n    (h.engagement_rate || 0).toString(),\n    (h.trend_score || 0).toString(),\n    h.created_at\n  ]);\n  \n  return [headers, ...rows]\n    .map(row => row.map(cell => `\"${cell}\"`).join(','))\n    .join('\\n');\n}\n\n/**\n * Export hashtags to JSON format\n */\nexport function exportHashtagsToJSON(hashtags: Hashtag[]): string {\n  return JSON.stringify(hashtags, null, 2);\n}\n"],"names":["autoCategorizeHashtag","calculateEngagementRate","calculateGrowthRate","calculateTrendingScore","compareHashtagsByDate","compareHashtagsByFollowers","compareHashtagsByTrending","compareHashtagsByUsage","exportHashtagsToCSV","exportHashtagsToJSON","extractHashtagsFromText","filterHashtagsByCategory","filterHashtagsByUsage","filterTrendingHashtags","filterVerifiedHashtags","formatEngagementRate","formatGrowthRate","formatHashtagForDisplay","formatTrendingScore","formatUsageCount","generateHashtagSuggestions","getHashtagCategoryColor","getHashtagCategoryIcon","getHashtagPerformanceLevel","normalizeHashtagName","removeHashtagsFromText","validateHashtagName","name","normalizedName","errors","warnings","suggestions","length","push","test","includes","endsWith","startsWith","toLowerCase","is_valid","normalized_name","availability","is_available","similar_hashtags","conflict_reason","undefined","replace","trim","category","colors","politics","civics","social","environment","economy","health","education","technology","culture","sports","entertainment","news","local","national","international","custom","global","activism","community","business","science","art","music","food","travel","fashion","lifestyle","other","icons","count","toFixed","toString","rate","sign","score","views","interactions","current","previous","usageCount","growthRate","recency","engagementRate","weights","usage","growth","engagement","normalizedUsage","Math","log","normalizedGrowth","max","min","normalizedRecency","normalizedEngagement","input","existingHashtags","userHashtags","normalizedInput","exactMatches","filter","h","map","slice","partialMatches","relatedHashtags","usage_count","sort","a","b","Set","suggestion","text","hashtagRegex","matches","match","tag","trend_score","Date","created_at","getTime","hashtags","is_trending","is_verified","minUsage","headers","rows","display_name","engagement_rate","row","cell","join","JSON","stringify"],"mappings":"AAAA;;;;;;;CAOC;;;;;;;;;;;QA6KeA;eAAAA;;QA8HAC;eAAAA;;QAQAC;eAAAA;;QAQAC;eAAAA;;QA+HAC;eAAAA;;QAPAC;eAAAA;;QAPAC;eAAAA;;QAPAC;eAAAA;;QAgEAC;eAAAA;;QAoBAC;eAAAA;;QAzGAC;eAAAA;;QAqDAC;eAAAA;;QAqBAC;eAAAA;;QAdAC;eAAAA;;QAOAC;eAAAA;;QArMAC;eAAAA;;QAOAC;eAAAA;;QA/LAC;eAAAA;;QAuMAC;eAAAA;;QA3BAC;eAAAA;;QAoGAC;eAAAA;;QArQAC;eAAAA;;QAsCAC;eAAAA;;QAiNAC;eAAAA;;QA7QAC;eAAAA;;QA8UAC;eAAAA;;QA1YAC;eAAAA;;;AAAT,SAASA,oBAAoBC,IAAY;IAC9C,MAAMC,iBAAiBJ,qBAAqBG;IAC5C,MAAME,SAAmB,EAAE;IAC3B,MAAMC,WAAqB,EAAE;IAC7B,MAAMC,cAAwB,EAAE;IAEhC,mBAAmB;IACnB,IAAI,CAACH,kBAAkBA,eAAeI,MAAM,GAAG,GAAG;QAChDH,OAAOI,IAAI,CAAC;IACd;IAEA,IAAIL,eAAeI,MAAM,GAAG,IAAI;QAC9BH,OAAOI,IAAI,CAAC;IACd;IAEA,IAAI,CAAC,gBAAgBC,IAAI,CAACN,iBAAiB;QACzCC,OAAOI,IAAI,CAAC;IACd;IAEA,0BAA0B;IAC1B,IAAIL,eAAeO,QAAQ,CAAC,OAAO;QACjCL,SAASG,IAAI,CAAC;IAChB;IAEA,IAAIL,eAAeQ,QAAQ,CAAC,MAAM;QAChCN,SAASG,IAAI,CAAC;IAChB;IAEA,IAAIL,eAAeS,UAAU,CAAC,MAAM;QAClCP,SAASG,IAAI,CAAC;IAChB;IAEA,yCAAyC;IACzC,IAAIN,KAAKQ,QAAQ,CAAC,MAAM;QACtBJ,YAAYE,IAAI,CAACL;QACjBE,SAASG,IAAI,CAAC;IAChB;IAEA,IAAIL,mBAAmBA,eAAeU,WAAW,IAAI;QACnDP,YAAYE,IAAI,CAACL,eAAeU,WAAW;IAC7C;IAEA,OAAO;QACLX,MAAMC;QACNW,UAAUV,OAAOG,MAAM,KAAK;QAC5BH;QACAC;QACAC;QACAS,iBAAiBZ;QACjBa,cAAc;YACZC,cAAcb,OAAOG,MAAM,KAAK;YAChCW,kBAAkB,EAAE;YACpBC,iBAAiBf,OAAOG,MAAM,GAAG,IAAIH,MAAM,CAAC,EAAE,GAAGgB;QACnD;IACF;AACF;AAKO,SAASrB,qBAAqBG,IAAY;IAC/C,OAAOA,KACJW,WAAW,GACXQ,OAAO,CAAC,MAAM,IAAI,mBAAmB;KACrCA,OAAO,CAAC,QAAQ,KAAK,gCAAgC;KACrDC,IAAI;AACT;AAKO,SAAS9B,wBAAwBU,IAAY;IAClD,OAAO,CAAC,CAAC,EAAEH,qBAAqBG,OAAO;AACzC;AASO,SAASN,wBAAwB2B,QAAyB;IAC/D,MAAMC,SAA0C;QAC9CC,UAAU;QACVC,QAAQ;QACRC,QAAQ;QACRC,aAAa;QACbC,SAAS;QACTC,QAAQ;QACRC,WAAW;QACXC,YAAY;QACZC,SAAS;QACTC,QAAQ;QACRC,eAAe;QACfC,MAAM;QACNC,OAAO;QACPC,UAAU;QACVC,eAAe;QACfC,QAAQ;QACRC,QAAQ;QACRC,UAAU;QACVC,WAAW;QACXC,UAAU;QACVC,SAAS;QACTC,KAAK;QACLC,OAAO;QACPC,MAAM;QACNC,QAAQ;QACRC,SAAS;QACTC,WAAW;QACXC,OAAO;IACT;IAEA,OAAO5B,MAAM,CAACD,SAAS,IAAIC,OAAOgB,MAAM;AAC1C;AAKO,SAAS3C,uBAAuB0B,QAAyB;IAC9D,MAAM8B,QAAyC;QAC7C5B,UAAU;QACVC,QAAQ;QACRC,QAAQ;QACRC,aAAa;QACbC,SAAS;QACTC,QAAQ;QACRC,WAAW;QACXC,YAAY;QACZC,SAAS;QACTC,QAAQ;QACRC,eAAe;QACfC,MAAM;QACNC,OAAO;QACPC,UAAU;QACVC,eAAe;QACfC,QAAQ;QACRC,QAAQ;QACRC,UAAU;QACVC,WAAW;QACXC,UAAU;QACVC,SAAS;QACTC,KAAK;QACLC,OAAO;QACPC,MAAM;QACNC,QAAQ;QACRC,SAAS;QACTC,WAAW;QACXC,OAAO;IACT;IAEA,OAAOC,KAAK,CAAC9B,SAAS,IAAI8B,MAAMb,MAAM;AACxC;AAKO,SAASjE,sBAAsB2B,IAAY;IAChD,MAAMC,iBAAiBJ,qBAAqBG;IAE5C,+BAA+B;IAC/B,IAAI,sIAAsIO,IAAI,CAACN,iBAAiB;QAC9J,OAAO;IACT;IAEA,IAAI,+EAA+EM,IAAI,CAACN,iBAAiB;QACvG,OAAO;IACT;IAEA,uBAAuB;IACvB,IAAI,oGAAoGM,IAAI,CAACN,iBAAiB;QAC5H,OAAO;IACT;IAEA,kBAAkB;IAClB,IAAI,2FAA2FM,IAAI,CAACN,iBAAiB;QACnH,OAAO;IACT;IAEA,qBAAqB;IACrB,IAAI,6FAA6FM,IAAI,CAACN,iBAAiB;QACrH,OAAO;IACT;IAEA,sBAAsB;IACtB,IAAI,8FAA8FM,IAAI,CAACN,iBAAiB;QACtH,OAAO;IACT;IAEA,mBAAmB;IACnB,IAAI,0FAA0FM,IAAI,CAACN,iBAAiB;QAClH,OAAO;IACT;IAEA,kBAAkB;IAClB,IAAI,0FAA0FM,IAAI,CAACN,iBAAiB;QAClH,OAAO;IACT;IAEA,mBAAmB;IACnB,IAAI,6FAA6FM,IAAI,CAACN,iBAAiB;QACrH,OAAO;IACT;IAEA,kBAAkB;IAClB,IAAI,wGAAwGM,IAAI,CAACN,iBAAiB;QAChI,OAAO;IACT;IAEA,yBAAyB;IACzB,IAAI,0FAA0FM,IAAI,CAACN,iBAAiB;QAClH,OAAO;IACT;IAEA,gBAAgB;IAChB,IAAI,qFAAqFM,IAAI,CAACN,iBAAiB;QAC7G,OAAO;IACT;IAEA,sBAAsB;IACtB,IAAI,2EAA2EM,IAAI,CAACN,iBAAiB;QACnG,OAAO;IACT;IAEA,IAAI,4EAA4EM,IAAI,CAACN,iBAAiB;QACpG,OAAO;IACT;IAEA,IAAI,mFAAmFM,IAAI,CAACN,iBAAiB;QAC3G,OAAO;IACT;IAEA,OAAO;AACT;AASO,SAAST,iBAAiB4D,KAAa;IAC5C,IAAIA,SAAS,SAAS;QACpB,OAAO,GAAG,AAACA,CAAAA,QAAQ,OAAM,EAAGC,OAAO,CAAC,GAAG,CAAC,CAAC;IAC3C,OAAO,IAAID,SAAS,MAAM;QACxB,OAAO,GAAG,AAACA,CAAAA,QAAQ,IAAG,EAAGC,OAAO,CAAC,GAAG,CAAC,CAAC;IACxC;IACA,OAAOD,MAAME,QAAQ;AACvB;AAKO,SAASlE,qBAAqBmE,IAAY;IAC/C,OAAO,GAAG,AAACA,CAAAA,OAAO,GAAE,EAAGF,OAAO,CAAC,GAAG,CAAC,CAAC;AACtC;AAKO,SAAShE,iBAAiBkE,IAAY;IAC3C,MAAMC,OAAOD,QAAQ,IAAI,MAAM;IAC/B,OAAO,GAAGC,OAAOD,KAAKF,OAAO,CAAC,GAAG,CAAC,CAAC;AACrC;AAKO,SAAS9D,oBAAoBkE,KAAa;IAC/C,IAAIA,SAAS,MAAM;QACjB,OAAO,GAAG,AAACA,CAAAA,QAAQ,IAAG,EAAGJ,OAAO,CAAC,GAAG,CAAC,CAAC;IACxC;IACA,OAAOI,MAAMH,QAAQ;AACvB;AASO,SAAShF,wBAAwBoF,KAAa,EAAEC,YAAoB;IACzE,IAAID,UAAU,GAAG,OAAO;IACxB,OAAOC,eAAeD;AACxB;AAKO,SAASnF,oBAAoBqF,OAAe,EAAEC,QAAgB;IACnE,IAAIA,aAAa,GAAG,OAAOD,UAAU,IAAI,MAAM;IAC/C,OAAO,AAAEA,CAAAA,UAAUC,QAAO,IAAKA,WAAY;AAC7C;AAKO,SAASrF,uBACdsF,UAAkB,EAClBC,UAAkB,EAClBC,OAAe,EACfC,cAAsB;IAEtB,MAAMC,UAAU;QACdC,OAAO;QACPC,QAAQ;QACRJ,SAAS;QACTK,YAAY;IACd;IAEA,MAAMC,kBAAkBC,KAAKC,GAAG,CAACV,aAAa,KAAKS,KAAKC,GAAG,CAAC;IAC5D,MAAMC,mBAAmBF,KAAKG,GAAG,CAAC,GAAGH,KAAKI,GAAG,CAAC,GAAGZ,aAAa;IAC9D,MAAMa,oBAAoBL,KAAKG,GAAG,CAAC,GAAGH,KAAKI,GAAG,CAAC,GAAGX;IAClD,MAAMa,uBAAuBN,KAAKG,GAAG,CAAC,GAAGH,KAAKI,GAAG,CAAC,GAAGV;IAErD,OAAO,AACLK,CAAAA,kBAAkBJ,QAAQC,KAAK,GAC/BM,mBAAmBP,QAAQE,MAAM,GACjCQ,oBAAoBV,QAAQF,OAAO,GACnCa,uBAAuBX,QAAQG,UAAU,AAAD,IACtC;AACN;AAKO,SAASzE,2BAA2B6D,KAAa;IACtD,IAAIA,SAAS,IAAI,OAAO;IACxB,IAAIA,SAAS,IAAI,OAAO;IACxB,IAAIA,SAAS,IAAI,OAAO;IACxB,OAAO;AACT;AASO,SAAShE,2BACdqF,KAAa,EACbC,gBAA2B,EAC3BC,eAAyB,EAAE;IAE3B,MAAMC,kBAAkBpF,qBAAqBiF;IAC7C,MAAM1E,cAAwB,EAAE;IAEhC,gBAAgB;IAChB,MAAM8E,eAAeH,iBAClBI,MAAM,CAACC,CAAAA,IAAKA,EAAEpF,IAAI,CAACQ,QAAQ,CAACyE,kBAC5BI,GAAG,CAACD,CAAAA,IAAKA,EAAEpF,IAAI,EACfsF,KAAK,CAAC,GAAG;IAEZlF,YAAYE,IAAI,IAAI4E;IAEpB,kBAAkB;IAClB,MAAMK,iBAAiBR,iBACpBI,MAAM,CAACC,CAAAA,IAAKA,EAAEpF,IAAI,CAACU,UAAU,CAACuE,kBAC9BI,GAAG,CAACD,CAAAA,IAAKA,EAAEpF,IAAI,EACfsF,KAAK,CAAC,GAAG;IAEZlF,YAAYE,IAAI,IAAIiF;IAEpB,mBAAmB;IACnB,MAAMC,kBAAkBT,iBACrBI,MAAM,CAACC,CAAAA,IAAKA,EAAE/D,QAAQ,IAAI+D,EAAEK,WAAW,GAAG,KAC1CC,IAAI,CAAC,CAACC,GAAGC,IAAMA,EAAEH,WAAW,GAAGE,EAAEF,WAAW,EAC5CJ,GAAG,CAACD,CAAAA,IAAKA,EAAEpF,IAAI,EACfsF,KAAK,CAAC,GAAG;IAEZlF,YAAYE,IAAI,IAAIkF;IAEpB,iDAAiD;IACjD,OAAO;WAAI,IAAIK,IAAIzF;KAAa,CAC7B+E,MAAM,CAACW,CAAAA,aAAc,CAACd,aAAaxE,QAAQ,CAACsF,aAC5CR,KAAK,CAAC,GAAG;AACd;AAKO,SAASvG,wBAAwBgH,IAAY;IAClD,MAAMC,eAAe;IACrB,MAAMC,UAAUF,KAAKG,KAAK,CAACF,iBAAiB,EAAE;IAC9C,OAAOC,QAAQZ,GAAG,CAACc,CAAAA,MAAOtG,qBAAqBsG;AACjD;AAKO,SAASrG,uBAAuBiG,IAAY;IACjD,MAAMC,eAAe;IACrB,OAAOD,KAAK5E,OAAO,CAAC6E,cAAc,IAAI5E,IAAI;AAC5C;AASO,SAASxC,uBAAuB+G,CAAU,EAAEC,CAAU;IAC3D,OAAOA,EAAEH,WAAW,GAAGE,EAAEF,WAAW;AACtC;AAKO,SAAS9G,0BAA0BgH,CAAU,EAAEC,CAAU;IAC9D,OAAO,AAACA,CAAAA,EAAEQ,WAAW,IAAI,CAAA,IAAMT,CAAAA,EAAES,WAAW,IAAI,CAAA;AAClD;AAKO,SAAS1H,2BAA2BiH,CAAU,EAAEC,CAAU;IAC/D,OAAOA,EAAEH,WAAW,GAAGE,EAAEF,WAAW;AACtC;AAKO,SAAShH,sBAAsBkH,CAAU,EAAEC,CAAU;IAC1D,OAAO,IAAIS,KAAKT,EAAEU,UAAU,EAAEC,OAAO,KAAK,IAAIF,KAAKV,EAAEW,UAAU,EAAEC,OAAO;AAC1E;AASO,SAASvH,yBAAyBwH,QAAmB,EAAEnF,QAAyB;IACrF,OAAOmF,SAASrB,MAAM,CAACC,CAAAA,IAAKA,EAAE/D,QAAQ,KAAKA;AAC7C;AAKO,SAASnC,uBAAuBsH,QAAmB;IACxD,OAAOA,SAASrB,MAAM,CAACC,CAAAA,IAAKA,EAAEqB,WAAW;AAC3C;AAKO,SAAStH,uBAAuBqH,QAAmB;IACxD,OAAOA,SAASrB,MAAM,CAACC,CAAAA,IAAKA,EAAEsB,WAAW;AAC3C;AAKO,SAASzH,sBAAsBuH,QAAmB,EAAEG,QAAgB;IACzE,OAAOH,SAASrB,MAAM,CAACC,CAAAA,IAAKA,EAAEK,WAAW,IAAIkB;AAC/C;AASO,SAAS9H,oBAAoB2H,QAAmB;IACrD,MAAMI,UAAU;QAAC;QAAQ;QAAgB;QAAY;QAAe;QAAmB;QAAkB;KAAa;IACtH,MAAMC,OAAOL,SAASnB,GAAG,CAACD,CAAAA,IAAK;YAC7BA,EAAEpF,IAAI;YACNoF,EAAE0B,YAAY;YACd1B,EAAE/D,QAAQ,IAAI;YACd+D,EAAEK,WAAW,CAACnC,QAAQ;YACrB8B,CAAAA,EAAE2B,eAAe,IAAI,CAAA,EAAGzD,QAAQ;YAChC8B,CAAAA,EAAEgB,WAAW,IAAI,CAAA,EAAG9C,QAAQ;YAC7B8B,EAAEkB,UAAU;SACb;IAED,OAAO;QAACM;WAAYC;KAAK,CACtBxB,GAAG,CAAC2B,CAAAA,MAAOA,IAAI3B,GAAG,CAAC4B,CAAAA,OAAQ,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,EAAEC,IAAI,CAAC,MAC7CA,IAAI,CAAC;AACV;AAKO,SAASpI,qBAAqB0H,QAAmB;IACtD,OAAOW,KAAKC,SAAS,CAACZ,UAAU,MAAM;AACxC"}