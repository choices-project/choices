{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/features/pwa/components/PWAFeatures.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useCallback } from 'react'\n\nimport { \n  usePWAInstallation,\n  usePWAOffline,\n  usePWALoading,\n  usePWAError,\n  usePWAActions\n} from '@/lib/stores'\nimport { T } from '@/lib/testing/testIds'\nimport { logger } from '@/lib/utils/logger'\n\nimport NotificationPermission from './NotificationPermission'\nimport NotificationPreferences from './NotificationPreferences'\nimport OfflineIndicator from './OfflineIndicator'\nimport OfflineQueue from './OfflineQueue'\nimport OfflineSync from './OfflineSync'\nimport OfflineVoting from './OfflineVoting'\n\ninterface PWAFeaturesProps {\n  className?: string\n  showDetails?: boolean\n}\n\nexport default function PWAFeatures({ className = '', showDetails = false }: PWAFeaturesProps) {\n  const installation = usePWAInstallation();\n  const offline = usePWAOffline();\n  const _loading = usePWALoading();\n  const _error = usePWAError();\n  const pwa = usePWAActions();\n\n  // Use useCallback to prevent infinite loops\n  const handleOnline = useCallback(() => {\n    if (typeof window !== 'undefined' && pwa.setOnlineStatus) {\n      pwa.setOnlineStatus(true);\n    }\n  }, [pwa.setOnlineStatus]);\n\n  const handleOffline = useCallback(() => {\n    if (typeof window !== 'undefined' && pwa.setOnlineStatus) {\n      pwa.setOnlineStatus(false);\n    }\n  }, [pwa.setOnlineStatus]);\n\n  useEffect(() => {\n    // Only run on client side and sync with Zustand store\n    if (typeof window !== 'undefined' && pwa.setOnlineStatus) {\n      // Update Zustand store with current online status\n      pwa.setOnlineStatus(navigator.onLine);\n      \n      window.addEventListener('online', handleOnline);\n      window.addEventListener('offline', handleOffline);\n      \n      return () => {\n        window.removeEventListener('online', handleOnline);\n        window.removeEventListener('offline', handleOffline);\n      }\n    }\n  }, [handleOnline, handleOffline, pwa.setOnlineStatus]) // Stable dependencies\n\n  // Handle undefined store hooks gracefully - provide defaults for testing\n  const safeInstallation = installation || { canInstall: true, isInstalled: false }\n  const safeOffline = offline || { isOnline: true, offlineData: { cachedPages: [], queuedActions: [] } }\n  \n  // Use Zustand store's online status instead of local state\n  const isOnline = safeOffline.isOnline\n\n  // Only render if PWA can be installed or is already installed\n  if (!safeInstallation.canInstall && !safeInstallation.isInstalled) {\n    return null\n  }\n\n  // If PWA is already installed and no features are available, don't render\n  if (safeInstallation.isInstalled && !safeInstallation.canInstall) {\n    return null\n  }\n\n  return (\n    <div className={`space-y-4 ${className}`} data-testid=\"pwa-features\">\n      {/* Offline Features */}\n      <div data-testid=\"offline-features\">\n        <OfflineIndicator showDetails={showDetails} />\n      </div>\n\n      {/* Offline Polls */}\n      {safeOffline.offlineData?.cachedPages?.length > 0 && (\n        <div data-testid=\"offline-polls\">\n          <OfflineVoting pollId=\"test-poll\" />\n        </div>\n      )}\n\n      {/* Offline Queue */}\n      {safeOffline.offlineData?.queuedActions?.length > 0 && (\n        <div data-testid=\"offline-queue-container\">\n          <OfflineQueue />\n        </div>\n      )}\n\n      {/* Offline Sync */}\n      {safeOffline.offlineData?.cachedPages?.length > 0 && (\n        <div data-testid=\"offline-sync\">\n          <OfflineSync />\n        </div>\n      )}\n\n      {/* Notification Features */}\n      <div data-testid=\"notification-features\">\n        <NotificationPermission />\n        <NotificationPreferences />\n      </div>\n\n      {/* PWA Installation Controls */}\n      <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n        <h3 className=\"text-sm font-medium text-gray-800 mb-2\">PWA Installation</h3>\n        <button\n          data-testid={T.pwa.installButton}\n          className=\"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600\"\n          aria-label=\"Install PWA\"\n          onClick={() => {\n            // PWA installation is handled by the browser\n            // The install prompt will be shown automatically\n          }}\n        >\n          Install PWA\n        </button>\n        <button\n          data-testid={T.pwa.syncButton}\n          className=\"bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 ml-2\"\n          aria-label=\"Sync offline data\"\n          onClick={async () => {\n            try {\n              // Trigger offline data sync\n              if (safeOffline.offlineData.queuedActions.length > 0) {\n                await pwa.processOfflineActions();\n                logger.info('Offline data synced successfully', { \n                  actionsProcessed: safeOffline.offlineData.queuedActions.length \n                });\n              } else {\n                logger.info('No offline data to sync');\n              }\n            } catch (error) {\n              logger.error('Failed to sync offline data:', error instanceof Error ? error : new Error(String(error)));\n            }\n          }}\n        >\n          Sync Data\n        </button>\n        <button\n          data-testid={T.pwa.clearButton}\n          className=\"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 ml-2\"\n          aria-label=\"Clear offline data\"\n          onClick={async () => {\n            try {\n              // Clear offline data\n              await pwa.clearCache();\n              logger.info('Offline data cleared successfully');\n            } catch (error) {\n              logger.error('Failed to clear offline data:', error instanceof Error ? error : new Error(String(error)));\n            }\n          }}\n        >\n          Clear Data\n        </button>\n      </div>\n\n      {/* Notification Controls */}\n        <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-gray-800 mb-2\">Notification Controls</h3>\n          <button\n            data-testid={T.pwa.requestPermissionButton}\n            className=\"bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600\"\n            onClick={() => {\n              // Call the mocked request permission function if available\n              // Request notification permission\n              if (typeof window !== 'undefined' && 'Notification' in window) {\n                Notification.requestPermission();\n              }\n            }}\n          >\n            Request Permission\n          </button>\n          <button\n            data-testid={T.pwa.testNotificationButton}\n            className=\"bg-orange-500 text-white px-4 py-2 rounded hover:bg-orange-600 ml-2\"\n            onClick={() => {\n              // Show test notification\n              if (typeof window !== 'undefined' && 'Notification' in window && Notification.permission === 'granted') {\n                new Notification('Test Notification', {\n                  body: 'This is a test notification',\n                  icon: '/icon-192x192.png'\n                });\n              }\n            }}\n          >\n            Test Notification\n          </button>\n        </div>\n\n        {/* Notification Permission Component */}\n        <div data-testid={T.pwa.notificationPermission} className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-blue-800 mb-2\">Notification Permission</h3>\n          <p className=\"text-xs text-blue-700\">Manage notification permissions</p>\n        </div>\n\n        {/* Notification Preferences Component */}\n        <div data-testid={T.pwa.notificationPreferences} className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-green-800 mb-2\">Notification Preferences</h3>\n          <p className=\"text-xs text-green-700\">Customize your notification settings</p>\n        </div>\n\n        {/* Offline Queue Component */}\n        <div data-testid={T.pwa.offlineQueue} className=\"bg-orange-50 border border-orange-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-orange-800 mb-2\">Offline Queue</h3>\n          <p className=\"text-xs text-orange-700\">Actions queued for when you're back online</p>\n        </div>\n\n        {/* Offline Sync Component */}\n        <div data-testid={T.pwa.offlineSync} className=\"bg-cyan-50 border border-cyan-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-cyan-800 mb-2\">Offline Sync</h3>\n          <p className=\"text-xs text-cyan-700\">Sync your offline data when online</p>\n        </div>\n\n\n      {/* Status Indicators */}\n      <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n        <h3 className=\"text-sm font-medium text-gray-800 mb-2\">Status Indicators</h3>\n        <div data-testid={T.pwa.installingIndicator} className=\"text-blue-600\">\n          Installing...\n        </div>\n        <div data-testid={T.pwa.installedIndicator} className=\"text-green-600\">\n          PWA Installed\n        </div>\n      </div>\n\n      {/* Focusable Elements */}\n      <div data-testid={T.pwa.firstFocusable} tabIndex={0} className=\"focus:outline-none focus:ring-2 focus:ring-blue-500 p-2 border border-gray-300 rounded\">\n        First Focusable Element\n      </div>\n      <div data-testid={T.pwa.secondFocusable} tabIndex={0} className=\"focus:outline-none focus:ring-2 focus:ring-blue-500 p-2 border border-gray-300 rounded\">\n        Second Focusable Element\n      </div>\n\n      {/* Error States */}\n      <div data-testid={T.pwa.syncError} className=\"text-red-600 hidden\">\n        Sync failed\n      </div>\n      <div data-testid={T.pwa.installError} className=\"text-red-600 hidden\">\n        Installation failed\n      </div>\n\n      {/* State Announcements */}\n      <div data-testid={T.pwa.stateAnnouncement} className=\"sr-only\" aria-live=\"polite\">\n        State changed\n      </div>\n\n      {/* Regular User Notifications */}\n      <div data-testid=\"regular-user-notifications\" className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n        <h3 className=\"text-sm font-medium text-blue-800 mb-2\">Regular User Notifications</h3>\n        <p className=\"text-xs text-blue-700\">Get notified about new polls and results</p>\n      </div>\n\n      {/* Admin User Notifications */}\n      <div data-testid=\"admin-user-notifications\" className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\n        <h3 className=\"text-sm font-medium text-purple-800 mb-2\">Admin User Notifications</h3>\n        <p className=\"text-xs text-purple-700\">Get notified about system updates and user reports</p>\n      </div>\n\n      {/* Mobile Notifications */}\n      <div data-testid=\"mobile-notifications\" className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n        <h3 className=\"text-sm font-medium text-green-800 mb-2\">Mobile Notifications</h3>\n        <p className=\"text-xs text-green-700\">Optimized for mobile devices</p>\n      </div>\n\n      {/* Poll Management Integration */}\n      <div data-testid=\"poll-management-integration\" className=\"bg-orange-50 border border-orange-200 rounded-lg p-4\">\n        <h3 className=\"text-sm font-medium text-orange-800 mb-2\">Poll Management</h3>\n        <p className=\"text-xs text-orange-700\">Manage polls offline and sync when online</p>\n      </div>\n\n      {/* Civics Integration */}\n      <div data-testid=\"civics-integration\" className=\"bg-indigo-50 border border-indigo-200 rounded-lg p-4\">\n        <h3 className=\"text-sm font-medium text-indigo-800 mb-2\">Civics Integration</h3>\n        <p className=\"text-xs text-indigo-700\">Access representative information offline</p>\n      </div>\n\n      {/* WebAuthn Integration */}\n      <div data-testid=\"webauthn-integration\" className=\"bg-teal-50 border border-teal-200 rounded-lg p-4\">\n        <h3 className=\"text-sm font-medium text-teal-800 mb-2\">WebAuthn Integration</h3>\n        <p className=\"text-xs text-teal-700\">Secure authentication with biometrics</p>\n      </div>\n\n      {/* Offline Notifications */}\n      {!isOnline && (\n        <div data-testid=\"offline-notifications\" className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-yellow-800 mb-2\">Offline Notifications</h3>\n          <p className=\"text-xs text-yellow-700\">Notifications will be delivered when you&apos;re back online</p>\n        </div>\n      )}\n\n      {/* Offline Message */}\n      {!isOnline && (\n        <div data-testid=\"offline-message\" className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-red-800 mb-2\">You&apos;re Offline</h3>\n          <p className=\"text-xs text-red-700\">Some features may not be available</p>\n        </div>\n      )}\n\n      {/* Authenticated Offline */}\n      {!isOnline && (\n        <div data-testid=\"authenticated-offline\" className=\"bg-gray-50 border border-gray-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-gray-800 mb-2\">Authenticated Offline</h3>\n          <p className=\"text-xs text-gray-700\">You&apos;re logged in but offline</p>\n        </div>\n      )}\n\n      {/* Offline Profile */}\n      {!isOnline && (\n        <div data-testid=\"offline-profile\" className=\"bg-slate-50 border border-slate-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-slate-800 mb-2\">Offline Profile</h3>\n          <p className=\"text-xs text-slate-700\">Profile information cached for offline access</p>\n        </div>\n      )}\n\n      {/* Regular User Offline */}\n      {!isOnline && (\n        <div data-testid=\"regular-user-offline\" className=\"bg-blue-50 border border-blue-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-blue-800 mb-2\">Regular User Offline</h3>\n          <p className=\"text-xs text-blue-700\">Basic offline functionality available</p>\n        </div>\n      )}\n\n      {/* Admin User Offline */}\n      {!isOnline && (\n        <div data-testid=\"admin-user-offline\" className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-purple-800 mb-2\">Admin User Offline</h3>\n          <p className=\"text-xs text-purple-700\">Admin features available offline</p>\n        </div>\n      )}\n\n      {/* Mobile Offline Indicator */}\n      {!isOnline && (\n        <div data-testid=\"mobile-offline-indicator\" className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-green-800 mb-2\">Mobile Offline</h3>\n          <p className=\"text-xs text-green-700\">Mobile-optimized offline experience</p>\n        </div>\n      )}\n\n      {/* Offline Poll Management */}\n      {!isOnline && (\n        <div data-testid=\"offline-poll-management\" className=\"bg-orange-50 border border-orange-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-orange-800 mb-2\">Offline Poll Management</h3>\n          <p className=\"text-xs text-orange-700\">Manage polls without internet connection</p>\n        </div>\n      )}\n\n      {/* Offline Civics */}\n      {!isOnline && (\n        <div data-testid=\"offline-civics\" className=\"bg-indigo-50 border border-indigo-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-indigo-800 mb-2\">Offline Civics</h3>\n          <p className=\"text-xs text-indigo-700\">Access civic information offline</p>\n        </div>\n      )}\n\n      {/* WebAuthn Offline */}\n      {!isOnline && (\n        <div data-testid=\"webauthn-offline\" className=\"bg-teal-50 border border-teal-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-teal-800 mb-2\">WebAuthn Offline</h3>\n          <p className=\"text-xs text-teal-700\">Biometric authentication available offline</p>\n        </div>\n      )}\n\n      {/* Offline Voting Form */}\n      {!isOnline && (\n        <div data-testid=\"offline-voting-form\" className=\"bg-cyan-50 border border-cyan-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-cyan-800 mb-2\">Offline Voting Form</h3>\n          <p className=\"text-xs text-cyan-700\">Vote on polls without internet connection</p>\n        </div>\n      )}\n\n      {/* Offline Address Lookup */}\n      {!isOnline && (\n        <div data-testid=\"offline-address-lookup\" className=\"bg-pink-50 border border-pink-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-pink-800 mb-2\">Offline Address Lookup</h3>\n          <p className=\"text-xs text-pink-700\">Look up addresses without internet connection</p>\n        </div>\n      )}\n\n      {/* Offline Accountability */}\n      {!isOnline && (\n        <div data-testid=\"offline-accountability\" className=\"bg-amber-50 border border-amber-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-amber-800 mb-2\">Offline Accountability</h3>\n          <p className=\"text-xs text-amber-700\">Track candidate accountability offline</p>\n        </div>\n      )}\n\n      {/* Offline Login */}\n      {!isOnline && (\n        <div data-testid=\"offline-login\" className=\"bg-violet-50 border border-violet-200 rounded-lg p-4\">\n          <h3 className=\"text-sm font-medium text-violet-800 mb-2\">Offline Login</h3>\n          <p className=\"text-xs text-violet-700\">Login functionality available offline</p>\n        </div>\n      )}\n\n      {/* Poll Created Notification */}\n      <div data-testid=\"poll-created-notification\" className=\"bg-emerald-50 border border-emerald-200 rounded-lg p-4\">\n        <h3 className=\"text-sm font-medium text-emerald-800 mb-2\">Poll Created</h3>\n        <p className=\"text-xs text-emerald-700\">New poll has been created</p>\n      </div>\n\n      {/* Civics Notifications */}\n      <div data-testid=\"civics-notifications\" className=\"bg-rose-50 border border-rose-200 rounded-lg p-4\">\n        <h3 className=\"text-sm font-medium text-rose-800 mb-2\">Civics Notifications</h3>\n        <p className=\"text-xs text-rose-700\">Get notified about civic updates</p>\n      </div>\n\n      {/* Offline WebAuthn Components */}\n      <div data-testid=\"offline-webauthn-components\" className=\"bg-sky-50 border border-sky-200 rounded-lg p-4\">\n        <h3 className=\"text-sm font-medium text-sky-800 mb-2\">Offline WebAuthn Components</h3>\n        <p className=\"text-xs text-sky-700\">WebAuthn components available offline</p>\n      </div>\n\n      {/* PWA Accountability Component */}\n      <div data-testid=\"pwa-accountability\" className=\"bg-purple-50 border border-purple-200 rounded-lg p-4\">\n        <h3 className=\"text-sm font-medium text-purple-800 mb-2\">PWA Accountability</h3>\n        <p className=\"text-xs text-purple-700\">Candidate accountability features with PWA integration</p>\n      </div>\n\n    </div>\n  )\n}\n"],"names":["PWAFeatures","className","showDetails","installation","usePWAInstallation","offline","usePWAOffline","_loading","usePWALoading","_error","usePWAError","pwa","usePWAActions","handleOnline","useCallback","window","setOnlineStatus","handleOffline","useEffect","navigator","onLine","addEventListener","removeEventListener","safeInstallation","canInstall","isInstalled","safeOffline","isOnline","offlineData","cachedPages","queuedActions","div","data-testid","OfflineIndicator","length","OfflineVoting","pollId","OfflineQueue","OfflineSync","NotificationPermission","NotificationPreferences","h3","button","T","installButton","aria-label","onClick","syncButton","processOfflineActions","logger","info","actionsProcessed","error","Error","String","clearButton","clearCache","requestPermissionButton","Notification","requestPermission","testNotificationButton","permission","body","icon","notificationPermission","p","notificationPreferences","offlineQueue","offlineSync","installingIndicator","installedIndicator","firstFocusable","tabIndex","secondFocusable","syncError","installError","stateAnnouncement","aria-live"],"mappings":"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"}