{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/basic-functionality.test.ts"],"sourcesContent":["/**\n * Basic Functionality Tests\n * \n * Tests core functionality without heavy mocking\n * Focuses on actual working code\n */\n\nimport { describe, it, expect } from '@jest/globals';\n\ndescribe('Basic Functionality', () => {\n  it('should have working math operations', () => {\n    expect(2 + 2).toBe(4);\n    expect(10 - 5).toBe(5);\n    expect(3 * 4).toBe(12);\n    expect(8 / 2).toBe(4);\n  });\n\n  it('should have working string operations', () => {\n    expect('hello'.toUpperCase()).toBe('HELLO');\n    expect('world'.toLowerCase()).toBe('world');\n    expect('test'.length).toBe(4);\n  });\n\n  it('should have working array operations', () => {\n    const arr = [1, 2, 3, 4, 5];\n    expect(arr.length).toBe(5);\n    expect(arr.includes(3)).toBe(true);\n    expect(arr.filter(n => n > 3)).toEqual([4, 5]);\n  });\n\n  it('should have working object operations', () => {\n    const obj = { name: 'test', value: 42 };\n    expect(obj.name).toBe('test');\n    expect(obj.value).toBe(42);\n    expect(Object.keys(obj)).toEqual(['name', 'value']);\n  });\n});\n\ndescribe('Core Business Logic', () => {\n  it('should validate poll creation data', () => {\n    const pollData = {\n      title: 'Test Poll',\n      options: ['Option 1', 'Option 2'],\n      votingMethod: 'single'\n    };\n\n    expect(pollData.title).toBeTruthy();\n    expect(pollData.options.length).toBeGreaterThanOrEqual(2);\n    expect(pollData.votingMethod).toBe('single');\n  });\n\n  it('should validate vote data', () => {\n    const voteData = {\n      pollId: 'poll-123',\n      optionId: 'option-1',\n      userId: 'user-456'\n    };\n\n    expect(voteData.pollId).toBeTruthy();\n    expect(voteData.optionId).toBeTruthy();\n    expect(voteData.userId).toBeTruthy();\n  });\n\n  it('should validate user data', () => {\n    const userData = {\n      id: 'user-123',\n      email: 'test@example.com',\n      username: 'testuser'\n    };\n\n    expect(userData.id).toBeTruthy();\n    expect(userData.email).toContain('@');\n    expect(userData.username).toBeTruthy();\n  });\n});\n\ndescribe('Error Handling', () => {\n  it('should handle null values gracefully', () => {\n    const value = null;\n    expect(value).toBeNull();\n    expect(value === null).toBe(true);\n  });\n\n  it('should handle undefined values gracefully', () => {\n    const value = undefined;\n    expect(value).toBeUndefined();\n    expect(value === undefined).toBe(true);\n  });\n\n  it('should handle empty strings', () => {\n    const value = '';\n    expect(value).toBe('');\n    expect(value.length).toBe(0);\n  });\n\n  it('should handle empty arrays', () => {\n    const value = [];\n    expect(value).toEqual([]);\n    expect(value.length).toBe(0);\n  });\n});\n\ndescribe('Data Transformation', () => {\n  it('should transform poll data correctly', () => {\n    const rawPoll = {\n      id: 'poll-123',\n      title: 'Test Poll',\n      options: [\n        { id: 'opt-1', text: 'Option 1', votes: 0 },\n        { id: 'opt-2', text: 'Option 2', votes: 0 }\n      ]\n    };\n\n    const transformedPoll = {\n      ...rawPoll,\n      totalVotes: rawPoll.options.reduce((sum, opt) => sum + opt.votes, 0),\n      createdAt: new Date().toISOString()\n    };\n\n    expect(transformedPoll.totalVotes).toBe(0);\n    expect(transformedPoll.createdAt).toBeDefined();\n    expect(transformedPoll.options).toHaveLength(2);\n  });\n\n  it('should calculate vote percentages correctly', () => {\n    const votes = [10, 20, 30];\n    const total = votes.reduce((sum, vote) => sum + vote, 0);\n    \n    const percentages = votes.map(vote => (vote / total) * 100);\n    \n    expect(percentages[0]).toBeCloseTo(16.67, 1);\n    expect(percentages[1]).toBeCloseTo(33.33, 1);\n    expect(percentages[2]).toBeCloseTo(50, 1);\n    expect(percentages.reduce((sum, p) => sum + p, 0)).toBeCloseTo(100, 5);\n  });\n});\n"],"names":["describe","it","expect","toBe","toUpperCase","toLowerCase","length","arr","includes","filter","n","toEqual","obj","name","value","Object","keys","pollData","title","options","votingMethod","toBeTruthy","toBeGreaterThanOrEqual","voteData","pollId","optionId","userId","userData","id","email","username","toContain","toBeNull","undefined","toBeUndefined","rawPoll","text","votes","transformedPoll","totalVotes","reduce","sum","opt","createdAt","Date","toISOString","toBeDefined","toHaveLength","total","vote","percentages","map","toBeCloseTo","p"],"mappings":"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"}