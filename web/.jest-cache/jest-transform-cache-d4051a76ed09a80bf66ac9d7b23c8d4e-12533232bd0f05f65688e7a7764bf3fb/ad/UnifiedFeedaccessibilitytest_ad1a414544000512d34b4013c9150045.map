{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/features/feeds/UnifiedFeed.accessibility.test.tsx"],"sourcesContent":["/**\n * UnifiedFeed Accessibility Tests\n * \n * Comprehensive accessibility testing for the UnifiedFeed component\n * Tests WCAG 2.1 AA compliance and screen reader support\n * \n * Created: January 19, 2025\n * Status: âœ… PRODUCTION READY\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { jest } from '@jest/globals';\nimport { axe, toHaveNoViolations } from 'jest-axe';\nimport { UnifiedFeed } from '@/features/feeds/components/UnifiedFeed';\nimport { useFeeds } from '@/lib/stores/feedsStore';\nimport { useHashtags } from '@/features/hashtags/hooks/useHashtags';\n\n// Extend Jest matchers\nexpect.extend(toHaveNoViolations);\n\n// Mock the stores\njest.mock('@/lib/stores/feedsStore');\njest.mock('@/features/hashtags/hooks/useHashtags');\n\nconst mockUseFeeds = useFeeds as jest.MockedFunction<typeof useFeeds>;\nconst mockUseHashtags = useHashtags as jest.MockedFunction<typeof useHashtags>;\n\n// Mock data\nconst mockFeedData = [\n  {\n    id: '1',\n    type: 'poll',\n    title: 'Test Poll',\n    description: 'This is a test poll',\n    hashtags: ['politics', 'election'],\n    created_at: '2025-01-19T10:00:00Z',\n    author: 'Test User',\n    engagement: {\n      likes: 10,\n      shares: 5,\n      comments: 3\n    }\n  },\n  {\n    id: '2',\n    type: 'post',\n    title: 'Test Post',\n    description: 'This is a test post',\n    hashtags: ['news', 'update'],\n    created_at: '2025-01-19T09:00:00Z',\n    author: 'Test User 2',\n    engagement: {\n      likes: 15,\n      shares: 8,\n      comments: 12\n    }\n  }\n];\n\nconst mockHashtagData = [\n  {\n    id: '1',\n    name: 'politics',\n    display_name: 'Politics',\n    usage_count: 100,\n    follower_count: 50,\n    is_trending: true,\n    trend_score: 0.8,\n    created_at: '2025-01-19T10:00:00Z',\n    updated_at: '2025-01-19T10:00:00Z',\n    is_verified: false,\n    is_featured: false\n  }\n];\n\ndescribe('UnifiedFeed Accessibility Tests', () => {\n  beforeEach(() => {\n    // Mock store implementations\n    mockUseFeeds.mockReturnValue({\n      feeds: mockFeedData,\n      loading: false,\n      error: null,\n      refreshFeeds: jest.fn(),\n      likeFeed: jest.fn(),\n      shareFeed: jest.fn(),\n      commentFeed: jest.fn(),\n      bookmarkFeed: jest.fn()\n    });\n\n    mockUseHashtags.mockReturnValue({\n      hashtags: mockHashtagData,\n      loading: false,\n      error: null,\n      searchHashtags: jest.fn(),\n      followHashtag: jest.fn(),\n      unfollowHashtag: jest.fn(),\n      getTrendingHashtags: jest.fn()\n    });\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('WCAG 2.1 AA Compliance', () => {\n    test('should have no accessibility violations', async () => {\n      const { container } = render(<UnifiedFeed />);\n      const results = await axe(container);\n      expect(results).toHaveNoViolations();\n    });\n\n    test('should have proper heading structure', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for main heading\n      const mainHeading = screen.getByRole('heading', { level: 1 });\n      expect(mainHeading).toBeInTheDocument();\n      expect(mainHeading).toHaveTextContent('Unified Feed');\n    });\n\n    test('should have proper color contrast', async () => {\n      const { container } = render(<UnifiedFeed />);\n      const results = await axe(container, {\n        rules: {\n          'color-contrast': { enabled: true }\n        }\n      });\n      expect(results).toHaveNoViolations();\n    });\n\n    test('should have proper focus management', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check that focusable elements are properly marked\n      const focusableElements = screen.getAllByRole('button');\n      focusableElements.forEach(element => {\n        expect(element).toHaveAttribute('tabIndex');\n      });\n    });\n  });\n\n  describe('Screen Reader Support', () => {\n    test('should have proper ARIA labels', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check main feed role and label\n      const mainFeed = screen.getByRole('main');\n      expect(mainFeed).toHaveAttribute('aria-label', 'Unified Feed');\n      \n      // Check button labels\n      const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n      expect(darkModeButton).toBeInTheDocument();\n      \n      const filtersButton = screen.getByLabelText(/toggle advanced filters/i);\n      expect(filtersButton).toBeInTheDocument();\n      \n      const refreshButton = screen.getByLabelText(/refresh feed/i);\n      expect(refreshButton).toBeInTheDocument();\n    });\n\n    test('should have proper ARIA live regions', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for live regions\n      const liveRegions = screen.getAllByRole('status');\n      expect(liveRegions.length).toBeGreaterThan(0);\n      \n      // Check for polite announcements\n      const politeRegion = screen.getByRole('status', { name: /feed/i });\n      expect(politeRegion).toBeInTheDocument();\n    });\n\n    test('should announce state changes', async () => {\n      render(<UnifiedFeed />);\n      \n      // Trigger a state change\n      const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n      fireEvent.click(darkModeButton);\n      \n      // Check for announcement\n      await waitFor(() => {\n        expect(screen.getByText(/switched to dark mode/i)).toBeInTheDocument();\n      });\n    });\n\n    test('should have proper form labels', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for form elements with proper labels\n      const inputs = screen.getAllByRole('textbox');\n      inputs.forEach(input => {\n        const label = screen.getByLabelText(input.getAttribute('aria-label') || '');\n        expect(label).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Keyboard Navigation', () => {\n    test('should support tab navigation', async () => {\n      render(<UnifiedFeed />);\n      \n      // Start with first focusable element\n      const firstButton = screen.getByLabelText(/switch to dark mode/i);\n      firstButton.focus();\n      expect(document.activeElement).toBe(firstButton);\n      \n      // Tab to next element\n      fireEvent.keyDown(firstButton, { key: 'Tab' });\n      const nextButton = screen.getByLabelText(/toggle advanced filters/i);\n      expect(document.activeElement).toBe(nextButton);\n    });\n\n    test('should support enter key activation', async () => {\n      render(<UnifiedFeed />);\n      \n      const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n      darkModeButton.focus();\n      \n      // Press Enter\n      fireEvent.keyDown(darkModeButton, { key: 'Enter' });\n      \n      // Check that action was triggered\n      await waitFor(() => {\n        expect(screen.getByLabelText(/switch to light mode/i)).toBeInTheDocument();\n      });\n    });\n\n    test('should support escape key for closing modals', async () => {\n      render(<UnifiedFeed />);\n      \n      // Open advanced filters\n      const filtersButton = screen.getByLabelText(/toggle advanced filters/i);\n      fireEvent.click(filtersButton);\n      \n      // Check that filters panel is open\n      expect(screen.getByText(/advanced filters/i)).toBeInTheDocument();\n      \n      // Press Escape\n      fireEvent.keyDown(document, { key: 'Escape' });\n      \n      // Check that filters panel is closed\n      await waitFor(() => {\n        expect(screen.queryByText(/advanced filters/i)).not.toBeInTheDocument();\n      });\n    });\n\n    test('should support arrow key navigation', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check that arrow keys work for navigation\n      const firstButton = screen.getByLabelText(/switch to dark mode/i);\n      firstButton.focus();\n      \n      // Arrow right\n      fireEvent.keyDown(firstButton, { key: 'ArrowRight' });\n      \n      // Arrow left\n      fireEvent.keyDown(firstButton, { key: 'ArrowLeft' });\n      \n      // Arrow up\n      fireEvent.keyDown(firstButton, { key: 'ArrowUp' });\n      \n      // Arrow down\n      fireEvent.keyDown(firstButton, { key: 'ArrowDown' });\n      \n      // Should not throw errors\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('Focus Management', () => {\n    test('should trap focus in modals', async () => {\n      render(<UnifiedFeed />);\n      \n      // Open advanced filters\n      const filtersButton = screen.getByLabelText(/toggle advanced filters/i);\n      fireEvent.click(filtersButton);\n      \n      // Check that focus is trapped in modal\n      const modal = screen.getByRole('dialog');\n      expect(modal).toBeInTheDocument();\n      \n      // Check that focus is within modal\n      const focusedElement = document.activeElement;\n      expect(modal.contains(focusedElement)).toBe(true);\n    });\n\n    test('should restore focus after closing modals', async () => {\n      render(<UnifiedFeed />);\n      \n      const filtersButton = screen.getByLabelText(/toggle advanced filters/i);\n      filtersButton.focus();\n      \n      // Open modal\n      fireEvent.click(filtersButton);\n      \n      // Close modal\n      fireEvent.click(filtersButton);\n      \n      // Check that focus is restored\n      expect(document.activeElement).toBe(filtersButton);\n    });\n\n    test('should manage focus for dynamic content', async () => {\n      render(<UnifiedFeed />);\n      \n      // Trigger content update\n      const refreshButton = screen.getByLabelText(/refresh feed/i);\n      fireEvent.click(refreshButton);\n      \n      // Check that focus is managed properly\n      await waitFor(() => {\n        expect(document.activeElement).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Semantic HTML', () => {\n    test('should use proper semantic elements', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for main element\n      const main = screen.getByRole('main');\n      expect(main).toBeInTheDocument();\n      \n      // Check for header element\n      const header = screen.getByRole('banner');\n      expect(header).toBeInTheDocument();\n      \n      // Check for navigation elements\n      const nav = screen.getByRole('navigation');\n      expect(nav).toBeInTheDocument();\n    });\n\n    test('should have proper list structure', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for list elements\n      const lists = screen.getAllByRole('list');\n      expect(lists.length).toBeGreaterThan(0);\n      \n      // Check for list items\n      const listItems = screen.getAllByRole('listitem');\n      expect(listItems.length).toBeGreaterThan(0);\n    });\n\n    test('should have proper button semantics', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check that all buttons have proper roles\n      const buttons = screen.getAllByRole('button');\n      buttons.forEach(button => {\n        expect(button).toHaveAttribute('type', 'button');\n      });\n    });\n  });\n\n  describe('Alternative Text', () => {\n    test('should have alt text for images', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for images with alt text\n      const images = screen.getAllByRole('img');\n      images.forEach(image => {\n        expect(image).toHaveAttribute('alt');\n      });\n    });\n\n    test('should have descriptive text for icons', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for icons with proper labels\n      const icons = screen.getAllByRole('img');\n      icons.forEach(icon => {\n        const altText = icon.getAttribute('alt');\n        expect(altText).toBeTruthy();\n        expect(altText?.length).toBeGreaterThan(0);\n      });\n    });\n  });\n\n  describe('Error Handling', () => {\n    test('should announce errors to screen readers', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        error: 'Failed to load feeds'\n      });\n\n      render(<UnifiedFeed />);\n      \n      // Check for error announcement\n      await waitFor(() => {\n        expect(screen.getByText(/failed to load feeds/i)).toBeInTheDocument();\n      });\n    });\n\n    test('should provide error recovery options', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        error: 'Network error'\n      });\n\n      render(<UnifiedFeed />);\n      \n      // Check for retry button\n      const retryButton = screen.getByLabelText(/retry/i);\n      expect(retryButton).toBeInTheDocument();\n      \n      // Check that retry button is accessible\n      expect(retryButton).toHaveAttribute('aria-label');\n    });\n  });\n\n  describe('Loading States', () => {\n    test('should announce loading states', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        loading: true\n      });\n\n      render(<UnifiedFeed />);\n      \n      // Check for loading announcement\n      await waitFor(() => {\n        expect(screen.getByText(/loading/i)).toBeInTheDocument();\n      });\n    });\n\n    test('should provide loading progress information', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        loading: true\n      });\n\n      render(<UnifiedFeed />);\n      \n      // Check for progress indicator\n      const progressIndicator = screen.getByRole('progressbar');\n      expect(progressIndicator).toBeInTheDocument();\n    });\n  });\n\n  describe('Mobile Accessibility', () => {\n    test('should support touch gestures with accessibility', async () => {\n      render(<UnifiedFeed />);\n      \n      // Simulate touch events\n      const feed = screen.getByRole('main');\n      fireEvent.touchStart(feed, { touches: [{ clientX: 100, clientY: 100 }] });\n      fireEvent.touchMove(feed, { touches: [{ clientX: 100, clientY: 200 }] });\n      fireEvent.touchEnd(feed, { changedTouches: [{ clientX: 100, clientY: 200 }] });\n      \n      // Check that touch events are handled properly\n      expect(feed).toBeInTheDocument();\n    });\n\n    test('should support haptic feedback with accessibility', async () => {\n      render(<UnifiedFeed />);\n      \n      // Mock haptic feedback\n      const mockVibrate = jest.fn();\n      Object.defineProperty(navigator, 'vibrate', {\n        value: mockVibrate,\n        writable: true\n      });\n      \n      // Trigger haptic feedback\n      const likeButton = screen.getByLabelText(/like/i);\n      fireEvent.click(likeButton);\n      \n      // Check that haptic feedback was triggered\n      expect(mockVibrate).toHaveBeenCalled();\n    });\n  });\n\n  describe('Internationalization', () => {\n    test('should support different languages', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check that text content is properly structured for translation\n      const mainHeading = screen.getByRole('heading', { level: 1 });\n      expect(mainHeading).toHaveTextContent('Unified Feed');\n      \n      // Check that ARIA labels are properly structured\n      const buttons = screen.getAllByRole('button');\n      buttons.forEach(button => {\n        const ariaLabel = button.getAttribute('aria-label');\n        expect(ariaLabel).toBeTruthy();\n      });\n    });\n\n    test('should support right-to-left languages', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check that layout supports RTL\n      const mainFeed = screen.getByRole('main');\n      expect(mainFeed).toBeInTheDocument();\n      \n      // Check that text direction can be changed\n      const textElements = screen.getAllByText(/test/i);\n      textElements.forEach(element => {\n        expect(element).toBeInTheDocument();\n      });\n    });\n  });\n});\n"],"names":["expect","extend","toHaveNoViolations","jest","mock","mockUseFeeds","useFeeds","mockUseHashtags","useHashtags","mockFeedData","id","type","title","description","hashtags","created_at","author","engagement","likes","shares","comments","mockHashtagData","name","display_name","usage_count","follower_count","is_trending","trend_score","updated_at","is_verified","is_featured","describe","beforeEach","mockReturnValue","feeds","loading","error","refreshFeeds","fn","likeFeed","shareFeed","commentFeed","bookmarkFeed","searchHashtags","followHashtag","unfollowHashtag","getTrendingHashtags","afterEach","clearAllMocks","test","container","render","UnifiedFeed","results","axe","mainHeading","screen","getByRole","level","toBeInTheDocument","toHaveTextContent","rules","enabled","focusableElements","getAllByRole","forEach","element","toHaveAttribute","mainFeed","darkModeButton","getByLabelText","filtersButton","refreshButton","liveRegions","length","toBeGreaterThan","politeRegion","fireEvent","click","waitFor","getByText","inputs","input","label","getAttribute","firstButton","focus","document","activeElement","toBe","keyDown","key","nextButton","queryByText","not","modal","focusedElement","contains","main","header","nav","lists","listItems","buttons","button","images","image","icons","icon","altText","toBeTruthy","retryButton","progressIndicator","feed","touchStart","touches","clientX","clientY","touchMove","touchEnd","changedTouches","mockVibrate","Object","defineProperty","navigator","value","writable","likeButton","toHaveBeenCalled","ariaLabel","textElements","getAllByText"],"mappings":"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"}