{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/features/feeds/UnifiedFeed.accessibility.test.tsx"],"sourcesContent":["/**\n * UnifiedFeed Accessibility Tests\n * \n * Comprehensive accessibility testing for the UnifiedFeed component\n * Tests WCAG 2.1 AA compliance and screen reader support\n * \n * Created: January 19, 2025\n * Status: âœ… PRODUCTION READY\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { jest } from '@jest/globals';\nimport { axe, toHaveNoViolations } from 'jest-axe';\nimport UnifiedFeed from '@/features/feeds/components/UnifiedFeed';\nimport { useFeeds } from '@/lib/stores/feedsStore';\nimport { useHashtags } from '@/features/hashtags/hooks/useHashtags';\n\n// Extend Jest matchers\nexpect.extend(toHaveNoViolations);\n\n// Mock the stores\njest.mock('@/lib/stores/feedsStore', () => ({\n  useFeeds: jest.fn()\n}));\n\njest.mock('@/features/hashtags/hooks/useHashtags', () => ({\n  useHashtags: jest.fn()\n}));\n\nconst mockUseFeeds = useFeeds as jest.MockedFunction<typeof useFeeds>;\nconst mockUseHashtags = useHashtags as jest.MockedFunction<typeof useHashtags>;\n\n// Ensure mocks are properly initialized\nbeforeAll(() => {\n  mockUseFeeds.mockReturnValue([]);\n  mockUseHashtags.mockReturnValue({\n    hashtags: [],\n    trendingHashtags: [],\n    userHashtags: [],\n    isLoading: false,\n    error: null,\n    loadTrendingHashtags: jest.fn(),\n    searchHashtags: jest.fn(),\n    followHashtag: jest.fn(),\n    unfollowHashtag: jest.fn(),\n    getTrendingHashtags: jest.fn(),\n    refresh: jest.fn()\n  });\n});\n\n// Mock data\nconst mockFeedData = [\n  {\n    id: '1',\n    type: 'poll',\n    title: 'Test Poll',\n    description: 'This is a test poll',\n    hashtags: ['politics', 'election'],\n    created_at: '2025-01-19T10:00:00Z',\n    author: 'Test User',\n    engagement: {\n      likes: 10,\n      shares: 5,\n      comments: 3\n    }\n  },\n  {\n    id: '2',\n    type: 'post',\n    title: 'Test Post',\n    description: 'This is a test post',\n    hashtags: ['news', 'update'],\n    created_at: '2025-01-19T09:00:00Z',\n    author: 'Test User 2',\n    engagement: {\n      likes: 15,\n      shares: 8,\n      comments: 12\n    }\n  }\n];\n\nconst mockHashtagData = [\n  {\n    id: '1',\n    name: 'politics',\n    display_name: 'Politics',\n    usage_count: 100,\n    follower_count: 50,\n    is_trending: true,\n    trend_score: 0.8,\n    created_at: '2025-01-19T10:00:00Z',\n    updated_at: '2025-01-19T10:00:00Z',\n    is_verified: false,\n    is_featured: false\n  }\n];\n\ndescribe('UnifiedFeed Accessibility Tests', () => {\n  beforeEach(() => {\n    // Mock store implementations\n    mockUseFeeds.mockReturnValue({\n      feeds: mockFeedData,\n      loading: false,\n      error: null,\n      refreshFeeds: jest.fn(),\n      likeFeed: jest.fn(),\n      shareFeed: jest.fn(),\n      commentFeed: jest.fn(),\n      bookmarkFeed: jest.fn()\n    });\n\n    mockUseHashtags.mockReturnValue({\n      hashtags: mockHashtagData,\n      loading: false,\n      error: null,\n      searchHashtags: jest.fn(),\n      followHashtag: jest.fn(),\n      unfollowHashtag: jest.fn(),\n      getTrendingHashtags: jest.fn()\n    });\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('WCAG 2.1 AA Compliance', () => {\n    test('should have no accessibility violations', async () => {\n      const { container } = render(<UnifiedFeed />);\n      const results = await axe(container);\n      expect(results).toHaveNoViolations();\n    });\n\n    test('should have proper heading structure', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for main heading\n      const mainHeading = screen.getByRole('heading', { level: 1 });\n      expect(mainHeading).toBeInTheDocument();\n      expect(mainHeading).toHaveTextContent('Unified Feed');\n    });\n\n    test('should have proper color contrast', async () => {\n      const { container } = render(<UnifiedFeed />);\n      const results = await axe(container, {\n        rules: {\n          'color-contrast': { enabled: true }\n        }\n      });\n      expect(results).toHaveNoViolations();\n    });\n\n    test('should have proper focus management', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check that focusable elements are properly marked\n      const focusableElements = screen.getAllByRole('button');\n      focusableElements.forEach(element => {\n        expect(element).toHaveAttribute('tabIndex');\n      });\n    });\n  });\n\n  describe('Screen Reader Support', () => {\n    test('should have proper ARIA labels', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check main feed role and label\n      const mainFeed = screen.getByRole('main');\n      expect(mainFeed).toHaveAttribute('aria-label', 'Unified Feed');\n      \n      // Check button labels\n      const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n      expect(darkModeButton).toBeInTheDocument();\n      \n      const filtersButton = screen.getByLabelText(/toggle advanced filters/i);\n      expect(filtersButton).toBeInTheDocument();\n      \n      const refreshButton = screen.getByLabelText(/refresh feed/i);\n      expect(refreshButton).toBeInTheDocument();\n    });\n\n    test('should have proper ARIA live regions', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for live regions\n      const liveRegions = screen.getAllByRole('status');\n      expect(liveRegions.length).toBeGreaterThan(0);\n      \n      // Check for polite announcements\n      const politeRegion = screen.getByRole('status', { name: /feed/i });\n      expect(politeRegion).toBeInTheDocument();\n    });\n\n    test('should announce state changes', async () => {\n      render(<UnifiedFeed />);\n      \n      // Trigger a state change\n      const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n      fireEvent.click(darkModeButton);\n      \n      // Check for announcement\n      await waitFor(() => {\n        expect(screen.getByText(/switched to dark mode/i)).toBeInTheDocument();\n      });\n    });\n\n    test('should have proper form labels', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for form elements with proper labels\n      const inputs = screen.getAllByRole('textbox');\n      inputs.forEach(input => {\n        const label = screen.getByLabelText(input.getAttribute('aria-label') || '');\n        expect(label).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Keyboard Navigation', () => {\n    test('should support tab navigation', async () => {\n      render(<UnifiedFeed />);\n      \n      // Start with first focusable element\n      const firstButton = screen.getByLabelText(/switch to dark mode/i);\n      firstButton.focus();\n      expect(document.activeElement).toBe(firstButton);\n      \n      // Tab to next element\n      fireEvent.keyDown(firstButton, { key: 'Tab' });\n      const nextButton = screen.getByLabelText(/toggle advanced filters/i);\n      expect(document.activeElement).toBe(nextButton);\n    });\n\n    test('should support enter key activation', async () => {\n      render(<UnifiedFeed />);\n      \n      const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n      darkModeButton.focus();\n      \n      // Press Enter\n      fireEvent.keyDown(darkModeButton, { key: 'Enter' });\n      \n      // Check that action was triggered\n      await waitFor(() => {\n        expect(screen.getByLabelText(/switch to light mode/i)).toBeInTheDocument();\n      });\n    });\n\n    test('should support escape key for closing modals', async () => {\n      render(<UnifiedFeed />);\n      \n      // Open advanced filters\n      const filtersButton = screen.getByLabelText(/toggle advanced filters/i);\n      fireEvent.click(filtersButton);\n      \n      // Check that filters panel is open\n      expect(screen.getByText(/advanced filters/i)).toBeInTheDocument();\n      \n      // Press Escape\n      fireEvent.keyDown(document, { key: 'Escape' });\n      \n      // Check that filters panel is closed\n      await waitFor(() => {\n        expect(screen.queryByText(/advanced filters/i)).not.toBeInTheDocument();\n      });\n    });\n\n    test('should support arrow key navigation', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check that arrow keys work for navigation\n      const firstButton = screen.getByLabelText(/switch to dark mode/i);\n      firstButton.focus();\n      \n      // Arrow right\n      fireEvent.keyDown(firstButton, { key: 'ArrowRight' });\n      \n      // Arrow left\n      fireEvent.keyDown(firstButton, { key: 'ArrowLeft' });\n      \n      // Arrow up\n      fireEvent.keyDown(firstButton, { key: 'ArrowUp' });\n      \n      // Arrow down\n      fireEvent.keyDown(firstButton, { key: 'ArrowDown' });\n      \n      // Should not throw errors\n      expect(true).toBe(true);\n    });\n  });\n\n  describe('Focus Management', () => {\n    test('should trap focus in modals', async () => {\n      render(<UnifiedFeed />);\n      \n      // Open advanced filters\n      const filtersButton = screen.getByLabelText(/toggle advanced filters/i);\n      fireEvent.click(filtersButton);\n      \n      // Check that focus is trapped in modal\n      const modal = screen.getByRole('dialog');\n      expect(modal).toBeInTheDocument();\n      \n      // Check that focus is within modal\n      const focusedElement = document.activeElement;\n      expect(modal.contains(focusedElement)).toBe(true);\n    });\n\n    test('should restore focus after closing modals', async () => {\n      render(<UnifiedFeed />);\n      \n      const filtersButton = screen.getByLabelText(/toggle advanced filters/i);\n      filtersButton.focus();\n      \n      // Open modal\n      fireEvent.click(filtersButton);\n      \n      // Close modal\n      fireEvent.click(filtersButton);\n      \n      // Check that focus is restored\n      expect(document.activeElement).toBe(filtersButton);\n    });\n\n    test('should manage focus for dynamic content', async () => {\n      render(<UnifiedFeed />);\n      \n      // Trigger content update\n      const refreshButton = screen.getByLabelText(/refresh feed/i);\n      fireEvent.click(refreshButton);\n      \n      // Check that focus is managed properly\n      await waitFor(() => {\n        expect(document.activeElement).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Semantic HTML', () => {\n    test('should use proper semantic elements', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for main element\n      const main = screen.getByRole('main');\n      expect(main).toBeInTheDocument();\n      \n      // Check for header element\n      const header = screen.getByRole('banner');\n      expect(header).toBeInTheDocument();\n      \n      // Check for navigation elements\n      const nav = screen.getByRole('navigation');\n      expect(nav).toBeInTheDocument();\n    });\n\n    test('should have proper list structure', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for list elements\n      const lists = screen.getAllByRole('list');\n      expect(lists.length).toBeGreaterThan(0);\n      \n      // Check for list items\n      const listItems = screen.getAllByRole('listitem');\n      expect(listItems.length).toBeGreaterThan(0);\n    });\n\n    test('should have proper button semantics', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check that all buttons have proper roles\n      const buttons = screen.getAllByRole('button');\n      buttons.forEach(button => {\n        expect(button).toHaveAttribute('type', 'button');\n      });\n    });\n  });\n\n  describe('Alternative Text', () => {\n    test('should have alt text for images', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for images with alt text\n      const images = screen.getAllByRole('img');\n      images.forEach(image => {\n        expect(image).toHaveAttribute('alt');\n      });\n    });\n\n    test('should have descriptive text for icons', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check for icons with proper labels\n      const icons = screen.getAllByRole('img');\n      icons.forEach(icon => {\n        const altText = icon.getAttribute('alt');\n        expect(altText).toBeTruthy();\n        expect(altText?.length).toBeGreaterThan(0);\n      });\n    });\n  });\n\n  describe('Error Handling', () => {\n    test('should announce errors to screen readers', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        error: 'Failed to load feeds'\n      });\n\n      render(<UnifiedFeed />);\n      \n      // Check for error announcement\n      await waitFor(() => {\n        expect(screen.getByText(/failed to load feeds/i)).toBeInTheDocument();\n      });\n    });\n\n    test('should provide error recovery options', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        error: 'Network error'\n      });\n\n      render(<UnifiedFeed />);\n      \n      // Check for retry button\n      const retryButton = screen.getByLabelText(/retry/i);\n      expect(retryButton).toBeInTheDocument();\n      \n      // Check that retry button is accessible\n      expect(retryButton).toHaveAttribute('aria-label');\n    });\n  });\n\n  describe('Loading States', () => {\n    test('should announce loading states', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        loading: true\n      });\n\n      render(<UnifiedFeed />);\n      \n      // Check for loading announcement\n      await waitFor(() => {\n        expect(screen.getByText(/loading/i)).toBeInTheDocument();\n      });\n    });\n\n    test('should provide loading progress information', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        loading: true\n      });\n\n      render(<UnifiedFeed />);\n      \n      // Check for progress indicator\n      const progressIndicator = screen.getByRole('progressbar');\n      expect(progressIndicator).toBeInTheDocument();\n    });\n  });\n\n  describe('Mobile Accessibility', () => {\n    test('should support touch gestures with accessibility', async () => {\n      render(<UnifiedFeed />);\n      \n      // Simulate touch events\n      const feed = screen.getByRole('main');\n      fireEvent.touchStart(feed, { touches: [{ clientX: 100, clientY: 100 }] });\n      fireEvent.touchMove(feed, { touches: [{ clientX: 100, clientY: 200 }] });\n      fireEvent.touchEnd(feed, { changedTouches: [{ clientX: 100, clientY: 200 }] });\n      \n      // Check that touch events are handled properly\n      expect(feed).toBeInTheDocument();\n    });\n\n    test('should support haptic feedback with accessibility', async () => {\n      render(<UnifiedFeed />);\n      \n      // Mock haptic feedback\n      const mockVibrate = jest.fn();\n      Object.defineProperty(navigator, 'vibrate', {\n        value: mockVibrate,\n        writable: true\n      });\n      \n      // Trigger haptic feedback\n      const likeButton = screen.getByLabelText(/like/i);\n      fireEvent.click(likeButton);\n      \n      // Check that haptic feedback was triggered\n      expect(mockVibrate).toHaveBeenCalled();\n    });\n  });\n\n  describe('Internationalization', () => {\n    test('should support different languages', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check that text content is properly structured for translation\n      const mainHeading = screen.getByRole('heading', { level: 1 });\n      expect(mainHeading).toHaveTextContent('Unified Feed');\n      \n      // Check that ARIA labels are properly structured\n      const buttons = screen.getAllByRole('button');\n      buttons.forEach(button => {\n        const ariaLabel = button.getAttribute('aria-label');\n        expect(ariaLabel).toBeTruthy();\n      });\n    });\n\n    test('should support right-to-left languages', async () => {\n      render(<UnifiedFeed />);\n      \n      // Check that layout supports RTL\n      const mainFeed = screen.getByRole('main');\n      expect(mainFeed).toBeInTheDocument();\n      \n      // Check that text direction can be changed\n      const textElements = screen.getAllByText(/test/i);\n      textElements.forEach(element => {\n        expect(element).toBeInTheDocument();\n      });\n    });\n  });\n});\n"],"names":["expect","extend","toHaveNoViolations","jest","mock","useFeeds","fn","useHashtags","mockUseFeeds","mockUseHashtags","beforeAll","mockReturnValue","hashtags","trendingHashtags","userHashtags","isLoading","error","loadTrendingHashtags","searchHashtags","followHashtag","unfollowHashtag","getTrendingHashtags","refresh","mockFeedData","id","type","title","description","created_at","author","engagement","likes","shares","comments","mockHashtagData","name","display_name","usage_count","follower_count","is_trending","trend_score","updated_at","is_verified","is_featured","describe","beforeEach","feeds","loading","refreshFeeds","likeFeed","shareFeed","commentFeed","bookmarkFeed","afterEach","clearAllMocks","test","container","render","UnifiedFeed","results","axe","mainHeading","screen","getByRole","level","toBeInTheDocument","toHaveTextContent","rules","enabled","focusableElements","getAllByRole","forEach","element","toHaveAttribute","mainFeed","darkModeButton","getByLabelText","filtersButton","refreshButton","liveRegions","length","toBeGreaterThan","politeRegion","fireEvent","click","waitFor","getByText","inputs","input","label","getAttribute","firstButton","focus","document","activeElement","toBe","keyDown","key","nextButton","queryByText","not","modal","focusedElement","contains","main","header","nav","lists","listItems","buttons","button","images","image","icons","icon","altText","toBeTruthy","retryButton","progressIndicator","feed","touchStart","touches","clientX","clientY","touchMove","touchEnd","changedTouches","mockVibrate","Object","defineProperty","navigator","value","writable","likeButton","toHaveBeenCalled","ariaLabel","textElements","getAllByText"],"mappings":"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"}