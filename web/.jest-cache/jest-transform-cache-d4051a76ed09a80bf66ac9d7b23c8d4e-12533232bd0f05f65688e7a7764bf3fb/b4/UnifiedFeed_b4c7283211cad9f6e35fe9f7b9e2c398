9a3f5156dfb0e3a1d631a3ee7b3a9cdf
/**
 * Unified Feed Component
 * 
 * Consolidated feed component that combines all feed functionality:
 * - Social feed with Instagram-like features
 * - Hashtag-polls integration for personalized content
 * - Mobile-optimized with PWA features
 * - Real-time updates and analytics
 * - Comprehensive hashtag integration
 * 
 * This replaces: SocialFeed, EnhancedSocialFeed, SuperiorMobileFeed, FeedHashtagIntegration
 * 
 * Created: January 19, 2025
 * Status: âœ… ACTIVE
 */ 'use client';
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return UnifiedFeed;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _outline = require("@heroicons/react/24/outline");
const _badge = require("../../../components/ui/badge");
const _button = require("../../../components/ui/button");
const _card = require("../../../components/ui/card");
const _input = require("../../../components/ui/input");
const _tabs = require("../../../components/ui/tabs");
const _stores = require("../../../lib/stores");
const _utils = require("../../../lib/utils");
const _logger = require("../../../lib/utils/logger");
const _FeedItem = /*#__PURE__*/ _interop_require_default(require("./FeedItem"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
function UnifiedFeed({ userId, preferences, onLike, onShare, onBookmark, onComment, onViewDetails, onPollSelect, onHashtagSelect, className = '', enablePersonalization = true, enableRealTimeUpdates = true, enableAnalytics = false, enableHaptics = true, enableHashtagPolls = true, enableMobileOptimization = true, showTrending = true, maxItems = 50 }) {
    // Store hooks
    const feeds = (0, _stores.useFeeds)();
    const { loadFeeds, likeFeed, bookmarkFeed, refreshFeeds } = (0, _stores.useFeedsActions)();
    const isLoading = (0, _stores.useFeedsLoading)();
    const pwaStore = (0, _stores.usePWAStore)();
    const { user } = (0, _stores.useUserStore)();
    const addNotification = (0, _stores.useNotificationStore)((state)=>state.addNotification);
    const { hashtags, trendingHashtags } = (0, _stores.useHashtagStore)();
    const { getTrendingHashtags } = (0, _stores.useHashtagActions)();
    const { trendingCount } = (0, _stores.useHashtagStats)();
    // Local state
    const [activeTab, setActiveTab] = (0, _react.useState)('feed');
    const [hashtagPollsFeed, setHashtagPollsFeed] = (0, _react.useState)(null);
    const [selectedHashtags, setSelectedHashtags] = (0, _react.useState)([]);
    const [searchQuery, setSearchQuery] = (0, _react.useState)('');
    const [isRefreshing, setIsRefreshing] = (0, _react.useState)(false);
    const [personalizationScore, setPersonalizationScore] = (0, _react.useState)(0);
    const [lastUpdate, setLastUpdate] = (0, _react.useState)(new Date());
    const [isDarkMode, setIsDarkMode] = (0, _react.useState)(false);
    const [notificationPermission, setNotificationPermission] = (0, _react.useState)('default');
    const [swRegistration, setSwRegistration] = (0, _react.useState)(null);
    const [lastSync, setLastSync] = (0, _react.useState)(null);
    const [syncStatus, setSyncStatus] = (0, _react.useState)('idle');
    const [showAdvancedFilters, setShowAdvancedFilters] = (0, _react.useState)(false);
    const [accessibilityAnnouncements, setAccessibilityAnnouncements] = (0, _react.useState)([]);
    const [errorMessage, setErrorMessage] = (0, _react.useState)('');
    const [showError, setShowError] = (0, _react.useState)(false);
    const [pullDistance, setPullDistance] = (0, _react.useState)(0);
    const [hasMore, setHasMore] = (0, _react.useState)(true);
    const [page, setPage] = (0, _react.useState)(1);
    const [expandedItems, setExpandedItems] = (0, _react.useState)(new Set());
    const [loadingImages, setLoadingImages] = (0, _react.useState)(new Set());
    const [refreshThreshold] = (0, _react.useState)(80);
    // Refs
    const wsRef = (0, _react.useRef)(null);
    const refreshIntervalRef = (0, _react.useRef)(null);
    const touchStartRef = (0, _react.useRef)(null);
    const longPressTimerRef = (0, _react.useRef)(null);
    const feedRef = (0, _react.useRef)(null);
    const observerRef = (0, _react.useRef)(null);
    const lastItemRef = (0, _react.useRef)(null);
    const scrollToTopRef = (0, _react.useRef)(null);
    // Touch gesture handling (from FeedItem.tsx) - moved to pull-to-refresh section
    // PWA Features (from SuperiorMobileFeed.tsx)
    const initializeSuperiorPWAFeatures = (0, _react.useCallback)(async ()=>{
        if ('serviceWorker' in navigator) {
            try {
                const registration = await navigator.serviceWorker.ready;
                setSwRegistration(registration);
                // Request notification permission
                if ('Notification' in window) {
                    const permission = await Notification.requestPermission();
                    setNotificationPermission(permission);
                    if (permission === 'granted' && registration) {
                        await subscribeToNotifications(registration);
                    }
                }
            } catch (error) {
                console.error('Service Worker registration failed:', error);
            }
        }
    }, []);
    // Push notification subscription
    const subscribeToNotifications = (0, _react.useCallback)(async (registration)=>{
        try {
            const subscription = await registration.pushManager.subscribe({
                userVisibleOnly: true,
                applicationServerKey: process.env.NEXT_PUBLIC_VAPID_PUBLIC_KEY ?? null
            });
            // Send subscription to server
            await fetch('/api/pwa?action=subscribe', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(subscription)
            });
            _logger.logger.info('Push subscription successful');
        } catch (error) {
            console.error('Push subscription failed:', error);
        }
    }, []);
    const checkOnlineStatus = (0, _react.useCallback)(()=>{
        const handleOnline = ()=>{
            if (swRegistration) {
                syncOfflineData();
            }
        };
        const handleOffline = ()=>{
        // Handle offline state
        };
        window.addEventListener('online', handleOnline);
        window.addEventListener('offline', handleOffline);
        return ()=>{
            window.removeEventListener('online', handleOnline);
            window.removeEventListener('offline', handleOffline);
        };
    }, [
        swRegistration
    ]);
    const syncOfflineData = (0, _react.useCallback)(async ()=>{
        setSyncStatus('syncing');
        try {
            const response = await fetch('/api/pwa?action=sync', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    userId,
                    lastSync: lastSync?.toISOString()
                })
            });
            if (response.ok) {
                setLastSync(new Date());
                setSyncStatus('idle');
            }
        } catch (error) {
            console.error('Sync failed:', error);
            setSyncStatus('error');
        }
    }, [
        userId,
        lastSync
    ]);
    // Accessibility helper functions
    const announceToScreenReader = (0, _react.useCallback)((message)=>{
        setAccessibilityAnnouncements((prev)=>[
                ...prev,
                message
            ]);
        const liveRegion = document.getElementById('live-region-content');
        if (liveRegion) {
            liveRegion.textContent = message;
        }
        setTimeout(()=>{
            setAccessibilityAnnouncements((prev)=>prev.slice(1));
            if (liveRegion) {
                liveRegion.textContent = '';
            }
        }, 5000);
    }, []);
    const setError = (0, _react.useCallback)((message)=>{
        setErrorMessage(message);
        announceToScreenReader(`Error: ${message}`);
    }, [
        announceToScreenReader
    ]);
    const clearError = (0, _react.useCallback)(()=>{
        setErrorMessage('');
    }, []);
    // Load hashtag-polls feed if enabled
    const loadHashtagPollsFeed = (0, _react.useCallback)(async ()=>{
        if (!enableHashtagPolls || !userId) return;
        try {
            const response = await fetch(`/api/feeds/interest-based?userId=${userId}&includeTrending=true&limit=20`);
            if (!response.ok) return;
            const data = await response.json();
            if (data.ok && data.data?.hashtagPollsFeed) {
                setHashtagPollsFeed({
                    user_id: userId,
                    hashtag_interests: data.data.hashtagPollsFeed.user_followed_hashtags || [],
                    recommended_polls: data.data.hashtagPollsFeed.recommended_polls || [],
                    trending_hashtags: data.data.hashtagPollsFeed.trending_hashtags || [],
                    hashtag_analytics: data.data.hashtagPollsFeed.hashtag_analytics || [],
                    feed_score: data.data.hashtagPollsFeed.feed_score || 0,
                    last_updated: new Date()
                });
            }
        } catch (error) {
            _logger.logger.warn('Failed to load hashtag-polls feed:', {
                error: error
            });
        }
    }, [
        userId,
        enableHashtagPolls
    ]);
    // Load feed data
    const loadFeedData = (0, _react.useCallback)(async ()=>{
        try {
            await loadFeeds();
            await loadHashtagPollsFeed();
            setLastUpdate(new Date());
        } catch (error) {
            _logger.logger.error('Failed to load feed data:', error);
        }
    }, [
        loadFeeds,
        loadHashtagPollsFeed
    ]);
    // Initialize feed data
    (0, _react.useEffect)(()=>{
        if (userId) {
            loadFeedData();
        }
    }, [
        userId,
        loadFeedData
    ]);
    // Load trending hashtags
    (0, _react.useEffect)(()=>{
        if (showTrending) {
            getTrendingHashtags();
        }
    }, [
        showTrending,
        getTrendingHashtags
    ]);
    // Filtered feed items based on hashtag selection
    const filteredFeedItems = (0, _react.useMemo)(()=>{
        let filtered = feeds || [];
        // Filter by selected hashtags
        if (selectedHashtags.length > 0) {
            filtered = filtered.filter((item)=>selectedHashtags.some((hashtag)=>item.hashtags?.includes(hashtag)));
        }
        // Filter by search query
        if (searchQuery) {
            filtered = filtered.filter((item)=>item.title.toLowerCase().includes(searchQuery.toLowerCase()) || item.description?.toLowerCase().includes(searchQuery.toLowerCase()));
        }
        return filtered.slice(0, maxItems);
    }, [
        feeds,
        selectedHashtags,
        searchQuery,
        maxItems
    ]);
    // Handle hashtag selection
    const handleHashtagSelect = (0, _react.useCallback)((hashtag)=>{
        setSelectedHashtags((prev)=>{
            if (prev.includes(hashtag)) {
                return prev.filter((h)=>h !== hashtag);
            } else {
                return [
                    ...prev,
                    hashtag
                ];
            }
        });
        onHashtagSelect?.(hashtag);
    }, [
        onHashtagSelect
    ]);
    // Handle poll selection
    const handlePollSelect = (0, _react.useCallback)((pollId)=>{
        onPollSelect?.(pollId);
    }, [
        onPollSelect
    ]);
    // Analytics tracking (from EnhancedSocialFeed.tsx)
    const trackEvent = (0, _react.useCallback)((event, data)=>{
        if (enableAnalytics) {
            _logger.logger.info('Analytics:', {
                event,
                data
            });
            try {
                // Track social media click event
                if (typeof window !== 'undefined' && window.gtag) {
                    window.gtag('event', 'social_media_click', {
                        event_category: 'civics',
                        event_label: data?.platform ?? 'unknown',
                        value: 1
                    });
                }
                // Track in local analytics if available
                if (typeof window !== 'undefined' && window.analytics) {
                    window.analytics.track('Social Media Clicked', {
                        platform: data?.platform ?? 'unknown',
                        handle: data?.handle ?? 'unknown',
                        url: data?.url ?? 'unknown',
                        representative: data?.representative ?? 'unknown'
                    });
                }
            } catch (error) {
                console.warn('Analytics tracking failed:', error);
            }
        }
    }, [
        enableAnalytics
    ]);
    // Enhanced engagement tracking
    const trackEngagement = (0, _react.useCallback)((action, itemId, metadata)=>{
        trackEvent(`feed_item_${action}`, {
            itemId,
            ...metadata
        });
        // Update personalization score based on engagement
        if (action === 'liked' || action === 'bookmarked') {
            setPersonalizationScore((prev)=>Math.min(prev + 0.1, 1.0));
        }
    }, [
        trackEvent
    ]);
    // Handle feed item interactions
    const handleLike = (0, _react.useCallback)(async (itemId)=>{
        try {
            await likeFeed(itemId);
            onLike?.(itemId);
            if (enableHaptics && 'vibrate' in navigator) {
                navigator.vibrate(50);
            }
            trackEngagement('liked', itemId);
            announceToScreenReader(`Liked item ${itemId}`);
        } catch (error) {
            _logger.logger.error('Failed to like item:', error);
            setError('Failed to like item');
        }
    }, [
        likeFeed,
        onLike,
        enableHaptics,
        trackEngagement,
        announceToScreenReader,
        setError
    ]);
    const handleBookmark = (0, _react.useCallback)(async (itemId)=>{
        try {
            await bookmarkFeed(itemId);
            onBookmark?.(itemId);
            if (enableHaptics && 'vibrate' in navigator) {
                navigator.vibrate(50);
            }
            trackEngagement('bookmarked', itemId);
            announceToScreenReader(`Bookmarked item ${itemId}`);
        } catch (error) {
            _logger.logger.error('Failed to bookmark item:', error);
            setError('Failed to bookmark item');
        }
    }, [
        bookmarkFeed,
        onBookmark,
        enableHaptics,
        trackEngagement,
        announceToScreenReader,
        setError
    ]);
    const handleShare = (0, _react.useCallback)((itemId)=>{
        if (enableHaptics && 'vibrate' in navigator) {
            navigator.vibrate(25);
        }
        onShare?.(itemId);
        // Native sharing if available
        if (navigator.share) {
            const item = feeds.find((item)=>item.id === itemId);
            if (item) {
                navigator.share({
                    title: item.title,
                    text: item.description || '',
                    url: window.location.href
                }).catch((error)=>{
                    console.warn('Share failed:', error);
                });
            }
        }
        trackEngagement('shared', itemId);
        announceToScreenReader(`Shared item ${itemId}`);
    }, [
        onShare,
        enableHaptics,
        feeds,
        trackEngagement,
        announceToScreenReader
    ]);
    const handleComment = (0, _react.useCallback)((itemId)=>{
        if (enableHaptics && 'vibrate' in navigator) {
            navigator.vibrate(25);
        }
        onComment?.(itemId);
        trackEngagement('commented', itemId);
        announceToScreenReader(`Opened comments for item ${itemId}`);
    }, [
        onComment,
        enableHaptics,
        trackEngagement,
        announceToScreenReader
    ]);
    const handleViewDetails = (0, _react.useCallback)((itemId)=>{
        onViewDetails?.(itemId);
        trackEngagement('viewed_details', itemId);
        announceToScreenReader(`Viewing details for item ${itemId}`);
    }, [
        onViewDetails,
        trackEngagement,
        announceToScreenReader
    ]);
    // Infinite scroll setup
    (0, _react.useEffect)(()=>{
        if (process.env.NODE_ENV === 'test') {
            return;
        }
        if (observerRef.current) {
            observerRef.current.disconnect();
        }
        observerRef.current = new IntersectionObserver((entries)=>{
            if (entries[0]?.isIntersecting && hasMore && !isLoading) {
                handleLoadMore();
            }
        }, {
            threshold: 0.1
        });
        if (lastItemRef.current) {
            observerRef.current.observe(lastItemRef.current);
        }
        return ()=>{
            if (observerRef.current) {
                observerRef.current.disconnect();
            }
        };
    }, [
        hasMore,
        isLoading
    ]);
    // Load more functionality
    const handleLoadMore = (0, _react.useCallback)(async ()=>{
        if (hasMore && !isLoading) {
            setPage((prev)=>prev + 1);
            await loadFeeds('all');
            setHasMore(feeds.length === 20); // Adjust based on your pagination
        }
    }, [
        hasMore,
        isLoading,
        loadFeeds,
        feeds.length
    ]);
    // Scroll to top functionality
    const scrollToTop = (0, _react.useCallback)(()=>{
        window.scrollTo({
            top: 0,
            behavior: 'smooth'
        });
        announceToScreenReader('Scrolled to top');
    }, [
        announceToScreenReader
    ]);
    // Dark mode toggle - moved to later in file
    // Refresh functionality
    const handleRefresh = (0, _react.useCallback)(async ()=>{
        setIsRefreshing(true);
        try {
            await refreshFeeds();
            await loadHashtagPollsFeed();
            setLastUpdate(new Date());
            announceToScreenReader('Feed refreshed');
        } catch (error) {
            _logger.logger.error('Failed to refresh feeds:', error);
            setError('Failed to refresh feed');
        } finally{
            setIsRefreshing(false);
        }
    }, [
        refreshFeeds,
        loadHashtagPollsFeed,
        announceToScreenReader,
        setError
    ]);
    // Real-time updates with WebSocket (from EnhancedSocialFeed.tsx)
    (0, _react.useEffect)(()=>{
        if (process.env.NODE_ENV === 'test') {
            return;
        }
        if (enableRealTimeUpdates && userId) {
            // WebSocket connection for real-time updates
            const ws = new WebSocket(`wss://your-websocket-endpoint/feed/${userId}`);
            wsRef.current = ws;
            ws.onmessage = (event)=>{
                const data = JSON.parse(event.data);
                if (data.label === 'new_item') {
                    _logger.logger.info('New item received:', data.item);
                    announceToScreenReader('New content available');
                } else if (data.label === 'engagement_update') {
                    _logger.logger.info('Engagement update received:', data);
                    announceToScreenReader('Engagement updated');
                }
            };
            // Fallback polling for updates
            refreshIntervalRef.current = setInterval(()=>{
                handleRefresh();
            }, 30000); // Refresh every 30 seconds
            return ()=>{
                ws.close();
                if (refreshIntervalRef.current) {
                    clearInterval(refreshIntervalRef.current);
                }
            };
        }
    }, [
        enableRealTimeUpdates,
        userId,
        handleRefresh,
        announceToScreenReader
    ]);
    // Initialize PWA features on mount
    (0, _react.useEffect)(()=>{
        const initializeApp = async ()=>{
            try {
                if (typeof window !== 'undefined' && process.env.NODE_ENV !== 'test') {
                    await initializeSuperiorPWAFeatures();
                    checkOnlineStatus();
                }
            } catch (error) {
                console.error('Error initializing app:', error);
                setError('Failed to initialize app features');
            }
        };
        const timeoutId = setTimeout(initializeApp, 0);
        return ()=>clearTimeout(timeoutId);
    }, [
        initializeSuperiorPWAFeatures,
        checkOnlineStatus,
        setError
    ]);
    // Content type icons (from FeedItem.tsx)
    const getContentTypeIcon = (0, _react.useCallback)((type)=>{
        const iconClass = "w-5 h-5";
        switch(type){
            case 'vote':
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: `${iconClass} bg-green-100 rounded-full flex items-center justify-center`,
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        className: "text-green-600 text-xs font-bold",
                        children: "V"
                    })
                });
            case 'bill':
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: `${iconClass} bg-blue-100 rounded-full flex items-center justify-center`,
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        className: "text-blue-600 text-xs font-bold",
                        children: "B"
                    })
                });
            case 'statement':
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: `${iconClass} bg-purple-100 rounded-full flex items-center justify-center`,
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        className: "text-purple-600 text-xs font-bold",
                        children: "S"
                    })
                });
            case 'social_media':
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: `${iconClass} bg-pink-100 rounded-full flex items-center justify-center`,
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        className: "text-pink-600 text-xs font-bold",
                        children: "@"
                    })
                });
            case 'photo':
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: `${iconClass} bg-gray-100 rounded-full flex items-center justify-center`,
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        className: "text-gray-600 text-xs font-bold",
                        children: "\uD83D\uDCF7"
                    })
                });
            default:
                return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: `${iconClass} bg-gray-100 rounded-full flex items-center justify-center`,
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        className: "text-gray-600 text-xs font-bold",
                        children: "?"
                    })
                });
        }
    }, []);
    // Party colors (from FeedItem.tsx)
    const getPartyColor = (0, _react.useCallback)((party)=>{
        const partyColors = {
            'Republican': 'text-red-600 bg-red-50 border-red-200',
            'Democrat': 'text-blue-600 bg-blue-50 border-blue-200',
            'Independent': 'text-gray-600 bg-gray-50 border-gray-200',
            'Green': 'text-green-600 bg-green-50 border-green-200',
            'Libertarian': 'text-yellow-600 bg-yellow-50 border-yellow-200'
        };
        return partyColors[party] ?? 'text-gray-600 bg-gray-50 border-gray-200';
    }, []);
    // Format date (from FeedItem.tsx)
    const formatDate = (0, _react.useCallback)((date)=>{
        if (!date) return 'Unknown date';
        const now = new Date();
        const dateObj = typeof date === 'string' ? new Date(date) : date;
        if (!dateObj || isNaN(dateObj.getTime())) {
            return 'Invalid date';
        }
        const diffInHours = Math.floor((now.getTime() - dateObj.getTime()) / (1000 * 60 * 60));
        if (diffInHours < 1) return 'Just now';
        if (diffInHours < 24) return `${diffInHours}h ago`;
        if (diffInHours < 48) return 'Yesterday';
        return new Date(date).toLocaleDateString();
    }, []);
    // Personalization algorithms (from EnhancedSocialFeed.tsx)
    const calculatePersonalizationScore = (0, _react.useCallback)((userInterests, contentTags)=>{
        if (!userInterests.length || !contentTags.length) return 0;
        const matchingTags = contentTags.filter((tag)=>userInterests.some((interest)=>interest.toLowerCase().includes(tag.toLowerCase()) || tag.toLowerCase().includes(interest.toLowerCase())));
        return matchingTags.length / Math.max(userInterests.length, contentTags.length);
    }, []);
    // Progressive disclosure functionality
    const toggleItemExpansion = (0, _react.useCallback)((itemId)=>{
        setExpandedItems((prev)=>{
            const newSet = new Set(prev);
            if (newSet.has(itemId)) {
                newSet.delete(itemId);
                announceToScreenReader(`Collapsed item ${itemId}`);
            } else {
                newSet.add(itemId);
                announceToScreenReader(`Expanded item ${itemId}`);
            }
            return newSet;
        });
    }, [
        announceToScreenReader
    ]);
    // Image loading with progressive enhancement
    const handleImageLoad = (0, _react.useCallback)((itemId)=>{
        setLoadingImages((prev)=>{
            const newSet = new Set(prev);
            newSet.delete(itemId);
            return newSet;
        });
    }, []);
    const handleImageError = (0, _react.useCallback)((itemId)=>{
        setLoadingImages((prev)=>{
            const newSet = new Set(prev);
            newSet.delete(itemId);
            return newSet;
        });
        setError(`Failed to load image for item ${itemId}`);
    }, [
        setError
    ]);
    // Lazy loading for images
    const loadImage = (0, _react.useCallback)((itemId, imageUrl)=>{
        setLoadingImages((prev)=>new Set(prev).add(itemId));
        const img = new window.Image();
        img.onload = ()=>handleImageLoad(itemId);
        img.onerror = ()=>handleImageError(itemId);
        img.src = imageUrl;
    }, [
        handleImageLoad,
        handleImageError
    ]);
    // Pull-to-refresh functionality
    const handlePullToRefresh = (0, _react.useCallback)(async ()=>{
        if (isRefreshing) return;
        setIsRefreshing(true);
        announceToScreenReader('Refreshing feed...');
        try {
            // Refresh feed data
            await refreshFeeds();
            // Reset pagination
            setPage(1);
            setHasMore(true);
            // Clear expanded items
            setExpandedItems(new Set());
            // Announce success
            announceToScreenReader('Feed refreshed successfully');
            // Haptic feedback
            if (enableHaptics && 'vibrate' in navigator) {
                navigator.vibrate([
                    50,
                    100,
                    50
                ]);
            }
        } catch (error) {
            console.error('Pull to refresh failed:', error);
            announceToScreenReader('Failed to refresh feed');
            setError('Failed to refresh feed');
        } finally{
            setIsRefreshing(false);
        }
    }, [
        isRefreshing,
        refreshFeeds,
        announceToScreenReader,
        enableHaptics,
        setError
    ]);
    // Enhanced touch handling for pull-to-refresh
    const handleTouchStart = (0, _react.useCallback)((e)=>{
        if (window.scrollY === 0 && e.touches[0]) {
            touchStartRef.current = {
                x: e.touches[0].clientX,
                y: e.touches[0].clientY,
                time: Date.now()
            };
        }
    }, []);
    const handleTouchMove = (0, _react.useCallback)((e)=>{
        if (!touchStartRef.current || window.scrollY > 0 || !e.touches[0]) return;
        const touch = e.touches[0];
        const deltaY = touch.clientY - touchStartRef.current.y;
        if (deltaY > 0) {
            const distance = Math.min(deltaY * 0.5, refreshThreshold);
            setPullDistance(distance);
            if (distance >= refreshThreshold && !isRefreshing) {
                announceToScreenReader('Release to refresh');
            }
        }
    }, [
        refreshThreshold,
        isRefreshing,
        announceToScreenReader
    ]);
    const handleTouchEnd = (0, _react.useCallback)((e)=>{
        if (!touchStartRef.current || !e.changedTouches[0]) return;
        const touch = e.changedTouches[0];
        const deltaY = touch.clientY - touchStartRef.current.y;
        const deltaTime = Date.now() - touchStartRef.current.time;
        if (deltaY >= refreshThreshold && deltaTime < 1000 && window.scrollY === 0) {
            handlePullToRefresh();
        }
        setPullDistance(0);
        touchStartRef.current = null;
    }, [
        refreshThreshold,
        handlePullToRefresh
    ]);
    // Dark mode functionality
    const toggleDarkMode = (0, _react.useCallback)(()=>{
        setIsDarkMode((prev)=>{
            const newMode = !prev;
            // Update document class for global dark mode
            if (newMode) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }
            // Store preference in localStorage
            localStorage.setItem('darkMode', newMode.toString());
            // Announce to screen reader
            announceToScreenReader(`Switched to ${newMode ? 'dark' : 'light'} mode`);
            // Haptic feedback
            if (enableHaptics && 'vibrate' in navigator) {
                navigator.vibrate(25);
            }
            return newMode;
        });
    }, [
        announceToScreenReader,
        enableHaptics
    ]);
    // Initialize dark mode from localStorage and system preference
    (0, _react.useEffect)(()=>{
        const stored = localStorage.getItem('darkMode');
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const shouldBeDark = stored ? stored === 'true' : systemPrefersDark;
        setIsDarkMode(shouldBeDark);
        if (shouldBeDark) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    }, []);
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        ref: feedRef,
        className: (0, _utils.cn)("space-y-6 transition-colors duration-300", isDarkMode ? "bg-gray-900 text-white" : "bg-white text-gray-900", className),
        role: "main",
        "aria-label": "Unified Feed",
        onTouchStart: handleTouchStart,
        onTouchMove: handleTouchMove,
        onTouchEnd: handleTouchEnd,
        children: [
            pullDistance > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "fixed top-0 left-0 right-0 z-50 bg-blue-500 text-white text-center py-2 transition-transform duration-200",
                style: {
                    transform: `translateY(${Math.max(0, pullDistance - 50)}px)`
                },
                role: "status",
                "aria-live": "polite",
                children: pullDistance >= refreshThreshold ? 'Release to refresh' : 'Pull to refresh'
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "bg-blue-50 dark:bg-blue-900 border-b border-gray-200 dark:border-gray-700 p-2",
                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex items-center justify-between text-sm",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-center space-x-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center space-x-1",
                                    role: "status",
                                    "aria-live": "polite",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "w-2 h-2 bg-green-500 rounded-full animate-pulse",
                                            "aria-hidden": "true"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-green-600",
                                            children: "Online"
                                        })
                                    ]
                                }),
                                syncStatus === 'syncing' && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center space-x-1",
                                    role: "status",
                                    "aria-live": "polite",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500",
                                            "aria-hidden": "true"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-blue-600",
                                            children: "Syncing..."
                                        })
                                    ]
                                }),
                                isRefreshing && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "flex items-center space-x-1",
                                    role: "status",
                                    "aria-live": "polite",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500",
                                            "aria-hidden": "true"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-blue-600",
                                            children: "Refreshing..."
                                        })
                                    ]
                                })
                            ]
                        }),
                        lastSync && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                            className: "text-gray-500",
                            children: [
                                "Last sync: ",
                                lastSync.toLocaleTimeString()
                            ]
                        })
                    ]
                })
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("header", {
                className: "flex items-center justify-between",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                                className: "text-2xl font-bold text-gray-900 dark:text-white",
                                children: "Unified Feed"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                className: "text-sm text-gray-600 dark:text-gray-400",
                                children: [
                                    "Personalized content with hashtag-polls integration",
                                    personalizationScore > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                        className: "flex items-center space-x-1 ml-2",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                className: "w-2 h-2 bg-blue-500 rounded-full animate-pulse",
                                                "aria-hidden": "true"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                children: [
                                                    "Personalized (",
                                                    Math.round(personalizationScore * 100),
                                                    "% match)"
                                                ]
                                            })
                                        ]
                                    })
                                ]
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex items-center space-x-4",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: toggleDarkMode,
                                className: "p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",
                                "aria-label": `Switch to ${isDarkMode ? 'light' : 'dark'} mode`,
                                children: isDarkMode ? /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                    className: "w-5 h-5",
                                    fill: "none",
                                    stroke: "currentColor",
                                    viewBox: "0 0 24 24",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                        strokeLinecap: "round",
                                        strokeLinejoin: "round",
                                        strokeWidth: 2,
                                        d: "M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
                                    })
                                }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                    className: "w-5 h-5",
                                    fill: "none",
                                    stroke: "currentColor",
                                    viewBox: "0 0 24 24",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                        strokeLinecap: "round",
                                        strokeLinejoin: "round",
                                        strokeWidth: 2,
                                        d: "M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
                                    })
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: ()=>setShowAdvancedFilters(!showAdvancedFilters),
                                className: "p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",
                                "aria-label": "Toggle advanced filters",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                    className: "w-5 h-5",
                                    fill: "none",
                                    stroke: "currentColor",
                                    viewBox: "0 0 24 24",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                        strokeLinecap: "round",
                                        strokeLinejoin: "round",
                                        strokeWidth: 2,
                                        d: "M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"
                                    })
                                })
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: handleRefresh,
                                disabled: isRefreshing,
                                className: "p-2 rounded-md text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors disabled:opacity-50",
                                "aria-label": "Refresh feed",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                                    className: `w-5 h-5 ${isRefreshing ? 'animate-spin' : ''}`,
                                    fill: "none",
                                    stroke: "currentColor",
                                    viewBox: "0 0 24 24",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                                        strokeLinecap: "round",
                                        strokeLinejoin: "round",
                                        strokeWidth: 2,
                                        d: "M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"
                                    })
                                })
                            }),
                            enableAnalytics && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "text-right",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "text-sm text-gray-600 dark:text-gray-400",
                                        children: "Personalization"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                        className: "text-lg font-semibold text-blue-600",
                                        children: [
                                            Math.round(personalizationScore * 100),
                                            "%"
                                        ]
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_button.Button, {
                                onClick: handleRefresh,
                                disabled: isRefreshing,
                                variant: "outline",
                                size: "sm",
                                "aria-label": isRefreshing ? "Refreshing feed" : "Refresh feed",
                                "aria-describedby": "refresh-status",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_outline.ArrowPathIcon, {
                                        className: (0, _utils.cn)("h-4 w-4", isRefreshing && "animate-spin")
                                    }),
                                    isRefreshing ? "Refreshing..." : "Refresh"
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                id: "refresh-status",
                                className: "sr-only",
                                children: isRefreshing ? "Feed is being refreshed" : "Click to refresh the feed"
                            })
                        ]
                    })
                ]
            }),
            showAdvancedFilters && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "mb-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",
                role: "complementary",
                "aria-label": "Advanced filter options",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                        className: "text-sm font-medium text-gray-900 dark:text-white mb-2",
                        children: "Advanced Filters"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "space-y-2",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                className: "block text-sm text-gray-600 dark:text-gray-400",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                        type: "checkbox",
                                        className: "mr-2"
                                    }),
                                    " Federal Representatives"
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                className: "block text-sm text-gray-600 dark:text-gray-400",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                        type: "checkbox",
                                        className: "mr-2"
                                    }),
                                    " State Representatives"
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                className: "block text-sm text-gray-600 dark:text-gray-400",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                        type: "checkbox",
                                        className: "mr-2"
                                    }),
                                    " Local Representatives"
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                className: "block text-sm text-gray-600 dark:text-gray-400",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                        type: "checkbox",
                                        className: "mr-2"
                                    }),
                                    " Trending Content"
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                className: "block text-sm text-gray-600 dark:text-gray-400",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                        type: "checkbox",
                                        className: "mr-2"
                                    }),
                                    " Hashtag-Polls Integration"
                                ]
                            })
                        ]
                    })
                ]
            }),
            pullDistance > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-center py-4 text-gray-500",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        className: "ml-2",
                        children: "Pull to refresh..."
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
                role: "region",
                "aria-label": "Content filters",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardHeader, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardTitle, {
                            className: "flex items-center gap-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)(_outline.HashtagIcon, {
                                    className: "h-5 w-5",
                                    "aria-hidden": "true"
                                }),
                                "Content Filters",
                                selectedHashtags.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)(_badge.Badge, {
                                    variant: "secondary",
                                    "aria-label": `${selectedHashtags.length} hashtags selected`,
                                    children: selectedHashtags.length
                                })
                            ]
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "relative",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                            htmlFor: "content-search",
                                            className: "sr-only",
                                            children: "Search content"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_input.Input, {
                                            id: "content-search",
                                            placeholder: "Search content...",
                                            value: searchQuery,
                                            onChange: (e)=>setSearchQuery(e.target.value),
                                            className: "pl-10",
                                            "aria-describedby": "search-help"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_outline.HashtagIcon, {
                                            className: "absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400",
                                            "aria-hidden": "true"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            id: "search-help",
                                            className: "sr-only",
                                            children: "Search through feed content by title or description"
                                        })
                                    ]
                                }),
                                selectedHashtags.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "flex flex-wrap gap-2",
                                    role: "list",
                                    "aria-label": "Selected hashtags",
                                    children: selectedHashtags.map((hashtag)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)(_badge.Badge, {
                                            variant: "default",
                                            className: "cursor-pointer hover:bg-red-100",
                                            onClick: ()=>handleHashtagSelect(hashtag),
                                            role: "listitem",
                                            tabIndex: 0,
                                            onKeyDown: (e)=>{
                                                if (e.key === 'Enter' || e.key === ' ') {
                                                    e.preventDefault();
                                                    handleHashtagSelect(hashtag);
                                                }
                                            },
                                            "aria-label": `Remove hashtag ${hashtag} from filters`,
                                            children: [
                                                "#",
                                                hashtag,
                                                " \xd7"
                                            ]
                                        }, hashtag))
                                }),
                                showTrending && trendingHashtags.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "text-sm font-medium text-gray-700 mb-2",
                                            children: "Trending:"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "flex flex-wrap gap-2",
                                            role: "list",
                                            "aria-label": "Trending hashtags",
                                            children: trendingHashtags.slice(0, 10).map((hashtag)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)(_badge.Badge, {
                                                    variant: selectedHashtags.includes(hashtag.name || hashtag) ? "default" : "outline",
                                                    className: "cursor-pointer hover:bg-blue-100",
                                                    onClick: ()=>handleHashtagSelect(hashtag.name || hashtag),
                                                    role: "listitem",
                                                    tabIndex: 0,
                                                    onKeyDown: (e)=>{
                                                        if (e.key === 'Enter' || e.key === ' ') {
                                                            e.preventDefault();
                                                            handleHashtagSelect(hashtag.name || hashtag);
                                                        }
                                                    },
                                                    "aria-label": `${selectedHashtags.includes(hashtag.name || hashtag) ? 'Remove' : 'Add'} hashtag ${hashtag.name || hashtag} ${selectedHashtags.includes(hashtag.name || hashtag) ? 'from' : 'to'} filters`,
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_outline.ArrowTrendingUpIcon, {
                                                            className: "h-3 w-3 mr-1",
                                                            "aria-hidden": "true"
                                                        }),
                                                        "#",
                                                        hashtag.name || hashtag
                                                    ]
                                                }, hashtag.name || hashtag))
                                        })
                                    ]
                                })
                            ]
                        })
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)(_tabs.Tabs, {
                value: activeTab,
                onValueChange: setActiveTab,
                role: "tablist",
                "aria-label": "Feed content sections",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)(_tabs.TabsList, {
                        className: "grid w-full grid-cols-3",
                        role: "tablist",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsTrigger, {
                                value: "feed",
                                role: "tab",
                                "aria-selected": activeTab === 'feed',
                                "aria-controls": "feed-panel",
                                children: "Feed"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsTrigger, {
                                value: "polls",
                                role: "tab",
                                "aria-selected": activeTab === 'polls',
                                "aria-controls": "polls-panel",
                                children: "Polls"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsTrigger, {
                                value: "analytics",
                                role: "tab",
                                "aria-selected": activeTab === 'analytics',
                                "aria-controls": "analytics-panel",
                                children: "Analytics"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsContent, {
                        value: "feed",
                        className: "space-y-4",
                        id: "feed-panel",
                        role: "tabpanel",
                        "aria-labelledby": "feed-tab",
                        children: isLoading ? /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex items-center justify-center py-12",
                            role: "status",
                            "aria-live": "polite",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600",
                                    "aria-hidden": "true"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    className: "sr-only",
                                    children: "Loading feed content..."
                                })
                            ]
                        }) : filteredFeedItems.length === 0 ? /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.Card, {
                            role: "status",
                            "aria-live": "polite",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardContent, {
                                className: "p-6 text-center",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_outline.HashtagIcon, {
                                        className: "h-12 w-12 text-gray-400 mx-auto mb-4",
                                        "aria-hidden": "true"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "text-gray-600",
                                        children: "No content matches your filters"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                        variant: "outline",
                                        onClick: ()=>{
                                            setSelectedHashtags([]);
                                            setSearchQuery('');
                                        },
                                        className: "mt-4",
                                        "aria-label": "Clear all filters to show all content",
                                        children: "Clear Filters"
                                    })
                                ]
                            })
                        }) : /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "space-y-4",
                            role: "feed",
                            "aria-label": "Feed content",
                            children: filteredFeedItems.map((item, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("article", {
                                    role: "article",
                                    "aria-posinset": index + 1,
                                    "aria-setsize": filteredFeedItems.length,
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_FeedItem.default, {
                                        item: item,
                                        onLike: ()=>handleLike(item.id),
                                        onBookmark: ()=>handleBookmark(item.id),
                                        onShare: ()=>onShare?.(item.id),
                                        onComment: ()=>onComment?.(item.id),
                                        onViewDetails: ()=>onViewDetails?.(item.id)
                                    })
                                }, item.id))
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsContent, {
                        value: "polls",
                        className: "space-y-4",
                        id: "polls-panel",
                        role: "tabpanel",
                        "aria-labelledby": "polls-tab",
                        children: hashtagPollsFeed ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "space-y-4",
                            children: hashtagPollsFeed.recommended_polls.map((poll)=>/*#__PURE__*/ (0, _jsxruntime.jsx)(_card.Card, {
                                    className: "hover:shadow-md transition-shadow",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardContent, {
                                        className: "p-6",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "flex items-start justify-between mb-4",
                                                children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                    className: "flex-1",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                                            className: "text-lg font-semibold text-gray-900 mb-2",
                                                            children: poll.title
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                            className: "text-gray-600 mb-4",
                                                            children: poll.description
                                                        }),
                                                        poll.hashtags && poll.hashtags.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                            className: "flex flex-wrap gap-2 mb-4",
                                                            children: poll.hashtags.map((hashtag)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)(_badge.Badge, {
                                                                    variant: "outline",
                                                                    className: "cursor-pointer hover:bg-blue-100",
                                                                    onClick: ()=>handleHashtagSelect(hashtag),
                                                                    children: [
                                                                        "#",
                                                                        hashtag
                                                                    ]
                                                                }, hashtag))
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                            className: "flex items-center space-x-4 text-sm text-gray-500",
                                                            children: [
                                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                    className: "flex items-center",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_outline.UserGroupIcon, {
                                                                            className: "h-4 w-4 mr-1"
                                                                        }),
                                                                        poll.total_votes,
                                                                        " votes"
                                                                    ]
                                                                }),
                                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                    className: "flex items-center",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_outline.ClockIcon, {
                                                                            className: "h-4 w-4 mr-1"
                                                                        }),
                                                                        new Date(poll.created_at).toLocaleDateString()
                                                                    ]
                                                                }),
                                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                                    className: "flex items-center",
                                                                    children: [
                                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_outline.ChartBarIcon, {
                                                                            className: "h-4 w-4 mr-1"
                                                                        }),
                                                                        Math.round(poll.relevance_score * 100),
                                                                        "% match"
                                                                    ]
                                                                })
                                                            ]
                                                        })
                                                    ]
                                                })
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "flex items-center justify-between",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                        className: "text-sm text-gray-600",
                                                        children: poll.reason
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_button.Button, {
                                                        onClick: ()=>handlePollSelect(poll.poll_id),
                                                        className: "ml-4",
                                                        children: "View Poll"
                                                    })
                                                ]
                                            })
                                        ]
                                    })
                                }, poll.poll_id))
                        }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.Card, {
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardContent, {
                                className: "p-6 text-center",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_outline.HashtagIcon, {
                                        className: "h-12 w-12 text-gray-400 mx-auto mb-4"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "text-gray-600",
                                        children: "No personalized polls available"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "text-sm text-gray-500",
                                        children: "Follow some hashtags to get personalized recommendations"
                                    })
                                ]
                            })
                        })
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_tabs.TabsContent, {
                        value: "analytics",
                        className: "space-y-4",
                        children: enableAnalytics && hashtagPollsFeed?.hashtag_analytics ? /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",
                            children: hashtagPollsFeed.hashtag_analytics.map((analytic)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.Card, {
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardHeader, {
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardTitle, {
                                                className: "flex items-center gap-2",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_outline.HashtagIcon, {
                                                        className: "h-4 w-4"
                                                    }),
                                                    "#",
                                                    analytic.hashtag
                                                ]
                                            })
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.CardContent, {
                                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                className: "space-y-2",
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "flex justify-between",
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                className: "text-sm text-gray-600",
                                                                children: "Polls:"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                className: "font-medium",
                                                                children: analytic.poll_count
                                                            })
                                                        ]
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "flex justify-between",
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                className: "text-sm text-gray-600",
                                                                children: "Engagement:"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                                className: "font-medium",
                                                                children: [
                                                                    Math.round(analytic.engagement_rate * 100),
                                                                    "%"
                                                                ]
                                                            })
                                                        ]
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "flex justify-between",
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                className: "text-sm text-gray-600",
                                                                children: "Interest:"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                                className: "font-medium",
                                                                children: [
                                                                    Math.round(analytic.user_interest_level * 100),
                                                                    "%"
                                                                ]
                                                            })
                                                        ]
                                                    }),
                                                    analytic.trending_position > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                        className: "flex justify-between",
                                                        children: [
                                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                                                className: "text-sm text-gray-600",
                                                                children: "Trending:"
                                                            }),
                                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("span", {
                                                                className: "font-medium text-green-600",
                                                                children: [
                                                                    "#",
                                                                    analytic.trending_position
                                                                ]
                                                            })
                                                        ]
                                                    })
                                                ]
                                            })
                                        })
                                    ]
                                }, analytic.hashtag))
                        }) : /*#__PURE__*/ (0, _jsxruntime.jsx)(_card.Card, {
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)(_card.CardContent, {
                                className: "p-6 text-center",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)(_outline.ChartBarIcon, {
                                        className: "h-12 w-12 text-gray-400 mx-auto mb-4"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                        className: "text-gray-600",
                                        children: "Analytics not available"
                                    })
                                ]
                            })
                        })
                    })
                ]
            }),
            feeds.length > 5 && /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                ref: scrollToTopRef,
                onClick: scrollToTop,
                className: "fixed bottom-20 right-4 bg-blue-600 text-white p-3 rounded-full shadow-lg hover:bg-blue-700 transition-colors z-30 min-w-[44px] min-h-[44px]",
                "aria-label": "Scroll to top",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("svg", {
                    className: "w-6 h-6",
                    fill: "none",
                    stroke: "currentColor",
                    viewBox: "0 0 24 24",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("path", {
                        strokeLinecap: "round",
                        strokeLinejoin: "round",
                        strokeWidth: 2,
                        d: "M5 10l7-7m0 0l7 7m-7-7v18"
                    })
                })
            }),
            isLoading && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex items-center justify-center py-8",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                        className: "ml-3 text-gray-500",
                        children: "Loading more..."
                    })
                ]
            }),
            !hasMore && feeds.length > 0 && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "text-center py-8 text-gray-500",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        children: "You've reached the end of the feed"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-sm mt-1",
                        children: "Check back later for more updates"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                ref: lastItemRef,
                className: "h-1"
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "sr-only",
                "aria-live": "polite",
                "aria-atomic": "true",
                children: accessibilityAnnouncements.map((announcement, index)=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        children: announcement
                    }, `announcement-${index}-${announcement.slice(0, 20)}`))
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                className: "sr-only",
                "aria-live": "polite",
                "aria-atomic": "true",
                id: "live-region",
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                    id: "live-region-content"
                })
            }),
            errorMessage && /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                role: "alert",
                className: "fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded z-50",
                children: [
                    errorMessage,
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: clearError,
                        className: "ml-2 text-red-700 hover:text-red-900 min-w-[44px] min-h-[44px]",
                        "aria-label": "Close error message",
                        children: "\xd7"
                    })
                ]
            })
        ]
    });
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9mZWF0dXJlcy9mZWVkcy9jb21wb25lbnRzL1VuaWZpZWRGZWVkLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFVuaWZpZWQgRmVlZCBDb21wb25lbnRcbiAqIFxuICogQ29uc29saWRhdGVkIGZlZWQgY29tcG9uZW50IHRoYXQgY29tYmluZXMgYWxsIGZlZWQgZnVuY3Rpb25hbGl0eTpcbiAqIC0gU29jaWFsIGZlZWQgd2l0aCBJbnN0YWdyYW0tbGlrZSBmZWF0dXJlc1xuICogLSBIYXNodGFnLXBvbGxzIGludGVncmF0aW9uIGZvciBwZXJzb25hbGl6ZWQgY29udGVudFxuICogLSBNb2JpbGUtb3B0aW1pemVkIHdpdGggUFdBIGZlYXR1cmVzXG4gKiAtIFJlYWwtdGltZSB1cGRhdGVzIGFuZCBhbmFseXRpY3NcbiAqIC0gQ29tcHJlaGVuc2l2ZSBoYXNodGFnIGludGVncmF0aW9uXG4gKiBcbiAqIFRoaXMgcmVwbGFjZXM6IFNvY2lhbEZlZWQsIEVuaGFuY2VkU29jaWFsRmVlZCwgU3VwZXJpb3JNb2JpbGVGZWVkLCBGZWVkSGFzaHRhZ0ludGVncmF0aW9uXG4gKiBcbiAqIENyZWF0ZWQ6IEphbnVhcnkgMTksIDIwMjVcbiAqIFN0YXR1czog4pyFIEFDVElWRVxuICovXG5cbid1c2UgY2xpZW50JztcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZUNhbGxiYWNrLCB1c2VNZW1vLCB1c2VSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQge1xuICBIYXNodGFnSWNvbixcbiAgQXJyb3dUcmVuZGluZ1VwSWNvbixcbiAgQ2xvY2tJY29uLFxuICBVc2VyR3JvdXBJY29uLFxuICBDaGFydEJhckljb24sXG4gIEFycm93UGF0aEljb25cbn0gZnJvbSAnQGhlcm9pY29ucy9yZWFjdC8yNC9vdXRsaW5lJztcblxuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvYmFkZ2UnO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2J1dHRvbic7XG5pbXBvcnQgeyBDYXJkLCBDYXJkQ29udGVudCwgQ2FyZEhlYWRlciwgQ2FyZFRpdGxlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL2NhcmQnO1xuaW1wb3J0IHsgSW5wdXQgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvaW5wdXQnO1xuaW1wb3J0IHsgVGFicywgVGFic0NvbnRlbnQsIFRhYnNMaXN0LCBUYWJzVHJpZ2dlciB9IGZyb20gJ0AvY29tcG9uZW50cy91aS90YWJzJztcbi8vIGltcG9ydCB7IFBvbGxDYXJkIH0gZnJvbSAnQC9mZWF0dXJlcy9wb2xscy9jb21wb25lbnRzJztcbmltcG9ydCB7IFxuICB1c2VGZWVkcywgXG4gIHVzZUZlZWRzQWN0aW9ucywgXG4gIHVzZUZlZWRzTG9hZGluZyxcbiAgdXNlUFdBU3RvcmUsXG4gIHVzZVVzZXJTdG9yZSxcbiAgdXNlTm90aWZpY2F0aW9uU3RvcmUsXG4gIHVzZUhhc2h0YWdTdG9yZSxcbiAgdXNlSGFzaHRhZ0FjdGlvbnMsXG4gIHVzZUhhc2h0YWdTdGF0c1xufSBmcm9tICdAL2xpYi9zdG9yZXMnO1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdAL2xpYi91dGlscy9sb2dnZXInO1xuXG5pbXBvcnQgdHlwZSB7IFxuICBVc2VyUHJlZmVyZW5jZXNcbn0gZnJvbSAnLi4vdHlwZXMnO1xuaW1wb3J0IEZlZWRJdGVtIGZyb20gJy4vRmVlZEl0ZW0nO1xuXG5pbnRlcmZhY2UgVW5pZmllZEZlZWRQcm9wcyB7XG4gIHVzZXJJZD86IHN0cmluZztcbiAgcHJlZmVyZW5jZXM/OiBVc2VyUHJlZmVyZW5jZXM7XG4gIG9uTGlrZT86IChpdGVtSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgb25TaGFyZT86IChpdGVtSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgb25Cb29rbWFyaz86IChpdGVtSWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgb25Db21tZW50PzogKGl0ZW1JZDogc3RyaW5nKSA9PiB2b2lkO1xuICBvblZpZXdEZXRhaWxzPzogKGl0ZW1JZDogc3RyaW5nKSA9PiB2b2lkO1xuICBvblBvbGxTZWxlY3Q/OiAocG9sbElkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG9uSGFzaHRhZ1NlbGVjdD86IChoYXNodGFnOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGNsYXNzTmFtZT86IHN0cmluZztcbiAgZW5hYmxlUGVyc29uYWxpemF0aW9uPzogYm9vbGVhbjtcbiAgZW5hYmxlUmVhbFRpbWVVcGRhdGVzPzogYm9vbGVhbjtcbiAgZW5hYmxlQW5hbHl0aWNzPzogYm9vbGVhbjtcbiAgZW5hYmxlSGFwdGljcz86IGJvb2xlYW47XG4gIGVuYWJsZUhhc2h0YWdQb2xscz86IGJvb2xlYW47XG4gIGVuYWJsZU1vYmlsZU9wdGltaXphdGlvbj86IGJvb2xlYW47XG4gIHNob3dUcmVuZGluZz86IGJvb2xlYW47XG4gIG1heEl0ZW1zPzogbnVtYmVyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBVbmlmaWVkRmVlZCh7XG4gIHVzZXJJZCxcbiAgcHJlZmVyZW5jZXMsXG4gIG9uTGlrZSxcbiAgb25TaGFyZSxcbiAgb25Cb29rbWFyayxcbiAgb25Db21tZW50LFxuICBvblZpZXdEZXRhaWxzLFxuICBvblBvbGxTZWxlY3QsXG4gIG9uSGFzaHRhZ1NlbGVjdCxcbiAgY2xhc3NOYW1lID0gJycsXG4gIGVuYWJsZVBlcnNvbmFsaXphdGlvbiA9IHRydWUsXG4gIGVuYWJsZVJlYWxUaW1lVXBkYXRlcyA9IHRydWUsXG4gIGVuYWJsZUFuYWx5dGljcyA9IGZhbHNlLFxuICBlbmFibGVIYXB0aWNzID0gdHJ1ZSxcbiAgZW5hYmxlSGFzaHRhZ1BvbGxzID0gdHJ1ZSxcbiAgZW5hYmxlTW9iaWxlT3B0aW1pemF0aW9uID0gdHJ1ZSxcbiAgc2hvd1RyZW5kaW5nID0gdHJ1ZSxcbiAgbWF4SXRlbXMgPSA1MFxufTogVW5pZmllZEZlZWRQcm9wcykge1xuICAvLyBTdG9yZSBob29rc1xuICBjb25zdCBmZWVkcyA9IHVzZUZlZWRzKCk7XG4gIGNvbnN0IHsgbG9hZEZlZWRzLCBsaWtlRmVlZCwgYm9va21hcmtGZWVkLCByZWZyZXNoRmVlZHMgfSA9IHVzZUZlZWRzQWN0aW9ucygpO1xuICBjb25zdCBpc0xvYWRpbmcgPSB1c2VGZWVkc0xvYWRpbmcoKTtcbiAgY29uc3QgcHdhU3RvcmUgPSB1c2VQV0FTdG9yZSgpO1xuICBjb25zdCB7IHVzZXIgfSA9IHVzZVVzZXJTdG9yZSgpO1xuICBjb25zdCBhZGROb3RpZmljYXRpb24gPSB1c2VOb3RpZmljYXRpb25TdG9yZShzdGF0ZSA9PiBzdGF0ZS5hZGROb3RpZmljYXRpb24pO1xuICBjb25zdCB7IGhhc2h0YWdzLCB0cmVuZGluZ0hhc2h0YWdzIH0gPSB1c2VIYXNodGFnU3RvcmUoKTtcbiAgY29uc3QgeyBnZXRUcmVuZGluZ0hhc2h0YWdzIH0gPSB1c2VIYXNodGFnQWN0aW9ucygpO1xuICBjb25zdCB7IHRyZW5kaW5nQ291bnQgfSA9IHVzZUhhc2h0YWdTdGF0cygpO1xuXG4gIC8vIExvY2FsIHN0YXRlXG4gIGNvbnN0IFthY3RpdmVUYWIsIHNldEFjdGl2ZVRhYl0gPSB1c2VTdGF0ZSgnZmVlZCcpO1xuICBjb25zdCBbaGFzaHRhZ1BvbGxzRmVlZCwgc2V0SGFzaHRhZ1BvbGxzRmVlZF0gPSB1c2VTdGF0ZTxhbnkgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3NlbGVjdGVkSGFzaHRhZ3MsIHNldFNlbGVjdGVkSGFzaHRhZ3NdID0gdXNlU3RhdGU8c3RyaW5nW10+KFtdKTtcbiAgY29uc3QgW3NlYXJjaFF1ZXJ5LCBzZXRTZWFyY2hRdWVyeV0gPSB1c2VTdGF0ZSgnJyk7XG4gIGNvbnN0IFtpc1JlZnJlc2hpbmcsIHNldElzUmVmcmVzaGluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtwZXJzb25hbGl6YXRpb25TY29yZSwgc2V0UGVyc29uYWxpemF0aW9uU2NvcmVdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtsYXN0VXBkYXRlLCBzZXRMYXN0VXBkYXRlXSA9IHVzZVN0YXRlPERhdGU+KG5ldyBEYXRlKCkpO1xuICBjb25zdCBbaXNEYXJrTW9kZSwgc2V0SXNEYXJrTW9kZV0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtub3RpZmljYXRpb25QZXJtaXNzaW9uLCBzZXROb3RpZmljYXRpb25QZXJtaXNzaW9uXSA9IHVzZVN0YXRlPE5vdGlmaWNhdGlvblBlcm1pc3Npb24+KCdkZWZhdWx0Jyk7XG4gIGNvbnN0IFtzd1JlZ2lzdHJhdGlvbiwgc2V0U3dSZWdpc3RyYXRpb25dID0gdXNlU3RhdGU8U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbiB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbbGFzdFN5bmMsIHNldExhc3RTeW5jXSA9IHVzZVN0YXRlPERhdGUgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW3N5bmNTdGF0dXMsIHNldFN5bmNTdGF0dXNdID0gdXNlU3RhdGU8J2lkbGUnIHwgJ3N5bmNpbmcnIHwgJ2Vycm9yJz4oJ2lkbGUnKTtcbiAgY29uc3QgW3Nob3dBZHZhbmNlZEZpbHRlcnMsIHNldFNob3dBZHZhbmNlZEZpbHRlcnNdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYWNjZXNzaWJpbGl0eUFubm91bmNlbWVudHMsIHNldEFjY2Vzc2liaWxpdHlBbm5vdW5jZW1lbnRzXSA9IHVzZVN0YXRlPHN0cmluZ1tdPihbXSk7XG4gIGNvbnN0IFtlcnJvck1lc3NhZ2UsIHNldEVycm9yTWVzc2FnZV0gPSB1c2VTdGF0ZTxzdHJpbmc+KCcnKTtcbiAgY29uc3QgW3Nob3dFcnJvciwgc2V0U2hvd0Vycm9yXSA9IHVzZVN0YXRlPGJvb2xlYW4+KGZhbHNlKTtcbiAgY29uc3QgW3B1bGxEaXN0YW5jZSwgc2V0UHVsbERpc3RhbmNlXSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbaGFzTW9yZSwgc2V0SGFzTW9yZV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW3BhZ2UsIHNldFBhZ2VdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFtleHBhbmRlZEl0ZW1zLCBzZXRFeHBhbmRlZEl0ZW1zXSA9IHVzZVN0YXRlPFNldDxzdHJpbmc+PihuZXcgU2V0KCkpO1xuICBjb25zdCBbbG9hZGluZ0ltYWdlcywgc2V0TG9hZGluZ0ltYWdlc10gPSB1c2VTdGF0ZTxTZXQ8c3RyaW5nPj4obmV3IFNldCgpKTtcbiAgY29uc3QgW3JlZnJlc2hUaHJlc2hvbGRdID0gdXNlU3RhdGUoODApO1xuICAvLyBSZWZzXG4gIGNvbnN0IHdzUmVmID0gdXNlUmVmPFdlYlNvY2tldCB8IG51bGw+KG51bGwpO1xuICBjb25zdCByZWZyZXNoSW50ZXJ2YWxSZWYgPSB1c2VSZWY8Tm9kZUpTLlRpbWVvdXQgfCBudWxsPihudWxsKTtcbiAgY29uc3QgdG91Y2hTdGFydFJlZiA9IHVzZVJlZjx7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB0aW1lOiBudW1iZXIgfSB8IG51bGw+KG51bGwpO1xuICBjb25zdCBsb25nUHJlc3NUaW1lclJlZiA9IHVzZVJlZjxOb2RlSlMuVGltZW91dCB8IG51bGw+KG51bGwpO1xuICBjb25zdCBmZWVkUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcbiAgY29uc3Qgb2JzZXJ2ZXJSZWYgPSB1c2VSZWY8SW50ZXJzZWN0aW9uT2JzZXJ2ZXIgfCBudWxsPihudWxsKTtcbiAgY29uc3QgbGFzdEl0ZW1SZWYgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpO1xuICBjb25zdCBzY3JvbGxUb1RvcFJlZiA9IHVzZVJlZjxIVE1MQnV0dG9uRWxlbWVudD4obnVsbCk7XG5cbiAgLy8gVG91Y2ggZ2VzdHVyZSBoYW5kbGluZyAoZnJvbSBGZWVkSXRlbS50c3gpIC0gbW92ZWQgdG8gcHVsbC10by1yZWZyZXNoIHNlY3Rpb25cblxuICAvLyBQV0EgRmVhdHVyZXMgKGZyb20gU3VwZXJpb3JNb2JpbGVGZWVkLnRzeClcbiAgY29uc3QgaW5pdGlhbGl6ZVN1cGVyaW9yUFdBRmVhdHVyZXMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlZ2lzdHJhdGlvbiA9IGF3YWl0IG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlYWR5O1xuICAgICAgICBzZXRTd1JlZ2lzdHJhdGlvbihyZWdpc3RyYXRpb24pO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVxdWVzdCBub3RpZmljYXRpb24gcGVybWlzc2lvblxuICAgICAgICBpZiAoJ05vdGlmaWNhdGlvbicgaW4gd2luZG93KSB7XG4gICAgICAgICAgY29uc3QgcGVybWlzc2lvbiA9IGF3YWl0IE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbigpO1xuICAgICAgICAgIHNldE5vdGlmaWNhdGlvblBlcm1pc3Npb24ocGVybWlzc2lvbik7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHBlcm1pc3Npb24gPT09ICdncmFudGVkJyAmJiByZWdpc3RyYXRpb24pIHtcbiAgICAgICAgICAgIGF3YWl0IHN1YnNjcmliZVRvTm90aWZpY2F0aW9ucyhyZWdpc3RyYXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignU2VydmljZSBXb3JrZXIgcmVnaXN0cmF0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gUHVzaCBub3RpZmljYXRpb24gc3Vic2NyaXB0aW9uXG4gIGNvbnN0IHN1YnNjcmliZVRvTm90aWZpY2F0aW9ucyA9IHVzZUNhbGxiYWNrKGFzeW5jIChyZWdpc3RyYXRpb246IFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3Vic2NyaXB0aW9uID0gYXdhaXQgcmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7XG4gICAgICAgIHVzZXJWaXNpYmxlT25seTogdHJ1ZSxcbiAgICAgICAgYXBwbGljYXRpb25TZXJ2ZXJLZXk6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1ZBUElEX1BVQkxJQ19LRVkgPz8gbnVsbFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFNlbmQgc3Vic2NyaXB0aW9uIHRvIHNlcnZlclxuICAgICAgYXdhaXQgZmV0Y2goJy9hcGkvcHdhP2FjdGlvbj1zdWJzY3JpYmUnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc3Vic2NyaXB0aW9uKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGxvZ2dlci5pbmZvKCdQdXNoIHN1YnNjcmlwdGlvbiBzdWNjZXNzZnVsJyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1B1c2ggc3Vic2NyaXB0aW9uIGZhaWxlZDonLCBlcnJvcik7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgY2hlY2tPbmxpbmVTdGF0dXMgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlT25saW5lID0gKCkgPT4ge1xuICAgICAgaWYgKHN3UmVnaXN0cmF0aW9uKSB7XG4gICAgICAgIHN5bmNPZmZsaW5lRGF0YSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgY29uc3QgaGFuZGxlT2ZmbGluZSA9ICgpID0+IHtcbiAgICAgIC8vIEhhbmRsZSBvZmZsaW5lIHN0YXRlXG4gICAgfTtcbiAgICBcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb25saW5lJywgaGFuZGxlT25saW5lKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignb2ZmbGluZScsIGhhbmRsZU9mZmxpbmUpO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb25saW5lJywgaGFuZGxlT25saW5lKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgaGFuZGxlT2ZmbGluZSk7XG4gICAgfTtcbiAgfSwgW3N3UmVnaXN0cmF0aW9uXSk7XG5cbiAgY29uc3Qgc3luY09mZmxpbmVEYXRhID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIHNldFN5bmNTdGF0dXMoJ3N5bmNpbmcnKTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9wd2E/YWN0aW9uPXN5bmMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB1c2VySWQsIGxhc3RTeW5jOiBsYXN0U3luYz8udG9JU09TdHJpbmcoKSB9KVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgICBzZXRMYXN0U3luYyhuZXcgRGF0ZSgpKTtcbiAgICAgICAgc2V0U3luY1N0YXR1cygnaWRsZScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdTeW5jIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICBzZXRTeW5jU3RhdHVzKCdlcnJvcicpO1xuICAgIH1cbiAgfSwgW3VzZXJJZCwgbGFzdFN5bmNdKTtcblxuICAvLyBBY2Nlc3NpYmlsaXR5IGhlbHBlciBmdW5jdGlvbnNcbiAgY29uc3QgYW5ub3VuY2VUb1NjcmVlblJlYWRlciA9IHVzZUNhbGxiYWNrKChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICBzZXRBY2Nlc3NpYmlsaXR5QW5ub3VuY2VtZW50cyhwcmV2ID0+IFsuLi5wcmV2LCBtZXNzYWdlXSk7XG4gICAgY29uc3QgbGl2ZVJlZ2lvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXZlLXJlZ2lvbi1jb250ZW50Jyk7XG4gICAgaWYgKGxpdmVSZWdpb24pIHtcbiAgICAgIGxpdmVSZWdpb24udGV4dENvbnRlbnQgPSBtZXNzYWdlO1xuICAgIH1cbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldEFjY2Vzc2liaWxpdHlBbm5vdW5jZW1lbnRzKHByZXYgPT4gcHJldi5zbGljZSgxKSk7XG4gICAgICBpZiAobGl2ZVJlZ2lvbikge1xuICAgICAgICBsaXZlUmVnaW9uLnRleHRDb250ZW50ID0gJyc7XG4gICAgICB9XG4gICAgfSwgNTAwMCk7XG4gIH0sIFtdKTtcblxuICBjb25zdCBzZXRFcnJvciA9IHVzZUNhbGxiYWNrKChtZXNzYWdlOiBzdHJpbmcpID0+IHtcbiAgICBzZXRFcnJvck1lc3NhZ2UobWVzc2FnZSk7XG4gICAgYW5ub3VuY2VUb1NjcmVlblJlYWRlcihgRXJyb3I6ICR7bWVzc2FnZX1gKTtcbiAgfSwgW2Fubm91bmNlVG9TY3JlZW5SZWFkZXJdKTtcblxuICBjb25zdCBjbGVhckVycm9yID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldEVycm9yTWVzc2FnZSgnJyk7XG4gIH0sIFtdKTtcblxuICAvLyBMb2FkIGhhc2h0YWctcG9sbHMgZmVlZCBpZiBlbmFibGVkXG4gIGNvbnN0IGxvYWRIYXNodGFnUG9sbHNGZWVkID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmICghZW5hYmxlSGFzaHRhZ1BvbGxzIHx8ICF1c2VySWQpIHJldHVybjtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2ZlZWRzL2ludGVyZXN0LWJhc2VkP3VzZXJJZD0ke3VzZXJJZH0maW5jbHVkZVRyZW5kaW5nPXRydWUmbGltaXQ9MjBgKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybjtcblxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGlmIChkYXRhLm9rICYmIGRhdGEuZGF0YT8uaGFzaHRhZ1BvbGxzRmVlZCkge1xuICAgICAgICBzZXRIYXNodGFnUG9sbHNGZWVkKHtcbiAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgaGFzaHRhZ19pbnRlcmVzdHM6IGRhdGEuZGF0YS5oYXNodGFnUG9sbHNGZWVkLnVzZXJfZm9sbG93ZWRfaGFzaHRhZ3MgfHwgW10sXG4gICAgICAgICAgcmVjb21tZW5kZWRfcG9sbHM6IGRhdGEuZGF0YS5oYXNodGFnUG9sbHNGZWVkLnJlY29tbWVuZGVkX3BvbGxzIHx8IFtdLFxuICAgICAgICAgIHRyZW5kaW5nX2hhc2h0YWdzOiBkYXRhLmRhdGEuaGFzaHRhZ1BvbGxzRmVlZC50cmVuZGluZ19oYXNodGFncyB8fCBbXSxcbiAgICAgICAgICBoYXNodGFnX2FuYWx5dGljczogZGF0YS5kYXRhLmhhc2h0YWdQb2xsc0ZlZWQuaGFzaHRhZ19hbmFseXRpY3MgfHwgW10sXG4gICAgICAgICAgZmVlZF9zY29yZTogZGF0YS5kYXRhLmhhc2h0YWdQb2xsc0ZlZWQuZmVlZF9zY29yZSB8fCAwLFxuICAgICAgICAgIGxhc3RfdXBkYXRlZDogbmV3IERhdGUoKVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLndhcm4oJ0ZhaWxlZCB0byBsb2FkIGhhc2h0YWctcG9sbHMgZmVlZDonLCB7IGVycm9yOiBlcnJvciBhcyBFcnJvciB9KTtcbiAgICB9XG4gIH0sIFt1c2VySWQsIGVuYWJsZUhhc2h0YWdQb2xsc10pO1xuXG4gIC8vIExvYWQgZmVlZCBkYXRhXG4gIGNvbnN0IGxvYWRGZWVkRGF0YSA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgbG9hZEZlZWRzKCk7XG4gICAgICBhd2FpdCBsb2FkSGFzaHRhZ1BvbGxzRmVlZCgpO1xuICAgICAgc2V0TGFzdFVwZGF0ZShuZXcgRGF0ZSgpKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBmZWVkIGRhdGE6JywgZXJyb3IgYXMgRXJyb3IpO1xuICAgIH1cbiAgfSwgW2xvYWRGZWVkcywgbG9hZEhhc2h0YWdQb2xsc0ZlZWRdKTtcblxuICAvLyBJbml0aWFsaXplIGZlZWQgZGF0YVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh1c2VySWQpIHtcbiAgICAgIGxvYWRGZWVkRGF0YSgpO1xuICAgIH1cbiAgfSwgW3VzZXJJZCwgbG9hZEZlZWREYXRhXSk7XG5cbiAgLy8gTG9hZCB0cmVuZGluZyBoYXNodGFnc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzaG93VHJlbmRpbmcpIHtcbiAgICAgIGdldFRyZW5kaW5nSGFzaHRhZ3MoKTtcbiAgICB9XG4gIH0sIFtzaG93VHJlbmRpbmcsIGdldFRyZW5kaW5nSGFzaHRhZ3NdKTtcblxuICAvLyBGaWx0ZXJlZCBmZWVkIGl0ZW1zIGJhc2VkIG9uIGhhc2h0YWcgc2VsZWN0aW9uXG4gIGNvbnN0IGZpbHRlcmVkRmVlZEl0ZW1zID0gdXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IGZpbHRlcmVkID0gZmVlZHMgfHwgW107XG5cbiAgICAvLyBGaWx0ZXIgYnkgc2VsZWN0ZWQgaGFzaHRhZ3NcbiAgICBpZiAoc2VsZWN0ZWRIYXNodGFncy5sZW5ndGggPiAwKSB7XG4gICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihpdGVtID0+IFxuICAgICAgICBzZWxlY3RlZEhhc2h0YWdzLnNvbWUoaGFzaHRhZyA9PiBcbiAgICAgICAgICAoaXRlbSBhcyBhbnkpLmhhc2h0YWdzPy5pbmNsdWRlcyhoYXNodGFnKVxuICAgICAgICApXG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBieSBzZWFyY2ggcXVlcnlcbiAgICBpZiAoc2VhcmNoUXVlcnkpIHtcbiAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGl0ZW0gPT4gXG4gICAgICAgIGl0ZW0udGl0bGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hRdWVyeS50b0xvd2VyQ2FzZSgpKSB8fFxuICAgICAgICAoaXRlbSBhcyBhbnkpLmRlc2NyaXB0aW9uPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFF1ZXJ5LnRvTG93ZXJDYXNlKCkpXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBmaWx0ZXJlZC5zbGljZSgwLCBtYXhJdGVtcyk7XG4gIH0sIFtmZWVkcywgc2VsZWN0ZWRIYXNodGFncywgc2VhcmNoUXVlcnksIG1heEl0ZW1zXSk7XG5cbiAgLy8gSGFuZGxlIGhhc2h0YWcgc2VsZWN0aW9uXG4gIGNvbnN0IGhhbmRsZUhhc2h0YWdTZWxlY3QgPSB1c2VDYWxsYmFjaygoaGFzaHRhZzogc3RyaW5nKSA9PiB7XG4gICAgc2V0U2VsZWN0ZWRIYXNodGFncyhwcmV2ID0+IHtcbiAgICAgIGlmIChwcmV2LmluY2x1ZGVzKGhhc2h0YWcpKSB7XG4gICAgICAgIHJldHVybiBwcmV2LmZpbHRlcihoID0+IGggIT09IGhhc2h0YWcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFsuLi5wcmV2LCBoYXNodGFnXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBvbkhhc2h0YWdTZWxlY3Q/LihoYXNodGFnKTtcbiAgfSwgW29uSGFzaHRhZ1NlbGVjdF0pO1xuXG4gIC8vIEhhbmRsZSBwb2xsIHNlbGVjdGlvblxuICBjb25zdCBoYW5kbGVQb2xsU2VsZWN0ID0gdXNlQ2FsbGJhY2soKHBvbGxJZDogc3RyaW5nKSA9PiB7XG4gICAgb25Qb2xsU2VsZWN0Py4ocG9sbElkKTtcbiAgfSwgW29uUG9sbFNlbGVjdF0pO1xuXG4gIC8vIEFuYWx5dGljcyB0cmFja2luZyAoZnJvbSBFbmhhbmNlZFNvY2lhbEZlZWQudHN4KVxuICBjb25zdCB0cmFja0V2ZW50ID0gdXNlQ2FsbGJhY2soKGV2ZW50OiBzdHJpbmcsIGRhdGE/OiBhbnkpID0+IHtcbiAgICBpZiAoZW5hYmxlQW5hbHl0aWNzKSB7XG4gICAgICBsb2dnZXIuaW5mbygnQW5hbHl0aWNzOicsIHsgZXZlbnQsIGRhdGEgfSk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRyYWNrIHNvY2lhbCBtZWRpYSBjbGljayBldmVudFxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgKHdpbmRvdyBhcyBhbnkpLmd0YWcpIHtcbiAgICAgICAgICAod2luZG93IGFzIGFueSkuZ3RhZygnZXZlbnQnLCAnc29jaWFsX21lZGlhX2NsaWNrJywge1xuICAgICAgICAgICAgZXZlbnRfY2F0ZWdvcnk6ICdjaXZpY3MnLFxuICAgICAgICAgICAgZXZlbnRfbGFiZWw6IGRhdGE/LnBsYXRmb3JtID8/ICd1bmtub3duJyxcbiAgICAgICAgICAgIHZhbHVlOiAxXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRyYWNrIGluIGxvY2FsIGFuYWx5dGljcyBpZiBhdmFpbGFibGVcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmICh3aW5kb3cgYXMgYW55KS5hbmFseXRpY3MpIHtcbiAgICAgICAgICAod2luZG93IGFzIGFueSkuYW5hbHl0aWNzLnRyYWNrKCdTb2NpYWwgTWVkaWEgQ2xpY2tlZCcsIHtcbiAgICAgICAgICAgIHBsYXRmb3JtOiBkYXRhPy5wbGF0Zm9ybSA/PyAndW5rbm93bicsXG4gICAgICAgICAgICBoYW5kbGU6IGRhdGE/LmhhbmRsZSA/PyAndW5rbm93bicsXG4gICAgICAgICAgICB1cmw6IGRhdGE/LnVybCA/PyAndW5rbm93bicsXG4gICAgICAgICAgICByZXByZXNlbnRhdGl2ZTogZGF0YT8ucmVwcmVzZW50YXRpdmUgPz8gJ3Vua25vd24nXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignQW5hbHl0aWNzIHRyYWNraW5nIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICB9XG4gICAgfVxuICB9LCBbZW5hYmxlQW5hbHl0aWNzXSk7XG5cbiAgLy8gRW5oYW5jZWQgZW5nYWdlbWVudCB0cmFja2luZ1xuICBjb25zdCB0cmFja0VuZ2FnZW1lbnQgPSB1c2VDYWxsYmFjaygoYWN0aW9uOiBzdHJpbmcsIGl0ZW1JZDogc3RyaW5nLCBtZXRhZGF0YT86IGFueSkgPT4ge1xuICAgIHRyYWNrRXZlbnQoYGZlZWRfaXRlbV8ke2FjdGlvbn1gLCB7IGl0ZW1JZCwgLi4ubWV0YWRhdGEgfSk7XG4gICAgXG4gICAgLy8gVXBkYXRlIHBlcnNvbmFsaXphdGlvbiBzY29yZSBiYXNlZCBvbiBlbmdhZ2VtZW50XG4gICAgaWYgKGFjdGlvbiA9PT0gJ2xpa2VkJyB8fCBhY3Rpb24gPT09ICdib29rbWFya2VkJykge1xuICAgICAgc2V0UGVyc29uYWxpemF0aW9uU2NvcmUocHJldiA9PiBNYXRoLm1pbihwcmV2ICsgMC4xLCAxLjApKTtcbiAgICB9XG4gIH0sIFt0cmFja0V2ZW50XSk7XG5cbiAgLy8gSGFuZGxlIGZlZWQgaXRlbSBpbnRlcmFjdGlvbnNcbiAgY29uc3QgaGFuZGxlTGlrZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChpdGVtSWQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBsaWtlRmVlZChpdGVtSWQpO1xuICAgICAgb25MaWtlPy4oaXRlbUlkKTtcbiAgICAgIFxuICAgICAgaWYgKGVuYWJsZUhhcHRpY3MgJiYgJ3ZpYnJhdGUnIGluIG5hdmlnYXRvcikge1xuICAgICAgICBuYXZpZ2F0b3IudmlicmF0ZSg1MCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHRyYWNrRW5nYWdlbWVudCgnbGlrZWQnLCBpdGVtSWQpO1xuICAgICAgYW5ub3VuY2VUb1NjcmVlblJlYWRlcihgTGlrZWQgaXRlbSAke2l0ZW1JZH1gKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gbGlrZSBpdGVtOicsIGVycm9yIGFzIEVycm9yKTtcbiAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gbGlrZSBpdGVtJyk7XG4gICAgfVxuICB9LCBbbGlrZUZlZWQsIG9uTGlrZSwgZW5hYmxlSGFwdGljcywgdHJhY2tFbmdhZ2VtZW50LCBhbm5vdW5jZVRvU2NyZWVuUmVhZGVyLCBzZXRFcnJvcl0pO1xuXG4gIGNvbnN0IGhhbmRsZUJvb2ttYXJrID0gdXNlQ2FsbGJhY2soYXN5bmMgKGl0ZW1JZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGJvb2ttYXJrRmVlZChpdGVtSWQpO1xuICAgICAgb25Cb29rbWFyaz8uKGl0ZW1JZCk7XG4gICAgICBcbiAgICAgIGlmIChlbmFibGVIYXB0aWNzICYmICd2aWJyYXRlJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICAgICAgbmF2aWdhdG9yLnZpYnJhdGUoNTApO1xuICAgICAgfVxuICAgICAgXG4gICAgICB0cmFja0VuZ2FnZW1lbnQoJ2Jvb2ttYXJrZWQnLCBpdGVtSWQpO1xuICAgICAgYW5ub3VuY2VUb1NjcmVlblJlYWRlcihgQm9va21hcmtlZCBpdGVtICR7aXRlbUlkfWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBib29rbWFyayBpdGVtOicsIGVycm9yIGFzIEVycm9yKTtcbiAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gYm9va21hcmsgaXRlbScpO1xuICAgIH1cbiAgfSwgW2Jvb2ttYXJrRmVlZCwgb25Cb29rbWFyaywgZW5hYmxlSGFwdGljcywgdHJhY2tFbmdhZ2VtZW50LCBhbm5vdW5jZVRvU2NyZWVuUmVhZGVyLCBzZXRFcnJvcl0pO1xuXG4gIGNvbnN0IGhhbmRsZVNoYXJlID0gdXNlQ2FsbGJhY2soKGl0ZW1JZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKGVuYWJsZUhhcHRpY3MgJiYgJ3ZpYnJhdGUnIGluIG5hdmlnYXRvcikge1xuICAgICAgbmF2aWdhdG9yLnZpYnJhdGUoMjUpO1xuICAgIH1cbiAgICBvblNoYXJlPy4oaXRlbUlkKTtcbiAgICBcbiAgICAvLyBOYXRpdmUgc2hhcmluZyBpZiBhdmFpbGFibGVcbiAgICBpZiAobmF2aWdhdG9yLnNoYXJlKSB7XG4gICAgICBjb25zdCBpdGVtID0gZmVlZHMuZmluZCgoaXRlbTogYW55KSA9PiBpdGVtLmlkID09PSBpdGVtSWQpO1xuICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgbmF2aWdhdG9yLnNoYXJlKHtcbiAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSxcbiAgICAgICAgICB0ZXh0OiAoaXRlbSBhcyBhbnkpLmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgIHVybDogd2luZG93LmxvY2F0aW9uLmhyZWZcbiAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdTaGFyZSBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgdHJhY2tFbmdhZ2VtZW50KCdzaGFyZWQnLCBpdGVtSWQpO1xuICAgIGFubm91bmNlVG9TY3JlZW5SZWFkZXIoYFNoYXJlZCBpdGVtICR7aXRlbUlkfWApO1xuICB9LCBbb25TaGFyZSwgZW5hYmxlSGFwdGljcywgZmVlZHMsIHRyYWNrRW5nYWdlbWVudCwgYW5ub3VuY2VUb1NjcmVlblJlYWRlcl0pO1xuXG4gIGNvbnN0IGhhbmRsZUNvbW1lbnQgPSB1c2VDYWxsYmFjaygoaXRlbUlkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoZW5hYmxlSGFwdGljcyAmJiAndmlicmF0ZScgaW4gbmF2aWdhdG9yKSB7XG4gICAgICBuYXZpZ2F0b3IudmlicmF0ZSgyNSk7XG4gICAgfVxuICAgIG9uQ29tbWVudD8uKGl0ZW1JZCk7XG4gICAgXG4gICAgdHJhY2tFbmdhZ2VtZW50KCdjb21tZW50ZWQnLCBpdGVtSWQpO1xuICAgIGFubm91bmNlVG9TY3JlZW5SZWFkZXIoYE9wZW5lZCBjb21tZW50cyBmb3IgaXRlbSAke2l0ZW1JZH1gKTtcbiAgfSwgW29uQ29tbWVudCwgZW5hYmxlSGFwdGljcywgdHJhY2tFbmdhZ2VtZW50LCBhbm5vdW5jZVRvU2NyZWVuUmVhZGVyXSk7XG5cbiAgY29uc3QgaGFuZGxlVmlld0RldGFpbHMgPSB1c2VDYWxsYmFjaygoaXRlbUlkOiBzdHJpbmcpID0+IHtcbiAgICBvblZpZXdEZXRhaWxzPy4oaXRlbUlkKTtcbiAgICBcbiAgICB0cmFja0VuZ2FnZW1lbnQoJ3ZpZXdlZF9kZXRhaWxzJywgaXRlbUlkKTtcbiAgICBhbm5vdW5jZVRvU2NyZWVuUmVhZGVyKGBWaWV3aW5nIGRldGFpbHMgZm9yIGl0ZW0gJHtpdGVtSWR9YCk7XG4gIH0sIFtvblZpZXdEZXRhaWxzLCB0cmFja0VuZ2FnZW1lbnQsIGFubm91bmNlVG9TY3JlZW5SZWFkZXJdKTtcblxuICAvLyBJbmZpbml0ZSBzY3JvbGwgc2V0dXBcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICd0ZXN0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChvYnNlcnZlclJlZi5jdXJyZW50KSB7XG4gICAgICBvYnNlcnZlclJlZi5jdXJyZW50LmRpc2Nvbm5lY3QoKTtcbiAgICB9XG5cbiAgICBvYnNlcnZlclJlZi5jdXJyZW50ID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKFxuICAgICAgKGVudHJpZXMpID0+IHtcbiAgICAgICAgaWYgKGVudHJpZXNbMF0/LmlzSW50ZXJzZWN0aW5nICYmIGhhc01vcmUgJiYgIWlzTG9hZGluZykge1xuICAgICAgICAgIGhhbmRsZUxvYWRNb3JlKCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7IHRocmVzaG9sZDogMC4xIH1cbiAgICApO1xuXG4gICAgaWYgKGxhc3RJdGVtUmVmLmN1cnJlbnQpIHtcbiAgICAgIG9ic2VydmVyUmVmLmN1cnJlbnQub2JzZXJ2ZShsYXN0SXRlbVJlZi5jdXJyZW50KTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgaWYgKG9ic2VydmVyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgb2JzZXJ2ZXJSZWYuY3VycmVudC5kaXNjb25uZWN0KCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSwgW2hhc01vcmUsIGlzTG9hZGluZ10pO1xuXG4gIC8vIExvYWQgbW9yZSBmdW5jdGlvbmFsaXR5XG4gIGNvbnN0IGhhbmRsZUxvYWRNb3JlID0gdXNlQ2FsbGJhY2soYXN5bmMgKCkgPT4ge1xuICAgIGlmIChoYXNNb3JlICYmICFpc0xvYWRpbmcpIHtcbiAgICAgIHNldFBhZ2UocHJldiA9PiBwcmV2ICsgMSk7XG4gICAgICBhd2FpdCBsb2FkRmVlZHMoJ2FsbCcpO1xuICAgICAgc2V0SGFzTW9yZShmZWVkcy5sZW5ndGggPT09IDIwKTsgLy8gQWRqdXN0IGJhc2VkIG9uIHlvdXIgcGFnaW5hdGlvblxuICAgIH1cbiAgfSwgW2hhc01vcmUsIGlzTG9hZGluZywgbG9hZEZlZWRzLCBmZWVkcy5sZW5ndGhdKTtcblxuICAvLyBTY3JvbGwgdG8gdG9wIGZ1bmN0aW9uYWxpdHlcbiAgY29uc3Qgc2Nyb2xsVG9Ub3AgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgd2luZG93LnNjcm9sbFRvKHsgdG9wOiAwLCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG4gICAgYW5ub3VuY2VUb1NjcmVlblJlYWRlcignU2Nyb2xsZWQgdG8gdG9wJyk7XG4gIH0sIFthbm5vdW5jZVRvU2NyZWVuUmVhZGVyXSk7XG5cbiAgLy8gRGFyayBtb2RlIHRvZ2dsZSAtIG1vdmVkIHRvIGxhdGVyIGluIGZpbGVcblxuICAvLyBSZWZyZXNoIGZ1bmN0aW9uYWxpdHlcbiAgY29uc3QgaGFuZGxlUmVmcmVzaCA9IHVzZUNhbGxiYWNrKGFzeW5jICgpID0+IHtcbiAgICBzZXRJc1JlZnJlc2hpbmcodHJ1ZSk7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IHJlZnJlc2hGZWVkcygpO1xuICAgICAgYXdhaXQgbG9hZEhhc2h0YWdQb2xsc0ZlZWQoKTtcbiAgICAgIHNldExhc3RVcGRhdGUobmV3IERhdGUoKSk7XG4gICAgICBhbm5vdW5jZVRvU2NyZWVuUmVhZGVyKCdGZWVkIHJlZnJlc2hlZCcpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byByZWZyZXNoIGZlZWRzOicsIGVycm9yIGFzIEVycm9yKTtcbiAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gcmVmcmVzaCBmZWVkJyk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzUmVmcmVzaGluZyhmYWxzZSk7XG4gICAgfVxuICB9LCBbcmVmcmVzaEZlZWRzLCBsb2FkSGFzaHRhZ1BvbGxzRmVlZCwgYW5ub3VuY2VUb1NjcmVlblJlYWRlciwgc2V0RXJyb3JdKTtcblxuICAvLyBSZWFsLXRpbWUgdXBkYXRlcyB3aXRoIFdlYlNvY2tldCAoZnJvbSBFbmhhbmNlZFNvY2lhbEZlZWQudHN4KVxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Rlc3QnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChlbmFibGVSZWFsVGltZVVwZGF0ZXMgJiYgdXNlcklkKSB7XG4gICAgICAvLyBXZWJTb2NrZXQgY29ubmVjdGlvbiBmb3IgcmVhbC10aW1lIHVwZGF0ZXNcbiAgICAgIGNvbnN0IHdzID0gbmV3IFdlYlNvY2tldChgd3NzOi8veW91ci13ZWJzb2NrZXQtZW5kcG9pbnQvZmVlZC8ke3VzZXJJZH1gKTtcbiAgICAgIHdzUmVmLmN1cnJlbnQgPSB3cztcblxuICAgICAgd3Mub25tZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICBpZiAoZGF0YS5sYWJlbCA9PT0gJ25ld19pdGVtJykge1xuICAgICAgICAgIGxvZ2dlci5pbmZvKCdOZXcgaXRlbSByZWNlaXZlZDonLCBkYXRhLml0ZW0pO1xuICAgICAgICAgIGFubm91bmNlVG9TY3JlZW5SZWFkZXIoJ05ldyBjb250ZW50IGF2YWlsYWJsZScpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEubGFiZWwgPT09ICdlbmdhZ2VtZW50X3VwZGF0ZScpIHtcbiAgICAgICAgICBsb2dnZXIuaW5mbygnRW5nYWdlbWVudCB1cGRhdGUgcmVjZWl2ZWQ6JywgZGF0YSk7XG4gICAgICAgICAgYW5ub3VuY2VUb1NjcmVlblJlYWRlcignRW5nYWdlbWVudCB1cGRhdGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEZhbGxiYWNrIHBvbGxpbmcgZm9yIHVwZGF0ZXNcbiAgICAgIHJlZnJlc2hJbnRlcnZhbFJlZi5jdXJyZW50ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICAgICAgICBoYW5kbGVSZWZyZXNoKCk7XG4gICAgICB9LCAzMDAwMCk7IC8vIFJlZnJlc2ggZXZlcnkgMzAgc2Vjb25kc1xuXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB3cy5jbG9zZSgpO1xuICAgICAgICBpZiAocmVmcmVzaEludGVydmFsUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKHJlZnJlc2hJbnRlcnZhbFJlZi5jdXJyZW50KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH0sIFtlbmFibGVSZWFsVGltZVVwZGF0ZXMsIHVzZXJJZCwgaGFuZGxlUmVmcmVzaCwgYW5ub3VuY2VUb1NjcmVlblJlYWRlcl0pO1xuXG4gIC8vIEluaXRpYWxpemUgUFdBIGZlYXR1cmVzIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgaW5pdGlhbGl6ZUFwcCA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnKSB7XG4gICAgICAgICAgYXdhaXQgaW5pdGlhbGl6ZVN1cGVyaW9yUFdBRmVhdHVyZXMoKTtcbiAgICAgICAgICBjaGVja09ubGluZVN0YXR1cygpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgYXBwOicsIGVycm9yKTtcbiAgICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBpbml0aWFsaXplIGFwcCBmZWF0dXJlcycpO1xuICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dChpbml0aWFsaXplQXBwLCAwKTtcbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gIH0sIFtpbml0aWFsaXplU3VwZXJpb3JQV0FGZWF0dXJlcywgY2hlY2tPbmxpbmVTdGF0dXMsIHNldEVycm9yXSk7XG5cbiAgLy8gQ29udGVudCB0eXBlIGljb25zIChmcm9tIEZlZWRJdGVtLnRzeClcbiAgY29uc3QgZ2V0Q29udGVudFR5cGVJY29uID0gdXNlQ2FsbGJhY2soKHR5cGU6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGljb25DbGFzcyA9IFwidy01IGgtNVwiO1xuICAgIFxuICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgY2FzZSAndm90ZSc6XG4gICAgICAgIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17YCR7aWNvbkNsYXNzfSBiZy1ncmVlbi0xMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyYH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmVlbi02MDAgdGV4dC14cyBmb250LWJvbGRcIj5WPC9zcGFuPlxuICAgICAgICA8L2Rpdj47XG4gICAgICBjYXNlICdiaWxsJzpcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtgJHtpY29uQ2xhc3N9IGJnLWJsdWUtMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlcmB9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDAgdGV4dC14cyBmb250LWJvbGRcIj5CPC9zcGFuPlxuICAgICAgICA8L2Rpdj47XG4gICAgICBjYXNlICdzdGF0ZW1lbnQnOlxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2Ake2ljb25DbGFzc30gYmctcHVycGxlLTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJgfT5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXB1cnBsZS02MDAgdGV4dC14cyBmb250LWJvbGRcIj5TPC9zcGFuPlxuICAgICAgICA8L2Rpdj47XG4gICAgICBjYXNlICdzb2NpYWxfbWVkaWEnOlxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2Ake2ljb25DbGFzc30gYmctcGluay0xMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyYH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1waW5rLTYwMCB0ZXh0LXhzIGZvbnQtYm9sZFwiPkA8L3NwYW4+XG4gICAgICAgIDwvZGl2PjtcbiAgICAgIGNhc2UgJ3Bob3RvJzpcbiAgICAgICAgcmV0dXJuIDxkaXYgY2xhc3NOYW1lPXtgJHtpY29uQ2xhc3N9IGJnLWdyYXktMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlcmB9PlxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgdGV4dC14cyBmb250LWJvbGRcIj7wn5O3PC9zcGFuPlxuICAgICAgICA8L2Rpdj47XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2Ake2ljb25DbGFzc30gYmctZ3JheS0xMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyYH0+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCB0ZXh0LXhzIGZvbnQtYm9sZFwiPj88L3NwYW4+XG4gICAgICAgIDwvZGl2PjtcbiAgICB9XG4gIH0sIFtdKTtcblxuICAvLyBQYXJ0eSBjb2xvcnMgKGZyb20gRmVlZEl0ZW0udHN4KVxuICBjb25zdCBnZXRQYXJ0eUNvbG9yID0gdXNlQ2FsbGJhY2soKHBhcnR5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBwYXJ0eUNvbG9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICdSZXB1YmxpY2FuJzogJ3RleHQtcmVkLTYwMCBiZy1yZWQtNTAgYm9yZGVyLXJlZC0yMDAnLFxuICAgICAgJ0RlbW9jcmF0JzogJ3RleHQtYmx1ZS02MDAgYmctYmx1ZS01MCBib3JkZXItYmx1ZS0yMDAnLFxuICAgICAgJ0luZGVwZW5kZW50JzogJ3RleHQtZ3JheS02MDAgYmctZ3JheS01MCBib3JkZXItZ3JheS0yMDAnLFxuICAgICAgJ0dyZWVuJzogJ3RleHQtZ3JlZW4tNjAwIGJnLWdyZWVuLTUwIGJvcmRlci1ncmVlbi0yMDAnLFxuICAgICAgJ0xpYmVydGFyaWFuJzogJ3RleHQteWVsbG93LTYwMCBiZy15ZWxsb3ctNTAgYm9yZGVyLXllbGxvdy0yMDAnXG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gcGFydHlDb2xvcnNbcGFydHldID8/ICd0ZXh0LWdyYXktNjAwIGJnLWdyYXktNTAgYm9yZGVyLWdyYXktMjAwJztcbiAgfSwgW10pO1xuXG4gIC8vIEZvcm1hdCBkYXRlIChmcm9tIEZlZWRJdGVtLnRzeClcbiAgY29uc3QgZm9ybWF0RGF0ZSA9IHVzZUNhbGxiYWNrKChkYXRlOiBEYXRlIHwgc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCkgPT4ge1xuICAgIGlmICghZGF0ZSkgcmV0dXJuICdVbmtub3duIGRhdGUnO1xuICAgIFxuICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgZGF0ZU9iaiA9IHR5cGVvZiBkYXRlID09PSAnc3RyaW5nJyA/IG5ldyBEYXRlKGRhdGUpIDogZGF0ZTtcbiAgICBcbiAgICBpZiAoIWRhdGVPYmogfHwgaXNOYU4oZGF0ZU9iai5nZXRUaW1lKCkpKSB7XG4gICAgICByZXR1cm4gJ0ludmFsaWQgZGF0ZSc7XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGRpZmZJbkhvdXJzID0gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIGRhdGVPYmouZ2V0VGltZSgpKSAvICgxMDAwICogNjAgKiA2MCkpO1xuICAgIFxuICAgIGlmIChkaWZmSW5Ib3VycyA8IDEpIHJldHVybiAnSnVzdCBub3cnO1xuICAgIGlmIChkaWZmSW5Ib3VycyA8IDI0KSByZXR1cm4gYCR7ZGlmZkluSG91cnN9aCBhZ29gO1xuICAgIGlmIChkaWZmSW5Ib3VycyA8IDQ4KSByZXR1cm4gJ1llc3RlcmRheSc7XG4gICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUpLnRvTG9jYWxlRGF0ZVN0cmluZygpO1xuICB9LCBbXSk7XG5cbiAgLy8gUGVyc29uYWxpemF0aW9uIGFsZ29yaXRobXMgKGZyb20gRW5oYW5jZWRTb2NpYWxGZWVkLnRzeClcbiAgY29uc3QgY2FsY3VsYXRlUGVyc29uYWxpemF0aW9uU2NvcmUgPSB1c2VDYWxsYmFjaygodXNlckludGVyZXN0czogc3RyaW5nW10sIGNvbnRlbnRUYWdzOiBzdHJpbmdbXSkgPT4ge1xuICAgIGlmICghdXNlckludGVyZXN0cy5sZW5ndGggfHwgIWNvbnRlbnRUYWdzLmxlbmd0aCkgcmV0dXJuIDA7XG4gICAgXG4gICAgY29uc3QgbWF0Y2hpbmdUYWdzID0gY29udGVudFRhZ3MuZmlsdGVyKHRhZyA9PiBcbiAgICAgIHVzZXJJbnRlcmVzdHMuc29tZShpbnRlcmVzdCA9PiBcbiAgICAgICAgaW50ZXJlc3QudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh0YWcudG9Mb3dlckNhc2UoKSkgfHxcbiAgICAgICAgdGFnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoaW50ZXJlc3QudG9Mb3dlckNhc2UoKSlcbiAgICAgIClcbiAgICApO1xuICAgIFxuICAgIHJldHVybiBtYXRjaGluZ1RhZ3MubGVuZ3RoIC8gTWF0aC5tYXgodXNlckludGVyZXN0cy5sZW5ndGgsIGNvbnRlbnRUYWdzLmxlbmd0aCk7XG4gIH0sIFtdKTtcblxuICAvLyBQcm9ncmVzc2l2ZSBkaXNjbG9zdXJlIGZ1bmN0aW9uYWxpdHlcbiAgY29uc3QgdG9nZ2xlSXRlbUV4cGFuc2lvbiA9IHVzZUNhbGxiYWNrKChpdGVtSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldEV4cGFuZGVkSXRlbXMocHJldiA9PiB7XG4gICAgICBjb25zdCBuZXdTZXQgPSBuZXcgU2V0KHByZXYpO1xuICAgICAgaWYgKG5ld1NldC5oYXMoaXRlbUlkKSkge1xuICAgICAgICBuZXdTZXQuZGVsZXRlKGl0ZW1JZCk7XG4gICAgICAgIGFubm91bmNlVG9TY3JlZW5SZWFkZXIoYENvbGxhcHNlZCBpdGVtICR7aXRlbUlkfWApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3U2V0LmFkZChpdGVtSWQpO1xuICAgICAgICBhbm5vdW5jZVRvU2NyZWVuUmVhZGVyKGBFeHBhbmRlZCBpdGVtICR7aXRlbUlkfWApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG5ld1NldDtcbiAgICB9KTtcbiAgfSwgW2Fubm91bmNlVG9TY3JlZW5SZWFkZXJdKTtcblxuICAvLyBJbWFnZSBsb2FkaW5nIHdpdGggcHJvZ3Jlc3NpdmUgZW5oYW5jZW1lbnRcbiAgY29uc3QgaGFuZGxlSW1hZ2VMb2FkID0gdXNlQ2FsbGJhY2soKGl0ZW1JZDogc3RyaW5nKSA9PiB7XG4gICAgc2V0TG9hZGluZ0ltYWdlcyhwcmV2ID0+IHtcbiAgICAgIGNvbnN0IG5ld1NldCA9IG5ldyBTZXQocHJldik7XG4gICAgICBuZXdTZXQuZGVsZXRlKGl0ZW1JZCk7XG4gICAgICByZXR1cm4gbmV3U2V0O1xuICAgIH0pO1xuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlSW1hZ2VFcnJvciA9IHVzZUNhbGxiYWNrKChpdGVtSWQ6IHN0cmluZykgPT4ge1xuICAgIHNldExvYWRpbmdJbWFnZXMocHJldiA9PiB7XG4gICAgICBjb25zdCBuZXdTZXQgPSBuZXcgU2V0KHByZXYpO1xuICAgICAgbmV3U2V0LmRlbGV0ZShpdGVtSWQpO1xuICAgICAgcmV0dXJuIG5ld1NldDtcbiAgICB9KTtcbiAgICBzZXRFcnJvcihgRmFpbGVkIHRvIGxvYWQgaW1hZ2UgZm9yIGl0ZW0gJHtpdGVtSWR9YCk7XG4gIH0sIFtzZXRFcnJvcl0pO1xuXG4gIC8vIExhenkgbG9hZGluZyBmb3IgaW1hZ2VzXG4gIGNvbnN0IGxvYWRJbWFnZSA9IHVzZUNhbGxiYWNrKChpdGVtSWQ6IHN0cmluZywgaW1hZ2VVcmw6IHN0cmluZykgPT4ge1xuICAgIHNldExvYWRpbmdJbWFnZXMocHJldiA9PiBuZXcgU2V0KHByZXYpLmFkZChpdGVtSWQpKTtcbiAgICBcbiAgICBjb25zdCBpbWcgPSBuZXcgd2luZG93LkltYWdlKCk7XG4gICAgaW1nLm9ubG9hZCA9ICgpID0+IGhhbmRsZUltYWdlTG9hZChpdGVtSWQpO1xuICAgIGltZy5vbmVycm9yID0gKCkgPT4gaGFuZGxlSW1hZ2VFcnJvcihpdGVtSWQpO1xuICAgIGltZy5zcmMgPSBpbWFnZVVybDtcbiAgfSwgW2hhbmRsZUltYWdlTG9hZCwgaGFuZGxlSW1hZ2VFcnJvcl0pO1xuXG4gIC8vIFB1bGwtdG8tcmVmcmVzaCBmdW5jdGlvbmFsaXR5XG4gIGNvbnN0IGhhbmRsZVB1bGxUb1JlZnJlc2ggPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XG4gICAgaWYgKGlzUmVmcmVzaGluZykgcmV0dXJuO1xuICAgIFxuICAgIHNldElzUmVmcmVzaGluZyh0cnVlKTtcbiAgICBhbm5vdW5jZVRvU2NyZWVuUmVhZGVyKCdSZWZyZXNoaW5nIGZlZWQuLi4nKTtcbiAgICBcbiAgICB0cnkge1xuICAgICAgLy8gUmVmcmVzaCBmZWVkIGRhdGFcbiAgICAgIGF3YWl0IHJlZnJlc2hGZWVkcygpO1xuICAgICAgXG4gICAgICAvLyBSZXNldCBwYWdpbmF0aW9uXG4gICAgICBzZXRQYWdlKDEpO1xuICAgICAgc2V0SGFzTW9yZSh0cnVlKTtcbiAgICAgIFxuICAgICAgLy8gQ2xlYXIgZXhwYW5kZWQgaXRlbXNcbiAgICAgIHNldEV4cGFuZGVkSXRlbXMobmV3IFNldCgpKTtcbiAgICAgIFxuICAgICAgLy8gQW5ub3VuY2Ugc3VjY2Vzc1xuICAgICAgYW5ub3VuY2VUb1NjcmVlblJlYWRlcignRmVlZCByZWZyZXNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICBcbiAgICAgIC8vIEhhcHRpYyBmZWVkYmFja1xuICAgICAgaWYgKGVuYWJsZUhhcHRpY3MgJiYgJ3ZpYnJhdGUnIGluIG5hdmlnYXRvcikge1xuICAgICAgICBuYXZpZ2F0b3IudmlicmF0ZShbNTAsIDEwMCwgNTBdKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignUHVsbCB0byByZWZyZXNoIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICBhbm5vdW5jZVRvU2NyZWVuUmVhZGVyKCdGYWlsZWQgdG8gcmVmcmVzaCBmZWVkJyk7XG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIHJlZnJlc2ggZmVlZCcpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICBzZXRJc1JlZnJlc2hpbmcoZmFsc2UpO1xuICAgIH1cbiAgfSwgW2lzUmVmcmVzaGluZywgcmVmcmVzaEZlZWRzLCBhbm5vdW5jZVRvU2NyZWVuUmVhZGVyLCBlbmFibGVIYXB0aWNzLCBzZXRFcnJvcl0pO1xuXG4gIC8vIEVuaGFuY2VkIHRvdWNoIGhhbmRsaW5nIGZvciBwdWxsLXRvLXJlZnJlc2hcbiAgY29uc3QgaGFuZGxlVG91Y2hTdGFydCA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5Ub3VjaEV2ZW50KSA9PiB7XG4gICAgaWYgKHdpbmRvdy5zY3JvbGxZID09PSAwICYmIGUudG91Y2hlc1swXSkge1xuICAgICAgdG91Y2hTdGFydFJlZi5jdXJyZW50ID0ge1xuICAgICAgICB4OiBlLnRvdWNoZXNbMF0uY2xpZW50WCxcbiAgICAgICAgeTogZS50b3VjaGVzWzBdLmNsaWVudFksXG4gICAgICAgIHRpbWU6IERhdGUubm93KClcbiAgICAgIH07XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgY29uc3QgaGFuZGxlVG91Y2hNb3ZlID0gdXNlQ2FsbGJhY2soKGU6IFJlYWN0LlRvdWNoRXZlbnQpID0+IHtcbiAgICBpZiAoIXRvdWNoU3RhcnRSZWYuY3VycmVudCB8fCB3aW5kb3cuc2Nyb2xsWSA+IDAgfHwgIWUudG91Y2hlc1swXSkgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IHRvdWNoID0gZS50b3VjaGVzWzBdO1xuICAgIGNvbnN0IGRlbHRhWSA9IHRvdWNoLmNsaWVudFkgLSB0b3VjaFN0YXJ0UmVmLmN1cnJlbnQueTtcbiAgICBcbiAgICBpZiAoZGVsdGFZID4gMCkge1xuICAgICAgY29uc3QgZGlzdGFuY2UgPSBNYXRoLm1pbihkZWx0YVkgKiAwLjUsIHJlZnJlc2hUaHJlc2hvbGQpO1xuICAgICAgc2V0UHVsbERpc3RhbmNlKGRpc3RhbmNlKTtcbiAgICAgIFxuICAgICAgaWYgKGRpc3RhbmNlID49IHJlZnJlc2hUaHJlc2hvbGQgJiYgIWlzUmVmcmVzaGluZykge1xuICAgICAgICBhbm5vdW5jZVRvU2NyZWVuUmVhZGVyKCdSZWxlYXNlIHRvIHJlZnJlc2gnKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtyZWZyZXNoVGhyZXNob2xkLCBpc1JlZnJlc2hpbmcsIGFubm91bmNlVG9TY3JlZW5SZWFkZXJdKTtcblxuICBjb25zdCBoYW5kbGVUb3VjaEVuZCA9IHVzZUNhbGxiYWNrKChlOiBSZWFjdC5Ub3VjaEV2ZW50KSA9PiB7XG4gICAgaWYgKCF0b3VjaFN0YXJ0UmVmLmN1cnJlbnQgfHwgIWUuY2hhbmdlZFRvdWNoZXNbMF0pIHJldHVybjtcbiAgICBcbiAgICBjb25zdCB0b3VjaCA9IGUuY2hhbmdlZFRvdWNoZXNbMF07XG4gICAgY29uc3QgZGVsdGFZID0gdG91Y2guY2xpZW50WSAtIHRvdWNoU3RhcnRSZWYuY3VycmVudC55O1xuICAgIGNvbnN0IGRlbHRhVGltZSA9IERhdGUubm93KCkgLSB0b3VjaFN0YXJ0UmVmLmN1cnJlbnQudGltZTtcbiAgICBcbiAgICBpZiAoZGVsdGFZID49IHJlZnJlc2hUaHJlc2hvbGQgJiYgZGVsdGFUaW1lIDwgMTAwMCAmJiB3aW5kb3cuc2Nyb2xsWSA9PT0gMCkge1xuICAgICAgaGFuZGxlUHVsbFRvUmVmcmVzaCgpO1xuICAgIH1cbiAgICBcbiAgICBzZXRQdWxsRGlzdGFuY2UoMCk7XG4gICAgdG91Y2hTdGFydFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgfSwgW3JlZnJlc2hUaHJlc2hvbGQsIGhhbmRsZVB1bGxUb1JlZnJlc2hdKTtcblxuICAvLyBEYXJrIG1vZGUgZnVuY3Rpb25hbGl0eVxuICBjb25zdCB0b2dnbGVEYXJrTW9kZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJc0RhcmtNb2RlKHByZXYgPT4ge1xuICAgICAgY29uc3QgbmV3TW9kZSA9ICFwcmV2O1xuICAgICAgXG4gICAgICAvLyBVcGRhdGUgZG9jdW1lbnQgY2xhc3MgZm9yIGdsb2JhbCBkYXJrIG1vZGVcbiAgICAgIGlmIChuZXdNb2RlKSB7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTdG9yZSBwcmVmZXJlbmNlIGluIGxvY2FsU3RvcmFnZVxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2RhcmtNb2RlJywgbmV3TW9kZS50b1N0cmluZygpKTtcbiAgICAgIFxuICAgICAgLy8gQW5ub3VuY2UgdG8gc2NyZWVuIHJlYWRlclxuICAgICAgYW5ub3VuY2VUb1NjcmVlblJlYWRlcihgU3dpdGNoZWQgdG8gJHtuZXdNb2RlID8gJ2RhcmsnIDogJ2xpZ2h0J30gbW9kZWApO1xuICAgICAgXG4gICAgICAvLyBIYXB0aWMgZmVlZGJhY2tcbiAgICAgIGlmIChlbmFibGVIYXB0aWNzICYmICd2aWJyYXRlJyBpbiBuYXZpZ2F0b3IpIHtcbiAgICAgICAgbmF2aWdhdG9yLnZpYnJhdGUoMjUpO1xuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4gbmV3TW9kZTtcbiAgICB9KTtcbiAgfSwgW2Fubm91bmNlVG9TY3JlZW5SZWFkZXIsIGVuYWJsZUhhcHRpY3NdKTtcblxuICAvLyBJbml0aWFsaXplIGRhcmsgbW9kZSBmcm9tIGxvY2FsU3RvcmFnZSBhbmQgc3lzdGVtIHByZWZlcmVuY2VcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBzdG9yZWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGFya01vZGUnKTtcbiAgICBjb25zdCBzeXN0ZW1QcmVmZXJzRGFyayA9IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcztcbiAgICBjb25zdCBzaG91bGRCZURhcmsgPSBzdG9yZWQgPyBzdG9yZWQgPT09ICd0cnVlJyA6IHN5c3RlbVByZWZlcnNEYXJrO1xuICAgIFxuICAgIHNldElzRGFya01vZGUoc2hvdWxkQmVEYXJrKTtcbiAgICBcbiAgICBpZiAoc2hvdWxkQmVEYXJrKSB7XG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGFyaycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpO1xuICAgIH1cbiAgfSwgW10pO1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBcbiAgICAgIHJlZj17ZmVlZFJlZn1cbiAgICAgIGNsYXNzTmFtZT17Y24oXG4gICAgICAgIFwic3BhY2UteS02IHRyYW5zaXRpb24tY29sb3JzIGR1cmF0aW9uLTMwMFwiLFxuICAgICAgICBpc0RhcmtNb2RlID8gXCJiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlXCIgOiBcImJnLXdoaXRlIHRleHQtZ3JheS05MDBcIixcbiAgICAgICAgY2xhc3NOYW1lXG4gICAgICApfSBcbiAgICAgIHJvbGU9XCJtYWluXCIgXG4gICAgICBhcmlhLWxhYmVsPVwiVW5pZmllZCBGZWVkXCJcbiAgICAgIG9uVG91Y2hTdGFydD17aGFuZGxlVG91Y2hTdGFydH1cbiAgICAgIG9uVG91Y2hNb3ZlPXtoYW5kbGVUb3VjaE1vdmV9XG4gICAgICBvblRvdWNoRW5kPXtoYW5kbGVUb3VjaEVuZH1cbiAgICA+XG4gICAgICB7LyogUHVsbC10by1yZWZyZXNoIGluZGljYXRvciAqL31cbiAgICAgIHtwdWxsRGlzdGFuY2UgPiAwICYmIChcbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCB0b3AtMCBsZWZ0LTAgcmlnaHQtMCB6LTUwIGJnLWJsdWUtNTAwIHRleHQtd2hpdGUgdGV4dC1jZW50ZXIgcHktMiB0cmFuc2l0aW9uLXRyYW5zZm9ybSBkdXJhdGlvbi0yMDBcIlxuICAgICAgICAgIHN0eWxlPXt7IHRyYW5zZm9ybTogYHRyYW5zbGF0ZVkoJHtNYXRoLm1heCgwLCBwdWxsRGlzdGFuY2UgLSA1MCl9cHgpYCB9fVxuICAgICAgICAgIHJvbGU9XCJzdGF0dXNcIlxuICAgICAgICAgIGFyaWEtbGl2ZT1cInBvbGl0ZVwiXG4gICAgICAgID5cbiAgICAgICAgICB7cHVsbERpc3RhbmNlID49IHJlZnJlc2hUaHJlc2hvbGQgPyAnUmVsZWFzZSB0byByZWZyZXNoJyA6ICdQdWxsIHRvIHJlZnJlc2gnfVxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBTdGF0dXMgQmFyIHdpdGggUFdBIGluZGljYXRvcnMgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMCBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcC0yXCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHRleHQtc21cIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIiByb2xlPVwic3RhdHVzXCIgYXJpYS1saXZlPVwicG9saXRlXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yIGgtMiBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtcHVsc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmVlbi02MDBcIj5PbmxpbmU8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIHtzeW5jU3RhdHVzID09PSAnc3luY2luZycgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWxpdmU9XCJwb2xpdGVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFuaW1hdGUtc3BpbiByb3VuZGVkLWZ1bGwgaC00IHctNCBib3JkZXItYi0yIGJvcmRlci1ibHVlLTUwMFwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtYmx1ZS02MDBcIj5TeW5jaW5nLi4uPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7aXNSZWZyZXNoaW5nICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIiByb2xlPVwic3RhdHVzXCIgYXJpYS1saXZlPVwicG9saXRlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtNCB3LTQgYm9yZGVyLWItMiBib3JkZXItYmx1ZS01MDBcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWJsdWUtNjAwXCI+UmVmcmVzaGluZy4uLjwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHtsYXN0U3luYyAmJiAoXG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgIExhc3Qgc3luYzoge2xhc3RTeW5jLnRvTG9jYWxlVGltZVN0cmluZygpfVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBIZWFkZXIgd2l0aCBmZWVkIGNvbnRyb2xzICovfVxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+VW5pZmllZCBGZWVkPC9oMT5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICBQZXJzb25hbGl6ZWQgY29udGVudCB3aXRoIGhhc2h0YWctcG9sbHMgaW50ZWdyYXRpb25cbiAgICAgICAgICAgIHtwZXJzb25hbGl6YXRpb25TY29yZSA+IDAgJiYgKFxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTEgbWwtMlwiPlxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInctMiBoLTIgYmctYmx1ZS01MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtcHVsc2VcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L3NwYW4+XG4gICAgICAgICAgICAgICAgPHNwYW4+UGVyc29uYWxpemVkICh7TWF0aC5yb3VuZChwZXJzb25hbGl6YXRpb25TY29yZSAqIDEwMCl9JSBtYXRjaCk8L3NwYW4+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTRcIj5cbiAgICAgICAgICB7LyogRGFyayBtb2RlIHRvZ2dsZSAqL31cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXt0b2dnbGVEYXJrTW9kZX1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLW1kIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD17YFN3aXRjaCB0byAke2lzRGFya01vZGUgPyAnbGlnaHQnIDogJ2RhcmsnfSBtb2RlYH1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7aXNEYXJrTW9kZSA/IChcbiAgICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTEyIDN2MW0wIDE2djFtOS05aC0xTTQgMTJIM20xNS4zNjQgNi4zNjRsLS43MDctLjcwN002LjM0MyA2LjM0M2wtLjcwNy0uNzA3bTEyLjcyOCAwbC0uNzA3LjcwN002LjM0MyAxNy42NTdsLS43MDcuNzA3TTE2IDEyYTQgNCAwIDExLTggMCA0IDQgMCAwMTggMHpcIiAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy01IGgtNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0yMC4zNTQgMTUuMzU0QTkgOSAwIDAxOC42NDYgMy42NDYgOS4wMDMgOS4wMDMgMCAwMDEyIDIxYTkuMDAzIDkuMDAzIDAgMDA4LjM1NC01LjY0NnpcIiAvPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9idXR0b24+XG5cbiAgICAgICAgICB7LyogQWR2YW5jZWQgZmlsdGVycyB0b2dnbGUgKi99XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2hvd0FkdmFuY2VkRmlsdGVycyghc2hvd0FkdmFuY2VkRmlsdGVycyl9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJwLTIgcm91bmRlZC1tZCB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTMwMCBob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJUb2dnbGUgYWR2YW5jZWQgZmlsdGVyc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHN2ZyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICAgIDxwYXRoIHN0cm9rZUxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIiBzdHJva2VXaWR0aD17Mn0gZD1cIk0xMiA2VjRtMCAyYTIgMiAwIDEwMCA0bTAtNGEyIDIgMCAxMTAgNG0tNiA4YTIgMiAwIDEwMC00bTAgNGEyIDIgMCAxMDAgNG0wLTR2Mm0wLTZWNG02IDZ2MTBtNi0yYTIgMiAwIDEwMC00bTAgNGEyIDIgMCAxMDAgNG0wLTR2Mm0wLTZWNFwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgIHsvKiBSZWZyZXNoIGJ1dHRvbiAqL31cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZWZyZXNofVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUmVmcmVzaGluZ31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInAtMiByb3VuZGVkLW1kIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMzAwIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS03MDAgdHJhbnNpdGlvbi1jb2xvcnMgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiUmVmcmVzaCBmZWVkXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzTmFtZT17YHctNSBoLTUgJHtpc1JlZnJlc2hpbmcgPyAnYW5pbWF0ZS1zcGluJyA6ICcnfWB9IGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgICA8cGF0aCBzdHJva2VMaW5lY2FwPVwicm91bmRcIiBzdHJva2VMaW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlV2lkdGg9ezJ9IGQ9XCJNNCA0djVoLjU4Mm0xNS4zNTYgMkE4LjAwMSA4LjAwMSAwIDAwNC41ODIgOW0wIDBIOW0xMSAxMXYtNWgtLjU4MW0wIDBhOC4wMDMgOC4wMDMgMCAwMS0xNS4zNTctMm0xNS4zNTcgMkgxNVwiIC8+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICAgIHtlbmFibGVBbmFseXRpY3MgJiYgKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJpZ2h0XCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5QZXJzb25hbGl6YXRpb248L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWJsdWUtNjAwXCI+XG4gICAgICAgICAgICAgICAge01hdGgucm91bmQocGVyc29uYWxpemF0aW9uU2NvcmUgKiAxMDApfSVcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVSZWZyZXNofVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzUmVmcmVzaGluZ31cbiAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgICAgICBhcmlhLWxhYmVsPXtpc1JlZnJlc2hpbmcgPyBcIlJlZnJlc2hpbmcgZmVlZFwiIDogXCJSZWZyZXNoIGZlZWRcIn1cbiAgICAgICAgICAgIGFyaWEtZGVzY3JpYmVkYnk9XCJyZWZyZXNoLXN0YXR1c1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPEFycm93UGF0aEljb24gY2xhc3NOYW1lPXtjbihcImgtNCB3LTRcIiwgaXNSZWZyZXNoaW5nICYmIFwiYW5pbWF0ZS1zcGluXCIpfSAvPlxuICAgICAgICAgICAge2lzUmVmcmVzaGluZyA/IFwiUmVmcmVzaGluZy4uLlwiIDogXCJSZWZyZXNoXCJ9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgPGRpdiBpZD1cInJlZnJlc2gtc3RhdHVzXCIgY2xhc3NOYW1lPVwic3Itb25seVwiPlxuICAgICAgICAgICAge2lzUmVmcmVzaGluZyA/IFwiRmVlZCBpcyBiZWluZyByZWZyZXNoZWRcIiA6IFwiQ2xpY2sgdG8gcmVmcmVzaCB0aGUgZmVlZFwifVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvaGVhZGVyPlxuXG4gICAgICB7LyogQWR2YW5jZWQgRmlsdGVycyBTZWN0aW9uICovfVxuICAgICAge3Nob3dBZHZhbmNlZEZpbHRlcnMgJiYgKFxuICAgICAgICA8ZGl2IFxuICAgICAgICAgIGNsYXNzTmFtZT1cIm1iLTQgcC00IGJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTcwMCByb3VuZGVkLWxnXCJcbiAgICAgICAgICByb2xlPVwiY29tcGxlbWVudGFyeVwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkFkdmFuY2VkIGZpbHRlciBvcHRpb25zXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIG1iLTJcIj5BZHZhbmNlZCBGaWx0ZXJzPC9oND5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzTmFtZT1cIm1yLTJcIiAvPiBGZWRlcmFsIFJlcHJlc2VudGF0aXZlc1xuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzc05hbWU9XCJtci0yXCIgLz4gU3RhdGUgUmVwcmVzZW50YXRpdmVzXG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzTmFtZT1cIm1yLTJcIiAvPiBMb2NhbCBSZXByZXNlbnRhdGl2ZXNcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3NOYW1lPVwibXItMlwiIC8+IFRyZW5kaW5nIENvbnRlbnRcbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3NOYW1lPVwibXItMlwiIC8+IEhhc2h0YWctUG9sbHMgSW50ZWdyYXRpb25cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIFB1bGwtdG8tcmVmcmVzaCBpbmRpY2F0b3IgKi99XG4gICAgICB7cHVsbERpc3RhbmNlID4gMCAmJiAoXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcHktNCB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtNiB3LTYgYm9yZGVyLWItMiBib3JkZXItYmx1ZS01MDBcIj48L2Rpdj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0yXCI+UHVsbCB0byByZWZyZXNoLi4uPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBIYXNodGFnIGZpbHRlcnMgYW5kIHNlYXJjaCAqL31cbiAgICAgIDxDYXJkIHJvbGU9XCJyZWdpb25cIiBhcmlhLWxhYmVsPVwiQ29udGVudCBmaWx0ZXJzXCI+XG4gICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxIYXNodGFnSWNvbiBjbGFzc05hbWU9XCJoLTUgdy01XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgIENvbnRlbnQgRmlsdGVyc1xuICAgICAgICAgICAge3NlbGVjdGVkSGFzaHRhZ3MubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxCYWRnZSB2YXJpYW50PVwic2Vjb25kYXJ5XCIgYXJpYS1sYWJlbD17YCR7c2VsZWN0ZWRIYXNodGFncy5sZW5ndGh9IGhhc2h0YWdzIHNlbGVjdGVkYH0+XG4gICAgICAgICAgICAgICAge3NlbGVjdGVkSGFzaHRhZ3MubGVuZ3RofVxuICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0NhcmRUaXRsZT5cbiAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgIHsvKiBTZWFyY2ggKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwiY29udGVudC1zZWFyY2hcIiBjbGFzc05hbWU9XCJzci1vbmx5XCI+XG4gICAgICAgICAgICAgICAgU2VhcmNoIGNvbnRlbnRcbiAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgaWQ9XCJjb250ZW50LXNlYXJjaFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTZWFyY2ggY29udGVudC4uLlwiXG4gICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoUXVlcnkoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInBsLTEwXCJcbiAgICAgICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwic2VhcmNoLWhlbHBcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8SGFzaHRhZ0ljb24gY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgaC00IHctNCB0ZXh0LWdyYXktNDAwXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgPGRpdiBpZD1cInNlYXJjaC1oZWxwXCIgY2xhc3NOYW1lPVwic3Itb25seVwiPlxuICAgICAgICAgICAgICAgIFNlYXJjaCB0aHJvdWdoIGZlZWQgY29udGVudCBieSB0aXRsZSBvciBkZXNjcmlwdGlvblxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogU2VsZWN0ZWQgaGFzaHRhZ3MgKi99XG4gICAgICAgICAgICB7c2VsZWN0ZWRIYXNodGFncy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBnYXAtMlwiIHJvbGU9XCJsaXN0XCIgYXJpYS1sYWJlbD1cIlNlbGVjdGVkIGhhc2h0YWdzXCI+XG4gICAgICAgICAgICAgICAge3NlbGVjdGVkSGFzaHRhZ3MubWFwKGhhc2h0YWcgPT4gKFxuICAgICAgICAgICAgICAgICAgPEJhZGdlXG4gICAgICAgICAgICAgICAgICAgIGtleT17aGFzaHRhZ31cbiAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cImRlZmF1bHRcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1yZWQtMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlSGFzaHRhZ1NlbGVjdChoYXNodGFnKX1cbiAgICAgICAgICAgICAgICAgICAgcm9sZT1cImxpc3RpdGVtXCJcbiAgICAgICAgICAgICAgICAgICAgdGFiSW5kZXg9ezB9XG4gICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicgfHwgZS5rZXkgPT09ICcgJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlSGFzaHRhZ1NlbGVjdChoYXNodGFnKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BSZW1vdmUgaGFzaHRhZyAke2hhc2h0YWd9IGZyb20gZmlsdGVyc2B9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICN7aGFzaHRhZ30gw5dcbiAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgey8qIFRyZW5kaW5nIGhhc2h0YWdzICovfVxuICAgICAgICAgICAge3Nob3dUcmVuZGluZyAmJiB0cmVuZGluZ0hhc2h0YWdzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+VHJlbmRpbmc6PC9wPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAgZ2FwLTJcIiByb2xlPVwibGlzdFwiIGFyaWEtbGFiZWw9XCJUcmVuZGluZyBoYXNodGFnc1wiPlxuICAgICAgICAgICAgICAgICAge3RyZW5kaW5nSGFzaHRhZ3Muc2xpY2UoMCwgMTApLm1hcCgoaGFzaHRhZzogYW55KSA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxCYWRnZVxuICAgICAgICAgICAgICAgICAgICAgIGtleT17aGFzaHRhZy5uYW1lIHx8IGhhc2h0YWd9XG4gICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD17c2VsZWN0ZWRIYXNodGFncy5pbmNsdWRlcyhoYXNodGFnLm5hbWUgfHwgaGFzaHRhZykgPyBcImRlZmF1bHRcIiA6IFwib3V0bGluZVwifVxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWJsdWUtMTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVIYXNodGFnU2VsZWN0KGhhc2h0YWcubmFtZSB8fCBoYXNodGFnKX1cbiAgICAgICAgICAgICAgICAgICAgICByb2xlPVwibGlzdGl0ZW1cIlxuICAgICAgICAgICAgICAgICAgICAgIHRhYkluZGV4PXswfVxuICAgICAgICAgICAgICAgICAgICAgIG9uS2V5RG93bj17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gJ0VudGVyJyB8fCBlLmtleSA9PT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlSGFzaHRhZ1NlbGVjdChoYXNodGFnLm5hbWUgfHwgaGFzaHRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPXtgJHtzZWxlY3RlZEhhc2h0YWdzLmluY2x1ZGVzKGhhc2h0YWcubmFtZSB8fCBoYXNodGFnKSA/ICdSZW1vdmUnIDogJ0FkZCd9IGhhc2h0YWcgJHtoYXNodGFnLm5hbWUgfHwgaGFzaHRhZ30gJHtzZWxlY3RlZEhhc2h0YWdzLmluY2x1ZGVzKGhhc2h0YWcubmFtZSB8fCBoYXNodGFnKSA/ICdmcm9tJyA6ICd0byd9IGZpbHRlcnNgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPEFycm93VHJlbmRpbmdVcEljb24gY2xhc3NOYW1lPVwiaC0zIHctMyBtci0xXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAje2hhc2h0YWcubmFtZSB8fCBoYXNodGFnfVxuICAgICAgICAgICAgICAgICAgICA8L0JhZGdlPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgIDwvQ2FyZD5cblxuICAgICAgey8qIE1haW4gY29udGVudCB0YWJzICovfVxuICAgICAgPFRhYnMgdmFsdWU9e2FjdGl2ZVRhYn0gb25WYWx1ZUNoYW5nZT17c2V0QWN0aXZlVGFifSByb2xlPVwidGFibGlzdFwiIGFyaWEtbGFiZWw9XCJGZWVkIGNvbnRlbnQgc2VjdGlvbnNcIj5cbiAgICAgICAgPFRhYnNMaXN0IGNsYXNzTmFtZT1cImdyaWQgdy1mdWxsIGdyaWQtY29scy0zXCIgcm9sZT1cInRhYmxpc3RcIj5cbiAgICAgICAgICA8VGFic1RyaWdnZXIgdmFsdWU9XCJmZWVkXCIgcm9sZT1cInRhYlwiIGFyaWEtc2VsZWN0ZWQ9e2FjdGl2ZVRhYiA9PT0gJ2ZlZWQnfSBhcmlhLWNvbnRyb2xzPVwiZmVlZC1wYW5lbFwiPlxuICAgICAgICAgICAgRmVlZFxuICAgICAgICAgIDwvVGFic1RyaWdnZXI+XG4gICAgICAgICAgPFRhYnNUcmlnZ2VyIHZhbHVlPVwicG9sbHNcIiByb2xlPVwidGFiXCIgYXJpYS1zZWxlY3RlZD17YWN0aXZlVGFiID09PSAncG9sbHMnfSBhcmlhLWNvbnRyb2xzPVwicG9sbHMtcGFuZWxcIj5cbiAgICAgICAgICAgIFBvbGxzXG4gICAgICAgICAgPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICA8VGFic1RyaWdnZXIgdmFsdWU9XCJhbmFseXRpY3NcIiByb2xlPVwidGFiXCIgYXJpYS1zZWxlY3RlZD17YWN0aXZlVGFiID09PSAnYW5hbHl0aWNzJ30gYXJpYS1jb250cm9scz1cImFuYWx5dGljcy1wYW5lbFwiPlxuICAgICAgICAgICAgQW5hbHl0aWNzXG4gICAgICAgICAgPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgPC9UYWJzTGlzdD5cblxuICAgICAgICB7LyogTWFpbiBmZWVkICovfVxuICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9XCJmZWVkXCIgY2xhc3NOYW1lPVwic3BhY2UteS00XCIgaWQ9XCJmZWVkLXBhbmVsXCIgcm9sZT1cInRhYnBhbmVsXCIgYXJpYS1sYWJlbGxlZGJ5PVwiZmVlZC10YWJcIj5cbiAgICAgICAgICB7aXNMb2FkaW5nID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS0xMlwiIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWxpdmU9XCJwb2xpdGVcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItYmx1ZS02MDBcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2Rpdj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwic3Itb25seVwiPkxvYWRpbmcgZmVlZCBjb250ZW50Li4uPC9zcGFuPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IGZpbHRlcmVkRmVlZEl0ZW1zLmxlbmd0aCA9PT0gMCA/IChcbiAgICAgICAgICAgIDxDYXJkIHJvbGU9XCJzdGF0dXNcIiBhcmlhLWxpdmU9XCJwb2xpdGVcIj5cbiAgICAgICAgICAgICAgPENhcmRDb250ZW50IGNsYXNzTmFtZT1cInAtNiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxIYXNodGFnSWNvbiBjbGFzc05hbWU9XCJoLTEyIHctMTIgdGV4dC1ncmF5LTQwMCBteC1hdXRvIG1iLTRcIiBhcmlhLWhpZGRlbj1cInRydWVcIiAvPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj5ObyBjb250ZW50IG1hdGNoZXMgeW91ciBmaWx0ZXJzPC9wPlxuICAgICAgICAgICAgICAgIDxCdXR0b24gXG4gICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiIFxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRTZWxlY3RlZEhhc2h0YWdzKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgc2V0U2VhcmNoUXVlcnkoJycpO1xuICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cIm10LTRcIlxuICAgICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsZWFyIGFsbCBmaWx0ZXJzIHRvIHNob3cgYWxsIGNvbnRlbnRcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIENsZWFyIEZpbHRlcnNcbiAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIiByb2xlPVwiZmVlZFwiIGFyaWEtbGFiZWw9XCJGZWVkIGNvbnRlbnRcIj5cbiAgICAgICAgICAgICAge2ZpbHRlcmVkRmVlZEl0ZW1zLm1hcCgoaXRlbSwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICA8YXJ0aWNsZSBrZXk9e2l0ZW0uaWR9IHJvbGU9XCJhcnRpY2xlXCIgYXJpYS1wb3NpbnNldD17aW5kZXggKyAxfSBhcmlhLXNldHNpemU9e2ZpbHRlcmVkRmVlZEl0ZW1zLmxlbmd0aH0+XG4gICAgICAgICAgICAgICAgICA8RmVlZEl0ZW1cbiAgICAgICAgICAgICAgICAgICAgaXRlbT17aXRlbSBhcyBhbnl9XG4gICAgICAgICAgICAgICAgICAgIG9uTGlrZT17KCkgPT4gaGFuZGxlTGlrZShpdGVtLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgb25Cb29rbWFyaz17KCkgPT4gaGFuZGxlQm9va21hcmsoaXRlbS5pZCl9XG4gICAgICAgICAgICAgICAgICAgIG9uU2hhcmU9eygpID0+IG9uU2hhcmU/LihpdGVtLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgb25Db21tZW50PXsoKSA9PiBvbkNvbW1lbnQ/LihpdGVtLmlkKX1cbiAgICAgICAgICAgICAgICAgICAgb25WaWV3RGV0YWlscz17KCkgPT4gb25WaWV3RGV0YWlscz8uKGl0ZW0uaWQpfVxuICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICA8L2FydGljbGU+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9UYWJzQ29udGVudD5cblxuICAgICAgICB7LyogSGFzaHRhZy1wb2xscyBpbnRlZ3JhdGlvbiAqL31cbiAgICAgICAgPFRhYnNDb250ZW50IHZhbHVlPVwicG9sbHNcIiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIiBpZD1cInBvbGxzLXBhbmVsXCIgcm9sZT1cInRhYnBhbmVsXCIgYXJpYS1sYWJlbGxlZGJ5PVwicG9sbHMtdGFiXCI+XG4gICAgICAgICAge2hhc2h0YWdQb2xsc0ZlZWQgPyAoXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNFwiPlxuICAgICAgICAgICAgICB7aGFzaHRhZ1BvbGxzRmVlZC5yZWNvbW1lbmRlZF9wb2xscy5tYXAoKHBvbGw6IGFueSkgPT4gKFxuICAgICAgICAgICAgICAgIDxDYXJkIGtleT17cG9sbC5wb2xsX2lkfSBjbGFzc05hbWU9XCJob3ZlcjpzaGFkb3ctbWQgdHJhbnNpdGlvbi1zaGFkb3dcIj5cbiAgICAgICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwLTZcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IGp1c3RpZnktYmV0d2VlbiBtYi00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHtwb2xsLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbWItNFwiPntwb2xsLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIFBvbGwgaGFzaHRhZ3MgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICB7cG9sbC5oYXNodGFncyAmJiBwb2xsLmhhc2h0YWdzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC13cmFwIGdhcC0yIG1iLTRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7cG9sbC5oYXNodGFncy5tYXAoKGhhc2h0YWc6IGFueSkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17aGFzaHRhZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyaWFudD1cIm91dGxpbmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ibHVlLTEwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUhhc2h0YWdTZWxlY3QoaGFzaHRhZyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICN7aGFzaHRhZ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIFBvbGwgbWV0YWRhdGEgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNCB0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxVc2VyR3JvdXBJY29uIGNsYXNzTmFtZT1cImgtNCB3LTQgbXItMVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3BvbGwudG90YWxfdm90ZXN9IHZvdGVzXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPENsb2NrSWNvbiBjbGFzc05hbWU9XCJoLTQgdy00IG1yLTFcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuZXcgRGF0ZShwb2xsLmNyZWF0ZWRfYXQpLnRvTG9jYWxlRGF0ZVN0cmluZygpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDaGFydEJhckljb24gY2xhc3NOYW1lPVwiaC00IHctNCBtci0xXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7TWF0aC5yb3VuZChwb2xsLnJlbGV2YW5jZV9zY29yZSAqIDEwMCl9JSBtYXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7cG9sbC5yZWFzb259XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlUG9sbFNlbGVjdChwb2xsLnBvbGxfaWQpfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwibWwtNFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgVmlldyBQb2xsXG4gICAgICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxDYXJkPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQgY2xhc3NOYW1lPVwicC02IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPEhhc2h0YWdJY29uIGNsYXNzTmFtZT1cImgtMTIgdy0xMiB0ZXh0LWdyYXktNDAwIG14LWF1dG8gbWItNFwiIC8+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPk5vIHBlcnNvbmFsaXplZCBwb2xscyBhdmFpbGFibGU8L3A+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+Rm9sbG93IHNvbWUgaGFzaHRhZ3MgdG8gZ2V0IHBlcnNvbmFsaXplZCByZWNvbW1lbmRhdGlvbnM8L3A+XG4gICAgICAgICAgICAgIDwvQ2FyZENvbnRlbnQ+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9UYWJzQ29udGVudD5cblxuICAgICAgICB7LyogQW5hbHl0aWNzICovfVxuICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9XCJhbmFseXRpY3NcIiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICB7ZW5hYmxlQW5hbHl0aWNzICYmIGhhc2h0YWdQb2xsc0ZlZWQ/Lmhhc2h0YWdfYW5hbHl0aWNzID8gKFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGxnOmdyaWQtY29scy0zIGdhcC00XCI+XG4gICAgICAgICAgICAgIHtoYXNodGFnUG9sbHNGZWVkLmhhc2h0YWdfYW5hbHl0aWNzLm1hcCgoYW5hbHl0aWM6IGFueSkgPT4gKFxuICAgICAgICAgICAgICAgIDxDYXJkIGtleT17YW5hbHl0aWMuaGFzaHRhZ30+XG4gICAgICAgICAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxIYXNodGFnSWNvbiBjbGFzc05hbWU9XCJoLTQgdy00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAje2FuYWx5dGljLmhhc2h0YWd9XG4gICAgICAgICAgICAgICAgICAgIDwvQ2FyZFRpdGxlPlxuICAgICAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlBvbGxzOjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e2FuYWx5dGljLnBvbGxfY291bnR9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMFwiPkVuZ2FnZW1lbnQ6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge01hdGgucm91bmQoYW5hbHl0aWMuZW5nYWdlbWVudF9yYXRlICogMTAwKX0lXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+SW50ZXJlc3Q6PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAge01hdGgucm91bmQoYW5hbHl0aWMudXNlcl9pbnRlcmVzdF9sZXZlbCAqIDEwMCl9JVxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIHthbmFseXRpYy50cmVuZGluZ19wb3NpdGlvbiA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5UcmVuZGluZzo8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JlZW4tNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgI3thbmFseXRpYy50cmVuZGluZ19wb3NpdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICApIDogKFxuICAgICAgICAgICAgPENhcmQ+XG4gICAgICAgICAgICAgIDxDYXJkQ29udGVudCBjbGFzc05hbWU9XCJwLTYgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8Q2hhcnRCYXJJY29uIGNsYXNzTmFtZT1cImgtMTIgdy0xMiB0ZXh0LWdyYXktNDAwIG14LWF1dG8gbWItNFwiIC8+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPkFuYWx5dGljcyBub3QgYXZhaWxhYmxlPC9wPlxuICAgICAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICAgICAgPC9DYXJkPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvVGFic0NvbnRlbnQ+XG4gICAgICA8L1RhYnM+XG5cbiAgICAgIHsvKiBTY3JvbGwgdG8gdG9wIGJ1dHRvbiAqL31cbiAgICAgIHtmZWVkcy5sZW5ndGggPiA1ICYmIChcbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIHJlZj17c2Nyb2xsVG9Ub3BSZWZ9XG4gICAgICAgICAgb25DbGljaz17c2Nyb2xsVG9Ub3B9XG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgYm90dG9tLTIwIHJpZ2h0LTQgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBwLTMgcm91bmRlZC1mdWxsIHNoYWRvdy1sZyBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uLWNvbG9ycyB6LTMwIG1pbi13LVs0NHB4XSBtaW4taC1bNDRweF1cIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJTY3JvbGwgdG8gdG9wXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzdmcgY2xhc3NOYW1lPVwidy02IGgtNlwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlTGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlTGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZVdpZHRoPXsyfSBkPVwiTTUgMTBsNy03bTAgMGw3IDdtLTctN3YxOFwiIC8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgKX1cblxuICAgICAgey8qIExvYWRpbmcgaW5kaWNhdG9yIGZvciBpbmZpbml0ZSBzY3JvbGwgKi99XG4gICAgICB7aXNMb2FkaW5nICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBweS04XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItYmx1ZS01MDBcIj48L2Rpdj5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJtbC0zIHRleHQtZ3JheS01MDBcIj5Mb2FkaW5nIG1vcmUuLi48L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cblxuICAgICAgey8qIEVuZCBvZiBmZWVkIGluZGljYXRvciAqL31cbiAgICAgIHshaGFzTW9yZSAmJiBmZWVkcy5sZW5ndGggPiAwICYmIChcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBweS04IHRleHQtZ3JheS01MDBcIj5cbiAgICAgICAgICA8cD5Zb3UmYXBvczt2ZSByZWFjaGVkIHRoZSBlbmQgb2YgdGhlIGZlZWQ8L3A+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSBtdC0xXCI+Q2hlY2sgYmFjayBsYXRlciBmb3IgbW9yZSB1cGRhdGVzPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICl9XG5cbiAgICAgIHsvKiBMYXN0IGl0ZW0gcmVmIGZvciBpbmZpbml0ZSBzY3JvbGwgKi99XG4gICAgICA8ZGl2IHJlZj17bGFzdEl0ZW1SZWZ9IGNsYXNzTmFtZT1cImgtMVwiIC8+XG5cbiAgICAgIHsvKiBBY2Nlc3NpYmlsaXR5IEFubm91bmNlbWVudHMgKi99XG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJzci1vbmx5XCIgXG4gICAgICAgIGFyaWEtbGl2ZT1cInBvbGl0ZVwiIFxuICAgICAgICBhcmlhLWF0b21pYz1cInRydWVcIlxuICAgICAgPlxuICAgICAgICB7YWNjZXNzaWJpbGl0eUFubm91bmNlbWVudHMubWFwKChhbm5vdW5jZW1lbnQsIGluZGV4KSA9PiAoXG4gICAgICAgICAgPGRpdiBrZXk9e2Bhbm5vdW5jZW1lbnQtJHtpbmRleH0tJHthbm5vdW5jZW1lbnQuc2xpY2UoMCwgMjApfWB9Pnthbm5vdW5jZW1lbnR9PC9kaXY+XG4gICAgICAgICkpfVxuICAgICAgPC9kaXY+XG5cbiAgICAgIHsvKiBEZWRpY2F0ZWQgTGl2ZSBSZWdpb24gZm9yIER5bmFtaWMgQ29udGVudCAqL31cbiAgICAgIDxkaXYgXG4gICAgICAgIGNsYXNzTmFtZT1cInNyLW9ubHlcIiBcbiAgICAgICAgYXJpYS1saXZlPVwicG9saXRlXCIgXG4gICAgICAgIGFyaWEtYXRvbWljPVwidHJ1ZVwiXG4gICAgICAgIGlkPVwibGl2ZS1yZWdpb25cIlxuICAgICAgPlxuICAgICAgICA8c3BhbiBpZD1cImxpdmUtcmVnaW9uLWNvbnRlbnRcIj48L3NwYW4+XG4gICAgICA8L2Rpdj5cblxuICAgICAgey8qIEVycm9yIE1lc3NhZ2VzICovfVxuICAgICAge2Vycm9yTWVzc2FnZSAmJiAoXG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgcm9sZT1cImFsZXJ0XCIgXG4gICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgdG9wLTQgcmlnaHQtNCBiZy1yZWQtMTAwIGJvcmRlciBib3JkZXItcmVkLTQwMCB0ZXh0LXJlZC03MDAgcHgtNCBweS0zIHJvdW5kZWQgei01MFwiXG4gICAgICAgID5cbiAgICAgICAgICB7ZXJyb3JNZXNzYWdlfVxuICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICBvbkNsaWNrPXtjbGVhckVycm9yfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwibWwtMiB0ZXh0LXJlZC03MDAgaG92ZXI6dGV4dC1yZWQtOTAwIG1pbi13LVs0NHB4XSBtaW4taC1bNDRweF1cIlxuICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNsb3NlIGVycm9yIG1lc3NhZ2VcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIMOXXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJVbmlmaWVkRmVlZCIsInVzZXJJZCIsInByZWZlcmVuY2VzIiwib25MaWtlIiwib25TaGFyZSIsIm9uQm9va21hcmsiLCJvbkNvbW1lbnQiLCJvblZpZXdEZXRhaWxzIiwib25Qb2xsU2VsZWN0Iiwib25IYXNodGFnU2VsZWN0IiwiY2xhc3NOYW1lIiwiZW5hYmxlUGVyc29uYWxpemF0aW9uIiwiZW5hYmxlUmVhbFRpbWVVcGRhdGVzIiwiZW5hYmxlQW5hbHl0aWNzIiwiZW5hYmxlSGFwdGljcyIsImVuYWJsZUhhc2h0YWdQb2xscyIsImVuYWJsZU1vYmlsZU9wdGltaXphdGlvbiIsInNob3dUcmVuZGluZyIsIm1heEl0ZW1zIiwiZmVlZHMiLCJ1c2VGZWVkcyIsImxvYWRGZWVkcyIsImxpa2VGZWVkIiwiYm9va21hcmtGZWVkIiwicmVmcmVzaEZlZWRzIiwidXNlRmVlZHNBY3Rpb25zIiwiaXNMb2FkaW5nIiwidXNlRmVlZHNMb2FkaW5nIiwicHdhU3RvcmUiLCJ1c2VQV0FTdG9yZSIsInVzZXIiLCJ1c2VVc2VyU3RvcmUiLCJhZGROb3RpZmljYXRpb24iLCJ1c2VOb3RpZmljYXRpb25TdG9yZSIsInN0YXRlIiwiaGFzaHRhZ3MiLCJ0cmVuZGluZ0hhc2h0YWdzIiwidXNlSGFzaHRhZ1N0b3JlIiwiZ2V0VHJlbmRpbmdIYXNodGFncyIsInVzZUhhc2h0YWdBY3Rpb25zIiwidHJlbmRpbmdDb3VudCIsInVzZUhhc2h0YWdTdGF0cyIsImFjdGl2ZVRhYiIsInNldEFjdGl2ZVRhYiIsInVzZVN0YXRlIiwiaGFzaHRhZ1BvbGxzRmVlZCIsInNldEhhc2h0YWdQb2xsc0ZlZWQiLCJzZWxlY3RlZEhhc2h0YWdzIiwic2V0U2VsZWN0ZWRIYXNodGFncyIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJpc1JlZnJlc2hpbmciLCJzZXRJc1JlZnJlc2hpbmciLCJwZXJzb25hbGl6YXRpb25TY29yZSIsInNldFBlcnNvbmFsaXphdGlvblNjb3JlIiwibGFzdFVwZGF0ZSIsInNldExhc3RVcGRhdGUiLCJEYXRlIiwiaXNEYXJrTW9kZSIsInNldElzRGFya01vZGUiLCJub3RpZmljYXRpb25QZXJtaXNzaW9uIiwic2V0Tm90aWZpY2F0aW9uUGVybWlzc2lvbiIsInN3UmVnaXN0cmF0aW9uIiwic2V0U3dSZWdpc3RyYXRpb24iLCJsYXN0U3luYyIsInNldExhc3RTeW5jIiwic3luY1N0YXR1cyIsInNldFN5bmNTdGF0dXMiLCJzaG93QWR2YW5jZWRGaWx0ZXJzIiwic2V0U2hvd0FkdmFuY2VkRmlsdGVycyIsImFjY2Vzc2liaWxpdHlBbm5vdW5jZW1lbnRzIiwic2V0QWNjZXNzaWJpbGl0eUFubm91bmNlbWVudHMiLCJlcnJvck1lc3NhZ2UiLCJzZXRFcnJvck1lc3NhZ2UiLCJzaG93RXJyb3IiLCJzZXRTaG93RXJyb3IiLCJwdWxsRGlzdGFuY2UiLCJzZXRQdWxsRGlzdGFuY2UiLCJoYXNNb3JlIiwic2V0SGFzTW9yZSIsInBhZ2UiLCJzZXRQYWdlIiwiZXhwYW5kZWRJdGVtcyIsInNldEV4cGFuZGVkSXRlbXMiLCJTZXQiLCJsb2FkaW5nSW1hZ2VzIiwic2V0TG9hZGluZ0ltYWdlcyIsInJlZnJlc2hUaHJlc2hvbGQiLCJ3c1JlZiIsInVzZVJlZiIsInJlZnJlc2hJbnRlcnZhbFJlZiIsInRvdWNoU3RhcnRSZWYiLCJsb25nUHJlc3NUaW1lclJlZiIsImZlZWRSZWYiLCJvYnNlcnZlclJlZiIsImxhc3RJdGVtUmVmIiwic2Nyb2xsVG9Ub3BSZWYiLCJpbml0aWFsaXplU3VwZXJpb3JQV0FGZWF0dXJlcyIsInVzZUNhbGxiYWNrIiwibmF2aWdhdG9yIiwicmVnaXN0cmF0aW9uIiwic2VydmljZVdvcmtlciIsInJlYWR5Iiwid2luZG93IiwicGVybWlzc2lvbiIsIk5vdGlmaWNhdGlvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwic3Vic2NyaWJlVG9Ob3RpZmljYXRpb25zIiwiZXJyb3IiLCJjb25zb2xlIiwic3Vic2NyaXB0aW9uIiwicHVzaE1hbmFnZXIiLCJzdWJzY3JpYmUiLCJ1c2VyVmlzaWJsZU9ubHkiLCJhcHBsaWNhdGlvblNlcnZlcktleSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19WQVBJRF9QVUJMSUNfS0VZIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2dnZXIiLCJpbmZvIiwiY2hlY2tPbmxpbmVTdGF0dXMiLCJoYW5kbGVPbmxpbmUiLCJzeW5jT2ZmbGluZURhdGEiLCJoYW5kbGVPZmZsaW5lIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZXNwb25zZSIsInRvSVNPU3RyaW5nIiwib2siLCJhbm5vdW5jZVRvU2NyZWVuUmVhZGVyIiwibWVzc2FnZSIsInByZXYiLCJsaXZlUmVnaW9uIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRleHRDb250ZW50Iiwic2V0VGltZW91dCIsInNsaWNlIiwic2V0RXJyb3IiLCJjbGVhckVycm9yIiwibG9hZEhhc2h0YWdQb2xsc0ZlZWQiLCJkYXRhIiwianNvbiIsInVzZXJfaWQiLCJoYXNodGFnX2ludGVyZXN0cyIsInVzZXJfZm9sbG93ZWRfaGFzaHRhZ3MiLCJyZWNvbW1lbmRlZF9wb2xscyIsInRyZW5kaW5nX2hhc2h0YWdzIiwiaGFzaHRhZ19hbmFseXRpY3MiLCJmZWVkX3Njb3JlIiwibGFzdF91cGRhdGVkIiwid2FybiIsImxvYWRGZWVkRGF0YSIsInVzZUVmZmVjdCIsImZpbHRlcmVkRmVlZEl0ZW1zIiwidXNlTWVtbyIsImZpbHRlcmVkIiwibGVuZ3RoIiwiZmlsdGVyIiwiaXRlbSIsInNvbWUiLCJoYXNodGFnIiwiaW5jbHVkZXMiLCJ0aXRsZSIsInRvTG93ZXJDYXNlIiwiZGVzY3JpcHRpb24iLCJoYW5kbGVIYXNodGFnU2VsZWN0IiwiaCIsImhhbmRsZVBvbGxTZWxlY3QiLCJwb2xsSWQiLCJ0cmFja0V2ZW50IiwiZXZlbnQiLCJndGFnIiwiZXZlbnRfY2F0ZWdvcnkiLCJldmVudF9sYWJlbCIsInBsYXRmb3JtIiwidmFsdWUiLCJhbmFseXRpY3MiLCJ0cmFjayIsImhhbmRsZSIsInVybCIsInJlcHJlc2VudGF0aXZlIiwidHJhY2tFbmdhZ2VtZW50IiwiYWN0aW9uIiwiaXRlbUlkIiwibWV0YWRhdGEiLCJNYXRoIiwibWluIiwiaGFuZGxlTGlrZSIsInZpYnJhdGUiLCJoYW5kbGVCb29rbWFyayIsImhhbmRsZVNoYXJlIiwic2hhcmUiLCJmaW5kIiwiaWQiLCJ0ZXh0IiwibG9jYXRpb24iLCJocmVmIiwiY2F0Y2giLCJoYW5kbGVDb21tZW50IiwiaGFuZGxlVmlld0RldGFpbHMiLCJOT0RFX0VOViIsImN1cnJlbnQiLCJkaXNjb25uZWN0IiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiaXNJbnRlcnNlY3RpbmciLCJoYW5kbGVMb2FkTW9yZSIsInRocmVzaG9sZCIsIm9ic2VydmUiLCJzY3JvbGxUb1RvcCIsInNjcm9sbFRvIiwidG9wIiwiYmVoYXZpb3IiLCJoYW5kbGVSZWZyZXNoIiwid3MiLCJXZWJTb2NrZXQiLCJvbm1lc3NhZ2UiLCJwYXJzZSIsImxhYmVsIiwic2V0SW50ZXJ2YWwiLCJjbG9zZSIsImNsZWFySW50ZXJ2YWwiLCJpbml0aWFsaXplQXBwIiwidGltZW91dElkIiwiY2xlYXJUaW1lb3V0IiwiZ2V0Q29udGVudFR5cGVJY29uIiwidHlwZSIsImljb25DbGFzcyIsImRpdiIsInNwYW4iLCJnZXRQYXJ0eUNvbG9yIiwicGFydHkiLCJwYXJ0eUNvbG9ycyIsImZvcm1hdERhdGUiLCJkYXRlIiwibm93IiwiZGF0ZU9iaiIsImlzTmFOIiwiZ2V0VGltZSIsImRpZmZJbkhvdXJzIiwiZmxvb3IiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJjYWxjdWxhdGVQZXJzb25hbGl6YXRpb25TY29yZSIsInVzZXJJbnRlcmVzdHMiLCJjb250ZW50VGFncyIsIm1hdGNoaW5nVGFncyIsInRhZyIsImludGVyZXN0IiwibWF4IiwidG9nZ2xlSXRlbUV4cGFuc2lvbiIsIm5ld1NldCIsImhhcyIsImRlbGV0ZSIsImFkZCIsImhhbmRsZUltYWdlTG9hZCIsImhhbmRsZUltYWdlRXJyb3IiLCJsb2FkSW1hZ2UiLCJpbWFnZVVybCIsImltZyIsIkltYWdlIiwib25sb2FkIiwib25lcnJvciIsInNyYyIsImhhbmRsZVB1bGxUb1JlZnJlc2giLCJoYW5kbGVUb3VjaFN0YXJ0IiwiZSIsInNjcm9sbFkiLCJ0b3VjaGVzIiwieCIsImNsaWVudFgiLCJ5IiwiY2xpZW50WSIsInRpbWUiLCJoYW5kbGVUb3VjaE1vdmUiLCJ0b3VjaCIsImRlbHRhWSIsImRpc3RhbmNlIiwiaGFuZGxlVG91Y2hFbmQiLCJjaGFuZ2VkVG91Y2hlcyIsImRlbHRhVGltZSIsInRvZ2dsZURhcmtNb2RlIiwibmV3TW9kZSIsImRvY3VtZW50RWxlbWVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJ0b1N0cmluZyIsInN0b3JlZCIsImdldEl0ZW0iLCJzeXN0ZW1QcmVmZXJzRGFyayIsIm1hdGNoTWVkaWEiLCJtYXRjaGVzIiwic2hvdWxkQmVEYXJrIiwicmVmIiwiY24iLCJyb2xlIiwiYXJpYS1sYWJlbCIsIm9uVG91Y2hTdGFydCIsIm9uVG91Y2hNb3ZlIiwib25Ub3VjaEVuZCIsInN0eWxlIiwidHJhbnNmb3JtIiwiYXJpYS1saXZlIiwiYXJpYS1oaWRkZW4iLCJ0b0xvY2FsZVRpbWVTdHJpbmciLCJoZWFkZXIiLCJoMSIsInAiLCJyb3VuZCIsImJ1dHRvbiIsIm9uQ2xpY2siLCJzdmciLCJmaWxsIiwic3Ryb2tlIiwidmlld0JveCIsInBhdGgiLCJzdHJva2VMaW5lY2FwIiwic3Ryb2tlTGluZWpvaW4iLCJzdHJva2VXaWR0aCIsImQiLCJkaXNhYmxlZCIsIkJ1dHRvbiIsInZhcmlhbnQiLCJzaXplIiwiYXJpYS1kZXNjcmliZWRieSIsIkFycm93UGF0aEljb24iLCJoNCIsImlucHV0IiwiQ2FyZCIsIkNhcmRIZWFkZXIiLCJDYXJkVGl0bGUiLCJIYXNodGFnSWNvbiIsIkJhZGdlIiwiQ2FyZENvbnRlbnQiLCJodG1sRm9yIiwiSW5wdXQiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwidGFyZ2V0IiwibWFwIiwidGFiSW5kZXgiLCJvbktleURvd24iLCJrZXkiLCJwcmV2ZW50RGVmYXVsdCIsIm5hbWUiLCJBcnJvd1RyZW5kaW5nVXBJY29uIiwiVGFicyIsIm9uVmFsdWVDaGFuZ2UiLCJUYWJzTGlzdCIsIlRhYnNUcmlnZ2VyIiwiYXJpYS1zZWxlY3RlZCIsImFyaWEtY29udHJvbHMiLCJUYWJzQ29udGVudCIsImFyaWEtbGFiZWxsZWRieSIsImluZGV4IiwiYXJ0aWNsZSIsImFyaWEtcG9zaW5zZXQiLCJhcmlhLXNldHNpemUiLCJGZWVkSXRlbSIsInBvbGwiLCJoMyIsIlVzZXJHcm91cEljb24iLCJ0b3RhbF92b3RlcyIsIkNsb2NrSWNvbiIsImNyZWF0ZWRfYXQiLCJDaGFydEJhckljb24iLCJyZWxldmFuY2Vfc2NvcmUiLCJyZWFzb24iLCJwb2xsX2lkIiwiYW5hbHl0aWMiLCJwb2xsX2NvdW50IiwiZW5nYWdlbWVudF9yYXRlIiwidXNlcl9pbnRlcmVzdF9sZXZlbCIsInRyZW5kaW5nX3Bvc2l0aW9uIiwiYXJpYS1hdG9taWMiLCJhbm5vdW5jZW1lbnQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Ozs7OztDQWNDLEdBRUQ7Ozs7OytCQTBEQTs7O2VBQXdCQTs7OzsrREF4RGlEO3lCQVFsRTt1QkFFZTt3QkFDQztzQkFDa0M7dUJBQ25DO3NCQUNtQzt3QkFZbEQ7dUJBQ1k7d0JBQ0k7aUVBS0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUJOLFNBQVNBLFlBQVksRUFDbENDLE1BQU0sRUFDTkMsV0FBVyxFQUNYQyxNQUFNLEVBQ05DLE9BQU8sRUFDUEMsVUFBVSxFQUNWQyxTQUFTLEVBQ1RDLGFBQWEsRUFDYkMsWUFBWSxFQUNaQyxlQUFlLEVBQ2ZDLFlBQVksRUFBRSxFQUNkQyx3QkFBd0IsSUFBSSxFQUM1QkMsd0JBQXdCLElBQUksRUFDNUJDLGtCQUFrQixLQUFLLEVB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