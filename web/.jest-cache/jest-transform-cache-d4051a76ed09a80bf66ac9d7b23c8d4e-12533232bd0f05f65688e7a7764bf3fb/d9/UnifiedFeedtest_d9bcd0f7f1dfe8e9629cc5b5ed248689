c9072b314fa909bdb48abf4fadd24222
/**
 * UnifiedFeed Component Tests
 * 
 * Comprehensive testing for the UnifiedFeed component using the Real Component Testing Framework
 * Tests real functionality with real dependencies to catch real issues
 * 
 * Created: January 19, 2025
 * Status: âœ… PRODUCTION READY
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _globals = require("@jest/globals");
const _realComponentTesting = require("../../../../../lib/testing/realComponentTesting");
const _UnifiedFeed = /*#__PURE__*/ _interop_require_default(require("../../../../../features/feeds/components/UnifiedFeed"));
const _feedsStore = require("../../../../../lib/stores/feedsStore");
const _useHashtags = require("../../../../../features/hashtags/hooks/useHashtags");
const _testIds = require("../../../../../lib/testing/testIds");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock the stores
_globals.jest.mock('@/lib/stores/feedsStore', ()=>({
        useFeeds: _globals.jest.fn()
    }));
_globals.jest.mock('@/features/hashtags/hooks/useHashtags', ()=>({
        useHashtags: _globals.jest.fn()
    }));
const mockUseFeeds = _feedsStore.useFeeds;
const mockUseHashtags = _useHashtags.useHashtags;
// Mock data
const mockFeedData = [
    {
        id: '1',
        title: 'Test Poll',
        content: 'This is a test poll content',
        summary: 'This is a test poll',
        author: {
            id: 'author-1',
            name: 'Test Author',
            avatar: '/test-avatar.jpg',
            verified: true
        },
        category: 'politics',
        tags: [
            'politics',
            'election'
        ],
        type: 'poll',
        source: {
            name: 'Test Source',
            url: 'https://example.com',
            logo: '/test-logo.jpg',
            verified: true
        },
        publishedAt: '2025-01-19T10:00:00Z',
        updatedAt: '2025-01-19T10:00:00Z',
        readTime: 5,
        engagement: {
            likes: 10,
            shares: 5,
            comments: 3,
            views: 100
        },
        userInteraction: {
            liked: false,
            shared: false,
            bookmarked: false,
            read: false
        },
        metadata: {
            hashtags: [
                'politics',
                'election'
            ],
            primary_hashtag: 'politics',
            language: 'en'
        }
    },
    {
        id: '2',
        title: 'Test Post',
        content: 'This is a test post content',
        summary: 'This is a test post',
        author: {
            id: 'author-2',
            name: 'Test Author 2',
            avatar: '/test-avatar-2.jpg',
            verified: true
        },
        category: 'news',
        tags: [
            'news',
            'update'
        ],
        type: 'article',
        source: {
            name: 'Test Source 2',
            url: 'https://example.com/2',
            logo: '/test-logo-2.jpg',
            verified: true
        },
        publishedAt: '2025-01-19T09:00:00Z',
        updatedAt: '2025-01-19T09:00:00Z',
        readTime: 3,
        engagement: {
            likes: 15,
            shares: 8,
            comments: 12,
            views: 150
        },
        userInteraction: {
            liked: false,
            shared: false,
            bookmarked: false,
            read: false
        },
        metadata: {
            hashtags: [
                'news',
                'update'
            ],
            primary_hashtag: 'news',
            language: 'en'
        }
    }
];
const mockHashtagData = [
    {
        id: '1',
        name: 'politics',
        display_name: 'Politics',
        usage_count: 100,
        follower_count: 50,
        is_trending: true,
        trend_score: 0.8,
        created_at: '2025-01-19T10:00:00Z',
        updated_at: '2025-01-19T10:00:00Z',
        is_verified: false,
        is_featured: false
    },
    {
        id: '2',
        name: 'election',
        display_name: 'Election',
        usage_count: 75,
        follower_count: 30,
        is_trending: false,
        trend_score: 0.3,
        created_at: '2025-01-19T09:00:00Z',
        updated_at: '2025-01-19T09:00:00Z',
        is_verified: false,
        is_featured: false
    }
];
describe('UnifiedFeed Component - Real Component Testing', ()=>{
    let realComponentTester;
    beforeEach(()=>{
        // Initialize real component tester
        realComponentTester = new _realComponentTesting.RealComponentTester({
            useRealDependencies: true,
            testRealInteractions: true,
            testRealBusinessLogic: true,
            testRealErrorHandling: true,
            testRealAccessibility: true,
            testRealPerformance: true
        });
        // Mock store implementations
        mockUseFeeds.mockReturnValue(mockFeedData);
        mockUseHashtags.mockReturnValue({
            hashtags: mockHashtagData,
            trendingHashtags: [],
            userHashtags: [],
            isLoading: false,
            error: null,
            loadTrendingHashtags: _globals.jest.fn(),
            searchHashtags: _globals.jest.fn(),
            followHashtag: _globals.jest.fn(),
            unfollowHashtag: _globals.jest.fn(),
            getTrendingHashtags: _globals.jest.fn(),
            refresh: _globals.jest.fn()
        });
    });
    afterEach(()=>{
        _globals.jest.clearAllMocks();
    });
    describe('Real Component Rendering', ()=>{
        it('should render UnifiedFeed with all essential elements', async ()=>{
            const component = /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {});
            const result = await _realComponentTesting.realComponentHelpers.testRealRendering(component, [
                'Unified Feed',
                'Personalized content with hashtag-polls integration',
                'Online',
                'Dark mode toggle',
                'Advanced filters toggle',
                'Refresh button'
            ]);
            expect(result.passed).toBe(true);
            expect(result.errors).toHaveLength(0);
        });
        it('should render feed items correctly', async ()=>{
            const component = /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {});
            const result = await _realComponentTesting.realComponentHelpers.testRealRendering(component, [
                'Test Poll',
                'This is a test poll',
                'politics',
                'election',
                'Test Post',
                'This is a test post',
                'news',
                'update'
            ]);
            expect(result.passed).toBe(true);
        });
        it('should render within acceptable performance time', async ()=>{
            const startTime = performance.now();
            const component = /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {});
            (0, _react1.render)(component);
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Test that real component renders within acceptable time
            expect(renderTime).toBeLessThan(2000); // 2s threshold
        });
    });
    describe('Real Component Interactions', ()=>{
        it('should handle dark mode toggle correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const darkModeButton = _react1.screen.getByTestId(_testIds.T.accessibility.button);
            _react1.fireEvent.click(darkModeButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId(_testIds.T.accessibility.button)).toBeInTheDocument();
            });
        });
        it('should handle advanced filters toggle correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const filtersButton = _react1.screen.getByTestId(_testIds.T.accessibility.filterButton);
            _react1.fireEvent.click(filtersButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/advanced filters/i)).toBeInTheDocument();
            });
        });
        it('should handle feed item interactions correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const likeButton = _react1.screen.getByTestId(_testIds.T.accessibility.feedItem('1'));
            _react1.fireEvent.click(likeButton);
            // Check that the interaction was handled
            expect(likeButton).toBeInTheDocument();
        });
        it('should handle hashtag interactions correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const hashtagButton = _react1.screen.getByText('politics');
            _react1.fireEvent.click(hashtagButton);
            // Check that the hashtag interaction was handled
            expect(hashtagButton).toBeInTheDocument();
        });
    });
    describe('Real Component State Management', ()=>{
        it('should manage loading states correctly', async ()=>{
            mockUseHashtags.mockReturnValue({
                ...mockUseHashtags(),
                isLoading: true
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            expect(_react1.screen.getByText(/loading/i)).toBeInTheDocument();
        });
        it('should manage error states correctly', async ()=>{
            mockUseHashtags.mockReturnValue({
                ...mockUseHashtags(),
                error: 'Failed to load hashtags'
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            expect(_react1.screen.getByText(/failed to load hashtags/i)).toBeInTheDocument();
        });
        it('should manage personalization score correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const likeButton = _react1.screen.getByLabelText(/like test poll/i);
            _react1.fireEvent.click(likeButton);
            // Check that personalization is working
            expect(likeButton).toBeInTheDocument();
        });
    });
    describe('Real Component Accessibility', ()=>{
        it('should have proper ARIA labels and roles', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const feed = _react1.screen.getByTestId(_testIds.T.accessibility.main);
            expect(feed).toHaveAttribute('aria-label', 'Unified Feed');
            const darkModeButton = _react1.screen.getByTestId(_testIds.T.accessibility.button);
            expect(darkModeButton).toHaveAttribute('aria-label');
            const likeButton = _react1.screen.getByTestId(_testIds.T.accessibility.feedItem('1'));
            expect(likeButton).toHaveAttribute('aria-label');
        });
        it('should support keyboard navigation', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const darkModeButton = _react1.screen.getByTestId(_testIds.T.accessibility.button);
            darkModeButton.focus();
            expect(document.activeElement).toBe(darkModeButton);
            _react1.fireEvent.keyDown(darkModeButton, {
                key: 'Enter'
            });
        // Should toggle dark mode
        });
        it('should announce changes to screen readers', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const refreshButton = _react1.screen.getByTestId(_testIds.T.accessibility.button);
            _react1.fireEvent.click(refreshButton);
            // Should have aria-live region for announcements
            const liveRegion = _react1.screen.getByTestId(_testIds.T.accessibility.liveRegion);
            expect(liveRegion).toBeInTheDocument();
        });
    });
    describe('Real Component Performance', ()=>{
        it('should handle large datasets efficiently', async ()=>{
            const largeFeedData = Array.from({
                length: 100
            }, (_, i)=>({
                    id: `${i}`,
                    title: `Test Poll ${i}`,
                    content: `This is test poll ${i} content`,
                    summary: `This is test poll ${i}`,
                    author: {
                        id: `author-${i}`,
                        name: `Test Author ${i}`,
                        avatar: `/test-avatar-${i}.jpg`,
                        verified: true
                    },
                    category: 'politics',
                    tags: [
                        'politics',
                        'election'
                    ],
                    type: 'poll',
                    source: {
                        name: `Test Source ${i}`,
                        url: `https://example.com/${i}`,
                        logo: `/test-logo-${i}.jpg`,
                        verified: true
                    },
                    publishedAt: '2025-01-19T10:00:00Z',
                    updatedAt: '2025-01-19T10:00:00Z',
                    readTime: 5,
                    engagement: {
                        likes: Math.floor(Math.random() * 100),
                        shares: Math.floor(Math.random() * 50),
                        comments: Math.floor(Math.random() * 30),
                        views: Math.floor(Math.random() * 1000)
                    },
                    userInteraction: {
                        liked: false,
                        shared: false,
                        bookmarked: false,
                        read: false
                    },
                    metadata: {
                        hashtags: [
                            'politics',
                            'election'
                        ],
                        primary_hashtag: 'politics',
                        language: 'en'
                    }
                }));
            mockUseFeeds.mockReturnValue(largeFeedData);
            const startTime = performance.now();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            expect(renderTime).toBeLessThan(5000); // 5s threshold for 100 items
        });
        it('should handle rapid interactions without performance degradation', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const startTime = performance.now();
            // Simulate rapid interactions
            for(let i = 0; i < 10; i++){
                const likeButton = _react1.screen.getByTestId(_testIds.T.accessibility.feedItem('1'));
                _react1.fireEvent.click(likeButton);
                await (0, _react1.act)(async ()=>{
                    await new Promise((resolve)=>setTimeout(resolve, 10));
                });
            }
            const endTime = performance.now();
            const totalTime = endTime - startTime;
            expect(totalTime).toBeLessThan(1000); // 1s threshold for 10 interactions
        });
    });
    describe('Real Component Error Handling', ()=>{
        it('should handle network errors gracefully', async ()=>{
            mockUseHashtags.mockReturnValue({
                ...mockUseHashtags(),
                error: 'Network error'
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            expect(_react1.screen.getByText(/network error/i)).toBeInTheDocument();
        });
        it('should handle missing data gracefully', async ()=>{
            mockUseFeeds.mockReturnValue([]);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            expect(_react1.screen.getByText(/no feeds available/i)).toBeInTheDocument();
        });
        it('should recover from errors when retrying', async ()=>{
            mockUseHashtags.mockReturnValue({
                ...mockUseHashtags(),
                error: 'Network error',
                refresh: _globals.jest.fn()
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const retryButton = _react1.screen.getByLabelText(/retry/i);
            _react1.fireEvent.click(retryButton);
            // Check that retry was attempted
            expect(retryButton).toBeInTheDocument();
        });
    });
    describe('Real Component Business Logic', ()=>{
        it('should calculate personalization score correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            // Simulate user interactions that should increase personalization score
            const likeButton = _react1.screen.getByTestId(_testIds.T.accessibility.feedItem('1'));
            _react1.fireEvent.click(likeButton);
            // Check that personalization is working
            expect(likeButton).toBeInTheDocument();
        });
        it('should filter content based on hashtags correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const hashtagFilter = _react1.screen.getByText('politics');
            _react1.fireEvent.click(hashtagFilter);
            // Should show only items with politics hashtag
            expect(_react1.screen.getByText('Test Poll')).toBeInTheDocument();
            expect(_react1.screen.queryByText('Test Post')).not.toBeInTheDocument();
        });
        it('should handle infinite scroll correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            // Simulate scrolling to bottom
            const feed = _react1.screen.getByTestId(_testIds.T.accessibility.main);
            _react1.fireEvent.scroll(feed, {
                target: {
                    scrollTop: 1000
                }
            });
            // Should trigger load more
            expect(feed).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L3VuaXQvZmVhdHVyZXMvZmVlZHMvVW5pZmllZEZlZWQudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVbmlmaWVkRmVlZCBDb21wb25lbnQgVGVzdHNcbiAqIFxuICogQ29tcHJlaGVuc2l2ZSB0ZXN0aW5nIGZvciB0aGUgVW5pZmllZEZlZWQgY29tcG9uZW50IHVzaW5nIHRoZSBSZWFsIENvbXBvbmVudCBUZXN0aW5nIEZyYW1ld29ya1xuICogVGVzdHMgcmVhbCBmdW5jdGlvbmFsaXR5IHdpdGggcmVhbCBkZXBlbmRlbmNpZXMgdG8gY2F0Y2ggcmVhbCBpc3N1ZXNcbiAqIFxuICogQ3JlYXRlZDogSmFudWFyeSAxOSwgMjAyNVxuICogU3RhdHVzOiDinIUgUFJPRFVDVElPTiBSRUFEWVxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IFJlYWxDb21wb25lbnRUZXN0ZXIsIHJlYWxDb21wb25lbnRIZWxwZXJzIH0gZnJvbSAnQC9saWIvdGVzdGluZy9yZWFsQ29tcG9uZW50VGVzdGluZyc7XG5pbXBvcnQgVW5pZmllZEZlZWQgZnJvbSAnQC9mZWF0dXJlcy9mZWVkcy9jb21wb25lbnRzL1VuaWZpZWRGZWVkJztcbmltcG9ydCB7IHVzZUZlZWRzIH0gZnJvbSAnQC9saWIvc3RvcmVzL2ZlZWRzU3RvcmUnO1xuaW1wb3J0IHsgdXNlSGFzaHRhZ3MgfSBmcm9tICdAL2ZlYXR1cmVzL2hhc2h0YWdzL2hvb2tzL3VzZUhhc2h0YWdzJztcbmltcG9ydCB7IFQgfSBmcm9tICdAL2xpYi90ZXN0aW5nL3Rlc3RJZHMnO1xuaW1wb3J0IHR5cGUgeyBGZWVkSXRlbURhdGEgfSBmcm9tICdAL2ZlYXR1cmVzL2ZlZWRzL3R5cGVzJztcblxuLy8gTW9jayB0aGUgc3RvcmVzXG5qZXN0Lm1vY2soJ0AvbGliL3N0b3Jlcy9mZWVkc1N0b3JlJywgKCkgPT4gKHtcbiAgdXNlRmVlZHM6IGplc3QuZm4oKVxufSkpO1xuXG5qZXN0Lm1vY2soJ0AvZmVhdHVyZXMvaGFzaHRhZ3MvaG9va3MvdXNlSGFzaHRhZ3MnLCAoKSA9PiAoe1xuICB1c2VIYXNodGFnczogamVzdC5mbigpXG59KSk7XG5cbmNvbnN0IG1vY2tVc2VGZWVkcyA9IHVzZUZlZWRzIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIHVzZUZlZWRzPjtcbmNvbnN0IG1vY2tVc2VIYXNodGFncyA9IHVzZUhhc2h0YWdzIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIHVzZUhhc2h0YWdzPjtcblxuXG4vLyBNb2NrIGRhdGFcbmNvbnN0IG1vY2tGZWVkRGF0YSA9IFtcbiAge1xuICAgIGlkOiAnMScsXG4gICAgdGl0bGU6ICdUZXN0IFBvbGwnLFxuICAgIGNvbnRlbnQ6ICdUaGlzIGlzIGEgdGVzdCBwb2xsIGNvbnRlbnQnLFxuICAgIHN1bW1hcnk6ICdUaGlzIGlzIGEgdGVzdCBwb2xsJyxcbiAgICBhdXRob3I6IHtcbiAgICAgIGlkOiAnYXV0aG9yLTEnLFxuICAgICAgbmFtZTogJ1Rlc3QgQXV0aG9yJyxcbiAgICAgIGF2YXRhcjogJy90ZXN0LWF2YXRhci5qcGcnLFxuICAgICAgdmVyaWZpZWQ6IHRydWVcbiAgICB9LFxuICAgIGNhdGVnb3J5OiAncG9saXRpY3MnLFxuICAgIHRhZ3M6IFsncG9saXRpY3MnLCAnZWxlY3Rpb24nXSxcbiAgICB0eXBlOiAncG9sbCcgYXMgY29uc3QsXG4gICAgc291cmNlOiB7XG4gICAgICBuYW1lOiAnVGVzdCBTb3VyY2UnLFxuICAgICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbScsXG4gICAgICBsb2dvOiAnL3Rlc3QtbG9nby5qcGcnLFxuICAgICAgdmVyaWZpZWQ6IHRydWVcbiAgICB9LFxuICAgIHB1Ymxpc2hlZEF0OiAnMjAyNS0wMS0xOVQxMDowMDowMFonLFxuICAgIHVwZGF0ZWRBdDogJzIwMjUtMDEtMTlUMTA6MDA6MDBaJyxcbiAgICByZWFkVGltZTogNSxcbiAgICBlbmdhZ2VtZW50OiB7XG4gICAgICBsaWtlczogMTAsXG4gICAgICBzaGFyZXM6IDUsXG4gICAgICBjb21tZW50czogMyxcbiAgICAgIHZpZXdzOiAxMDBcbiAgICB9LFxuICAgIHVzZXJJbnRlcmFjdGlvbjoge1xuICAgICAgbGlrZWQ6IGZhbHNlLFxuICAgICAgc2hhcmVkOiBmYWxzZSxcbiAgICAgIGJvb2ttYXJrZWQ6IGZhbHNlLFxuICAgICAgcmVhZDogZmFsc2VcbiAgICB9LFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICBoYXNodGFnczogWydwb2xpdGljcycsICdlbGVjdGlvbiddLFxuICAgICAgcHJpbWFyeV9oYXNodGFnOiAncG9saXRpY3MnLFxuICAgICAgbGFuZ3VhZ2U6ICdlbidcbiAgICB9XG4gIH0sXG4gIHtcbiAgICBpZDogJzInLFxuICAgIHRpdGxlOiAnVGVzdCBQb3N0JyxcbiAgICBjb250ZW50OiAnVGhpcyBpcyBhIHRlc3QgcG9zdCBjb250ZW50JyxcbiAgICBzdW1tYXJ5OiAnVGhpcyBpcyBhIHRlc3QgcG9zdCcsXG4gICAgYXV0aG9yOiB7XG4gICAgICBpZDogJ2F1dGhvci0yJyxcbiAgICAgIG5hbWU6ICdUZXN0IEF1dGhvciAyJyxcbiAgICAgIGF2YXRhcjogJy90ZXN0LWF2YXRhci0yLmpwZycsXG4gICAgICB2ZXJpZmllZDogdHJ1ZVxuICAgIH0sXG4gICAgY2F0ZWdvcnk6ICduZXdzJyxcbiAgICB0YWdzOiBbJ25ld3MnLCAndXBkYXRlJ10sXG4gICAgdHlwZTogJ2FydGljbGUnIGFzIGNvbnN0LFxuICAgIHNvdXJjZToge1xuICAgICAgbmFtZTogJ1Rlc3QgU291cmNlIDInLFxuICAgICAgdXJsOiAnaHR0cHM6Ly9leGFtcGxlLmNvbS8yJyxcbiAgICAgIGxvZ286ICcvdGVzdC1sb2dvLTIuanBnJyxcbiAgICAgIHZlcmlmaWVkOiB0cnVlXG4gICAgfSxcbiAgICBwdWJsaXNoZWRBdDogJzIwMjUtMDEtMTlUMDk6MDA6MDBaJyxcbiAgICB1cGRhdGVkQXQ6ICcyMDI1LTAxLTE5VDA5OjAwOjAwWicsXG4gICAgcmVhZFRpbWU6IDMsXG4gICAgZW5nYWdlbWVudDoge1xuICAgICAgbGlrZXM6IDE1LFxuICAgICAgc2hhcmVzOiA4LFxuICAgICAgY29tbWVudHM6IDEyLFxuICAgICAgdmlld3M6IDE1MFxuICAgIH0sXG4gICAgdXNlckludGVyYWN0aW9uOiB7XG4gICAgICBsaWtlZDogZmFsc2UsXG4gICAgICBzaGFyZWQ6IGZhbHNlLFxuICAgICAgYm9va21hcmtlZDogZmFsc2UsXG4gICAgICByZWFkOiBmYWxzZVxuICAgIH0sXG4gICAgbWV0YWRhdGE6IHtcbiAgICAgIGhhc2h0YWdzOiBbJ25ld3MnLCAndXBkYXRlJ10sXG4gICAgICBwcmltYXJ5X2hhc2h0YWc6ICduZXdzJyxcbiAgICAgIGxhbmd1YWdlOiAnZW4nXG4gICAgfVxuICB9XG5dO1xuXG5jb25zdCBtb2NrSGFzaHRhZ0RhdGEgPSBbXG4gIHtcbiAgICBpZDogJzEnLFxuICAgIG5hbWU6ICdwb2xpdGljcycsXG4gICAgZGlzcGxheV9uYW1lOiAnUG9saXRpY3MnLFxuICAgIHVzYWdlX2NvdW50OiAxMDAsXG4gICAgZm9sbG93ZXJfY291bnQ6IDUwLFxuICAgIGlzX3RyZW5kaW5nOiB0cnVlLFxuICAgIHRyZW5kX3Njb3JlOiAwLjgsXG4gICAgY3JlYXRlZF9hdDogJzIwMjUtMDEtMTlUMTA6MDA6MDBaJyxcbiAgICB1cGRhdGVkX2F0OiAnMjAyNS0wMS0xOVQxMDowMDowMFonLFxuICAgIGlzX3ZlcmlmaWVkOiBmYWxzZSxcbiAgICBpc19mZWF0dXJlZDogZmFsc2VcbiAgfSxcbiAge1xuICAgIGlkOiAnMicsXG4gICAgbmFtZTogJ2VsZWN0aW9uJyxcbiAgICBkaXNwbGF5X25hbWU6ICdFbGVjdGlvbicsXG4gICAgdXNhZ2VfY291bnQ6IDc1LFxuICAgIGZvbGxvd2VyX2NvdW50OiAzMCxcbiAgICBpc190cmVuZGluZzogZmFsc2UsXG4gICAgdHJlbmRfc2NvcmU6IDAuMyxcbiAgICBjcmVhdGVkX2F0OiAnMjAyNS0wMS0xOVQwOTowMDowMFonLFxuICAgIHVwZGF0ZWRfYXQ6ICcyMDI1LTAxLTE5VDA5OjAwOjAwWicsXG4gICAgaXNfdmVyaWZpZWQ6IGZhbHNlLFxuICAgIGlzX2ZlYXR1cmVkOiBmYWxzZVxuICB9XG5dO1xuXG5kZXNjcmliZSgnVW5pZmllZEZlZWQgQ29tcG9uZW50IC0gUmVhbCBDb21wb25lbnQgVGVzdGluZycsICgpID0+IHtcbiAgbGV0IHJlYWxDb21wb25lbnRUZXN0ZXI6IFJlYWxDb21wb25lbnRUZXN0ZXI7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gSW5pdGlhbGl6ZSByZWFsIGNvbXBvbmVudCB0ZXN0ZXJcbiAgICByZWFsQ29tcG9uZW50VGVzdGVyID0gbmV3IFJlYWxDb21wb25lbnRUZXN0ZXIoe1xuICAgICAgdXNlUmVhbERlcGVuZGVuY2llczogdHJ1ZSxcbiAgICAgIHRlc3RSZWFsSW50ZXJhY3Rpb25zOiB0cnVlLFxuICAgICAgdGVzdFJlYWxCdXNpbmVzc0xvZ2ljOiB0cnVlLFxuICAgICAgdGVzdFJlYWxFcnJvckhhbmRsaW5nOiB0cnVlLFxuICAgICAgdGVzdFJlYWxBY2Nlc3NpYmlsaXR5OiB0cnVlLFxuICAgICAgdGVzdFJlYWxQZXJmb3JtYW5jZTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgLy8gTW9jayBzdG9yZSBpbXBsZW1lbnRhdGlvbnNcbiAgICBtb2NrVXNlRmVlZHMubW9ja1JldHVyblZhbHVlKG1vY2tGZWVkRGF0YSk7XG5cbiAgICBtb2NrVXNlSGFzaHRhZ3MubW9ja1JldHVyblZhbHVlKHtcbiAgICAgIGhhc2h0YWdzOiBtb2NrSGFzaHRhZ0RhdGEsXG4gICAgICB0cmVuZGluZ0hhc2h0YWdzOiBbXSxcbiAgICAgIHVzZXJIYXNodGFnczogW10sXG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgZXJyb3I6IG51bGwsXG4gICAgICBsb2FkVHJlbmRpbmdIYXNodGFnczogamVzdC5mbigpLFxuICAgICAgc2VhcmNoSGFzaHRhZ3M6IGplc3QuZm4oKSxcbiAgICAgIGZvbGxvd0hhc2h0YWc6IGplc3QuZm4oKSxcbiAgICAgIHVuZm9sbG93SGFzaHRhZzogamVzdC5mbigpLFxuICAgICAgZ2V0VHJlbmRpbmdIYXNodGFnczogamVzdC5mbigpLFxuICAgICAgcmVmcmVzaDogamVzdC5mbigpXG4gICAgfSk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZWFsIENvbXBvbmVudCBSZW5kZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgVW5pZmllZEZlZWQgd2l0aCBhbGwgZXNzZW50aWFsIGVsZW1lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29tcG9uZW50ID0gPFVuaWZpZWRGZWVkIC8+O1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWFsQ29tcG9uZW50SGVscGVycy50ZXN0UmVhbFJlbmRlcmluZyhjb21wb25lbnQsIFtcbiAgICAgICAgJ1VuaWZpZWQgRmVlZCcsXG4gICAgICAgICdQZXJzb25hbGl6ZWQgY29udGVudCB3aXRoIGhhc2h0YWctcG9sbHMgaW50ZWdyYXRpb24nLFxuICAgICAgICAnT25saW5lJyxcbiAgICAgICAgJ0RhcmsgbW9kZSB0b2dnbGUnLFxuICAgICAgICAnQWR2YW5jZWQgZmlsdGVycyB0b2dnbGUnLFxuICAgICAgICAnUmVmcmVzaCBidXR0b24nXG4gICAgICBdKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5wYXNzZWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9ycykudG9IYXZlTGVuZ3RoKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgZmVlZCBpdGVtcyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBjb21wb25lbnQgPSA8VW5pZmllZEZlZWQgLz47XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlYWxDb21wb25lbnRIZWxwZXJzLnRlc3RSZWFsUmVuZGVyaW5nKGNvbXBvbmVudCwgW1xuICAgICAgICAnVGVzdCBQb2xsJyxcbiAgICAgICAgJ1RoaXMgaXMgYSB0ZXN0IHBvbGwnLFxuICAgICAgICAncG9saXRpY3MnLFxuICAgICAgICAnZWxlY3Rpb24nLFxuICAgICAgICAnVGVzdCBQb3N0JyxcbiAgICAgICAgJ1RoaXMgaXMgYSB0ZXN0IHBvc3QnLFxuICAgICAgICAnbmV3cycsXG4gICAgICAgICd1cGRhdGUnXG4gICAgICBdKTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5wYXNzZWQpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3aXRoaW4gYWNjZXB0YWJsZSBwZXJmb3JtYW5jZSB0aW1lJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IDxVbmlmaWVkRmVlZCAvPjtcbiAgICAgIHJlbmRlcihjb21wb25lbnQpO1xuICAgICAgXG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCByZW5kZXJUaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgLy8gVGVzdCB0aGF0IHJlYWwgY29tcG9uZW50IHJlbmRlcnMgd2l0aGluIGFjY2VwdGFibGUgdGltZVxuICAgICAgZXhwZWN0KHJlbmRlclRpbWUpLnRvQmVMZXNzVGhhbigyMDAwKTsgLy8gMnMgdGhyZXNob2xkXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZWFsIENvbXBvbmVudCBJbnRlcmFjdGlvbnMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGFyayBtb2RlIHRvZ2dsZSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFVuaWZpZWRGZWVkIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgZGFya01vZGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5hY2Nlc3NpYmlsaXR5LmJ1dHRvbik7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZGFya01vZGVCdXR0b24pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULmFjY2Vzc2liaWxpdHkuYnV0dG9uKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgYWR2YW5jZWQgZmlsdGVycyB0b2dnbGUgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGZpbHRlcnNCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5hY2Nlc3NpYmlsaXR5LmZpbHRlckJ1dHRvbik7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soZmlsdGVyc0J1dHRvbik7XG4gICAgICBcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvYWR2YW5jZWQgZmlsdGVycy9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZmVlZCBpdGVtIGludGVyYWN0aW9ucyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFVuaWZpZWRGZWVkIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgbGlrZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZChULmFjY2Vzc2liaWxpdHkuZmVlZEl0ZW0oJzEnKSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobGlrZUJ1dHRvbik7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIHRoYXQgdGhlIGludGVyYWN0aW9uIHdhcyBoYW5kbGVkXG4gICAgICBleHBlY3QobGlrZUJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGhhc2h0YWcgaW50ZXJhY3Rpb25zIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBoYXNodGFnQnV0dG9uID0gc2NyZWVuLmdldEJ5VGV4dCgncG9saXRpY3MnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhoYXNodGFnQnV0dG9uKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgdGhhdCB0aGUgaGFzaHRhZyBpbnRlcmFjdGlvbiB3YXMgaGFuZGxlZFxuICAgICAgZXhwZWN0KGhhc2h0YWdCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZWFsIENvbXBvbmVudCBTdGF0ZSBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgbWFuYWdlIGxvYWRpbmcgc3RhdGVzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tVc2VIYXNodGFncy5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAuLi5tb2NrVXNlSGFzaHRhZ3MoKSxcbiAgICAgICAgaXNMb2FkaW5nOiB0cnVlXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9sb2FkaW5nL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBtYW5hZ2UgZXJyb3Igc3RhdGVzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tVc2VIYXNodGFncy5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAuLi5tb2NrVXNlSGFzaHRhZ3MoKSxcbiAgICAgICAgZXJyb3I6ICdGYWlsZWQgdG8gbG9hZCBoYXNodGFncydcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoPFVuaWZpZWRGZWVkIC8+KTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2ZhaWxlZCB0byBsb2FkIGhhc2h0YWdzL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBtYW5hZ2UgcGVyc29uYWxpemF0aW9uIHNjb3JlIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBsaWtlQnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9saWtlIHRlc3QgcG9sbC9pKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhsaWtlQnV0dG9uKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgdGhhdCBwZXJzb25hbGl6YXRpb24gaXMgd29ya2luZ1xuICAgICAgZXhwZWN0KGxpa2VCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZWFsIENvbXBvbmVudCBBY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgQVJJQSBsYWJlbHMgYW5kIHJvbGVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGZlZWQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5hY2Nlc3NpYmlsaXR5Lm1haW4pO1xuICAgICAgZXhwZWN0KGZlZWQpLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcsICdVbmlmaWVkIEZlZWQnKTtcbiAgICAgIFxuICAgICAgY29uc3QgZGFya01vZGVCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5hY2Nlc3NpYmlsaXR5LmJ1dHRvbik7XG4gICAgICBleHBlY3QoZGFya01vZGVCdXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpO1xuICAgICAgXG4gICAgICBjb25zdCBsaWtlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQuYWNjZXNzaWJpbGl0eS5mZWVkSXRlbSgnMScpKTtcbiAgICAgIGV4cGVjdChsaWtlQnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc3VwcG9ydCBrZXlib2FyZCBuYXZpZ2F0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhcmtNb2RlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQuYWNjZXNzaWJpbGl0eS5idXR0b24pO1xuICAgICAgZGFya01vZGVCdXR0b24uZm9jdXMoKTtcbiAgICAgIGV4cGVjdChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS50b0JlKGRhcmtNb2RlQnV0dG9uKTtcbiAgICAgIFxuICAgICAgZmlyZUV2ZW50LmtleURvd24oZGFya01vZGVCdXR0b24sIHsga2V5OiAnRW50ZXInIH0pO1xuICAgICAgLy8gU2hvdWxkIHRvZ2dsZSBkYXJrIG1vZGVcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYW5ub3VuY2UgY2hhbmdlcyB0byBzY3JlZW4gcmVhZGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCByZWZyZXNoQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQuYWNjZXNzaWJpbGl0eS5idXR0b24pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKHJlZnJlc2hCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgaGF2ZSBhcmlhLWxpdmUgcmVnaW9uIGZvciBhbm5vdW5jZW1lbnRzXG4gICAgICBjb25zdCBsaXZlUmVnaW9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQuYWNjZXNzaWJpbGl0eS5saXZlUmVnaW9uKTtcbiAgICAgIGV4cGVjdChsaXZlUmVnaW9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVhbCBDb21wb25lbnQgUGVyZm9ybWFuY2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbGFyZ2UgZGF0YXNldHMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBsYXJnZUZlZWREYXRhID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwIH0sIChfLCBpKSA9PiAoe1xuICAgICAgICBpZDogYCR7aX1gLFxuICAgICAgICB0aXRsZTogYFRlc3QgUG9sbCAke2l9YCxcbiAgICAgICAgY29udGVudDogYFRoaXMgaXMgdGVzdCBwb2xsICR7aX0gY29udGVudGAsXG4gICAgICAgIHN1bW1hcnk6IGBUaGlzIGlzIHRlc3QgcG9sbCAke2l9YCxcbiAgICAgICAgYXV0aG9yOiB7XG4gICAgICAgICAgaWQ6IGBhdXRob3ItJHtpfWAsXG4gICAgICAgICAgbmFtZTogYFRlc3QgQXV0aG9yICR7aX1gLFxuICAgICAgICAgIGF2YXRhcjogYC90ZXN0LWF2YXRhci0ke2l9LmpwZ2AsXG4gICAgICAgICAgdmVyaWZpZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgY2F0ZWdvcnk6ICdwb2xpdGljcycsXG4gICAgICAgIHRhZ3M6IFsncG9saXRpY3MnLCAnZWxlY3Rpb24nXSxcbiAgICAgICAgdHlwZTogJ3BvbGwnIGFzIGNvbnN0LFxuICAgICAgICBzb3VyY2U6IHtcbiAgICAgICAgICBuYW1lOiBgVGVzdCBTb3VyY2UgJHtpfWAsXG4gICAgICAgICAgdXJsOiBgaHR0cHM6Ly9leGFtcGxlLmNvbS8ke2l9YCxcbiAgICAgICAgICBsb2dvOiBgL3Rlc3QtbG9nby0ke2l9LmpwZ2AsXG4gICAgICAgICAgdmVyaWZpZWQ6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgcHVibGlzaGVkQXQ6ICcyMDI1LTAxLTE5VDEwOjAwOjAwWicsXG4gICAgICAgIHVwZGF0ZWRBdDogJzIwMjUtMDEtMTlUMTA6MDA6MDBaJyxcbiAgICAgICAgcmVhZFRpbWU6IDUsXG4gICAgICAgIGVuZ2FnZW1lbnQ6IHtcbiAgICAgICAgICBsaWtlczogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKSxcbiAgICAgICAgICBzaGFyZXM6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDUwKSxcbiAgICAgICAgICBjb21tZW50czogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzApLFxuICAgICAgICAgIHZpZXdzOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwKVxuICAgICAgICB9LFxuICAgICAgICB1c2VySW50ZXJhY3Rpb246IHtcbiAgICAgICAgICBsaWtlZDogZmFsc2UsXG4gICAgICAgICAgc2hhcmVkOiBmYWxzZSxcbiAgICAgICAgICBib29rbWFya2VkOiBmYWxzZSxcbiAgICAgICAgICByZWFkOiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgIGhhc2h0YWdzOiBbJ3BvbGl0aWNzJywgJ2VsZWN0aW9uJ10sXG4gICAgICAgICAgcHJpbWFyeV9oYXNodGFnOiAncG9saXRpY3MnLFxuICAgICAgICAgIGxhbmd1YWdlOiAnZW4nXG4gICAgICAgIH1cbiAgICAgIH0pKTtcblxuICAgICAgbW9ja1VzZUZlZWRzLm1vY2tSZXR1cm5WYWx1ZShsYXJnZUZlZWREYXRhKTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICByZW5kZXIoPFVuaWZpZWRGZWVkIC8+KTtcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlbmRlclRpbWUgPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICBleHBlY3QocmVuZGVyVGltZSkudG9CZUxlc3NUaGFuKDUwMDApOyAvLyA1cyB0aHJlc2hvbGQgZm9yIDEwMCBpdGVtc1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcmFwaWQgaW50ZXJhY3Rpb25zIHdpdGhvdXQgcGVyZm9ybWFuY2UgZGVncmFkYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFVuaWZpZWRGZWVkIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIC8vIFNpbXVsYXRlIHJhcGlkIGludGVyYWN0aW9uc1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGxpa2VCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5hY2Nlc3NpYmlsaXR5LmZlZWRJdGVtKCcxJykpO1xuICAgICAgICBmaXJlRXZlbnQuY2xpY2sobGlrZUJ1dHRvbik7XG4gICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIDEwKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCB0b3RhbFRpbWUgPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICBleHBlY3QodG90YWxUaW1lKS50b0JlTGVzc1RoYW4oMTAwMCk7IC8vIDFzIHRocmVzaG9sZCBmb3IgMTAgaW50ZXJhY3Rpb25zXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdSZWFsIENvbXBvbmVudCBFcnJvciBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuZXR3b3JrIGVycm9ycyBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1VzZUhhc2h0YWdzLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIC4uLm1vY2tVc2VIYXNodGFncygpLFxuICAgICAgICBlcnJvcjogJ05ldHdvcmsgZXJyb3InXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9uZXR3b3JrIGVycm9yL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbWlzc2luZyBkYXRhIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVXNlRmVlZHMubW9ja1JldHVyblZhbHVlKFtdKTtcblxuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9ubyBmZWVkcyBhdmFpbGFibGUvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlY292ZXIgZnJvbSBlcnJvcnMgd2hlbiByZXRyeWluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tVc2VIYXNodGFncy5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAuLi5tb2NrVXNlSGFzaHRhZ3MoKSxcbiAgICAgICAgZXJyb3I6ICdOZXR3b3JrIGVycm9yJyxcbiAgICAgICAgcmVmcmVzaDogamVzdC5mbigpXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IHJldHJ5QnV0dG9uID0gc2NyZWVuLmdldEJ5TGFiZWxUZXh0KC9yZXRyeS9pKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhyZXRyeUJ1dHRvbik7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIHRoYXQgcmV0cnkgd2FzIGF0dGVtcHRlZFxuICAgICAgZXhwZWN0KHJldHJ5QnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVhbCBDb21wb25lbnQgQnVzaW5lc3MgTG9naWMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgcGVyc29uYWxpemF0aW9uIHNjb3JlIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSB1c2VyIGludGVyYWN0aW9ucyB0aGF0IHNob3VsZCBpbmNyZWFzZSBwZXJzb25hbGl6YXRpb24gc2NvcmVcbiAgICAgIGNvbnN0IGxpa2VCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5hY2Nlc3NpYmlsaXR5LmZlZWRJdGVtKCcxJykpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGxpa2VCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyBDaGVjayB0aGF0IHBlcnNvbmFsaXphdGlvbiBpcyB3b3JraW5nXG4gICAgICBleHBlY3QobGlrZUJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZmlsdGVyIGNvbnRlbnQgYmFzZWQgb24gaGFzaHRhZ3MgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGhhc2h0YWdGaWx0ZXIgPSBzY3JlZW4uZ2V0QnlUZXh0KCdwb2xpdGljcycpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGhhc2h0YWdGaWx0ZXIpO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgc2hvdyBvbmx5IGl0ZW1zIHdpdGggcG9saXRpY3MgaGFzaHRhZ1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoJ1Rlc3QgUG9sbCcpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5xdWVyeUJ5VGV4dCgnVGVzdCBQb3N0JykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgaW5maW5pdGUgc2Nyb2xsIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBzY3JvbGxpbmcgdG8gYm90dG9tXG4gICAgICBjb25zdCBmZWVkID0gc2NyZWVuLmdldEJ5VGVzdElkKFQuYWNjZXNzaWJpbGl0eS5tYWluKTtcbiAgICAgIGZpcmVFdmVudC5zY3JvbGwoZmVlZCwgeyB0YXJnZXQ6IHsgc2Nyb2xsVG9wOiAxMDAwIH0gfSk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCB0cmlnZ2VyIGxvYWQgbW9yZVxuICAgICAgZXhwZWN0KGZlZWQpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VGZWVkcyIsImZuIiwidXNlSGFzaHRhZ3MiLCJtb2NrVXNlRmVlZHMiLCJtb2NrVXNlSGFzaHRhZ3MiLCJtb2NrRmVlZERhdGEiLCJpZCIsInRpdGxlIiwiY29udGVudCIsInN1bW1hcnkiLCJhdXRob3IiLCJuYW1lIiwiYXZhdGFyIiwidmVyaWZpZWQiLCJjYXRlZ29yeSIsInRhZ3MiLCJ0eXBlIiwic291cmNlIiwidXJsIiwibG9nbyIsInB1Ymxpc2hlZEF0IiwidXBkYXRlZEF0IiwicmVhZFRpbWUiLCJlbmdhZ2VtZW50IiwibGlrZXMiLCJzaGFyZXMiLCJjb21tZW50cyIsInZpZXdzIiwidXNlckludGVyYWN0aW9uIiwibGlrZWQiLCJzaGFyZWQiLCJib29rbWFya2VkIiwicmVhZCIsIm1ldGFkYXRhIiwiaGFzaHRhZ3MiLCJwcmltYXJ5X2hhc2h0YWciLCJsYW5ndWFnZSIsIm1vY2tIYXNodGFnRGF0YSIsImRpc3BsYXlfbmFtZSIsInVzYWdlX2NvdW50IiwiZm9sbG93ZXJfY291bnQiLCJpc190cmVuZGluZyIsInRyZW5kX3Njb3JlIiwiY3JlYXRlZF9hdCIsInVwZGF0ZWRfYXQiLCJpc192ZXJpZmllZCIsImlzX2ZlYXR1cmVkIiwiZGVzY3JpYmUiLCJyZWFsQ29tcG9uZW50VGVzdGVyIiwiYmVmb3JlRWFjaCIsIlJlYWxDb21wb25lbnRUZXN0ZXIiLCJ1c2VSZWFsRGVwZW5kZW5jaWVzIiwidGVzdFJlYWxJbnRlcmFjdGlvbnMiLCJ0ZXN0UmVhbEJ1c2luZXNzTG9naWMiLCJ0ZXN0UmVhbEVycm9ySGFuZGxpbmciLCJ0ZXN0UmVhbEFjY2Vzc2liaWxpdHkiLCJ0ZXN0UmVhbFBlcmZvcm1hbmNlIiwibW9ja1JldHVyblZhbHVlIiwidHJlbmRpbmdIYXNodGFncyIsInVzZXJIYXNodGFncyIsImlzTG9hZGluZyIsImVycm9yIiwibG9hZFRyZW5kaW5nSGFzaHRhZ3MiLCJzZWFyY2hIYXNodGFncyIsImZvbGxvd0hhc2h0YWciLCJ1bmZvbGxvd0hhc2h0YWciLCJnZXRUcmVuZGluZ0hhc2h0YWdzIiwicmVmcmVzaCIsImFmdGVyRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsImNvbXBvbmVudCIsIlVuaWZpZWRGZWVkIiwicmVzdWx0IiwicmVhbENvbXBvbmVudEhlbHBlcnMiLCJ0ZXN0UmVhbFJlbmRlcmluZyIsImV4cGVjdCIsInBhc3NlZCIsInRvQmUiLCJlcnJvcnMiLCJ0b0hhdmVMZW5ndGgiLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInJlbmRlciIsImVuZFRpbWUiLCJyZW5kZXJUaW1lIiwidG9CZUxlc3NUaGFuIiwiZGFya01vZGVCdXR0b24iLCJzY3JlZW4iLCJnZXRCeVRlc3RJZCIsIlQiLCJhY2Nlc3NpYmlsaXR5IiwiYnV0dG9uIiwiZmlyZUV2ZW50IiwiY2xpY2siLCJ3YWl0Rm9yIiwidG9CZUluVGhlRG9jdW1lbnQiLCJmaWx0ZXJzQnV0dG9uIiwiZmlsdGVyQnV0dG9uIiwiZ2V0QnlUZXh0IiwibGlrZUJ1dHRvbiIsImZlZWRJdGVtIiwiaGFzaHRhZ0J1dHRvbiIsImdldEJ5TGFiZWxUZXh0IiwiZmVlZCIsIm1haW4iLCJ0b0hhdmVBdHRyaWJ1dGUiLCJmb2N1cyIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsImtleURvd24iLCJrZXkiLCJyZWZyZXNoQnV0dG9uIiwibGl2ZVJlZ2lvbiIsImxhcmdlRmVlZERhdGEiLCJBcnJheSIsImZyb20iLCJsZW5ndGgiLCJfIiwiaSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImFjdCIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsInRvdGFsVGltZSIsInJldHJ5QnV0dG9uIiwiaGFzaHRhZ0ZpbHRlciIsInF1ZXJ5QnlUZXh0Iiwibm90Iiwic2Nyb2xsIiwidGFyZ2V0Iiwic2Nyb2xsVG9wIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Q0FRQzs7Ozs7OERBRWlCO3dCQUNzQzt5QkFDbkM7c0NBQ3FDO29FQUNsQzs0QkFDQzs2QkFDRzt5QkFDVjs7Ozs7O0FBR2xCLGtCQUFrQjtBQUNsQkEsYUFBSSxDQUFDQyxJQUFJLENBQUMsMkJBQTJCLElBQU8sQ0FBQTtRQUMxQ0MsVUFBVUYsYUFBSSxDQUFDRyxFQUFFO0lBQ25CLENBQUE7QUFFQUgsYUFBSSxDQUFDQyxJQUFJLENBQUMseUNBQXlDLElBQU8sQ0FBQTtRQUN4REcsYUFBYUosYUFBSSxDQUFDRyxFQUFFO0lBQ3RCLENBQUE7QUFFQSxNQUFNRSxlQUFlSCxvQkFBUTtBQUM3QixNQUFNSSxrQkFBa0JGLHdCQUFXO0FBR25DLFlBQVk7QUFDWixNQUFNRyxlQUFlO0lBQ25CO1FBQ0VDLElBQUk7UUFDSkMsT0FBTztRQUNQQyxTQUFTO1FBQ1RDLFNBQVM7UUFDVEMsUUFBUTtZQUNOSixJQUFJO1lBQ0pL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