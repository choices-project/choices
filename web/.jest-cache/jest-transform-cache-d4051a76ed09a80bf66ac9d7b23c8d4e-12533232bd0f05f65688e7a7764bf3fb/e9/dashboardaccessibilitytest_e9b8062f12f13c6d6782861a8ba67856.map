{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/components/pages/dashboard-accessibility.test.tsx"],"sourcesContent":["/**\n * Dashboard Accessibility Tests - PHASE 3 COMPREHENSIVE TESTING\n * \n * Tests accessibility compliance for the UnifiedFeed component:\n * - WCAG 2.1 AA compliance\n * - Screen reader compatibility\n * - Keyboard navigation\n * - Color contrast validation\n * - Focus management\n * - ARIA attributes\n * - Mobile accessibility\n */\n\nimport { describe, it, expect, beforeEach, jest } from '@jest/globals';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\nimport { BrowserRouter } from 'react-router-dom';\nimport UnifiedFeed from '@/features/feeds/components/UnifiedFeed';\nimport { T } from '@/lib/testing/testIds';\n\n// Mock Next.js router\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n  }),\n  usePathname: () => '/dashboard',\n  useSearchParams: () => new URLSearchParams(),\n}));\n\n// Mock the feeds store with real functionality\nconst mockFeeds = [\n  {\n    id: 'feed-1',\n    title: 'City Council Meeting Update',\n    content: 'The city council discussed the new infrastructure proposal...',\n    summary: 'City council infrastructure discussion',\n    author: {\n      id: 'author-1',\n      name: 'City Council',\n      avatar: '',\n      verified: true\n    },\n    category: 'civic',\n    tags: ['infrastructure', 'city-council'],\n    type: 'article',\n    source: {\n      name: 'City Council',\n      url: 'https://city.gov',\n      logo: '',\n      verified: true\n    },\n    publishedAt: '2024-01-15T10:00:00Z',\n    updatedAt: '2024-01-15T10:00:00Z',\n    url: 'https://city.gov/meeting-update',\n    imageUrl: '',\n    engagement: {\n      likes: 45,\n      comments: 12,\n      shares: 8,\n      bookmarks: 23\n    },\n    isLiked: false,\n    isBookmarked: false,\n    isRead: false,\n    isVerified: true,\n    priority: 'high',\n    relevanceScore: 0.95\n  }\n];\n\n// Mock Zustand stores\njest.mock('@/lib/stores', () => ({\n  useFeeds: () => mockFeeds,\n  useFeedsStore: (selector) => {\n    const state = {\n      feeds: mockFeeds,\n      isLoading: false,\n      error: null,\n      loadFeeds: jest.fn(),\n      refreshFeeds: jest.fn(),\n      loadMoreFeeds: jest.fn(),\n      setFilters: jest.fn()\n    };\n    return selector ? selector(state) : state;\n  },\n  useFeedsLoading: () => false,\n  useFeedsError: () => null,\n  useFeedPreferences: () => ({\n    categories: ['civic'],\n    sources: ['city-council'],\n    tags: ['infrastructure']\n  }),\n  useFeedFilters: () => ({\n    category: 'all',\n    source: 'all',\n    dateRange: 'all'\n  })\n}));\n\n// Mock browser APIs\nObject.defineProperty(window, 'localStorage', {\n  value: {\n    getItem: jest.fn(() => null),\n    setItem: jest.fn(),\n    removeItem: jest.fn(),\n    clear: jest.fn(),\n  },\n  writable: true,\n});\n\nObject.defineProperty(window, 'navigator', {\n  value: {\n    onLine: true,\n  },\n  writable: true,\n});\n\n// Mock fetch for API calls\nglobal.fetch = jest.fn().mockImplementation((url, options) => {\n  return Promise.resolve({\n    ok: true,\n    status: 200,\n    json: () => Promise.resolve(mockFeeds),\n    text: () => Promise.resolve(''),\n    headers: new Map()\n  });\n});\n\ndescribe('Dashboard Accessibility Tests', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('WCAG 2.1 AA Compliance', () => {\n    it('should have proper heading hierarchy', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check for main heading\n      const mainHeading = screen.getByRole('heading', { level: 1 });\n      expect(mainHeading).toBeInTheDocument();\n      expect(mainHeading).toHaveTextContent(/choices/i);\n      expect(mainHeading).toHaveAttribute('data-testid', T.mainHeading);\n\n      // Check for section headings (h3 level in the actual component)\n      const sectionHeadings = screen.getAllByRole('heading', { level: 3 });\n      expect(sectionHeadings.length).toBeGreaterThan(0);\n      sectionHeadings.forEach(heading => {\n        expect(heading).toHaveAttribute('data-testid', T.accessibility.sectionHeading);\n      });\n    });\n\n    it('should have proper ARIA landmarks', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check for main landmark\n      const main = screen.getByRole('main');\n      expect(main).toBeInTheDocument();\n      expect(main).toHaveAttribute('data-testid', T.accessibility.main);\n\n      // Check for navigation landmark (tablist in the actual component)\n      const nav = screen.getByRole('tablist');\n      expect(nav).toBeInTheDocument();\n      expect(nav).toHaveAttribute('data-testid', T.accessibility.navigation);\n\n      // Check for complementary landmarks\n      const complementary = screen.getAllByRole('complementary');\n      expect(complementary.length).toBeGreaterThan(0);\n      complementary.forEach(comp => {\n        expect(comp).toHaveAttribute('data-testid', T.accessibility.complementary);\n      });\n    });\n\n    it('should have proper form labels and controls', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check for search input with proper label\n      const searchInput = screen.getByRole('searchbox');\n      expect(searchInput).toBeInTheDocument();\n      expect(searchInput).toHaveAttribute('aria-label');\n      expect(searchInput).toHaveAttribute('data-testid', T.accessibility.searchInput);\n\n      // Check for filter controls\n      const filterButton = screen.getByTestId(T.accessibility.filterButton);\n      expect(filterButton).toBeInTheDocument();\n      expect(filterButton).toHaveAttribute('aria-label');\n    });\n\n    it('should have proper button accessibility', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      const buttons = screen.getAllByRole('button');\n      \n      buttons.forEach(button => {\n        // Check for accessible button text or aria-label\n        expect(\n          button.textContent || \n          button.getAttribute('aria-label') || \n          button.getAttribute('aria-labelledby')\n        ).toBeTruthy();\n        \n        // Check for proper button roles\n        expect(button).toHaveAttribute('type', 'button');\n        // Check that button has some data-testid (not necessarily the generic one)\n        expect(button).toHaveAttribute('data-testid');\n      });\n    });\n  });\n\n  describe('Screen Reader Compatibility', () => {\n    it('should have proper alt text for images', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      const images = screen.getAllByRole('img');\n      \n      images.forEach(img => {\n        expect(img).toHaveAttribute('alt');\n        expect(img.getAttribute('alt')).not.toBe('');\n        expect(img).toHaveAttribute('data-testid', T.accessibility.img);\n      });\n    });\n\n    it('should have proper ARIA descriptions for complex elements', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check for feed items with proper descriptions\n      const feedItems = screen.getAllByRole('article');\n      expect(feedItems.length).toBeGreaterThan(0);\n      \n      feedItems.forEach(item => {\n        expect(item).toHaveAttribute('aria-describedby');\n        expect(item).toHaveAttribute('data-testid', T.accessibility.article);\n      });\n    });\n\n    it('should announce dynamic content changes', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check for live regions for dynamic content\n      const liveRegions = screen.getAllByTestId(T.accessibility.liveRegion);\n      expect(liveRegions.length).toBeGreaterThan(0);\n      \n      liveRegions.forEach(region => {\n        expect(region).toHaveAttribute('aria-live');\n      });\n    });\n  });\n\n  describe('Keyboard Navigation', () => {\n    it('should be fully navigable with keyboard', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check that all interactive elements are focusable\n      const interactiveElements = screen.getAllByRole('button', { hidden: true })\n        .concat(screen.getAllByRole('link', { hidden: true }))\n        .concat(screen.getAllByRole('searchbox', { hidden: true }));\n\n      interactiveElements.forEach(element => {\n        expect(element).toBeInTheDocument();\n        // Check that elements can receive focus\n        element.focus();\n        expect(document.activeElement).toBe(element);\n      });\n    });\n\n    it('should have proper tab order', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Test tab navigation\n      const firstFocusable = screen.getByRole('textbox');\n      firstFocusable.focus();\n      expect(document.activeElement).toBe(firstFocusable);\n      expect(firstFocusable).toHaveAttribute('data-testid', T.accessibility.searchInput);\n\n      // Test tab key navigation\n      fireEvent.keyDown(firstFocusable, { key: 'Tab' });\n      // Should move to next focusable element\n    });\n\n    it('should handle keyboard shortcuts', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Test escape key functionality\n      fireEvent.keyDown(document, { key: 'Escape' });\n      \n      // Test enter key on buttons\n      const buttons = screen.getAllByRole('button');\n      if (buttons.length > 0) {\n        fireEvent.keyDown(buttons[0], { key: 'Enter' });\n        expect(buttons[0]).toHaveAttribute('data-testid', T.hamburgerMenu);\n      }\n    });\n  });\n\n  describe('Color Contrast and Visual Accessibility', () => {\n    it('should have sufficient color contrast', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check for proper color contrast indicators\n      const textElements = screen.getAllByText(/./);\n      expect(textElements.length).toBeGreaterThan(0);\n      \n      // Note: Actual color contrast testing would require CSS analysis\n      // This test ensures the structure supports proper contrast\n    });\n\n    it('should not rely solely on color for information', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check that important information is not conveyed by color alone\n      const statusIndicators = screen.getAllByRole('status');\n      statusIndicators.forEach(indicator => {\n        expect(indicator.textContent || indicator.getAttribute('aria-label')).toBeTruthy();\n        // Check that the indicator has a valid test ID (can be online-indicator, sync-indicator, loading-indicator, or status-message)\n        const testId = indicator.getAttribute('data-testid');\n        expect(['online-indicator', 'sync-indicator', 'loading-indicator', 'status-message']).toContain(testId);\n      });\n    });\n  });\n\n  describe('Focus Management', () => {\n    it('should manage focus properly on navigation', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Test focus management on route changes\n      const navigationButtons = screen.getAllByRole('button');\n      if (navigationButtons.length > 0) {\n        navigationButtons[0].focus();\n        expect(document.activeElement).toBe(navigationButtons[0]);\n        expect(navigationButtons[0]).toHaveAttribute('data-testid', T.accessibility.button);\n      }\n    });\n\n    it('should trap focus in modals and overlays', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check for modal focus management\n      const modals = screen.queryAllByRole('dialog');\n      modals.forEach(modal => {\n        expect(modal).toHaveAttribute('aria-modal', 'true');\n        expect(modal).toHaveAttribute('aria-hidden', 'false');\n        expect(modal).toHaveAttribute('data-testid', T.accessibility.dialog);\n      });\n    });\n  });\n\n  describe('Mobile Accessibility', () => {\n    it('should be accessible on mobile devices', async () => {\n      // Mock mobile viewport\n      Object.defineProperty(window, 'innerWidth', {\n        writable: true,\n        configurable: true,\n        value: 375,\n      });\n\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check for mobile-specific accessibility features\n      const touchTargets = screen.getAllByRole('button');\n      touchTargets.forEach(target => {\n        // Check for minimum touch target size (44px) via CSS classes\n        const hasMinSize = target.classList.contains('min-w-[44px]') || \n                          target.classList.contains('min-h-[44px]') ||\n                          target.style.minWidth === '44px' ||\n                          target.style.minHeight === '44px';\n        \n        // In Jest environment, we can't get actual rendered dimensions,\n        // so we check for the appropriate CSS classes that ensure minimum size\n        expect(hasMinSize || target.getAttribute('data-testid')).toBeTruthy();\n      });\n    });\n\n    it('should support touch accessibility', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check for touch-friendly interactions\n      const interactiveElements = screen.getAllByRole('button');\n      interactiveElements.forEach(element => {\n        expect(element).toHaveAttribute('tabindex', '0');\n        expect(element).toHaveAttribute('data-testid');\n      });\n    });\n  });\n\n  describe('ARIA Attributes', () => {\n    it('should have proper ARIA attributes on all interactive elements', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      const buttons = screen.getAllByRole('button');\n      buttons.forEach(button => {\n        // Check for proper ARIA attributes\n        expect(button).toHaveAttribute('aria-label');\n        expect(button.getAttribute('aria-label')).not.toBe('');\n        expect(button).toHaveAttribute('data-testid');\n      });\n    });\n\n    it('should have proper ARIA states and properties', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check for proper ARIA states\n      const expandableElements = screen.getAllByRole('button');\n      expandableElements.forEach(element => {\n        if (element.getAttribute('aria-expanded') !== null) {\n          expect(['true', 'false']).toContain(element.getAttribute('aria-expanded'));\n        }\n        expect(element).toHaveAttribute('data-testid');\n      });\n    });\n  });\n\n  describe('Error Handling Accessibility', () => {\n    it('should announce errors to screen readers', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Trigger error message by clicking the test error button\n      const testErrorButtons = screen.getAllByLabelText('Trigger test error for accessibility testing');\n      const testErrorButton = testErrorButtons[0]; // Use the first one\n      await userEvent.click(testErrorButton);\n\n      // Wait for error to appear\n      await waitFor(() => {\n        const errorElements = screen.getAllByRole('alert');\n        expect(errorElements.length).toBeGreaterThan(0);\n      });\n      \n      const errorElements = screen.getAllByRole('alert');\n      errorElements.forEach(error => {\n        expect(error).toHaveAttribute('role', 'alert');\n        expect(error).toHaveAttribute('data-testid', T.accessibility.alert);\n      });\n    });\n\n    it('should provide accessible error messages', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Trigger error message by clicking the test error button\n      const testErrorButtons = screen.getAllByLabelText('Trigger test error for accessibility testing');\n      const testErrorButton = testErrorButtons[0]; // Use the first one\n      await userEvent.click(testErrorButton);\n\n      // Wait for error to appear\n      await waitFor(() => {\n        const errorMessages = screen.getAllByRole('alert');\n        expect(errorMessages.length).toBeGreaterThan(0);\n      });\n\n      // Check for accessible error messages\n      const errorMessages = screen.getAllByRole('alert');\n      errorMessages.forEach(message => {\n        expect(message.textContent).toBeTruthy();\n        expect(message).toHaveAttribute('role', 'alert');\n        expect(message).toHaveAttribute('data-testid', T.accessibility.alert);\n      });\n    });\n  });\n\n  describe('Performance and Accessibility', () => {\n    it('should load quickly for screen readers', async () => {\n      const startTime = performance.now();\n      \n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('main')).toBeInTheDocument();\n      });\n\n      const endTime = performance.now();\n      const loadTime = endTime - startTime;\n      \n      // Should load within 2 seconds for accessibility\n      expect(loadTime).toBeLessThan(2000);\n    });\n\n    it('should not cause layout shifts that affect screen readers', async () => {\n      render(\n        <BrowserRouter>\n          <UnifiedFeed />\n        </BrowserRouter>\n      );\n\n      // Check for stable layout\n      const mainContent = screen.getByRole('main');\n      expect(mainContent).toBeInTheDocument();\n      expect(mainContent).toHaveAttribute('data-testid', T.accessibility.main);\n      \n      // Layout should be stable after initial render\n      await waitFor(() => {\n        expect(mainContent).toBeInTheDocument();\n      });\n    });\n  });\n});\n\n\n\n"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","usePathname","useSearchParams","URLSearchParams","mockFeeds","id","title","content","summary","author","name","avatar","verified","category","tags","type","source","url","logo","publishedAt","updatedAt","imageUrl","engagement","likes","comments","shares","bookmarks","isLiked","isBookmarked","isRead","isVerified","priority","relevanceScore","useFeeds","useFeedsStore","selector","state","feeds","isLoading","error","loadFeeds","refreshFeeds","loadMoreFeeds","setFilters","useFeedsLoading","useFeedsError","useFeedPreferences","categories","sources","useFeedFilters","dateRange","Object","defineProperty","window","value","getItem","setItem","removeItem","clear","writable","onLine","global","fetch","mockImplementation","options","Promise","resolve","ok","status","json","text","headers","Map","describe","beforeEach","clearAllMocks","it","render","BrowserRouter","UnifiedFeed","mainHeading","screen","getByRole","level","expect","toBeInTheDocument","toHaveTextContent","toHaveAttribute","T","sectionHeadings","getAllByRole","length","toBeGreaterThan","forEach","heading","accessibility","sectionHeading","main","nav","navigation","complementary","comp","searchInput","filterButton","getByTestId","buttons","button","textContent","getAttribute","toBeTruthy","images","img","not","toBe","feedItems","item","article","liveRegions","getAllByTestId","liveRegion","region","interactiveElements","hidden","concat","element","focus","document","activeElement","firstFocusable","fireEvent","keyDown","key","hamburgerMenu","textElements","getAllByText","statusIndicators","indicator","testId","toContain","navigationButtons","modals","queryAllByRole","modal","dialog","configurable","touchTargets","target","hasMinSize","classList","contains","style","minWidth","minHeight","expandableElements","testErrorButtons","getAllByLabelText","testErrorButton","userEvent","click","waitFor","errorElements","alert","errorMessages","message","startTime","performance","now","endTime","loadTime","toBeLessThan","mainContent"],"mappings":"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"}