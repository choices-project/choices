da97e31a189b3bde919cf2b83bdfa25e
/**
 * UnifiedFeed Component Tests
 * 
 * Comprehensive testing for the UnifiedFeed component using the Real Component Testing Framework
 * Tests real functionality with real dependencies to catch real issues
 * 
 * Created: January 19, 2025
 * Status: âœ… PRODUCTION READY
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _globals = require("@jest/globals");
const _realComponentTesting = require("../../../../../lib/testing/realComponentTesting");
const _UnifiedFeed = /*#__PURE__*/ _interop_require_default(require("../../../../../features/feeds/components/UnifiedFeed"));
const _feedsStore = require("../../../../../lib/stores/feedsStore");
const _useHashtags = require("../../../../../features/hashtags/hooks/useHashtags");
const _testIds = require("../../../../../lib/testing/testIds");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock the stores
_globals.jest.mock('@/lib/stores/feedsStore', ()=>({
        useFeeds: _globals.jest.fn()
    }));
_globals.jest.mock('@/features/hashtags/hooks/useHashtags', ()=>({
        useHashtags: _globals.jest.fn()
    }));
const mockUseFeeds = _feedsStore.useFeeds;
const mockUseHashtags = _useHashtags.useHashtags;
// Mock data
const mockFeedData = [
    {
        id: '1',
        title: 'Test Poll',
        content: 'This is a test poll content',
        summary: 'This is a test poll',
        author: {
            id: 'author-1',
            name: 'Test Author',
            avatar: '/test-avatar.jpg',
            verified: true
        },
        category: 'politics',
        tags: [
            'politics',
            'election'
        ],
        type: 'poll',
        source: {
            name: 'Test Source',
            url: 'https://example.com',
            logo: '/test-logo.jpg',
            verified: true
        },
        publishedAt: '2025-01-19T10:00:00Z',
        updatedAt: '2025-01-19T10:00:00Z',
        readTime: 5,
        engagement: {
            likes: 10,
            shares: 5,
            comments: 3,
            views: 100
        },
        userInteraction: {
            liked: false,
            shared: false,
            bookmarked: false,
            read: false
        },
        metadata: {
            hashtags: [
                'politics',
                'election'
            ],
            primary_hashtag: 'politics',
            language: 'en'
        }
    },
    {
        id: '2',
        title: 'Test Post',
        content: 'This is a test post content',
        summary: 'This is a test post',
        author: {
            id: 'author-2',
            name: 'Test Author 2',
            avatar: '/test-avatar-2.jpg',
            verified: true
        },
        category: 'news',
        tags: [
            'news',
            'update'
        ],
        type: 'article',
        source: {
            name: 'Test Source 2',
            url: 'https://example.com/2',
            logo: '/test-logo-2.jpg',
            verified: true
        },
        publishedAt: '2025-01-19T09:00:00Z',
        updatedAt: '2025-01-19T09:00:00Z',
        readTime: 3,
        engagement: {
            likes: 15,
            shares: 8,
            comments: 12,
            views: 150
        },
        userInteraction: {
            liked: false,
            shared: false,
            bookmarked: false,
            read: false
        },
        metadata: {
            hashtags: [
                'news',
                'update'
            ],
            primary_hashtag: 'news',
            language: 'en'
        }
    }
];
const mockHashtagData = [
    {
        id: '1',
        name: 'politics',
        display_name: 'Politics',
        usage_count: 100,
        follower_count: 50,
        is_trending: true,
        trend_score: 0.8,
        created_at: '2025-01-19T10:00:00Z',
        updated_at: '2025-01-19T10:00:00Z',
        is_verified: false,
        is_featured: false
    },
    {
        id: '2',
        name: 'election',
        display_name: 'Election',
        usage_count: 75,
        follower_count: 30,
        is_trending: false,
        trend_score: 0.3,
        created_at: '2025-01-19T09:00:00Z',
        updated_at: '2025-01-19T09:00:00Z',
        is_verified: false,
        is_featured: false
    }
];
describe('UnifiedFeed Component - Real Component Testing', ()=>{
    let realComponentTester;
    beforeEach(()=>{
        // Initialize real component tester
        realComponentTester = new _realComponentTesting.RealComponentTester({
            useRealDependencies: true,
            testRealInteractions: true,
            testRealBusinessLogic: true,
            testRealErrorHandling: true,
            testRealAccessibility: true,
            testRealPerformance: true
        });
        // Mock store implementations
        mockUseFeeds.mockReturnValue(mockFeedData);
        mockUseHashtags.mockReturnValue({
            hashtags: mockHashtagData,
            trendingHashtags: [],
            userHashtags: [],
            isLoading: false,
            error: null,
            loadTrendingHashtags: _globals.jest.fn(),
            searchHashtags: _globals.jest.fn(),
            followHashtag: _globals.jest.fn(),
            unfollowHashtag: _globals.jest.fn(),
            getTrendingHashtags: _globals.jest.fn(),
            refresh: _globals.jest.fn()
        });
    });
    afterEach(()=>{
        _globals.jest.clearAllMocks();
    });
    describe('Real Component Rendering', ()=>{
        it('should render UnifiedFeed with all essential elements', async ()=>{
            const component = /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {});
            const result = await _realComponentTesting.realComponentHelpers.testRealRendering(component, [
                'Unified Feed',
                'Personalized content with hashtag-polls integration',
                'Online',
                'Dark mode toggle',
                'Advanced filters toggle',
                'Refresh button'
            ]);
            expect(result.passed).toBe(true);
            expect(result.errors).toHaveLength(0);
        });
        it('should render feed items correctly', async ()=>{
            const component = /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {});
            const result = await _realComponentTesting.realComponentHelpers.testRealRendering(component, [
                'Test Poll',
                'This is a test poll',
                'politics',
                'election',
                'Test Post',
                'This is a test post',
                'news',
                'update'
            ]);
            expect(result.passed).toBe(true);
        });
        it('should render within acceptable performance time', async ()=>{
            const startTime = performance.now();
            const component = /*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {});
            (0, _react1.render)(component);
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Test that real component renders within acceptable time
            expect(renderTime).toBeLessThan(2000); // 2s threshold
        });
    });
    describe('Real Component Interactions', ()=>{
        it('should handle dark mode toggle correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const darkModeButton = _react1.screen.getByTestId(_testIds.T.accessibility.button);
            _react1.fireEvent.click(darkModeButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId(_testIds.T.accessibility.button)).toBeInTheDocument();
            });
        });
        it('should handle advanced filters toggle correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const filtersButton = _react1.screen.getByTestId(_testIds.T.accessibility.filterButton);
            _react1.fireEvent.click(filtersButton);
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByText(/advanced filters/i)).toBeInTheDocument();
            });
        });
        it('should handle feed item interactions correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const likeButton = _react1.screen.getByTestId(_testIds.T.accessibility.feedItem('1'));
            _react1.fireEvent.click(likeButton);
            // Check that the interaction was handled
            expect(likeButton).toBeInTheDocument();
        });
        it('should handle hashtag interactions correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const hashtagButton = _react1.screen.getByText('politics');
            _react1.fireEvent.click(hashtagButton);
            // Check that the hashtag interaction was handled
            expect(hashtagButton).toBeInTheDocument();
        });
    });
    describe('Real Component State Management', ()=>{
        it('should manage loading states correctly', async ()=>{
            mockUseHashtags.mockReturnValue({
                ...mockUseHashtags(),
                isLoading: true
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            expect(_react1.screen.getByText(/loading/i)).toBeInTheDocument();
        });
        it('should manage error states correctly', async ()=>{
            mockUseHashtags.mockReturnValue({
                ...mockUseHashtags(),
                error: 'Failed to load hashtags'
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            expect(_react1.screen.getByText(/failed to load hashtags/i)).toBeInTheDocument();
        });
        it('should manage personalization score correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const likeButton = _react1.screen.getByLabelText(/like test poll/i);
            _react1.fireEvent.click(likeButton);
            // Check that personalization is working
            expect(likeButton).toBeInTheDocument();
        });
    });
    describe('Real Component Accessibility', ()=>{
        it('should have proper ARIA labels and roles', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const feed = _react1.screen.getByTestId(_testIds.T.accessibility.main);
            expect(feed).toHaveAttribute('aria-label', 'Unified Feed');
            const darkModeButton = _react1.screen.getByTestId(_testIds.T.accessibility.button);
            expect(darkModeButton).toHaveAttribute('aria-label');
            const likeButton = _react1.screen.getByTestId(_testIds.T.accessibility.feedItem('1'));
            expect(likeButton).toHaveAttribute('aria-label');
        });
        it('should support keyboard navigation', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const darkModeButton = _react1.screen.getByTestId(_testIds.T.accessibility.button);
            darkModeButton.focus();
            expect(document.activeElement).toBe(darkModeButton);
            _react1.fireEvent.keyDown(darkModeButton, {
                key: 'Enter'
            });
        // Should toggle dark mode
        });
        it('should announce changes to screen readers', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const refreshButton = _react1.screen.getByTestId(_testIds.T.accessibility.button);
            _react1.fireEvent.click(refreshButton);
            // Should have aria-live region for announcements
            const liveRegion = _react1.screen.getByTestId(_testIds.T.accessibility.liveRegion);
            expect(liveRegion).toBeInTheDocument();
        });
    });
    describe('Real Component Performance', ()=>{
        it('should handle large datasets efficiently', async ()=>{
            const largeFeedData = Array.from({
                length: 100
            }, (_, i)=>({
                    id: `${i}`,
                    title: `Test Poll ${i}`,
                    content: `This is test poll ${i} content`,
                    summary: `This is test poll ${i}`,
                    author: {
                        id: `author-${i}`,
                        name: `Test Author ${i}`,
                        avatar: `/test-avatar-${i}.jpg`,
                        verified: true
                    },
                    category: 'politics',
                    tags: [
                        'politics',
                        'election'
                    ],
                    type: 'poll',
                    source: {
                        name: `Test Source ${i}`,
                        url: `https://example.com/${i}`,
                        logo: `/test-logo-${i}.jpg`,
                        verified: true
                    },
                    publishedAt: '2025-01-19T10:00:00Z',
                    updatedAt: '2025-01-19T10:00:00Z',
                    readTime: 5,
                    engagement: {
                        likes: Math.floor(Math.random() * 100),
                        shares: Math.floor(Math.random() * 50),
                        comments: Math.floor(Math.random() * 30),
                        views: Math.floor(Math.random() * 1000)
                    },
                    userInteraction: {
                        liked: false,
                        shared: false,
                        bookmarked: false,
                        read: false
                    },
                    metadata: {
                        hashtags: [
                            'politics',
                            'election'
                        ],
                        primary_hashtag: 'politics',
                        language: 'en'
                    }
                }));
            mockUseFeeds.mockReturnValue(largeFeedData);
            const startTime = performance.now();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            expect(renderTime).toBeLessThan(5000); // 5s threshold for 100 items
        });
        it('should handle rapid interactions without performance degradation', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const startTime = performance.now();
            // Simulate rapid interactions
            for(let i = 0; i < 10; i++){
                const likeButton = _react1.screen.getByTestId(_testIds.T.accessibility.feedItem('1'));
                _react1.fireEvent.click(likeButton);
                await (0, _react1.act)(async ()=>{
                    await new Promise((resolve)=>setTimeout(resolve, 10));
                });
            }
            const endTime = performance.now();
            const totalTime = endTime - startTime;
            expect(totalTime).toBeLessThan(1000); // 1s threshold for 10 interactions
        });
    });
    describe('Real Component Error Handling', ()=>{
        it('should handle network errors gracefully', async ()=>{
            mockUseHashtags.mockReturnValue({
                ...mockUseHashtags(),
                error: 'Network error'
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            expect(_react1.screen.getByText(/network error/i)).toBeInTheDocument();
        });
        it('should handle missing data gracefully', async ()=>{
            mockUseFeeds.mockReturnValue([]);
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            expect(_react1.screen.getByText(/no feeds available/i)).toBeInTheDocument();
        });
        it('should recover from errors when retrying', async ()=>{
            mockUseHashtags.mockReturnValue({
                ...mockUseHashtags(),
                error: 'Network error',
                refresh: _globals.jest.fn()
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const retryButton = _react1.screen.getByLabelText(/retry/i);
            _react1.fireEvent.click(retryButton);
            // Check that retry was attempted
            expect(retryButton).toBeInTheDocument();
        });
    });
    describe('Real Component Business Logic', ()=>{
        it('should calculate personalization score correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            // Simulate user interactions that should increase personalization score
            const likeButton = _react1.screen.getByTestId(_testIds.T.accessibility.feedItem('1'));
            _react1.fireEvent.click(likeButton);
            // Check that personalization is working
            expect(likeButton).toBeInTheDocument();
        });
        it('should filter content based on hashtags correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            const hashtagFilter = _react1.screen.getByText('politics');
            _react1.fireEvent.click(hashtagFilter);
            // Should show only items with politics hashtag
            expect(_react1.screen.getByText('Test Poll')).toBeInTheDocument();
            expect(_react1.screen.queryByText('Test Post')).not.toBeInTheDocument();
        });
        it('should handle infinite scroll correctly', async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_UnifiedFeed.default, {}));
            // Simulate scrolling to bottom
            const feed = _react1.screen.getByTestId(_testIds.T.accessibility.main);
            _react1.fireEvent.scroll(feed, {
                target: {
                    scrollTop: 1000
                }
            });
            // Should trigger load more
            expect(feed).toBeInTheDocument();
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L3VuaXQvZmVhdHVyZXMvZmVlZHMvVW5pZmllZEZlZWQudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVbmlmaWVkRmVlZCBDb21wb25lbnQgVGVzdHNcbiAqIFxuICogQ29tcHJlaGVuc2l2ZSB0ZXN0aW5nIGZvciB0aGUgVW5pZmllZEZlZWQgY29tcG9uZW50IHVzaW5nIHRoZSBSZWFsIENvbXBvbmVudCBUZXN0aW5nIEZyYW1ld29ya1xuICogVGVzdHMgcmVhbCBmdW5jdGlvbmFsaXR5IHdpdGggcmVhbCBkZXBlbmRlbmNpZXMgdG8gY2F0Y2ggcmVhbCBpc3N1ZXNcbiAqIFxuICogQ3JlYXRlZDogSmFudWFyeSAxOSwgMjAyNVxuICogU3RhdHVzOiDinIUgUFJPRFVDVElPTiBSRUFEWVxuICovXG5cbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyByZW5kZXIsIHNjcmVlbiwgZmlyZUV2ZW50LCB3YWl0Rm9yLCBhY3QgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IFJlYWxDb21wb25lbnRUZXN0ZXIsIHJlYWxDb21wb25lbnRIZWxwZXJzIH0gZnJvbSAnQC9saWIvdGVzdGluZy9yZWFsQ29tcG9uZW50VGVzdGluZyc7XG5pbXBvcnQgVW5pZmllZEZlZWQgZnJvbSAnQC9mZWF0dXJlcy9mZWVkcy9jb21wb25lbnRzL1VuaWZpZWRGZWVkJztcbmltcG9ydCB7IHVzZUZlZWRzIH0gZnJvbSAnQC9saWIvc3RvcmVzL2ZlZWRzU3RvcmUnO1xuaW1wb3J0IHsgdXNlSGFzaHRhZ3MgfSBmcm9tICdAL2ZlYXR1cmVzL2hhc2h0YWdzL2hvb2tzL3VzZUhhc2h0YWdzJztcbmltcG9ydCB7IFQgfSBmcm9tICdAL2xpYi90ZXN0aW5nL3Rlc3RJZHMnO1xuaW1wb3J0IHR5cGUgeyBGZWVkSXRlbURhdGEgfSBmcm9tICdAL2ZlYXR1cmVzL2ZlZWRzL3R5cGVzJztcblxuLy8gTW9jayB0aGUgc3RvcmVzXG5qZXN0Lm1vY2soJ0AvbGliL3N0b3Jlcy9mZWVkc1N0b3JlJywgKCkgPT4gKHtcbiAgdXNlRmVlZHM6IGplc3QuZm4oKVxufSkpO1xuXG5qZXN0Lm1vY2soJ0AvZmVhdHVyZXMvaGFzaHRhZ3MvaG9va3MvdXNlSGFzaHRhZ3MnLCAoKSA9PiAoe1xuICB1c2VIYXNodGFnczogamVzdC5mbigpXG59KSk7XG5cbmNvbnN0IG1vY2tVc2VGZWVkcyA9IHVzZUZlZWRzIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIHVzZUZlZWRzPjtcbmNvbnN0IG1vY2tVc2VIYXNodGFncyA9IHVzZUhhc2h0YWdzIGFzIGplc3QuTW9ja2VkRnVuY3Rpb248dHlwZW9mIHVzZUhhc2h0YWdzPjtcblxuLy8gTW9jayBkYXRhXG5jb25zdCBtb2NrRmVlZERhdGEgPSBbXG4gIHtcbiAgICBpZDogJzEnLFxuICAgIHRpdGxlOiAnVGVzdCBQb2xsJyxcbiAgICBjb250ZW50OiAnVGhpcyBpcyBhIHRlc3QgcG9sbCBjb250ZW50JyxcbiAgICBzdW1tYXJ5OiAnVGhpcyBpcyBhIHRlc3QgcG9sbCcsXG4gICAgYXV0aG9yOiB7XG4gICAgICBpZDogJ2F1dGhvci0xJyxcbiAgICAgIG5hbWU6ICdUZXN0IEF1dGhvcicsXG4gICAgICBhdmF0YXI6ICcvdGVzdC1hdmF0YXIuanBnJyxcbiAgICAgIHZlcmlmaWVkOiB0cnVlXG4gICAgfSxcbiAgICBjYXRlZ29yeTogJ3BvbGl0aWNzJyxcbiAgICB0YWdzOiBbJ3BvbGl0aWNzJywgJ2VsZWN0aW9uJ10sXG4gICAgdHlwZTogJ3BvbGwnIGFzIGNvbnN0LFxuICAgIHNvdXJjZToge1xuICAgICAgbmFtZTogJ1Rlc3QgU291cmNlJyxcbiAgICAgIHVybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20nLFxuICAgICAgbG9nbzogJy90ZXN0LWxvZ28uanBnJyxcbiAgICAgIHZlcmlmaWVkOiB0cnVlXG4gICAgfSxcbiAgICBwdWJsaXNoZWRBdDogJzIwMjUtMDEtMTlUMTA6MDA6MDBaJyxcbiAgICB1cGRhdGVkQXQ6ICcyMDI1LTAxLTE5VDEwOjAwOjAwWicsXG4gICAgcmVhZFRpbWU6IDUsXG4gICAgZW5nYWdlbWVudDoge1xuICAgICAgbGlrZXM6IDEwLFxuICAgICAgc2hhcmVzOiA1LFxuICAgICAgY29tbWVudHM6IDMsXG4gICAgICB2aWV3czogMTAwXG4gICAgfSxcbiAgICB1c2VySW50ZXJhY3Rpb246IHtcbiAgICAgIGxpa2VkOiBmYWxzZSxcbiAgICAgIHNoYXJlZDogZmFsc2UsXG4gICAgICBib29rbWFya2VkOiBmYWxzZSxcbiAgICAgIHJlYWQ6IGZhbHNlXG4gICAgfSxcbiAgICBtZXRhZGF0YToge1xuICAgICAgaGFzaHRhZ3M6IFsncG9saXRpY3MnLCAnZWxlY3Rpb24nXSxcbiAgICAgIHByaW1hcnlfaGFzaHRhZzogJ3BvbGl0aWNzJyxcbiAgICAgIGxhbmd1YWdlOiAnZW4nXG4gICAgfVxuICB9LFxuICB7XG4gICAgaWQ6ICcyJyxcbiAgICB0aXRsZTogJ1Rlc3QgUG9zdCcsXG4gICAgY29udGVudDogJ1RoaXMgaXMgYSB0ZXN0IHBvc3QgY29udGVudCcsXG4gICAgc3VtbWFyeTogJ1RoaXMgaXMgYSB0ZXN0IHBvc3QnLFxuICAgIGF1dGhvcjoge1xuICAgICAgaWQ6ICdhdXRob3ItMicsXG4gICAgICBuYW1lOiAnVGVzdCBBdXRob3IgMicsXG4gICAgICBhdmF0YXI6ICcvdGVzdC1hdmF0YXItMi5qcGcnLFxuICAgICAgdmVyaWZpZWQ6IHRydWVcbiAgICB9LFxuICAgIGNhdGVnb3J5OiAnbmV3cycsXG4gICAgdGFnczogWyduZXdzJywgJ3VwZGF0ZSddLFxuICAgIHR5cGU6ICdhcnRpY2xlJyBhcyBjb25zdCxcbiAgICBzb3VyY2U6IHtcbiAgICAgIG5hbWU6ICdUZXN0IFNvdXJjZSAyJyxcbiAgICAgIHVybDogJ2h0dHBzOi8vZXhhbXBsZS5jb20vMicsXG4gICAgICBsb2dvOiAnL3Rlc3QtbG9nby0yLmpwZycsXG4gICAgICB2ZXJpZmllZDogdHJ1ZVxuICAgIH0sXG4gICAgcHVibGlzaGVkQXQ6ICcyMDI1LTAxLTE5VDA5OjAwOjAwWicsXG4gICAgdXBkYXRlZEF0OiAnMjAyNS0wMS0xOVQwOTowMDowMFonLFxuICAgIHJlYWRUaW1lOiAzLFxuICAgIGVuZ2FnZW1lbnQ6IHtcbiAgICAgIGxpa2VzOiAxNSxcbiAgICAgIHNoYXJlczogOCxcbiAgICAgIGNvbW1lbnRzOiAxMixcbiAgICAgIHZpZXdzOiAxNTBcbiAgICB9LFxuICAgIHVzZXJJbnRlcmFjdGlvbjoge1xuICAgICAgbGlrZWQ6IGZhbHNlLFxuICAgICAgc2hhcmVkOiBmYWxzZSxcbiAgICAgIGJvb2ttYXJrZWQ6IGZhbHNlLFxuICAgICAgcmVhZDogZmFsc2VcbiAgICB9LFxuICAgIG1ldGFkYXRhOiB7XG4gICAgICBoYXNodGFnczogWyduZXdzJywgJ3VwZGF0ZSddLFxuICAgICAgcHJpbWFyeV9oYXNodGFnOiAnbmV3cycsXG4gICAgICBsYW5ndWFnZTogJ2VuJ1xuICAgIH1cbiAgfVxuXTtcblxuY29uc3QgbW9ja0hhc2h0YWdEYXRhID0gW1xuICB7XG4gICAgaWQ6ICcxJyxcbiAgICBuYW1lOiAncG9saXRpY3MnLFxuICAgIGRpc3BsYXlfbmFtZTogJ1BvbGl0aWNzJyxcbiAgICB1c2FnZV9jb3VudDogMTAwLFxuICAgIGZvbGxvd2VyX2NvdW50OiA1MCxcbiAgICBpc190cmVuZGluZzogdHJ1ZSxcbiAgICB0cmVuZF9zY29yZTogMC44LFxuICAgIGNyZWF0ZWRfYXQ6ICcyMDI1LTAxLTE5VDEwOjAwOjAwWicsXG4gICAgdXBkYXRlZF9hdDogJzIwMjUtMDEtMTlUMTA6MDA6MDBaJyxcbiAgICBpc192ZXJpZmllZDogZmFsc2UsXG4gICAgaXNfZmVhdHVyZWQ6IGZhbHNlXG4gIH0sXG4gIHtcbiAgICBpZDogJzInLFxuICAgIG5hbWU6ICdlbGVjdGlvbicsXG4gICAgZGlzcGxheV9uYW1lOiAnRWxlY3Rpb24nLFxuICAgIHVzYWdlX2NvdW50OiA3NSxcbiAgICBmb2xsb3dlcl9jb3VudDogMzAsXG4gICAgaXNfdHJlbmRpbmc6IGZhbHNlLFxuICAgIHRyZW5kX3Njb3JlOiAwLjMsXG4gICAgY3JlYXRlZF9hdDogJzIwMjUtMDEtMTlUMDk6MDA6MDBaJyxcbiAgICB1cGRhdGVkX2F0OiAnMjAyNS0wMS0xOVQwOTowMDowMFonLFxuICAgIGlzX3ZlcmlmaWVkOiBmYWxzZSxcbiAgICBpc19mZWF0dXJlZDogZmFsc2VcbiAgfVxuXTtcblxuZGVzY3JpYmUoJ1VuaWZpZWRGZWVkIENvbXBvbmVudCAtIFJlYWwgQ29tcG9uZW50IFRlc3RpbmcnLCAoKSA9PiB7XG4gIGxldCByZWFsQ29tcG9uZW50VGVzdGVyOiBSZWFsQ29tcG9uZW50VGVzdGVyO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIC8vIEluaXRpYWxpemUgcmVhbCBjb21wb25lbnQgdGVzdGVyXG4gICAgcmVhbENvbXBvbmVudFRlc3RlciA9IG5ldyBSZWFsQ29tcG9uZW50VGVzdGVyKHtcbiAgICAgIHVzZVJlYWxEZXBlbmRlbmNpZXM6IHRydWUsXG4gICAgICB0ZXN0UmVhbEludGVyYWN0aW9uczogdHJ1ZSxcbiAgICAgIHRlc3RSZWFsQnVzaW5lc3NMb2dpYzogdHJ1ZSxcbiAgICAgIHRlc3RSZWFsRXJyb3JIYW5kbGluZzogdHJ1ZSxcbiAgICAgIHRlc3RSZWFsQWNjZXNzaWJpbGl0eTogdHJ1ZSxcbiAgICAgIHRlc3RSZWFsUGVyZm9ybWFuY2U6IHRydWVcbiAgICB9KTtcblxuICAgIC8vIE1vY2sgc3RvcmUgaW1wbGVtZW50YXRpb25zXG4gICAgbW9ja1VzZUZlZWRzLm1vY2tSZXR1cm5WYWx1ZShtb2NrRmVlZERhdGEpO1xuXG4gICAgbW9ja1VzZUhhc2h0YWdzLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICBoYXNodGFnczogbW9ja0hhc2h0YWdEYXRhLFxuICAgICAgdHJlbmRpbmdIYXNodGFnczogW10sXG4gICAgICB1c2VySGFzaHRhZ3M6IFtdLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgbG9hZFRyZW5kaW5nSGFzaHRhZ3M6IGplc3QuZm4oKSxcbiAgICAgIHNlYXJjaEhhc2h0YWdzOiBqZXN0LmZuKCksXG4gICAgICBmb2xsb3dIYXNodGFnOiBqZXN0LmZuKCksXG4gICAgICB1bmZvbGxvd0hhc2h0YWc6IGplc3QuZm4oKSxcbiAgICAgIGdldFRyZW5kaW5nSGFzaHRhZ3M6IGplc3QuZm4oKSxcbiAgICAgIHJlZnJlc2g6IGplc3QuZm4oKVxuICAgIH0pO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVhbCBDb21wb25lbnQgUmVuZGVyaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIFVuaWZpZWRGZWVkIHdpdGggYWxsIGVzc2VudGlhbCBlbGVtZW50cycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGNvbXBvbmVudCA9IDxVbmlmaWVkRmVlZCAvPjtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVhbENvbXBvbmVudEhlbHBlcnMudGVzdFJlYWxSZW5kZXJpbmcoY29tcG9uZW50LCBbXG4gICAgICAgICdVbmlmaWVkIEZlZWQnLFxuICAgICAgICAnUGVyc29uYWxpemVkIGNvbnRlbnQgd2l0aCBoYXNodGFnLXBvbGxzIGludGVncmF0aW9uJyxcbiAgICAgICAgJ09ubGluZScsXG4gICAgICAgICdEYXJrIG1vZGUgdG9nZ2xlJyxcbiAgICAgICAgJ0FkdmFuY2VkIGZpbHRlcnMgdG9nZ2xlJyxcbiAgICAgICAgJ1JlZnJlc2ggYnV0dG9uJ1xuICAgICAgXSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQucGFzc2VkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcnMpLnRvSGF2ZUxlbmd0aCgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIGZlZWQgaXRlbXMgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgY29tcG9uZW50ID0gPFVuaWZpZWRGZWVkIC8+O1xuICAgICAgXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZWFsQ29tcG9uZW50SGVscGVycy50ZXN0UmVhbFJlbmRlcmluZyhjb21wb25lbnQsIFtcbiAgICAgICAgJ1Rlc3QgUG9sbCcsXG4gICAgICAgICdUaGlzIGlzIGEgdGVzdCBwb2xsJyxcbiAgICAgICAgJ3BvbGl0aWNzJyxcbiAgICAgICAgJ2VsZWN0aW9uJyxcbiAgICAgICAgJ1Rlc3QgUG9zdCcsXG4gICAgICAgICdUaGlzIGlzIGEgdGVzdCBwb3N0JyxcbiAgICAgICAgJ25ld3MnLFxuICAgICAgICAndXBkYXRlJ1xuICAgICAgXSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQucGFzc2VkKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgd2l0aGluIGFjY2VwdGFibGUgcGVyZm9ybWFuY2UgdGltZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICBjb25zdCBjb21wb25lbnQgPSA8VW5pZmllZEZlZWQgLz47XG4gICAgICByZW5kZXIoY29tcG9uZW50KTtcbiAgICAgIFxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIFRlc3QgdGhhdCByZWFsIGNvbXBvbmVudCByZW5kZXJzIHdpdGhpbiBhY2NlcHRhYmxlIHRpbWVcbiAgICAgIGV4cGVjdChyZW5kZXJUaW1lKS50b0JlTGVzc1RoYW4oMjAwMCk7IC8vIDJzIHRocmVzaG9sZFxuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVhbCBDb21wb25lbnQgSW50ZXJhY3Rpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGRhcmsgbW9kZSB0b2dnbGUgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhcmtNb2RlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQuYWNjZXNzaWJpbGl0eS5idXR0b24pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGRhcmtNb2RlQnV0dG9uKTtcbiAgICAgIFxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5hY2Nlc3NpYmlsaXR5LmJ1dHRvbikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGFkdmFuY2VkIGZpbHRlcnMgdG9nZ2xlIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBmaWx0ZXJzQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQuYWNjZXNzaWJpbGl0eS5maWx0ZXJCdXR0b24pO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGZpbHRlcnNCdXR0b24pO1xuICAgICAgXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRleHQoL2FkdmFuY2VkIGZpbHRlcnMvaSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGZlZWQgaXRlbSBpbnRlcmFjdGlvbnMgY29ycmVjdGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IGxpa2VCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5hY2Nlc3NpYmlsaXR5LmZlZWRJdGVtKCcxJykpO1xuICAgICAgZmlyZUV2ZW50LmNsaWNrKGxpa2VCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyBDaGVjayB0aGF0IHRoZSBpbnRlcmFjdGlvbiB3YXMgaGFuZGxlZFxuICAgICAgZXhwZWN0KGxpa2VCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBoYXNodGFnIGludGVyYWN0aW9ucyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFVuaWZpZWRGZWVkIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgaGFzaHRhZ0J1dHRvbiA9IHNjcmVlbi5nZXRCeVRleHQoJ3BvbGl0aWNzJyk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2soaGFzaHRhZ0J1dHRvbik7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIHRoYXQgdGhlIGhhc2h0YWcgaW50ZXJhY3Rpb24gd2FzIGhhbmRsZWRcbiAgICAgIGV4cGVjdChoYXNodGFnQnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVhbCBDb21wb25lbnQgU3RhdGUgTWFuYWdlbWVudCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIG1hbmFnZSBsb2FkaW5nIHN0YXRlcyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVXNlSGFzaHRhZ3MubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgLi4ubW9ja1VzZUhhc2h0YWdzKCksXG4gICAgICAgIGlzTG9hZGluZzogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvbG9hZGluZy9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFuYWdlIGVycm9yIHN0YXRlcyBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVXNlSGFzaHRhZ3MubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgLi4ubW9ja1VzZUhhc2h0YWdzKCksXG4gICAgICAgIGVycm9yOiAnRmFpbGVkIHRvIGxvYWQgaGFzaHRhZ3MnXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KC9mYWlsZWQgdG8gbG9hZCBoYXNodGFncy9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbWFuYWdlIHBlcnNvbmFsaXphdGlvbiBzY29yZSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFVuaWZpZWRGZWVkIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgbGlrZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvbGlrZSB0ZXN0IHBvbGwvaSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2sobGlrZUJ1dHRvbik7XG4gICAgICBcbiAgICAgIC8vIENoZWNrIHRoYXQgcGVyc29uYWxpemF0aW9uIGlzIHdvcmtpbmdcbiAgICAgIGV4cGVjdChsaWtlQnV0dG9uKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVhbCBDb21wb25lbnQgQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIEFSSUEgbGFiZWxzIGFuZCByb2xlcycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBmZWVkID0gc2NyZWVuLmdldEJ5VGVzdElkKFQuYWNjZXNzaWJpbGl0eS5tYWluKTtcbiAgICAgIGV4cGVjdChmZWVkKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnVW5pZmllZCBGZWVkJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IGRhcmtNb2RlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQuYWNjZXNzaWJpbGl0eS5idXR0b24pO1xuICAgICAgZXhwZWN0KGRhcmtNb2RlQnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKTtcbiAgICAgIFxuICAgICAgY29uc3QgbGlrZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZChULmFjY2Vzc2liaWxpdHkuZmVlZEl0ZW0oJzEnKSk7XG4gICAgICBleHBlY3QobGlrZUJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQga2V5Ym9hcmQgbmF2aWdhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBkYXJrTW9kZUJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZChULmFjY2Vzc2liaWxpdHkuYnV0dG9uKTtcbiAgICAgIGRhcmtNb2RlQnV0dG9uLmZvY3VzKCk7XG4gICAgICBleHBlY3QoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkudG9CZShkYXJrTW9kZUJ1dHRvbik7XG4gICAgICBcbiAgICAgIGZpcmVFdmVudC5rZXlEb3duKGRhcmtNb2RlQnV0dG9uLCB7IGtleTogJ0VudGVyJyB9KTtcbiAgICAgIC8vIFNob3VsZCB0b2dnbGUgZGFyayBtb2RlXG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGFubm91bmNlIGNoYW5nZXMgdG8gc2NyZWVuIHJlYWRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFVuaWZpZWRGZWVkIC8+KTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVmcmVzaEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZChULmFjY2Vzc2liaWxpdHkuYnV0dG9uKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhyZWZyZXNoQnV0dG9uKTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGhhdmUgYXJpYS1saXZlIHJlZ2lvbiBmb3IgYW5ub3VuY2VtZW50c1xuICAgICAgY29uc3QgbGl2ZVJlZ2lvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZChULmFjY2Vzc2liaWxpdHkubGl2ZVJlZ2lvbik7XG4gICAgICBleHBlY3QobGl2ZVJlZ2lvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlYWwgQ29tcG9uZW50IFBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIGxhcmdlIGRhdGFzZXRzIGVmZmljaWVudGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgbGFyZ2VGZWVkRGF0YSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDEwMCB9LCAoXywgaSkgPT4gKHtcbiAgICAgICAgaWQ6IGAke2l9YCxcbiAgICAgICAgdGl0bGU6IGBUZXN0IFBvbGwgJHtpfWAsXG4gICAgICAgIGNvbnRlbnQ6IGBUaGlzIGlzIHRlc3QgcG9sbCAke2l9IGNvbnRlbnRgLFxuICAgICAgICBzdW1tYXJ5OiBgVGhpcyBpcyB0ZXN0IHBvbGwgJHtpfWAsXG4gICAgICAgIGF1dGhvcjoge1xuICAgICAgICAgIGlkOiBgYXV0aG9yLSR7aX1gLFxuICAgICAgICAgIG5hbWU6IGBUZXN0IEF1dGhvciAke2l9YCxcbiAgICAgICAgICBhdmF0YXI6IGAvdGVzdC1hdmF0YXItJHtpfS5qcGdgLFxuICAgICAgICAgIHZlcmlmaWVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGNhdGVnb3J5OiAncG9saXRpY3MnLFxuICAgICAgICB0YWdzOiBbJ3BvbGl0aWNzJywgJ2VsZWN0aW9uJ10sXG4gICAgICAgIHR5cGU6ICdwb2xsJyBhcyBjb25zdCxcbiAgICAgICAgc291cmNlOiB7XG4gICAgICAgICAgbmFtZTogYFRlc3QgU291cmNlICR7aX1gLFxuICAgICAgICAgIHVybDogYGh0dHBzOi8vZXhhbXBsZS5jb20vJHtpfWAsXG4gICAgICAgICAgbG9nbzogYC90ZXN0LWxvZ28tJHtpfS5qcGdgLFxuICAgICAgICAgIHZlcmlmaWVkOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIHB1Ymxpc2hlZEF0OiAnMjAyNS0wMS0xOVQxMDowMDowMFonLFxuICAgICAgICB1cGRhdGVkQXQ6ICcyMDI1LTAxLTE5VDEwOjAwOjAwWicsXG4gICAgICAgIHJlYWRUaW1lOiA1LFxuICAgICAgICBlbmdhZ2VtZW50OiB7XG4gICAgICAgICAgbGlrZXM6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCksXG4gICAgICAgICAgc2hhcmVzOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MCksXG4gICAgICAgICAgY29tbWVudHM6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwKSxcbiAgICAgICAgICB2aWV3czogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwMClcbiAgICAgICAgfSxcbiAgICAgICAgdXNlckludGVyYWN0aW9uOiB7XG4gICAgICAgICAgbGlrZWQ6IGZhbHNlLFxuICAgICAgICAgIHNoYXJlZDogZmFsc2UsXG4gICAgICAgICAgYm9va21hcmtlZDogZmFsc2UsXG4gICAgICAgICAgcmVhZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICBoYXNodGFnczogWydwb2xpdGljcycsICdlbGVjdGlvbiddLFxuICAgICAgICAgIHByaW1hcnlfaGFzaHRhZzogJ3BvbGl0aWNzJyxcbiAgICAgICAgICBsYW5ndWFnZTogJ2VuJ1xuICAgICAgICB9XG4gICAgICB9KSk7XG5cbiAgICAgIG1vY2tVc2VGZWVkcy5tb2NrUmV0dXJuVmFsdWUobGFyZ2VGZWVkRGF0YSk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCByZW5kZXJUaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHJlbmRlclRpbWUpLnRvQmVMZXNzVGhhbig1MDAwKTsgLy8gNXMgdGhyZXNob2xkIGZvciAxMDAgaXRlbXNcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHJhcGlkIGludGVyYWN0aW9ucyB3aXRob3V0IHBlcmZvcm1hbmNlIGRlZ3JhZGF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKDxVbmlmaWVkRmVlZCAvPik7XG4gICAgICBcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSByYXBpZCBpbnRlcmFjdGlvbnNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgICBjb25zdCBsaWtlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQuYWNjZXNzaWJpbGl0eS5mZWVkSXRlbSgnMScpKTtcbiAgICAgICAgZmlyZUV2ZW50LmNsaWNrKGxpa2VCdXR0b24pO1xuICAgICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMCkpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgdG90YWxUaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgZXhwZWN0KHRvdGFsVGltZSkudG9CZUxlc3NUaGFuKDEwMDApOyAvLyAxcyB0aHJlc2hvbGQgZm9yIDEwIGludGVyYWN0aW9uc1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUmVhbCBDb21wb25lbnQgRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbmV0d29yayBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tVc2VIYXNodGFncy5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAuLi5tb2NrVXNlSGFzaHRhZ3MoKSxcbiAgICAgICAgZXJyb3I6ICdOZXR3b3JrIGVycm9yJ1xuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvbmV0d29yayBlcnJvci9pKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1pc3NpbmcgZGF0YSBncmFjZWZ1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja1VzZUZlZWRzLm1vY2tSZXR1cm5WYWx1ZShbXSk7XG5cbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGV4dCgvbm8gZmVlZHMgYXZhaWxhYmxlL2kpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWNvdmVyIGZyb20gZXJyb3JzIHdoZW4gcmV0cnlpbmcnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrVXNlSGFzaHRhZ3MubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgLi4ubW9ja1VzZUhhc2h0YWdzKCksXG4gICAgICAgIGVycm9yOiAnTmV0d29yayBlcnJvcicsXG4gICAgICAgIHJlZnJlc2g6IGplc3QuZm4oKVxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCByZXRyeUJ1dHRvbiA9IHNjcmVlbi5nZXRCeUxhYmVsVGV4dCgvcmV0cnkvaSk7XG4gICAgICBmaXJlRXZlbnQuY2xpY2socmV0cnlCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyBDaGVjayB0aGF0IHJldHJ5IHdhcyBhdHRlbXB0ZWRcbiAgICAgIGV4cGVjdChyZXRyeUJ1dHRvbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlYWwgQ29tcG9uZW50IEJ1c2luZXNzIExvZ2ljJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIHBlcnNvbmFsaXphdGlvbiBzY29yZSBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFVuaWZpZWRGZWVkIC8+KTtcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhdGUgdXNlciBpbnRlcmFjdGlvbnMgdGhhdCBzaG91bGQgaW5jcmVhc2UgcGVyc29uYWxpemF0aW9uIHNjb3JlXG4gICAgICBjb25zdCBsaWtlQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQuYWNjZXNzaWJpbGl0eS5mZWVkSXRlbSgnMScpKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhsaWtlQnV0dG9uKTtcbiAgICAgIFxuICAgICAgLy8gQ2hlY2sgdGhhdCBwZXJzb25hbGl6YXRpb24gaXMgd29ya2luZ1xuICAgICAgZXhwZWN0KGxpa2VCdXR0b24pLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZpbHRlciBjb250ZW50IGJhc2VkIG9uIGhhc2h0YWdzIGNvcnJlY3RseScsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcig8VW5pZmllZEZlZWQgLz4pO1xuICAgICAgXG4gICAgICBjb25zdCBoYXNodGFnRmlsdGVyID0gc2NyZWVuLmdldEJ5VGV4dCgncG9saXRpY3MnKTtcbiAgICAgIGZpcmVFdmVudC5jbGljayhoYXNodGFnRmlsdGVyKTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIHNob3cgb25seSBpdGVtcyB3aXRoIHBvbGl0aWNzIGhhc2h0YWdcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXh0KCdUZXN0IFBvbGwnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRleHQoJ1Rlc3QgUG9zdCcpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIGluZmluaXRlIHNjcm9sbCBjb3JyZWN0bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoPFVuaWZpZWRGZWVkIC8+KTtcbiAgICAgIFxuICAgICAgLy8gU2ltdWxhdGUgc2Nyb2xsaW5nIHRvIGJvdHRvbVxuICAgICAgY29uc3QgZmVlZCA9IHNjcmVlbi5nZXRCeVRlc3RJZChULmFjY2Vzc2liaWxpdHkubWFpbik7XG4gICAgICBmaXJlRXZlbnQuc2Nyb2xsKGZlZWQsIHsgdGFyZ2V0OiB7IHNjcm9sbFRvcDogMTAwMCB9IH0pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgdHJpZ2dlciBsb2FkIG1vcmVcbiAgICAgIGV4cGVjdChmZWVkKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlRmVlZHMiLCJmbiIsInVzZUhhc2h0YWdzIiwibW9ja1VzZUZlZWRzIiwibW9ja1VzZUhhc2h0YWdzIiwibW9ja0ZlZWREYXRhIiwiaWQiLCJ0aXRsZSIsImNvbnRlbnQiLCJzdW1tYXJ5IiwiYXV0aG9yIiwibmFtZSIsImF2YXRhciIsInZlcmlmaWVkIiwiY2F0ZWdvcnkiLCJ0YWdzIiwidHlwZSIsInNvdXJjZSIsInVybCIsImxvZ28iLCJwdWJsaXNoZWRBdCIsInVwZGF0ZWRBdCIsInJlYWRUaW1lIiwiZW5nYWdlbWVudCIsImxpa2VzIiwic2hhcmVzIiwiY29tbWVudHMiLCJ2aWV3cyIsInVzZXJJbnRlcmFjdGlvbiIsImxpa2VkIiwic2hhcmVkIiwiYm9va21hcmtlZCIsInJlYWQiLCJtZXRhZGF0YSIsImhhc2h0YWdzIiwicHJpbWFyeV9oYXNodGFnIiwibGFuZ3VhZ2UiLCJtb2NrSGFzaHRhZ0RhdGEiLCJkaXNwbGF5X25hbWUiLCJ1c2FnZV9jb3VudCIsImZvbGxvd2VyX2NvdW50IiwiaXNfdHJlbmRpbmciLCJ0cmVuZF9zY29yZSIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiaXNfdmVyaWZpZWQiLCJpc19mZWF0dXJlZCIsImRlc2NyaWJlIiwicmVhbENvbXBvbmVudFRlc3RlciIsImJlZm9yZUVhY2giLCJSZWFsQ29tcG9uZW50VGVzdGVyIiwidXNlUmVhbERlcGVuZGVuY2llcyIsInRlc3RSZWFsSW50ZXJhY3Rpb25zIiwidGVzdFJlYWxCdXNpbmVzc0xvZ2ljIiwidGVzdFJlYWxFcnJvckhhbmRsaW5nIiwidGVzdFJlYWxBY2Nlc3NpYmlsaXR5IiwidGVzdFJlYWxQZXJmb3JtYW5jZSIsIm1vY2tSZXR1cm5WYWx1ZSIsInRyZW5kaW5nSGFzaHRhZ3MiLCJ1c2VySGFzaHRhZ3MiLCJpc0xvYWRpbmciLCJlcnJvciIsImxvYWRUcmVuZGluZ0hhc2h0YWdzIiwic2VhcmNoSGFzaHRhZ3MiLCJmb2xsb3dIYXNodGFnIiwidW5mb2xsb3dIYXNodGFnIiwiZ2V0VHJlbmRpbmdIYXNodGFncyIsInJlZnJlc2giLCJhZnRlckVhY2giLCJjbGVhckFsbE1vY2tzIiwiaXQiLCJjb21wb25lbnQiLCJVbmlmaWVkRmVlZCIsInJlc3VsdCIsInJlYWxDb21wb25lbnRIZWxwZXJzIiwidGVzdFJlYWxSZW5kZXJpbmciLCJleHBlY3QiLCJwYXNzZWQiLCJ0b0JlIiwiZXJyb3JzIiwidG9IYXZlTGVuZ3RoIiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJyZW5kZXIiLCJlbmRUaW1lIiwicmVuZGVyVGltZSIsInRvQmVMZXNzVGhhbiIsImRhcmtNb2RlQnV0dG9uIiwic2NyZWVuIiwiZ2V0QnlUZXN0SWQiLCJUIiwiYWNjZXNzaWJpbGl0eSIsImJ1dHRvbiIsImZpcmVFdmVudCIsImNsaWNrIiwid2FpdEZvciIsInRvQmVJblRoZURvY3VtZW50IiwiZmlsdGVyc0J1dHRvbiIsImZpbHRlckJ1dHRvbiIsImdldEJ5VGV4dCIsImxpa2VCdXR0b24iLCJmZWVkSXRlbSIsImhhc2h0YWdCdXR0b24iLCJnZXRCeUxhYmVsVGV4dCIsImZlZWQiLCJtYWluIiwidG9IYXZlQXR0cmlidXRlIiwiZm9jdXMiLCJkb2N1bWVudCIsImFjdGl2ZUVsZW1lbnQiLCJrZXlEb3duIiwia2V5IiwicmVmcmVzaEJ1dHRvbiIsImxpdmVSZWdpb24iLCJsYXJnZUZlZWREYXRhIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiXyIsImkiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJhY3QiLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ0b3RhbFRpbWUiLCJyZXRyeUJ1dHRvbiIsImhhc2h0YWdGaWx0ZXIiLCJxdWVyeUJ5VGV4dCIsIm5vdCIsInNjcm9sbCIsInRhcmdldCIsInNjcm9sbFRvcCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0NBUUM7Ozs7OzhEQUVpQjt3QkFDc0M7eUJBQ25DO3NDQUNxQztvRUFDbEM7NEJBQ0M7NkJBQ0c7eUJBQ1Y7Ozs7OztBQUdsQixrQkFBa0I7QUFDbEJBLGFBQUksQ0FBQ0MsSUFBSSxDQUFDLDJCQUEyQixJQUFPLENBQUE7UUFDMUNDLFVBQVVGLGFBQUksQ0FBQ0csRUFBRTtJQUNuQixDQUFBO0FBRUFILGFBQUksQ0FBQ0MsSUFBSSxDQUFDLHlDQUF5QyxJQUFPLENBQUE7UUFDeERHLGFBQWFKLGFBQUksQ0FBQ0csRUFBRTtJQUN0QixDQUFBO0FBRUEsTUFBTUUsZUFBZUgsb0JBQVE7QUFDN0IsTUFBTUksa0JBQWtCRix3QkFBVztBQUVuQyxZQUFZO0FBQ1osTUFBTUcsZUFBZTtJQUNuQjtRQUNFQyxJQUFJO1FBQ0pDLE9BQU87UUFDUEMsU0FBUztRQUNUQyxTQUFTO1FBQ1RDLFFBQVE7WUFDTkosSUFBSTtZQUNKSyxN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