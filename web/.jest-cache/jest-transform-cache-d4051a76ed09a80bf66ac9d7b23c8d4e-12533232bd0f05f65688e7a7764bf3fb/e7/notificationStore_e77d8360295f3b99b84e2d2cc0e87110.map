{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/lib/stores/notificationStore.ts"],"sourcesContent":["/**\n * Notification Store - Zustand Implementation\n * \n * Global notification state management including toast notifications,\n * system alerts, and user feedback. Consolidates multiple notification\n * systems into a unified store.\n * \n * Created: October 10, 2025\n * Status: âœ… ACTIVE\n */\n\nimport { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\nimport { immer } from 'zustand/middleware/immer';\n\nimport type { AdminNotification } from '@/features/admin/types';\nimport { logger } from '@/lib/utils/logger';\n\nimport type { Notification, BaseStore } from './types';\n\n\n// Notification store state interface\ntype NotificationStore = {\n  // Notifications\n  notifications: Notification[];\n  unreadCount: number;\n  \n  // Admin notifications\n  adminNotifications: AdminNotification[];\n  adminUnreadCount: number;\n  \n  // Settings\n  settings: {\n    position: 'top-right' | 'top-left' | 'bottom-right' | 'bottom-left';\n    duration: number;\n    maxNotifications: number;\n    enableSound: boolean;\n    enableHaptics: boolean;\n    enableAutoDismiss: boolean;\n    enableStacking: boolean;\n  };\n  \n  // Loading states\n  isAdding: boolean;\n  isRemoving: boolean;\n  \n  // Actions - Notifications\n  addNotification: (notification: Omit<Notification, 'id' | 'timestamp' | 'read'>) => void;\n  removeNotification: (id: string) => void;\n  markAsRead: (id: string) => void;\n  markAllAsRead: () => void;\n  clearAll: () => void;\n  clearByType: (type: Notification['type']) => void;\n  \n  // Actions - Admin Notifications\n  addAdminNotification: (notification: Omit<AdminNotification, 'id' | 'timestamp' | 'read'>) => void;\n  removeAdminNotification: (id: string) => void;\n  markAdminNotificationAsRead: (id: string) => void;\n  markAllAdminNotificationsAsRead: () => void;\n  clearAllAdminNotifications: () => void;\n  clearAdminNotificationsByType: (type: AdminNotification['type']) => void;\n  \n  // Actions - Settings\n  updateSettings: (settings: Partial<NotificationStore['settings']>) => void;\n  resetSettings: () => void;\n  \n  // Actions - Loading states\n  setAdding: (adding: boolean) => void;\n  setRemoving: (removing: boolean) => void;\n  \n  // Actions - Utility\n  getNotification: (id: string) => Notification | undefined;\n  getNotificationsByType: (type: Notification['type']) => Notification[];\n  getUnreadNotifications: () => Notification[];\n} & BaseStore\n\n// Default notification settings\nconst defaultSettings = {\n  position: 'top-right' as const,\n  duration: 5000,\n  maxNotifications: 5,\n  enableSound: true,\n  enableHaptics: true,\n  enableAutoDismiss: true,\n  enableStacking: true,\n};\n\n// Create notification store with middleware\nexport const useNotificationStore = create<NotificationStore>()(\n  devtools(\n    immer((set, get) => ({\n      // Initial state\n      notifications: [],\n      unreadCount: 0,\n      adminNotifications: [],\n      adminUnreadCount: 0,\n      settings: defaultSettings,\n      isLoading: false,\n      isAdding: false,\n      isRemoving: false,\n      error: null,\n      \n      // Base store actions\n      setLoading: (loading) => set((state) => {\n        state.isLoading = loading;\n      }),\n      \n      setError: (error) => set((state) => {\n        state.error = error;\n      }),\n      \n      clearError: () => set((state) => {\n        state.error = null;\n      }),\n      \n      // Notification actions\n      addNotification: (notification) => set((state) => {\n        const newNotification: Notification = {\n          ...notification,\n          id: `notification_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n          timestamp: new Date().toISOString(),\n          read: false,\n        } as Notification;\n        \n        // Add to notifications array\n        if (state.settings.enableStacking) {\n          state.notifications.unshift(newNotification);\n        } else {\n          state.notifications = [newNotification];\n        }\n        \n        // Limit notifications\n        if (state.notifications.length > state.settings.maxNotifications) {\n          state.notifications = state.notifications.slice(0, state.settings.maxNotifications);\n        }\n        \n        // Update unread count\n        state.unreadCount = state.notifications.filter(n => !n.read).length;\n        \n        // Auto-dismiss if enabled\n        if (state.settings.enableAutoDismiss && newNotification.duration !== 0) {\n          setTimeout(() => {\n            const currentState = get();\n            if (currentState.notifications.find(n => n.id === newNotification.id)) {\n              currentState.removeNotification(newNotification.id);\n            }\n          }, newNotification.duration || state.settings.duration);\n        }\n        \n        // Play sound if enabled (defer to avoid act() warnings)\n        if (state.settings.enableSound && typeof window !== 'undefined') {\n          setTimeout(() => {\n            try {\n              const audio = new Audio('/sounds/notification.mp3');\n              audio.volume = 0.3;\n              audio.play().catch(() => {\n                // Ignore audio play errors\n              });\n            } catch {\n              // Ignore audio errors\n            }\n          }, 0);\n        }\n        \n        // Haptic feedback if enabled (defer to avoid act() warnings)\n        if (state.settings.enableHaptics && typeof window !== 'undefined' && 'vibrate' in navigator) {\n          setTimeout(() => {\n            try {\n              navigator.vibrate(50);\n            } catch {\n              // Ignore vibration errors\n            }\n          }, 0);\n        }\n        \n      }),\n      \n      removeNotification: (id) => set((state) => {\n        const notification = state.notifications.find(n => n.id === id);\n        if (notification) {\n          state.notifications = state.notifications.filter(n => n.id !== id);\n          state.unreadCount = state.notifications.filter(n => !n.read).length;\n        }\n      }),\n      \n      markAsRead: (id) => set((state) => {\n        const notification = state.notifications.find(n => n.id === id);\n        if (notification && !notification.read) {\n          notification.read = true;\n          state.unreadCount = state.notifications.filter(n => !n.read).length;\n        }\n      }),\n      \n      markAllAsRead: () => set((state) => {\n        state.notifications.forEach(n => n.read = true);\n        state.unreadCount = 0;\n      }),\n      \n      clearAll: () => set((state) => {\n        state.notifications = [];\n        state.unreadCount = 0;\n      }),\n      \n      clearByType: (type) => set((state) => {\n        const beforeCount = state.notifications.length;\n        state.notifications = state.notifications.filter(n => n.type !== type);\n        state.unreadCount = state.notifications.filter(n => !n.read).length;\n        logger.debug(`Cleared ${beforeCount - state.notifications.length} notifications of type ${type}`);\n      }),\n      \n      // Admin notification actions\n      addAdminNotification: (notification) => set((state) => {\n        const newAdminNotification: AdminNotification = {\n          ...notification,\n          id: `admin_notification_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n          timestamp: new Date().toISOString(),\n          read: false,\n        } as AdminNotification;\n        \n        // Add to admin notifications array\n        if (state.settings.enableStacking) {\n          state.adminNotifications.unshift(newAdminNotification);\n        } else {\n          state.adminNotifications = [newAdminNotification];\n        }\n        \n        // Limit admin notifications\n        if (state.adminNotifications.length > state.settings.maxNotifications) {\n          state.adminNotifications = state.adminNotifications.slice(0, state.settings.maxNotifications);\n        }\n        \n        // Update admin unread count\n        state.adminUnreadCount = state.adminNotifications.filter(n => !n.read).length;\n        \n        // Auto-dismiss if enabled (admin notifications have shorter default duration)\n        if (state.settings.enableAutoDismiss && notification.type !== 'error') {\n          setTimeout(() => {\n            const currentState = get();\n            if (currentState.adminNotifications.find(n => n.id === newAdminNotification.id)) {\n              currentState.removeAdminNotification(newAdminNotification.id);\n            }\n          }, 3000); // 3 seconds for admin notifications\n        }\n        \n      }),\n      \n      removeAdminNotification: (id) => set((state) => {\n        const notification = state.adminNotifications.find(n => n.id === id);\n        if (notification) {\n          state.adminNotifications = state.adminNotifications.filter(n => n.id !== id);\n          state.adminUnreadCount = state.adminNotifications.filter(n => !n.read).length;\n        }\n      }),\n      \n      markAdminNotificationAsRead: (id) => set((state) => {\n        const notification = state.adminNotifications.find(n => n.id === id);\n        if (notification && !notification.read) {\n          notification.read = true;\n          state.adminUnreadCount = state.adminNotifications.filter(n => !n.read).length;\n        }\n      }),\n      \n      markAllAdminNotificationsAsRead: () => set((state) => {\n        state.adminNotifications.forEach(n => n.read = true);\n        state.adminUnreadCount = 0;\n      }),\n      \n      clearAllAdminNotifications: () => set((state) => {\n        state.adminNotifications = [];\n        state.adminUnreadCount = 0;\n      }),\n      \n      clearAdminNotificationsByType: (type) => set((state) => {\n        const beforeCount = state.adminNotifications.length;\n        state.adminNotifications = state.adminNotifications.filter(n => n.type !== type);\n        state.adminUnreadCount = state.adminNotifications.filter(n => !n.read).length;\n        logger.debug(`Cleared ${beforeCount - state.adminNotifications.length} admin notifications of type ${type}`);\n      }),\n      \n      // Settings actions\n      updateSettings: (settings) => set((state) => {\n        state.settings = { ...state.settings, ...settings };\n      }),\n      \n      resetSettings: () => set((state) => {\n        state.settings = { ...defaultSettings };\n        logger.info('Notification settings reset to defaults');\n      }),\n      \n      // Loading state actions\n      setAdding: (adding) => set((state) => {\n        state.isAdding = adding;\n      }),\n      \n      setRemoving: (removing) => set((state) => {\n        state.isRemoving = removing;\n      }),\n      \n      // Utility actions\n      getNotification: (id) => {\n        const state = get();\n        return state.notifications.find(n => n.id === id);\n      },\n      \n      getNotificationsByType: (type) => {\n        const state = get();\n        return state.notifications.filter(n => n.type === type);\n      },\n      \n      getUnreadNotifications: () => {\n        const state = get();\n        return state.notifications.filter(n => !n.read);\n      },\n    })),\n    { name: 'notification-store' }\n));\n\n// Store selectors for optimized re-renders\nexport const useNotifications = () => useNotificationStore(state => state.notifications);\nexport const useUnreadCount = () => useNotificationStore(state => state.unreadCount);\nexport const useNotificationSettings = () => useNotificationStore(state => state.settings);\nexport const useNotificationLoading = () => useNotificationStore(state => state.isLoading);\nexport const useNotificationError = () => useNotificationStore(state => state.error);\n\n// Admin notification selectors\nexport const useAdminNotifications = () => useNotificationStore(state => state.adminNotifications);\nexport const useAdminUnreadCount = () => useNotificationStore(state => state.adminUnreadCount);\n\n// Action selectors\nexport const useNotificationActions = () => useNotificationStore(state => ({\n  addNotification: state.addNotification,\n  removeNotification: state.removeNotification,\n  markAsRead: state.markAsRead,\n  markAllAsRead: state.markAllAsRead,\n  clearAll: state.clearAll,\n  clearByType: state.clearByType,\n  addAdminNotification: state.addAdminNotification,\n  removeAdminNotification: state.removeAdminNotification,\n  markAdminNotificationAsRead: state.markAdminNotificationAsRead,\n  markAllAdminNotificationsAsRead: state.markAllAdminNotificationsAsRead,\n  clearAllAdminNotifications: state.clearAllAdminNotifications,\n  clearAdminNotificationsByType: state.clearAdminNotificationsByType,\n  updateSettings: state.updateSettings,\n  resetSettings: state.resetSettings,\n  setAdding: state.setAdding,\n  setRemoving: state.setRemoving,\n  getNotification: state.getNotification,\n  getNotificationsByType: state.getNotificationsByType,\n  getUnreadNotifications: state.getUnreadNotifications,\n}));\n\n// Computed selectors\nexport const useNotificationsByType = (type: Notification['type']) => useNotificationStore(state => {\n  return state.notifications.filter(n => n.type === type);\n});\n\nexport const useUnreadNotifications = () => useNotificationStore(state => {\n  return state.notifications.filter(n => !n.read);\n});\n\nexport const useNotificationPosition = () => useNotificationStore(state => state.settings.position);\nexport const useNotificationDuration = () => useNotificationStore(state => state.settings.duration);\nexport const useNotificationMaxCount = () => useNotificationStore(state => state.settings.maxNotifications);\n\n// Admin notification computed selectors\nexport const useAdminNotificationsByType = (type: AdminNotification['type']) => useNotificationStore(state => {\n  return state.adminNotifications.filter(n => n.type === type);\n});\n\nexport const useUnreadAdminNotifications = () => useNotificationStore(state => {\n  return state.adminNotifications.filter(n => !n.read);\n});\n\n// Store utilities\nexport const notificationStoreUtils = {\n  /**\n   * Create a success notification\n   */\n  createSuccess: (title: string, message: string, duration?: number) => {\n    const { addNotification } = useNotificationStore.getState();\n    addNotification({\n      type: 'success',\n      title,\n      message,\n      duration,\n    });\n  },\n  \n  /**\n   * Create an error notification\n   */\n  createError: (title: string, message: string, duration?: number) => {\n    const { addNotification } = useNotificationStore.getState();\n    addNotification({\n      type: 'error',\n      title,\n      message,\n      duration: duration || 0, // Error notifications don't auto-dismiss by default\n    });\n  },\n  \n  /**\n   * Create a warning notification\n   */\n  createWarning: (title: string, message: string, duration?: number) => {\n    const { addNotification } = useNotificationStore.getState();\n    addNotification({\n      type: 'warning',\n      title,\n      message,\n      duration,\n    });\n  },\n  \n  /**\n   * Create an info notification\n   */\n  createInfo: (title: string, message: string, duration?: number) => {\n    const { addNotification } = useNotificationStore.getState();\n    addNotification({\n      type: 'info',\n      title,\n      message,\n      duration,\n    });\n  },\n  \n  /**\n   * Create a persistent notification\n   */\n  createPersistent: (title: string, message: string, type: Notification['type'] = 'info') => {\n    const { addNotification } = useNotificationStore.getState();\n    addNotification({\n      type,\n      title,\n      message,\n      duration: 0, // Never auto-dismiss\n      persistent: true,\n    });\n  },\n  \n  /**\n   * Create a notification with actions\n   */\n  createWithActions: (\n    title: string, \n    message: string, \n    type: Notification['type'],\n    actions: Array<{ label: string; action: () => void }>,\n    duration?: number\n  ) => {\n    const { addNotification } = useNotificationStore.getState();\n    addNotification({\n      type,\n      title,\n      message,\n      duration,\n      actions,\n    });\n  },\n  \n  /**\n   * Get notification statistics\n   */\n  getStats: () => {\n    const state = useNotificationStore.getState();\n    const notifications = state.notifications;\n    \n    return {\n      total: notifications.length,\n      unread: notifications.filter(n => !n.read).length,\n      byType: {\n        success: notifications.filter(n => n.type === 'success').length,\n        error: notifications.filter(n => n.type === 'error').length,\n        warning: notifications.filter(n => n.type === 'warning').length,\n        info: notifications.filter(n => n.type === 'info').length,\n      },\n      oldest: notifications.length > 0 ? notifications[notifications.length - 1]?.timestamp : null,\n      newest: notifications.length > 0 ? notifications[0]?.timestamp : null,\n    };\n  },\n  \n  /**\n   * Clean up old notifications\n   */\n  cleanup: (maxAge: number = 24 * 60 * 60 * 1000) => { // 24 hours default\n    const state = useNotificationStore.getState();\n    const now = Date.now();\n    const cutoff = now - maxAge;\n    \n    const oldNotifications = state.notifications.filter(n => {\n      const notificationTime = new Date(n.timestamp).getTime();\n      return notificationTime < cutoff;\n    });\n    \n    if (oldNotifications.length > 0) {\n      oldNotifications.forEach(n => state.removeNotification(n.id));\n      logger.debug('Cleaned up old notifications', { count: oldNotifications.length });\n    }\n  },\n  \n  /**\n   * Create an admin success notification\n   */\n  createAdminSuccess: (title: string, message: string) => {\n    const { addAdminNotification } = useNotificationStore.getState();\n    addAdminNotification({\n      type: 'success',\n      title,\n      message,\n    });\n  },\n  \n  /**\n   * Create an admin error notification\n   */\n  createAdminError: (title: string, message: string) => {\n    const { addAdminNotification } = useNotificationStore.getState();\n    addAdminNotification({\n      type: 'error',\n      title,\n      message,\n    });\n  },\n  \n  /**\n   * Create an admin warning notification\n   */\n  createAdminWarning: (title: string, message: string) => {\n    const { addAdminNotification } = useNotificationStore.getState();\n    addAdminNotification({\n      type: 'warning',\n      title,\n      message,\n    });\n  },\n  \n  /**\n   * Create an admin info notification\n   */\n  createAdminInfo: (title: string, message: string) => {\n    const { addAdminNotification } = useNotificationStore.getState();\n    addAdminNotification({\n      type: 'info',\n      title,\n      message,\n    });\n  },\n  \n  /**\n   * Get admin notification statistics\n   */\n  getAdminStats: () => {\n    const state = useNotificationStore.getState();\n    const notifications = state.adminNotifications;\n    \n    return {\n      total: notifications.length,\n      unread: notifications.filter(n => !n.read).length,\n      byType: {\n        success: notifications.filter(n => n.type === 'success').length,\n        error: notifications.filter(n => n.type === 'error').length,\n        warning: notifications.filter(n => n.type === 'warning').length,\n        info: notifications.filter(n => n.type === 'info').length,\n      },\n      oldest: notifications.length > 0 ? notifications[notifications.length - 1]?.timestamp : null,\n      newest: notifications.length > 0 ? notifications[0]?.timestamp : null,\n    };\n  }\n};\n\n// Store subscriptions for external integrations\nexport const notificationStoreSubscriptions = {\n  /**\n   * Subscribe to notification changes\n   */\n  onNotificationChange: (callback: (notifications: Notification[]) => void) => {\n    return useNotificationStore.subscribe(\n      (state) => {\n        callback(state.notifications);\n      }\n    );\n  },\n  \n  /**\n   * Subscribe to unread count changes\n   */\n  onUnreadCountChange: (callback: (count: number) => void) => {\n    return useNotificationStore.subscribe(\n      (state) => {\n        callback(state.unreadCount);\n      }\n    );\n  },\n  \n  /**\n   * Subscribe to specific notification type changes\n   */\n  onNotificationTypeChange: (type: Notification['type'], callback: (notifications: Notification[]) => void) => {\n    return useNotificationStore.subscribe(\n      (state) => {\n        callback(state.notifications.filter(n => n.type === type));\n      }\n    );\n  }\n};\n\n// Store debugging utilities\nexport const notificationStoreDebug = {\n  /**\n   * Log current notification state\n   */\n  logState: () => {\n    const state = useNotificationStore.getState();\n    logger.debug('Notification Store State', {\n      total: state.notifications.length,\n      unread: state.unreadCount,\n      settings: state.settings,\n      isLoading: state.isLoading,\n      error: state.error\n    });\n  },\n  \n  /**\n   * Log all notifications\n   */\n  logNotifications: () => {\n    const state = useNotificationStore.getState();\n    logger.debug('All Notifications', { notifications: state.notifications });\n  },\n  \n  /**\n   * Log notification statistics\n   */\n  logStats: () => {\n    const stats = notificationStoreUtils.getStats();\n    logger.debug('Notification Statistics', stats);\n  },\n  \n  /**\n   * Clear all notifications\n   */\n  clearAll: () => {\n    useNotificationStore.getState().clearAll();\n    logger.info('All notifications cleared');\n  }\n};\n"],"names":["notificationStoreDebug","notificationStoreSubscriptions","notificationStoreUtils","useAdminNotifications","useAdminNotificationsByType","useAdminUnreadCount","useNotificationActions","useNotificationDuration","useNotificationError","useNotificationLoading","useNotificationMaxCount","useNotificationPosition","useNotificationSettings","useNotificationStore","useNotifications","useNotificationsByType","useUnreadAdminNotifications","useUnreadCount","useUnreadNotifications","defaultSettings","position","duration","maxNotifications","enableSound","enableHaptics","enableAutoDismiss","enableStacking","create","devtools","immer","set","get","notifications","unreadCount","adminNotifications","adminUnreadCount","settings","isLoading","isAdding","isRemoving","error","setLoading","loading","state","setError","clearError","addNotification","notification","newNotification","id","Date","now","Math","random","toString","substr","timestamp","toISOString","read","unshift","length","slice","filter","n","setTimeout","currentState","find","removeNotification","window","audio","Audio","volume","play","catch","navigator","vibrate","markAsRead","markAllAsRead","forEach","clearAll","clearByType","type","beforeCount","logger","debug","addAdminNotification","newAdminNotification","removeAdminNotification","markAdminNotificationAsRead","markAllAdminNotificationsAsRead","clearAllAdminNotifications","clearAdminNotificationsByType","updateSettings","resetSettings","info","setAdding","adding","setRemoving","removing","getNotification","getNotificationsByType","getUnreadNotifications","name","createSuccess","title","message","getState","createError","createWarning","createInfo","createPersistent","persistent","createWithActions","actions","getStats","total","unread","byType","success","warning","oldest","newest","cleanup","maxAge","cutoff","oldNotifications","notificationTime","getTime","count","createAdminSuccess","createAdminError","createAdminWarning","createAdminInfo","getAdminStats","onNotificationChange","callback","subscribe","onUnreadCountChange","onNotificationTypeChange","logState","logNotifications","logStats","stats"],"mappings":"AAAA;;;;;;;;;CASC;;;;;;;;;;;QAulBYA;eAAAA;;QApCAC;eAAAA;;QAtMAC;eAAAA;;QAjDAC;eAAAA;;QAwCAC;eAAAA;;QAvCAC;eAAAA;;QAGAC;eAAAA;;QAgCAC;eAAAA;;QAvCAC;eAAAA;;QADAC;eAAAA;;QAyCAC;eAAAA;;QAFAC;eAAAA;;QAxCAC;eAAAA;;QAxOAC;eAAAA;;QAsOAC;eAAAA;;QAkCAC;eAAAA;;QAiBAC;eAAAA;;QAlDAC;eAAAA;;QAqCAC;eAAAA;;;yBAzVU;4BACE;uBACH;wBAGC;AA4DvB,gCAAgC;AAChC,MAAMC,kBAAkB;IACtBC,UAAU;IACVC,UAAU;IACVC,kBAAkB;IAClBC,aAAa;IACbC,eAAe;IACfC,mBAAmB;IACnBC,gBAAgB;AAClB;AAGO,MAAMb,uBAAuBc,IAAAA,eAAM,IACxCC,IAAAA,oBAAQ,EACNC,IAAAA,YAAK,EAAC,CAACC,KAAKC,MAAS,CAAA;QACnB,gBAAgB;QAChBC,eAAe,EAAE;QACjBC,aAAa;QACbC,oBAAoB,EAAE;QACtBC,kBAAkB;QAClBC,UAAUjB;QACVkB,WAAW;QACXC,UAAU;QACVC,YAAY;QACZC,OAAO;QAEP,qBAAqB;QACrBC,YAAY,CAACC,UAAYZ,IAAI,CAACa;gBAC5BA,MAAMN,SAAS,GAAGK;YACpB;QAEAE,UAAU,CAACJ,QAAUV,IAAI,CAACa;gBACxBA,MAAMH,KAAK,GAAGA;YAChB;QAEAK,YAAY,IAAMf,IAAI,CAACa;gBACrBA,MAAMH,KAAK,GAAG;YAChB;QAEA,uBAAuB;QACvBM,iBAAiB,CAACC,eAAiBjB,IAAI,CAACa;gBACtC,MAAMK,kBAAgC;oBACpC,GAAGD,YAAY;oBACfE,IAAI,CAAC,aAAa,EAAEC,KAAKC,GAAG,GAAG,CAAC,EAAEC,KAAKC,MAAM,GAAGC,QAAQ,CAAC,IAAIC,MAAM,CAAC,GAAG,IAAI;oBAC3EC,WAAW,IAAIN,OAAOO,WAAW;oBACjCC,MAAM;gBACR;gBAEA,6BAA6B;gBAC7B,IAAIf,MAAMP,QAAQ,CAACV,cAAc,EAAE;oBACjCiB,MAAMX,aAAa,CAAC2B,OAAO,CAACX;gBAC9B,OAAO;oBACLL,MAAMX,aAAa,GAAG;wBAACgB;qBAAgB;gBACzC;gBAEA,sBAAsB;gBACtB,IAAIL,MAAMX,aAAa,CAAC4B,MAAM,GAAGjB,MAAMP,QAAQ,CAACd,gBAAgB,EAAE;oBAChEqB,MAAMX,aAAa,GAAGW,MAAMX,aAAa,CAAC6B,KAAK,CAAC,GAAGlB,MAAMP,QAAQ,CAACd,gBAAgB;gBACpF;gBAEA,sBAAsB;gBACtBqB,MAAMV,WAAW,GAAGU,MAAMX,aAAa,CAAC8B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI,EAAEE,MAAM;gBAEnE,0BAA0B;gBAC1B,IAAIjB,MAAMP,QAAQ,CAACX,iBAAiB,IAAIuB,gBAAgB3B,QAAQ,KAAK,GAAG;oBACtE2C,WAAW;wBACT,MAAMC,eAAelC;wBACrB,IAAIkC,aAAajC,aAAa,CAACkC,IAAI,CAACH,CAAAA,IAAKA,EAAEd,EAAE,KAAKD,gBAAgBC,EAAE,GAAG;4BACrEgB,aAAaE,kBAAkB,CAACnB,gBAAgBC,EAAE;wBACpD;oBACF,GAAGD,gBAAgB3B,QAAQ,IAAIsB,MAAMP,QAAQ,CAACf,QAAQ;gBACxD;gBAEA,wDAAwD;gBACxD,IAAIsB,MAAMP,QAAQ,CAACb,WAAW,IAAI,OAAO6C,WAAW,aAAa;oBAC/DJ,WAAW;wBACT,IAAI;4BACF,MAAMK,QAAQ,IAAIC,MAAM;4BACxBD,MAAME,MAAM,GAAG;4BACfF,MAAMG,IAAI,GAAGC,KAAK,CAAC;4BACjB,2BAA2B;4BAC7B;wBACF,EAAE,OAAM;wBACN,sBAAsB;wBACxB;oBACF,GAAG;gBACL;gBAEA,6DAA6D;gBAC7D,IAAI9B,MAAMP,QAAQ,CAACZ,aAAa,IAAI,OAAO4C,WAAW,eAAe,aAAaM,WAAW;oBAC3FV,WAAW;wBACT,IAAI;4BACFU,UAAUC,OAAO,CAAC;wBACpB,EAAE,OAAM;wBACN,0BAA0B;wBAC5B;oBACF,GAAG;gBACL;YAEF;QAEAR,oBAAoB,CAAClB,KAAOnB,IAAI,CAACa;gBAC/B,MAAMI,eAAeJ,MAAMX,aAAa,CAACkC,IAAI,CAACH,CAAAA,IAAKA,EAAEd,EAAE,KAAKA;gBAC5D,IAAIF,cAAc;oBAChBJ,MAAMX,aAAa,GAAGW,MAAMX,aAAa,CAAC8B,MAAM,CAACC,CAAAA,IAAKA,EAAEd,EAAE,KAAKA;oBAC/DN,MAAMV,WAAW,GAAGU,MAAMX,aAAa,CAAC8B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI,EAAEE,MAAM;gBACrE;YACF;QAEAgB,YAAY,CAAC3B,KAAOnB,IAAI,CAACa;gBACvB,MAAMI,eAAeJ,MAAMX,aAAa,CAACkC,IAAI,CAACH,CAAAA,IAAKA,EAAEd,EAAE,KAAKA;gBAC5D,IAAIF,gBAAgB,CAACA,aAAaW,IAAI,EAAE;oBACtCX,aAAaW,IAAI,GAAG;oBACpBf,MAAMV,WAAW,GAAGU,MAAMX,aAAa,CAAC8B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI,EAAEE,MAAM;gBACrE;YACF;QAEAiB,eAAe,IAAM/C,IAAI,CAACa;gBACxBA,MAAMX,aAAa,CAAC8C,OAAO,CAACf,CAAAA,IAAKA,EAAEL,IAAI,GAAG;gBAC1Cf,MAAMV,WAAW,GAAG;YACtB;QAEA8C,UAAU,IAAMjD,IAAI,CAACa;gBACnBA,MAAMX,aAAa,GAAG,EAAE;gBACxBW,MAAMV,WAAW,GAAG;YACtB;QAEA+C,aAAa,CAACC,OAASnD,IAAI,CAACa;gBAC1B,MAAMuC,cAAcvC,MAAMX,aAAa,CAAC4B,MAAM;gBAC9CjB,MAAMX,aAAa,GAAGW,MAAMX,aAAa,CAAC8B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAKA;gBACjEtC,MAAMV,WAAW,GAAGU,MAAMX,aAAa,CAAC8B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI,EAAEE,MAAM;gBACnEuB,cAAM,CAACC,KAAK,CAAC,CAAC,QAAQ,EAAEF,cAAcvC,MAAMX,aAAa,CAAC4B,MAAM,CAAC,uBAAuB,EAAEqB,MAAM;YAClG;QAEA,6BAA6B;QAC7BI,sBAAsB,CAACtC,eAAiBjB,IAAI,CAACa;gBAC3C,MAAM2C,uBAA0C;oBAC9C,GAAGvC,YAAY;oBACfE,IAAI,CAAC,mBAAmB,EAAEC,KAAKC,GAAG,GAAG,CAAC,EAAEC,KAAKC,MAAM,GAAGC,QAAQ,CAAC,IAAIC,MAAM,CAAC,GAAG,IAAI;oBACjFC,WAAW,IAAIN,OAAOO,WAAW;oBACjCC,MAAM;gBACR;gBAEA,mCAAmC;gBACnC,IAAIf,MAAMP,QAAQ,CAACV,cAAc,EAAE;oBACjCiB,MAAMT,kBAAkB,CAACyB,OAAO,CAAC2B;gBACnC,OAAO;oBACL3C,MAAMT,kBAAkB,GAAG;wBAACoD;qBAAqB;gBACnD;gBAEA,4BAA4B;gBAC5B,IAAI3C,MAAMT,kBAAkB,CAAC0B,MAAM,GAAGjB,MAAMP,QAAQ,CAACd,gBAAgB,EAAE;oBACrEqB,MAAMT,kBAAkB,GAAGS,MAAMT,kBAAkB,CAAC2B,KAAK,CAAC,GAAGlB,MAAMP,QAAQ,CAACd,gBAAgB;gBAC9F;gBAEA,4BAA4B;gBAC5BqB,MAAMR,gBAAgB,GAAGQ,MAAMT,kBAAkB,CAAC4B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI,EAAEE,MAAM;gBAE7E,8EAA8E;gBAC9E,IAAIjB,MAAMP,QAAQ,CAACX,iBAAiB,IAAIsB,aAAakC,IAAI,KAAK,SAAS;oBACrEjB,WAAW;wBACT,MAAMC,eAAelC;wBACrB,IAAIkC,aAAa/B,kBAAkB,CAACgC,IAAI,CAACH,CAAAA,IAAKA,EAAEd,EAAE,KAAKqC,qBAAqBrC,EAAE,GAAG;4BAC/EgB,aAAasB,uBAAuB,CAACD,qBAAqBrC,EAAE;wBAC9D;oBACF,GAAG,OAAO,oCAAoC;gBAChD;YAEF;QAEAsC,yBAAyB,CAACtC,KAAOnB,IAAI,CAACa;gBACpC,MAAMI,eAAeJ,MAAMT,kBAAkB,CAACgC,IAAI,CAACH,CAAAA,IAAKA,EAAEd,EAAE,KAAKA;gBACjE,IAAIF,cAAc;oBAChBJ,MAAMT,kBAAkB,GAAGS,MAAMT,kBAAkB,CAAC4B,MAAM,CAACC,CAAAA,IAAKA,EAAEd,EAAE,KAAKA;oBACzEN,MAAMR,gBAAgB,GAAGQ,MAAMT,kBAAkB,CAAC4B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI,EAAEE,MAAM;gBAC/E;YACF;QAEA4B,6BAA6B,CAACvC,KAAOnB,IAAI,CAACa;gBACxC,MAAMI,eAAeJ,MAAMT,kBAAkB,CAACgC,IAAI,CAACH,CAAAA,IAAKA,EAAEd,EAAE,KAAKA;gBACjE,IAAIF,gBAAgB,CAACA,aAAaW,IAAI,EAAE;oBACtCX,aAAaW,IAAI,GAAG;oBACpBf,MAAMR,gBAAgB,GAAGQ,MAAMT,kBAAkB,CAAC4B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI,EAAEE,MAAM;gBAC/E;YACF;QAEA6B,iCAAiC,IAAM3D,IAAI,CAACa;gBAC1CA,MAAMT,kBAAkB,CAAC4C,OAAO,CAACf,CAAAA,IAAKA,EAAEL,IAAI,GAAG;gBAC/Cf,MAAMR,gBAAgB,GAAG;YAC3B;QAEAuD,4BAA4B,IAAM5D,IAAI,CAACa;gBACrCA,MAAMT,kBAAkB,GAAG,EAAE;gBAC7BS,MAAMR,gBAAgB,GAAG;YAC3B;QAEAwD,+BAA+B,CAACV,OAASnD,IAAI,CAACa;gBAC5C,MAAMuC,cAAcvC,MAAMT,kBAAkB,CAAC0B,MAAM;gBACnDjB,MAAMT,kBAAkB,GAAGS,MAAMT,kBAAkB,CAAC4B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAKA;gBAC3EtC,MAAMR,gBAAgB,GAAGQ,MAAMT,kBAAkB,CAAC4B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI,EAAEE,MAAM;gBAC7EuB,cAAM,CAACC,KAAK,CAAC,CAAC,QAAQ,EAAEF,cAAcvC,MAAMT,kBAAkB,CAAC0B,MAAM,CAAC,6BAA6B,EAAEqB,MAAM;YAC7G;QAEA,mBAAmB;QACnBW,gBAAgB,CAACxD,WAAaN,IAAI,CAACa;gBACjCA,MAAMP,QAAQ,GAAG;oBAAE,GAAGO,MAAMP,QAAQ;oBAAE,GAAGA,QAAQ;gBAAC;YACpD;QAEAyD,eAAe,IAAM/D,IAAI,CAACa;gBACxBA,MAAMP,QAAQ,GAAG;oBAAE,GAAGjB,eAAe;gBAAC;gBACtCgE,cAAM,CAACW,IAAI,CAAC;YACd;QAEA,wBAAwB;QACxBC,WAAW,CAACC,SAAWlE,IAAI,CAACa;gBAC1BA,MAAML,QAAQ,GAAG0D;YACnB;QAEAC,aAAa,CAACC,WAAapE,IAAI,CAACa;gBAC9BA,MAAMJ,UAAU,GAAG2D;YACrB;QAEA,kBAAkB;QAClBC,iBAAiB,CAAClD;YAChB,MAAMN,QAAQZ;YACd,OAAOY,MAAMX,aAAa,CAACkC,IAAI,CAACH,CAAAA,IAAKA,EAAEd,EAAE,KAAKA;QAChD;QAEAmD,wBAAwB,CAACnB;YACvB,MAAMtC,QAAQZ;YACd,OAAOY,MAAMX,aAAa,CAAC8B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAKA;QACpD;QAEAoB,wBAAwB;YACtB,MAAM1D,QAAQZ;YACd,OAAOY,MAAMX,aAAa,CAAC8B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI;QAChD;IACF,CAAA,IACA;IAAE4C,MAAM;AAAqB;AAI1B,MAAMxF,mBAAmB,IAAMD,qBAAqB8B,CAAAA,QAASA,MAAMX,aAAa;AAChF,MAAMf,iBAAiB,IAAMJ,qBAAqB8B,CAAAA,QAASA,MAAMV,WAAW;AAC5E,MAAMrB,0BAA0B,IAAMC,qBAAqB8B,CAAAA,QAASA,MAAMP,QAAQ;AAClF,MAAM3B,yBAAyB,IAAMI,qBAAqB8B,CAAAA,QAASA,MAAMN,SAAS;AAClF,MAAM7B,uBAAuB,IAAMK,qBAAqB8B,CAAAA,QAASA,MAAMH,KAAK;AAG5E,MAAMrC,wBAAwB,IAAMU,qBAAqB8B,CAAAA,QAASA,MAAMT,kBAAkB;AAC1F,MAAM7B,sBAAsB,IAAMQ,qBAAqB8B,CAAAA,QAASA,MAAMR,gBAAgB;AAGtF,MAAM7B,yBAAyB,IAAMO,qBAAqB8B,CAAAA,QAAU,CAAA;YACzEG,iBAAiBH,MAAMG,eAAe;YACtCqB,oBAAoBxB,MAAMwB,kBAAkB;YAC5CS,YAAYjC,MAAMiC,UAAU;YAC5BC,eAAelC,MAAMkC,aAAa;YAClCE,UAAUpC,MAAMoC,QAAQ;YACxBC,aAAarC,MAAMqC,WAAW;YAC9BK,sBAAsB1C,MAAM0C,oBAAoB;YAChDE,yBAAyB5C,MAAM4C,uBAAuB;YACtDC,6BAA6B7C,MAAM6C,2BAA2B;YAC9DC,iCAAiC9C,MAAM8C,+BAA+B;YACtEC,4BAA4B/C,MAAM+C,0BAA0B;YAC5DC,+BAA+BhD,MAAMgD,6BAA6B;YAClEC,gBAAgBjD,MAAMiD,cAAc;YACpCC,eAAelD,MAAMkD,aAAa;YAClCE,WAAWpD,MAAMoD,SAAS;YAC1BE,aAAatD,MAAMsD,WAAW;YAC9BE,iBAAiBxD,MAAMwD,eAAe;YACtCC,wBAAwBzD,MAAMyD,sBAAsB;YACpDC,wBAAwB1D,MAAM0D,sBAAsB;QACtD,CAAA;AAGO,MAAMtF,yBAAyB,CAACkE,OAA+BpE,qBAAqB8B,CAAAA;QACzF,OAAOA,MAAMX,aAAa,CAAC8B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAKA;IACpD;AAEO,MAAM/D,yBAAyB,IAAML,qBAAqB8B,CAAAA;QAC/D,OAAOA,MAAMX,aAAa,CAAC8B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI;IAChD;AAEO,MAAM/C,0BAA0B,IAAME,qBAAqB8B,CAAAA,QAASA,MAAMP,QAAQ,CAAChB,QAAQ;AAC3F,MAAMb,0BAA0B,IAAMM,qBAAqB8B,CAAAA,QAASA,MAAMP,QAAQ,CAACf,QAAQ;AAC3F,MAAMX,0BAA0B,IAAMG,qBAAqB8B,CAAAA,QAASA,MAAMP,QAAQ,CAACd,gBAAgB;AAGnG,MAAMlB,8BAA8B,CAAC6E,OAAoCpE,qBAAqB8B,CAAAA;QACnG,OAAOA,MAAMT,kBAAkB,CAAC4B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAKA;IACzD;AAEO,MAAMjE,8BAA8B,IAAMH,qBAAqB8B,CAAAA;QACpE,OAAOA,MAAMT,kBAAkB,CAAC4B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI;IACrD;AAGO,MAAMxD,yBAAyB;IACpC;;GAEC,GACDqG,eAAe,CAACC,OAAeC,SAAiBpF;QAC9C,MAAM,EAAEyB,eAAe,EAAE,GAAGjC,qBAAqB6F,QAAQ;QACzD5D,gBAAgB;YACdmC,MAAM;YACNuB;YACAC;YACApF;QACF;IACF;IAEA;;GAEC,GACDsF,aAAa,CAACH,OAAeC,SAAiBpF;QAC5C,MAAM,EAAEyB,eAAe,EAAE,GAAGjC,qBAAqB6F,QAAQ;QACzD5D,gBAAgB;YACdmC,MAAM;YACNuB;YACAC;YACApF,UAAUA,YAAY;QACxB;IACF;IAEA;;GAEC,GACDuF,eAAe,CAACJ,OAAeC,SAAiBpF;QAC9C,MAAM,EAAEyB,eAAe,EAAE,GAAGjC,qBAAqB6F,QAAQ;QACzD5D,gBAAgB;YACdmC,MAAM;YACNuB;YACAC;YACApF;QACF;IACF;IAEA;;GAEC,GACDwF,YAAY,CAACL,OAAeC,SAAiBpF;QAC3C,MAAM,EAAEyB,eAAe,EAAE,GAAGjC,qBAAqB6F,QAAQ;QACzD5D,gBAAgB;YACdmC,MAAM;YACNuB;YACAC;YACApF;QACF;IACF;IAEA;;GAEC,GACDyF,kBAAkB,CAACN,OAAeC,SAAiBxB,OAA6B,MAAM;QACpF,MAAM,EAAEnC,eAAe,EAAE,GAAGjC,qBAAqB6F,QAAQ;QACzD5D,gBAAgB;YACdmC;YACAuB;YACAC;YACApF,UAAU;YACV0F,YAAY;QACd;IACF;IAEA;;GAEC,GACDC,mBAAmB,CACjBR,OACAC,SACAxB,MACAgC,SACA5F;QAEA,MAAM,EAAEyB,eAAe,EAAE,GAAGjC,qBAAqB6F,QAAQ;QACzD5D,gBAAgB;YACdmC;YACAuB;YACAC;YACApF;YACA4F;QACF;IACF;IAEA;;GAEC,GACDC,UAAU;QACR,MAAMvE,QAAQ9B,qBAAqB6F,QAAQ;QAC3C,MAAM1E,gBAAgBW,MAAMX,aAAa;QAEzC,OAAO;YACLmF,OAAOnF,cAAc4B,MAAM;YAC3BwD,QAAQpF,cAAc8B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI,EAAEE,MAAM;YACjDyD,QAAQ;gBACNC,SAAStF,cAAc8B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAK,WAAWrB,MAAM;gBAC/DpB,OAAOR,cAAc8B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAK,SAASrB,MAAM;gBAC3D2D,SAASvF,cAAc8B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAK,WAAWrB,MAAM;gBAC/DkC,MAAM9D,cAAc8B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAK,QAAQrB,MAAM;YAC3D;YACA4D,QAAQxF,cAAc4B,MAAM,GAAG,IAAI5B,aAAa,CAACA,cAAc4B,MAAM,GAAG,EAAE,EAAEJ,YAAY;YACxFiE,QAAQzF,cAAc4B,MAAM,GAAG,IAAI5B,aAAa,CAAC,EAAE,EAAEwB,YAAY;QACnE;IACF;IAEA;;GAEC,GACDkE,SAAS,CAACC,SAAiB,KAAK,KAAK,KAAK,IAAI;QAC5C,MAAMhF,QAAQ9B,qBAAqB6F,QAAQ;QAC3C,MAAMvD,MAAMD,KAAKC,GAAG;QACpB,MAAMyE,SAASzE,MAAMwE;QAErB,MAAME,mBAAmBlF,MAAMX,aAAa,CAAC8B,MAAM,CAACC,CAAAA;YAClD,MAAM+D,mBAAmB,IAAI5E,KAAKa,EAAEP,SAAS,EAAEuE,OAAO;YACtD,OAAOD,mBAAmBF;QAC5B;QAEA,IAAIC,iBAAiBjE,MAAM,GAAG,GAAG;YAC/BiE,iBAAiB/C,OAAO,CAACf,CAAAA,IAAKpB,MAAMwB,kBAAkB,CAACJ,EAAEd,EAAE;YAC3DkC,cAAM,CAACC,KAAK,CAAC,gCAAgC;gBAAE4C,OAAOH,iBAAiBjE,MAAM;YAAC;QAChF;IACF;IAEA;;GAEC,GACDqE,oBAAoB,CAACzB,OAAeC;QAClC,MAAM,EAAEpB,oBAAoB,EAAE,GAAGxE,qBAAqB6F,QAAQ;QAC9DrB,qBAAqB;YACnBJ,MAAM;YACNuB;YACAC;QACF;IACF;IAEA;;GAEC,GACDyB,kBAAkB,CAAC1B,OAAeC;QAChC,MAAM,EAAEpB,oBAAoB,EAAE,GAAGxE,qBAAqB6F,QAAQ;QAC9DrB,qBAAqB;YACnBJ,MAAM;YACNuB;YACAC;QACF;IACF;IAEA;;GAEC,GACD0B,oBAAoB,CAAC3B,OAAeC;QAClC,MAAM,EAAEpB,oBAAoB,EAAE,GAAGxE,qBAAqB6F,QAAQ;QAC9DrB,qBAAqB;YACnBJ,MAAM;YACNuB;YACAC;QACF;IACF;IAEA;;GAEC,GACD2B,iBAAiB,CAAC5B,OAAeC;QAC/B,MAAM,EAAEpB,oBAAoB,EAAE,GAAGxE,qBAAqB6F,QAAQ;QAC9DrB,qBAAqB;YACnBJ,MAAM;YACNuB;YACAC;QACF;IACF;IAEA;;GAEC,GACD4B,eAAe;QACb,MAAM1F,QAAQ9B,qBAAqB6F,QAAQ;QAC3C,MAAM1E,gBAAgBW,MAAMT,kBAAkB;QAE9C,OAAO;YACLiF,OAAOnF,cAAc4B,MAAM;YAC3BwD,QAAQpF,cAAc8B,MAAM,CAACC,CAAAA,IAAK,CAACA,EAAEL,IAAI,EAAEE,MAAM;YACjDyD,QAAQ;gBACNC,SAAStF,cAAc8B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAK,WAAWrB,MAAM;gBAC/DpB,OAAOR,cAAc8B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAK,SAASrB,MAAM;gBAC3D2D,SAASvF,cAAc8B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAK,WAAWrB,MAAM;gBAC/DkC,MAAM9D,cAAc8B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAK,QAAQrB,MAAM;YAC3D;YACA4D,QAAQxF,cAAc4B,MAAM,GAAG,IAAI5B,aAAa,CAACA,cAAc4B,MAAM,GAAG,EAAE,EAAEJ,YAAY;YACxFiE,QAAQzF,cAAc4B,MAAM,GAAG,IAAI5B,aAAa,CAAC,EAAE,EAAEwB,YAAY;QACnE;IACF;AACF;AAGO,MAAMvD,iCAAiC;IAC5C;;GAEC,GACDqI,sBAAsB,CAACC;QACrB,OAAO1H,qBAAqB2H,SAAS,CACnC,CAAC7F;YACC4F,SAAS5F,MAAMX,aAAa;QAC9B;IAEJ;IAEA;;GAEC,GACDyG,qBAAqB,CAACF;QACpB,OAAO1H,qBAAqB2H,SAAS,CACnC,CAAC7F;YACC4F,SAAS5F,MAAMV,WAAW;QAC5B;IAEJ;IAEA;;GAEC,GACDyG,0BAA0B,CAACzD,MAA4BsD;QACrD,OAAO1H,qBAAqB2H,SAAS,CACnC,CAAC7F;YACC4F,SAAS5F,MAAMX,aAAa,CAAC8B,MAAM,CAACC,CAAAA,IAAKA,EAAEkB,IAAI,KAAKA;QACtD;IAEJ;AACF;AAGO,MAAMjF,yBAAyB;IACpC;;GAEC,GACD2I,UAAU;QACR,MAAMhG,QAAQ9B,qBAAqB6F,QAAQ;QAC3CvB,cAAM,CAACC,KAAK,CAAC,4BAA4B;YACvC+B,OAAOxE,MAAMX,aAAa,CAAC4B,MAAM;YACjCwD,QAAQzE,MAAMV,WAAW;YACzBG,UAAUO,MAAMP,QAAQ;YACxBC,WAAWM,MAAMN,SAAS;YAC1BG,OAAOG,MAAMH,KAAK;QACpB;IACF;IAEA;;GAEC,GACDoG,kBAAkB;QAChB,MAAMjG,QAAQ9B,qBAAqB6F,QAAQ;QAC3CvB,cAAM,CAACC,KAAK,CAAC,qBAAqB;YAAEpD,eAAeW,MAAMX,aAAa;QAAC;IACzE;IAEA;;GAEC,GACD6G,UAAU;QACR,MAAMC,QAAQ5I,uBAAuBgH,QAAQ;QAC7C/B,cAAM,CAACC,KAAK,CAAC,2BAA2B0D;IAC1C;IAEA;;GAEC,GACD/D,UAAU;QACRlE,qBAAqB6F,QAAQ,GAAG3B,QAAQ;QACxCI,cAAM,CAACW,IAAI,CAAC;IACd;AACF"}