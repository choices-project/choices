{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/features/feeds/UnifiedFeed.test.tsx"],"sourcesContent":["/**\n * UnifiedFeed Component Tests\n * \n * Comprehensive testing for the UnifiedFeed component using the Real Component Testing Framework\n * Tests real functionality with real dependencies to catch real issues\n * \n * Created: January 19, 2025\n * Status: âœ… PRODUCTION READY\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor, act } from '@testing-library/react';\nimport { jest } from '@jest/globals';\nimport { RealComponentTester, realComponentHelpers } from '@/lib/testing/realComponentTesting';\nimport { UnifiedFeed } from '@/features/feeds/components/UnifiedFeed';\nimport { useFeeds } from '@/lib/stores/feedsStore';\nimport { useHashtags } from '@/features/hashtags/hooks/useHashtags';\n\n// Mock the stores\njest.mock('@/lib/stores/feedsStore');\njest.mock('@/features/hashtags/hooks/useHashtags');\n\nconst mockUseFeeds = useFeeds as jest.MockedFunction<typeof useFeeds>;\nconst mockUseHashtags = useHashtags as jest.MockedFunction<typeof useHashtags>;\n\n// Mock data\nconst mockFeedData = [\n  {\n    id: '1',\n    type: 'poll',\n    title: 'Test Poll',\n    description: 'This is a test poll',\n    hashtags: ['politics', 'election'],\n    created_at: '2025-01-19T10:00:00Z',\n    author: 'Test User',\n    engagement: {\n      likes: 10,\n      shares: 5,\n      comments: 3\n    }\n  },\n  {\n    id: '2',\n    type: 'post',\n    title: 'Test Post',\n    description: 'This is a test post',\n    hashtags: ['news', 'update'],\n    created_at: '2025-01-19T09:00:00Z',\n    author: 'Test User 2',\n    engagement: {\n      likes: 15,\n      shares: 8,\n      comments: 12\n    }\n  }\n];\n\nconst mockHashtagData = [\n  {\n    id: '1',\n    name: 'politics',\n    display_name: 'Politics',\n    usage_count: 100,\n    follower_count: 50,\n    is_trending: true,\n    trend_score: 0.8,\n    created_at: '2025-01-19T10:00:00Z',\n    updated_at: '2025-01-19T10:00:00Z',\n    is_verified: false,\n    is_featured: false\n  },\n  {\n    id: '2',\n    name: 'election',\n    display_name: 'Election',\n    usage_count: 75,\n    follower_count: 30,\n    is_trending: false,\n    trend_score: 0.3,\n    created_at: '2025-01-19T09:00:00Z',\n    updated_at: '2025-01-19T09:00:00Z',\n    is_verified: false,\n    is_featured: false\n  }\n];\n\ndescribe('UnifiedFeed Component - Real Component Testing', () => {\n  let realComponentTester: RealComponentTester;\n\n  beforeEach(() => {\n    // Initialize real component tester\n    realComponentTester = new RealComponentTester({\n      useRealDependencies: true,\n      testRealInteractions: true,\n      testRealBusinessLogic: true,\n      testRealErrorHandling: true,\n      testRealAccessibility: true,\n      testRealPerformance: true\n    });\n\n    // Mock store implementations\n    mockUseFeeds.mockReturnValue({\n      feeds: mockFeedData,\n      loading: false,\n      error: null,\n      refreshFeeds: jest.fn(),\n      likeFeed: jest.fn(),\n      shareFeed: jest.fn(),\n      commentFeed: jest.fn(),\n      bookmarkFeed: jest.fn()\n    });\n\n    mockUseHashtags.mockReturnValue({\n      hashtags: mockHashtagData,\n      loading: false,\n      error: null,\n      searchHashtags: jest.fn(),\n      followHashtag: jest.fn(),\n      unfollowHashtag: jest.fn(),\n      getTrendingHashtags: jest.fn()\n    });\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Real Component Rendering', () => {\n    it('should render UnifiedFeed with all essential elements', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealRendering(component, [\n        'Unified Feed',\n        'Personalized content with hashtag-polls integration',\n        'Online',\n        'Dark mode toggle',\n        'Advanced filters toggle',\n        'Refresh button'\n      ]);\n\n      expect(result.passed).toBe(true);\n      expect(result.errors).toHaveLength(0);\n    });\n\n    it('should render feed items correctly', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealRendering(component, [\n        'Test Poll',\n        'This is a test poll',\n        'politics',\n        'election',\n        'Test Post',\n        'This is a test post',\n        'news',\n        'update'\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should render within acceptable performance time', async () => {\n      const startTime = performance.now();\n      \n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Test that real component renders within acceptable time\n      expect(renderTime).toBeLessThan(2000); // 2s threshold\n    });\n  });\n\n  describe('Real Component Interactions', () => {\n    it('should handle dark mode toggle correctly', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealInteractions(component, [\n        {\n          action: async () => {\n            const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n            fireEvent.click(darkModeButton);\n          },\n          description: 'Toggle dark mode',\n          expectedResult: async () => {\n            await waitFor(() => {\n              expect(screen.getByLabelText(/switch to light mode/i)).toBeInTheDocument();\n            });\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should handle advanced filters toggle correctly', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealInteractions(component, [\n        {\n          action: async () => {\n            const filtersButton = screen.getByLabelText(/toggle advanced filters/i);\n            fireEvent.click(filtersButton);\n          },\n          description: 'Toggle advanced filters',\n          expectedResult: async () => {\n            await waitFor(() => {\n              expect(screen.getByText(/advanced filters/i)).toBeInTheDocument();\n            });\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should handle feed item interactions correctly', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealInteractions(component, [\n        {\n          action: async () => {\n            const likeButton = screen.getByLabelText(/like test poll/i);\n            fireEvent.click(likeButton);\n          },\n          description: 'Like a feed item',\n          expectedResult: async () => {\n            await waitFor(() => {\n              expect(mockUseFeeds().likeFeed).toHaveBeenCalledWith('1');\n            });\n          }\n        },\n        {\n          action: async () => {\n            const shareButton = screen.getByLabelText(/share test poll/i);\n            fireEvent.click(shareButton);\n          },\n          description: 'Share a feed item',\n          expectedResult: async () => {\n            await waitFor(() => {\n              expect(mockUseFeeds().shareFeed).toHaveBeenCalledWith('1');\n            });\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should handle hashtag interactions correctly', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealInteractions(component, [\n        {\n          action: async () => {\n            const hashtagButton = screen.getByText('politics');\n            fireEvent.click(hashtagButton);\n          },\n          description: 'Click on hashtag',\n          expectedResult: async () => {\n            await waitFor(() => {\n              expect(mockUseHashtags().followHashtag).toHaveBeenCalledWith('1');\n            });\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n  });\n\n  describe('Real Component State Management', () => {\n    it('should manage loading states correctly', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        loading: true\n      });\n\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealStateManagement(component, [\n        {\n          description: 'Show loading state',\n          action: async () => {\n            render(component);\n          },\n          expectedState: async () => {\n            expect(screen.getByText(/loading/i)).toBeInTheDocument();\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should manage error states correctly', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        error: 'Failed to load feeds'\n      });\n\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealStateManagement(component, [\n        {\n          description: 'Show error state',\n          action: async () => {\n            render(component);\n          },\n          expectedState: async () => {\n            expect(screen.getByText(/failed to load feeds/i)).toBeInTheDocument();\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should manage personalization score correctly', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealStateManagement(component, [\n        {\n          description: 'Update personalization score',\n          action: async () => {\n            const likeButton = screen.getByLabelText(/like test poll/i);\n            fireEvent.click(likeButton);\n          },\n          expectedState: async () => {\n            await waitFor(() => {\n              expect(screen.getByText(/personalized/i)).toBeInTheDocument();\n            });\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n  });\n\n  describe('Real Component Accessibility', () => {\n    it('should have proper ARIA labels and roles', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealAccessibility(component, [\n        {\n          description: 'Check main feed role',\n          test: async () => {\n            const feed = screen.getByRole('main');\n            expect(feed).toHaveAttribute('aria-label', 'Unified Feed');\n          }\n        },\n        {\n          description: 'Check button accessibility',\n          test: async () => {\n            const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n            expect(darkModeButton).toHaveAttribute('aria-label');\n          }\n        },\n        {\n          description: 'Check feed item accessibility',\n          test: async () => {\n            const likeButton = screen.getByLabelText(/like test poll/i);\n            expect(likeButton).toHaveAttribute('aria-label');\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should support keyboard navigation', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealAccessibility(component, [\n        {\n          description: 'Keyboard navigation works',\n          test: async () => {\n            const darkModeButton = screen.getByLabelText(/switch to dark mode/i);\n            darkModeButton.focus();\n            expect(document.activeElement).toBe(darkModeButton);\n            \n            fireEvent.keyDown(darkModeButton, { key: 'Enter' });\n            // Should toggle dark mode\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should announce changes to screen readers', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealAccessibility(component, [\n        {\n          description: 'Screen reader announcements',\n          test: async () => {\n            const refreshButton = screen.getByLabelText(/refresh feed/i);\n            fireEvent.click(refreshButton);\n            \n            // Should have aria-live region for announcements\n            const liveRegion = screen.getByRole('status');\n            expect(liveRegion).toBeInTheDocument();\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n  });\n\n  describe('Real Component Performance', () => {\n    it('should handle large datasets efficiently', async () => {\n      const largeFeedData = Array.from({ length: 100 }, (_, i) => ({\n        id: `${i}`,\n        type: 'poll',\n        title: `Test Poll ${i}`,\n        description: `This is test poll ${i}`,\n        hashtags: ['politics', 'election'],\n        created_at: '2025-01-19T10:00:00Z',\n        author: `Test User ${i}`,\n        engagement: {\n          likes: Math.floor(Math.random() * 100),\n          shares: Math.floor(Math.random() * 50),\n          comments: Math.floor(Math.random() * 30)\n        }\n      }));\n\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        feeds: largeFeedData\n      });\n\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealPerformance(component, [\n        {\n          description: 'Render large dataset efficiently',\n          test: async () => {\n            const startTime = performance.now();\n            render(component);\n            const endTime = performance.now();\n            const renderTime = endTime - startTime;\n            \n            expect(renderTime).toBeLessThan(5000); // 5s threshold for 100 items\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should handle rapid interactions without performance degradation', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealPerformance(component, [\n        {\n          description: 'Rapid interactions performance',\n          test: async () => {\n            const startTime = performance.now();\n            \n            // Simulate rapid interactions\n            for (let i = 0; i < 10; i++) {\n              const likeButton = screen.getByLabelText(/like test poll/i);\n              fireEvent.click(likeButton);\n              await act(async () => {\n                await new Promise(resolve => setTimeout(resolve, 10));\n              });\n            }\n            \n            const endTime = performance.now();\n            const totalTime = endTime - startTime;\n            \n            expect(totalTime).toBeLessThan(1000); // 1s threshold for 10 interactions\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n  });\n\n  describe('Real Component Error Handling', () => {\n    it('should handle network errors gracefully', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        error: 'Network error',\n        refreshFeeds: jest.fn().mockRejectedValue(new Error('Network error'))\n      });\n\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealErrorHandling(component, [\n        {\n          description: 'Handle network errors',\n          test: async () => {\n            expect(screen.getByText(/network error/i)).toBeInTheDocument();\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should handle missing data gracefully', async () => {\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        feeds: []\n      });\n\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealErrorHandling(component, [\n        {\n          description: 'Handle empty feeds',\n          test: async () => {\n            expect(screen.getByText(/no feeds available/i)).toBeInTheDocument();\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should recover from errors when retrying', async () => {\n      const mockRefreshFeeds = jest.fn()\n        .mockRejectedValueOnce(new Error('Network error'))\n        .mockResolvedValueOnce(undefined);\n\n      mockUseFeeds.mockReturnValue({\n        ...mockUseFeeds(),\n        error: 'Network error',\n        refreshFeeds: mockRefreshFeeds\n      });\n\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealErrorHandling(component, [\n        {\n          description: 'Retry after error',\n          test: async () => {\n            const retryButton = screen.getByLabelText(/retry/i);\n            fireEvent.click(retryButton);\n            \n            await waitFor(() => {\n              expect(mockRefreshFeeds).toHaveBeenCalledTimes(2);\n            });\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n  });\n\n  describe('Real Component Business Logic', () => {\n    it('should calculate personalization score correctly', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealBusinessLogic(component, [\n        {\n          description: 'Personalization score calculation',\n          test: async () => {\n            // Simulate user interactions that should increase personalization score\n            const likeButton = screen.getByLabelText(/like test poll/i);\n            fireEvent.click(likeButton);\n            \n            await waitFor(() => {\n              expect(screen.getByText(/personalized/i)).toBeInTheDocument();\n            });\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should filter content based on hashtags correctly', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealBusinessLogic(component, [\n        {\n          description: 'Hashtag filtering',\n          test: async () => {\n            const hashtagFilter = screen.getByText('politics');\n            fireEvent.click(hashtagFilter);\n            \n            await waitFor(() => {\n              // Should show only items with politics hashtag\n              expect(screen.getByText('Test Poll')).toBeInTheDocument();\n              expect(screen.queryByText('Test Post')).not.toBeInTheDocument();\n            });\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should handle infinite scroll correctly', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentTester.testRealBusinessLogic(component, [\n        {\n          description: 'Infinite scroll functionality',\n          test: async () => {\n            // Simulate scrolling to bottom\n            const feed = screen.getByRole('main');\n            fireEvent.scroll(feed, { target: { scrollTop: 1000 } });\n            \n            await waitFor(() => {\n              // Should trigger load more\n              expect(mockUseFeeds().refreshFeeds).toHaveBeenCalled();\n            });\n          }\n        }\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n  });\n});\n"],"names":["jest","mock","mockUseFeeds","useFeeds","mockUseHashtags","useHashtags","mockFeedData","id","type","title","description","hashtags","created_at","author","engagement","likes","shares","comments","mockHashtagData","name","display_name","usage_count","follower_count","is_trending","trend_score","updated_at","is_verified","is_featured","describe","realComponentTester","beforeEach","RealComponentTester","useRealDependencies","testRealInteractions","testRealBusinessLogic","testRealErrorHandling","testRealAccessibility","testRealPerformance","mockReturnValue","feeds","loading","error","refreshFeeds","fn","likeFeed","shareFeed","commentFeed","bookmarkFeed","searchHashtags","followHashtag","unfollowHashtag","getTrendingHashtags","afterEach","clearAllMocks","it","component","UnifiedFeed","result","testRealRendering","expect","passed","toBe","errors","toHaveLength","startTime","performance","now","render","endTime","renderTime","toBeLessThan","action","darkModeButton","screen","getByLabelText","fireEvent","click","expectedResult","waitFor","toBeInTheDocument","filtersButton","getByText","likeButton","toHaveBeenCalledWith","shareButton","hashtagButton","testRealStateManagement","expectedState","test","feed","getByRole","toHaveAttribute","focus","document","activeElement","keyDown","key","refreshButton","liveRegion","largeFeedData","Array","from","length","_","i","Math","floor","random","act","Promise","resolve","setTimeout","totalTime","mockRejectedValue","Error","mockRefreshFeeds","mockRejectedValueOnce","mockResolvedValueOnce","undefined","retryButton","toHaveBeenCalledTimes","hashtagFilter","queryByText","not","scroll","target","scrollTop","toHaveBeenCalled"],"mappings":"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"}