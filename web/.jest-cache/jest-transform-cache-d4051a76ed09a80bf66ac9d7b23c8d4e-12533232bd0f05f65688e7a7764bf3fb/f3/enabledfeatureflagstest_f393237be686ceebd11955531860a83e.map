{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/features/enabled-feature-flags.test.tsx"],"sourcesContent":["/**\n * Unit Tests for Enabled Feature Flags\n * \n * Tests the 7 newly enabled features:\n * - DEMOGRAPHIC_FILTERING\n * - ADVANCED_PRIVACY\n * - SOCIAL_SHARING_POLLS\n * - SOCIAL_SHARING_CIVICS\n * - CONTACT_INFORMATION_SYSTEM\n * - DEVICE_FLOW_AUTH\n * - INTERNATIONALIZATION\n * \n * Note: TRENDING_POLLS removed - functionality already implemented through hashtag system\n * \n * Created: January 23, 2025\n * Status: âœ… ACTIVE\n */\n\nimport { describe, it, expect, beforeEach, jest } from '@jest/globals';\nimport { featureFlagManager } from '@/lib/core/feature-flags';\nimport { useFeatureFlags } from '@/features/pwa/hooks/useFeatureFlags';\nimport { FeatureWrapper } from '@/components/shared/FeatureWrapper';\nimport { T } from '@/tests/registry/testIds';\n\n// Mock the feature flags hook\njest.mock('@/features/pwa/hooks/useFeatureFlags');\nconst mockUseFeatureFlags = useFeatureFlags as jest.MockedFunction<typeof useFeatureFlags>;\n\ndescribe('Enabled Feature Flags - Unit Tests', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('DEMOGRAPHIC_FILTERING Feature', () => {\n    it('should be enabled by default', () => {\n      expect(featureFlagManager.isEnabled('DEMOGRAPHIC_FILTERING')).toBe(true);\n    });\n\n    it('should have correct category', () => {\n      const flag = featureFlagManager.getFlag('DEMOGRAPHIC_FILTERING');\n      expect(flag?.category).toBe('personalization');\n    });\n\n    it('should have analytics dependency', () => {\n      const dependencies = featureFlagManager.areDependenciesEnabled('DEMOGRAPHIC_FILTERING');\n      expect(dependencies).toBe(true);\n    });\n\n    it('should work with FeatureWrapper', () => {\n      mockUseFeatureFlags.mockReturnValue({\n        isEnabled: (flagId: string) => flagId === 'DEMOGRAPHIC_FILTERING',\n        isLoading: false,\n        error: null,\n        flags: { DEMOGRAPHIC_FILTERING: true },\n        fetchFlags: jest.fn(),\n        setFeatureFlag: jest.fn(),\n        toggleFeatureFlag: jest.fn(),\n        clearError: jest.fn(),\n        getAllFlags: jest.fn(),\n        getEnabledFlags: jest.fn(),\n        getDisabledFlags: jest.fn(),\n        getFlagsByCategory: jest.fn(),\n        getSystemInfo: jest.fn(),\n        systemInfo: { totalFlags: 40, enabledFlags: 32, disabledFlags: 8, environment: 'test' },\n        areDependenciesEnabled: jest.fn(),\n        subscribe: jest.fn()\n      });\n\n      // Test that FeatureWrapper renders content when flag is enabled\n      const TestComponent = () => (\n        <FeatureWrapper feature=\"DEMOGRAPHIC_FILTERING\">\n          <div data-testid={T.dashboard.personalizedContent}>Personalized Content</div>\n        </FeatureWrapper>\n      );\n\n      expect(TestComponent).toBeDefined();\n    });\n  });\n\n  // TRENDING_POLLS feature removed - functionality already implemented through hashtag system\n\n  describe('ADVANCED_PRIVACY Feature', () => {\n    it('should be enabled by default', () => {\n      expect(featureFlagManager.isEnabled('ADVANCED_PRIVACY')).toBe(true);\n    });\n\n    it('should have correct category', () => {\n      const flag = featureFlagManager.getFlag('ADVANCED_PRIVACY');\n      expect(flag?.category).toBe('privacy');\n    });\n\n    it('should have no dependencies', () => {\n      const dependencies = featureFlagManager.areDependenciesEnabled('ADVANCED_PRIVACY');\n      expect(dependencies).toBe(true);\n    });\n\n    it('should work with FeatureWrapper', () => {\n      mockUseFeatureFlags.mockReturnValue({\n        isEnabled: (flagId: string) => flagId === 'ADVANCED_PRIVACY',\n        isLoading: false,\n        error: null,\n        flags: { ADVANCED_PRIVACY: true },\n        fetchFlags: jest.fn(),\n        setFeatureFlag: jest.fn(),\n        toggleFeatureFlag: jest.fn(),\n        clearError: jest.fn(),\n        getAllFlags: jest.fn(),\n        getEnabledFlags: jest.fn(),\n        getDisabledFlags: jest.fn(),\n        getFlagsByCategory: jest.fn(),\n        getSystemInfo: jest.fn(),\n        systemInfo: { totalFlags: 40, enabledFlags: 32, disabledFlags: 8, environment: 'test' },\n        areDependenciesEnabled: jest.fn(),\n        subscribe: jest.fn()\n      });\n\n      const TestComponent = () => (\n        <FeatureWrapper feature=\"ADVANCED_PRIVACY\">\n          <div data-testid={T.dashboard.advancedPrivacy}>Advanced Privacy Features</div>\n        </FeatureWrapper>\n      );\n\n      expect(TestComponent).toBeDefined();\n    });\n  });\n\n  describe('SOCIAL_SHARING_POLLS Feature', () => {\n    it('should be enabled by default', () => {\n      expect(featureFlagManager.isEnabled('SOCIAL_SHARING_POLLS')).toBe(true);\n    });\n\n    it('should have correct category', () => {\n      const flag = featureFlagManager.getFlag('SOCIAL_SHARING_POLLS');\n      expect(flag?.category).toBe('social');\n    });\n\n    it('should have SOCIAL_SHARING dependency', () => {\n      const dependencies = featureFlagManager.areDependenciesEnabled('SOCIAL_SHARING_POLLS');\n      expect(dependencies).toBe(true);\n    });\n\n    it('should work with FeatureWrapper', () => {\n      mockUseFeatureFlags.mockReturnValue({\n        isEnabled: (flagId: string) => flagId === 'SOCIAL_SHARING_POLLS',\n        isLoading: false,\n        error: null,\n        flags: { SOCIAL_SHARING_POLLS: true },\n        fetchFlags: jest.fn(),\n        setFeatureFlag: jest.fn(),\n        toggleFeatureFlag: jest.fn(),\n        clearError: jest.fn(),\n        getAllFlags: jest.fn(),\n        getEnabledFlags: jest.fn(),\n        getDisabledFlags: jest.fn(),\n        getFlagsByCategory: jest.fn(),\n        getSystemInfo: jest.fn(),\n        systemInfo: { totalFlags: 40, enabledFlags: 32, disabledFlags: 8, environment: 'test' },\n        areDependenciesEnabled: jest.fn(),\n        subscribe: jest.fn()\n      });\n\n      const TestComponent = () => (\n        <FeatureWrapper feature=\"SOCIAL_SHARING_POLLS\">\n          <div data-testid={T.socialSharing.shareButton}>Social Sharing for Polls</div>\n        </FeatureWrapper>\n      );\n\n      expect(TestComponent).toBeDefined();\n    });\n  });\n\n  describe('SOCIAL_SHARING_CIVICS Feature', () => {\n    it('should be enabled by default', () => {\n      expect(featureFlagManager.isEnabled('SOCIAL_SHARING_CIVICS')).toBe(true);\n    });\n\n    it('should have correct category', () => {\n      const flag = featureFlagManager.getFlag('SOCIAL_SHARING_CIVICS');\n      expect(flag?.category).toBe('social');\n    });\n\n    it('should have SOCIAL_SHARING dependency', () => {\n      const dependencies = featureFlagManager.areDependenciesEnabled('SOCIAL_SHARING_CIVICS');\n      expect(dependencies).toBe(true);\n    });\n\n    it('should work with FeatureWrapper', () => {\n      mockUseFeatureFlags.mockReturnValue({\n        isEnabled: (flagId: string) => flagId === 'SOCIAL_SHARING_CIVICS',\n        isLoading: false,\n        error: null,\n        flags: { SOCIAL_SHARING_CIVICS: true },\n        fetchFlags: jest.fn(),\n        setFeatureFlag: jest.fn(),\n        toggleFeatureFlag: jest.fn(),\n        clearError: jest.fn(),\n        getAllFlags: jest.fn(),\n        getEnabledFlags: jest.fn(),\n        getDisabledFlags: jest.fn(),\n        getFlagsByCategory: jest.fn(),\n        getSystemInfo: jest.fn(),\n        systemInfo: { totalFlags: 40, enabledFlags: 32, disabledFlags: 8, environment: 'test' },\n        areDependenciesEnabled: jest.fn(),\n        subscribe: jest.fn()\n      });\n\n      const TestComponent = () => (\n        <FeatureWrapper feature=\"SOCIAL_SHARING_CIVICS\">\n          <div data-testid={T.socialSharing.shareModal}>Social Sharing for Civics</div>\n        </FeatureWrapper>\n      );\n\n      expect(TestComponent).toBeDefined();\n    });\n  });\n\n  describe('CONTACT_INFORMATION_SYSTEM Feature', () => {\n    it('should be enabled by default', () => {\n      expect(featureFlagManager.isEnabled('CONTACT_INFORMATION_SYSTEM')).toBe(true);\n    });\n\n    it('should have correct category', () => {\n      const flag = featureFlagManager.getFlag('CONTACT_INFORMATION_SYSTEM');\n      expect(flag?.category).toBe('contact');\n    });\n\n    it('should have CIVICS_REPRESENTATIVE_DATABASE dependency', () => {\n      const dependencies = featureFlagManager.areDependenciesEnabled('CONTACT_INFORMATION_SYSTEM');\n      expect(dependencies).toBe(true);\n    });\n\n    it('should work with FeatureWrapper', () => {\n      mockUseFeatureFlags.mockReturnValue({\n        isEnabled: (flagId: string) => flagId === 'CONTACT_INFORMATION_SYSTEM',\n        isLoading: false,\n        error: null,\n        flags: { CONTACT_INFORMATION_SYSTEM: true },\n        fetchFlags: jest.fn(),\n        setFeatureFlag: jest.fn(),\n        toggleFeatureFlag: jest.fn(),\n        clearError: jest.fn(),\n        getAllFlags: jest.fn(),\n        getEnabledFlags: jest.fn(),\n        getDisabledFlags: jest.fn(),\n        getFlagsByCategory: jest.fn(),\n        getSystemInfo: jest.fn(),\n        systemInfo: { totalFlags: 40, enabledFlags: 32, disabledFlags: 8, environment: 'test' },\n        areDependenciesEnabled: jest.fn(),\n        subscribe: jest.fn()\n      });\n\n      const TestComponent = () => (\n        <FeatureWrapper feature=\"CONTACT_INFORMATION_SYSTEM\">\n          <div data-testid={T.dashboard.contactSystem}>Contact Information System</div>\n        </FeatureWrapper>\n      );\n\n      expect(TestComponent).toBeDefined();\n    });\n  });\n\n  describe('DEVICE_FLOW_AUTH Feature', () => {\n    it('should be enabled by default', () => {\n      expect(featureFlagManager.isEnabled('DEVICE_FLOW_AUTH')).toBe(true);\n    });\n\n    it('should have correct category', () => {\n      const flag = featureFlagManager.getFlag('DEVICE_FLOW_AUTH');\n      expect(flag?.category).toBe('auth');\n    });\n\n    it('should have CORE_AUTH dependency', () => {\n      const dependencies = featureFlagManager.areDependenciesEnabled('DEVICE_FLOW_AUTH');\n      expect(dependencies).toBe(true);\n    });\n\n    it('should work with FeatureWrapper', () => {\n      mockUseFeatureFlags.mockReturnValue({\n        isEnabled: (flagId: string) => flagId === 'DEVICE_FLOW_AUTH',\n        isLoading: false,\n        error: null,\n        flags: { DEVICE_FLOW_AUTH: true },\n        fetchFlags: jest.fn(),\n        setFeatureFlag: jest.fn(),\n        toggleFeatureFlag: jest.fn(),\n        clearError: jest.fn(),\n        getAllFlags: jest.fn(),\n        getEnabledFlags: jest.fn(),\n        getDisabledFlags: jest.fn(),\n        getFlagsByCategory: jest.fn(),\n        getSystemInfo: jest.fn(),\n        systemInfo: { totalFlags: 40, enabledFlags: 32, disabledFlags: 8, environment: 'test' },\n        areDependenciesEnabled: jest.fn(),\n        subscribe: jest.fn()\n      });\n\n      const TestComponent = () => (\n        <FeatureWrapper feature=\"DEVICE_FLOW_AUTH\">\n          <div data-testid={T.webauthn.deviceFlow}>Device Flow Authentication</div>\n        </FeatureWrapper>\n      );\n\n      expect(TestComponent).toBeDefined();\n    });\n  });\n\n  describe('INTERNATIONALIZATION Feature', () => {\n    it('should be enabled by default', () => {\n      expect(featureFlagManager.isEnabled('INTERNATIONALIZATION')).toBe(true);\n    });\n\n    it('should have correct category', () => {\n      const flag = featureFlagManager.getFlag('INTERNATIONALIZATION');\n      expect(flag?.category).toBe('system');\n    });\n\n    it('should have no dependencies', () => {\n      const dependencies = featureFlagManager.areDependenciesEnabled('INTERNATIONALIZATION');\n      expect(dependencies).toBe(true);\n    });\n\n    it('should work with FeatureWrapper', () => {\n      mockUseFeatureFlags.mockReturnValue({\n        isEnabled: (flagId: string) => flagId === 'INTERNATIONALIZATION',\n        isLoading: false,\n        error: null,\n        flags: { INTERNATIONALIZATION: true },\n        fetchFlags: jest.fn(),\n        setFeatureFlag: jest.fn(),\n        toggleFeatureFlag: jest.fn(),\n        clearError: jest.fn(),\n        getAllFlags: jest.fn(),\n        getEnabledFlags: jest.fn(),\n        getDisabledFlags: jest.fn(),\n        getFlagsByCategory: jest.fn(),\n        getSystemInfo: jest.fn(),\n        systemInfo: { totalFlags: 40, enabledFlags: 32, disabledFlags: 8, environment: 'test' },\n        areDependenciesEnabled: jest.fn(),\n        subscribe: jest.fn()\n      });\n\n      const TestComponent = () => (\n        <FeatureWrapper feature=\"INTERNATIONALIZATION\">\n          <div data-testid={T.dashboard.internationalization}>Internationalization Support</div>\n        </FeatureWrapper>\n      );\n\n      expect(TestComponent).toBeDefined();\n    });\n  });\n\n  describe('Feature Flag Manager Integration', () => {\n    it('should return correct system info', () => {\n      const systemInfo = featureFlagManager.getSystemInfo();\n      expect(systemInfo.totalFlags).toBeGreaterThan(0);\n      expect(systemInfo.enabledFlags).toBeGreaterThan(0);\n      expect(systemInfo.disabledFlags).toBeGreaterThan(0);\n      expect(systemInfo.environment).toBeDefined();\n    });\n\n    it('should handle flag toggling', () => {\n      const originalState = featureFlagManager.isEnabled('DEMOGRAPHIC_FILTERING');\n      \n      // Toggle the flag\n      const toggleResult = featureFlagManager.toggle('DEMOGRAPHIC_FILTERING');\n      expect(toggleResult).toBe(true);\n      \n      // Check the new state\n      const newState = featureFlagManager.isEnabled('DEMOGRAPHIC_FILTERING');\n      expect(newState).toBe(!originalState);\n      \n      // Toggle back to original state\n      featureFlagManager.toggle('DEMOGRAPHIC_FILTERING');\n    });\n\n    it('should handle invalid flag names', () => {\n      expect(featureFlagManager.isEnabled('INVALID_FLAG')).toBe(false);\n      expect(featureFlagManager.toggle('INVALID_FLAG')).toBe(false);\n    });\n\n    it('should handle batch flag checking', () => {\n      const enabledFlags = [\n        'DEMOGRAPHIC_FILTERING',\n        'ADVANCED_PRIVACY'\n      ];\n\n      const disabledFlags = [\n        'AUTOMATED_POLLS',\n        'MEDIA_BIAS_ANALYSIS'\n      ];\n\n      enabledFlags.forEach(flag => {\n        expect(featureFlagManager.isEnabled(flag)).toBe(true);\n      });\n\n      disabledFlags.forEach(flag => {\n        expect(featureFlagManager.isEnabled(flag)).toBe(false);\n      });\n    });\n  });\n\n  describe('Feature Flag Categories', () => {\n    it('should have correct categories for enabled flags', () => {\n      const personalizationFlags = ['DEMOGRAPHIC_FILTERING'];\n      const socialFlags = ['SOCIAL_SHARING_POLLS', 'SOCIAL_SHARING_CIVICS'];\n      const privacyFlags = ['ADVANCED_PRIVACY'];\n      const contactFlags = ['CONTACT_INFORMATION_SYSTEM'];\n      const authFlags = ['DEVICE_FLOW_AUTH'];\n      const systemFlags = ['INTERNATIONALIZATION'];\n\n      personalizationFlags.forEach(flag => {\n        const flagInfo = featureFlagManager.getFlag(flag);\n        expect(flagInfo?.category).toBe('personalization');\n      });\n\n      socialFlags.forEach(flag => {\n        const flagInfo = featureFlagManager.getFlag(flag);\n        expect(flagInfo?.category).toBe('social');\n      });\n\n      privacyFlags.forEach(flag => {\n        const flagInfo = featureFlagManager.getFlag(flag);\n        expect(flagInfo?.category).toBe('privacy');\n      });\n\n      contactFlags.forEach(flag => {\n        const flagInfo = featureFlagManager.getFlag(flag);\n        expect(flagInfo?.category).toBe('contact');\n      });\n\n      authFlags.forEach(flag => {\n        const flagInfo = featureFlagManager.getFlag(flag);\n        expect(flagInfo?.category).toBe('auth');\n      });\n\n      systemFlags.forEach(flag => {\n        const flagInfo = featureFlagManager.getFlag(flag);\n        expect(flagInfo?.category).toBe('system');\n      });\n    });\n  });\n});\n"],"names":["jest","mock","mockUseFeatureFlags","useFeatureFlags","describe","beforeEach","clearAllMocks","it","expect","featureFlagManager","isEnabled","toBe","flag","getFlag","category","dependencies","areDependenciesEnabled","mockReturnValue","flagId","isLoading","error","flags","DEMOGRAPHIC_FILTERING","fetchFlags","fn","setFeatureFlag","toggleFeatureFlag","clearError","getAllFlags","getEnabledFlags","getDisabledFlags","getFlagsByCategory","getSystemInfo","systemInfo","totalFlags","enabledFlags","disabledFlags","environment","subscribe","TestComponent","FeatureWrapper","feature","div","data-testid","T","dashboard","personalizedContent","toBeDefined","ADVANCED_PRIVACY","advancedPrivacy","SOCIAL_SHARING_POLLS","socialSharing","shareButton","SOCIAL_SHARING_CIVICS","shareModal","CONTACT_INFORMATION_SYSTEM","contactSystem","DEVICE_FLOW_AUTH","webauthn","deviceFlow","INTERNATIONALIZATION","internationalization","toBeGreaterThan","originalState","toggleResult","toggle","newState","forEach","personalizationFlags","socialFlags","privacyFlags","contactFlags","authFlags","systemFlags","flagInfo"],"mappings":"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"}