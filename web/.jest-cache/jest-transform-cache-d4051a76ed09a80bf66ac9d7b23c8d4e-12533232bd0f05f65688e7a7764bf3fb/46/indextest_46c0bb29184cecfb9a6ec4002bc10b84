63dc66c3654204be08c025632f6edcfd
/**
 * Poll Utilities Tests
 * 
 * Comprehensive test suite for poll utility functions
 * 
 * Created: October 11, 2025
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _utils = require("../../../../../features/polls/utils");
describe('Poll Utilities', ()=>{
    describe('formatPollDate', ()=>{
        it('should format date string correctly', ()=>{
            const date = '2025-10-11T12:00:00Z';
            const result = (0, _utils.formatPollDate)(date);
            expect(result).toBe('10/11/2025');
        });
        it('should format Date object correctly', ()=>{
            const date = new Date('2025-10-11T12:00:00Z');
            const result = (0, _utils.formatPollDate)(date);
            expect(result).toBe('10/11/2025');
        });
    });
    describe('calculatePollDuration', ()=>{
        it('should calculate duration correctly', ()=>{
            const start = '2025-10-11T10:00:00Z';
            const end = '2025-10-11T12:00:00Z';
            const result = (0, _utils.calculatePollDuration)(start, end);
            expect(result).toBe(2 * 60 * 60 * 1000); // 2 hours in milliseconds
        });
    });
    describe('isPollActive', ()=>{
        it('should return true for active poll', ()=>{
            const start = new Date(Date.now() - 1000 * 60 * 60); // 1 hour ago
            const end = new Date(Date.now() + 1000 * 60 * 60); // 1 hour from now
            const result = (0, _utils.isPollActive)(start, end);
            expect(result).toBe(true);
        });
        it('should return false for expired poll', ()=>{
            const start = new Date(Date.now() - 1000 * 60 * 60 * 2); // 2 hours ago
            const end = new Date(Date.now() - 1000 * 60 * 60); // 1 hour ago
            const result = (0, _utils.isPollActive)(start, end);
            expect(result).toBe(false);
        });
        it('should return false for future poll', ()=>{
            const start = new Date(Date.now() + 1000 * 60 * 60); // 1 hour from now
            const end = new Date(Date.now() + 1000 * 60 * 60 * 2); // 2 hours from now
            const result = (0, _utils.isPollActive)(start, end);
            expect(result).toBe(false);
        });
    });
    describe('validatePollTitle', ()=>{
        it('should validate correct title', ()=>{
            const result = (0, _utils.validatePollTitle)('What is your favorite color?');
            expect(result.isValid).toBe(true);
            expect(result.error).toBeUndefined();
        });
        it('should reject empty title', ()=>{
            const result = (0, _utils.validatePollTitle)('');
            expect(result.isValid).toBe(false);
            expect(result.error).toBe('Title is required');
        });
        it('should reject title that is too long', ()=>{
            const longTitle = 'a'.repeat(201);
            const result = (0, _utils.validatePollTitle)(longTitle);
            expect(result.isValid).toBe(false);
            expect(result.error).toBe('Title must be 200 characters or less');
        });
    });
    describe('validatePollDescription', ()=>{
        it('should validate correct description', ()=>{
            const result = (0, _utils.validatePollDescription)('This is a test poll description.');
            expect(result.isValid).toBe(true);
            expect(result.error).toBeUndefined();
        });
        it('should reject empty description', ()=>{
            const result = (0, _utils.validatePollDescription)('');
            expect(result.isValid).toBe(false);
            expect(result.error).toBe('Description is required');
        });
        it('should reject description that is too long', ()=>{
            const longDescription = 'a'.repeat(1001);
            const result = (0, _utils.validatePollDescription)(longDescription);
            expect(result.isValid).toBe(false);
            expect(result.error).toBe('Description must be 1000 characters or less');
        });
    });
    describe('validatePollOptions', ()=>{
        it('should validate correct options', ()=>{
            const result = (0, _utils.validatePollOptions)([
                'Option 1',
                'Option 2',
                'Option 3'
            ]);
            expect(result.isValid).toBe(true);
            expect(result.error).toBeUndefined();
        });
        it('should reject too few options', ()=>{
            const result = (0, _utils.validatePollOptions)([
                'Option 1'
            ]);
            expect(result.isValid).toBe(false);
            expect(result.error).toBe('At least 2 options are required');
        });
        it('should reject too many options', ()=>{
            const manyOptions = Array.from({
                length: 11
            }, (_, i)=>`Option ${i + 1}`);
            const result = (0, _utils.validatePollOptions)(manyOptions);
            expect(result.isValid).toBe(false);
            expect(result.error).toBe('Maximum 10 options allowed');
        });
        it('should filter out empty options', ()=>{
            const result = (0, _utils.validatePollOptions)([
                'Option 1',
                '',
                'Option 2',
                '   '
            ]);
            expect(result.isValid).toBe(true);
        });
    });
    describe('validatePollSettings', ()=>{
        it('should validate correct settings', ()=>{
            const settings = {
                maxSelections: 3,
                maxVotes: 100
            };
            const result = (0, _utils.validatePollSettings)(settings);
            expect(result.isValid).toBe(true);
            expect(result.error).toBeUndefined();
        });
        it('should reject invalid maxSelections', ()=>{
            const settings = {
                maxSelections: 0
            };
            const result = (0, _utils.validatePollSettings)(settings);
            expect(result.isValid).toBe(false);
            expect(result.error).toBe('Max selections must be at least 1');
        });
        it('should reject invalid maxVotes', ()=>{
            const settings = {
                maxVotes: 0
            };
            const result = (0, _utils.validatePollSettings)(settings);
            expect(result.isValid).toBe(false);
            expect(result.error).toBe('Max votes must be at least 1');
        });
    });
    describe('formatPollDuration', ()=>{
        it('should format duration with days', ()=>{
            const duration = 2 * 24 * 60 * 60 * 1000 + 3 * 60 * 60 * 1000 + 30 * 60 * 1000; // 2d 3h 30m
            const result = (0, _utils.formatPollDuration)(duration);
            expect(result).toBe('2d 3h 30m');
        });
        it('should format duration with hours only', ()=>{
            const duration = 3 * 60 * 60 * 1000 + 30 * 60 * 1000; // 3h 30m
            const result = (0, _utils.formatPollDuration)(duration);
            expect(result).toBe('3h 30m');
        });
        it('should format duration with minutes only', ()=>{
            const duration = 30 * 60 * 1000; // 30m
            const result = (0, _utils.formatPollDuration)(duration);
            expect(result).toBe('30m');
        });
    });
    describe('calculateParticipationRate', ()=>{
        it('should calculate participation rate correctly', ()=>{
            const result = (0, _utils.calculateParticipationRate)(25, 100);
            expect(result).toBe(25);
        });
        it('should return 0 for zero users', ()=>{
            const result = (0, _utils.calculateParticipationRate)(10, 0);
            expect(result).toBe(0);
        });
        it('should round to nearest integer', ()=>{
            const result = (0, _utils.calculateParticipationRate)(33, 100);
            expect(result).toBe(33);
        });
    });
    describe('getPollStatusText', ()=>{
        it('should return correct status text for all statuses', ()=>{
            expect((0, _utils.getPollStatusText)('draft')).toBe('Draft');
            expect((0, _utils.getPollStatusText)('active')).toBe('Active');
            expect((0, _utils.getPollStatusText)('closed')).toBe('Closed');
            expect((0, _utils.getPollStatusText)('archived')).toBe('Archived');
            expect((0, _utils.getPollStatusText)('locked')).toBe('Locked');
            expect((0, _utils.getPollStatusText)('post-close')).toBe('Post-Close');
        });
    });
    describe('getVotingMethodText', ()=>{
        it('should return correct method text for all methods', ()=>{
            expect((0, _utils.getVotingMethodText)('single')).toBe('Single Choice');
            expect((0, _utils.getVotingMethodText)('approval')).toBe('Approval Voting');
            expect((0, _utils.getVotingMethodText)('ranked')).toBe('Ranked Choice');
            expect((0, _utils.getVotingMethodText)('range')).toBe('Range Voting');
            expect((0, _utils.getVotingMethodText)('quadratic')).toBe('Quadratic Voting');
            expect((0, _utils.getVotingMethodText)('multiple')).toBe('Multiple Choice');
        });
    });
    describe('allowsMultipleVotes', ()=>{
        it('should return true for methods that allow multiple votes', ()=>{
            expect((0, _utils.allowsMultipleVotes)('approval')).toBe(true);
            expect((0, _utils.allowsMultipleVotes)('multiple')).toBe(true);
        });
        it('should return false for methods that do not allow multiple votes', ()=>{
            expect((0, _utils.allowsMultipleVotes)('single')).toBe(false);
            expect((0, _utils.allowsMultipleVotes)('ranked')).toBe(false);
            expect((0, _utils.allowsMultipleVotes)('range')).toBe(false);
            expect((0, _utils.allowsMultipleVotes)('quadratic')).toBe(false);
        });
    });
    describe('calculateOptionPercentage', ()=>{
        it('should calculate percentage correctly', ()=>{
            const result = (0, _utils.calculateOptionPercentage)(25, 100);
            expect(result).toBe(25);
        });
        it('should return 0 for zero total votes', ()=>{
            const result = (0, _utils.calculateOptionPercentage)(10, 0);
            expect(result).toBe(0);
        });
        it('should round to nearest integer', ()=>{
            const result = (0, _utils.calculateOptionPercentage)(33, 100);
            expect(result).toBe(33);
        });
    });
    describe('sortOptionsByVotes', ()=>{
        it('should sort options by vote count in descending order', ()=>{
            const options = [
                {
                    id: '1',
                    text: 'Option 1',
                    votes: 10
                },
                {
                    id: '2',
                    text: 'Option 2',
                    votes: 30
                },
                {
                    id: '3',
                    text: 'Option 3',
                    votes: 20
                }
            ];
            const result = (0, _utils.sortOptionsByVotes)(options);
            expect(result[0]?.votes).toBe(30);
            expect(result[1]?.votes).toBe(20);
            expect(result[2]?.votes).toBe(10);
        });
        it('should handle options without votes', ()=>{
            const options = [
                {
                    id: '1',
                    text: 'Option 1'
                },
                {
                    id: '2',
                    text: 'Option 2',
                    votes: 10
                }
            ];
            const result = (0, _utils.sortOptionsByVotes)(options);
            expect(result[0]?.votes).toBe(10);
            expect(result[1]?.votes).toBeUndefined();
        });
    });
    describe('isPollExpired', ()=>{
        it('should return true for expired poll', ()=>{
            const endDate = new Date(Date.now() - 1000 * 60 * 60); // 1 hour ago
            const result = (0, _utils.isPollExpired)(endDate);
            expect(result).toBe(true);
        });
        it('should return false for active poll', ()=>{
            const endDate = new Date(Date.now() + 1000 * 60 * 60); // 1 hour from now
            const result = (0, _utils.isPollExpired)(endDate);
            expect(result).toBe(false);
        });
    });
    describe('getTimeRemaining', ()=>{
        it('should return correct time remaining', ()=>{
            const endDate = new Date(Date.now() + 1000 * 60 * 60); // 1 hour from now
            const result = (0, _utils.getTimeRemaining)(endDate);
            expect(result).toBeCloseTo(60 * 60 * 1000, -2); // Approximately 1 hour in milliseconds
        });
        it('should return 0 for expired poll', ()=>{
            const endDate = new Date(Date.now() - 1000 * 60 * 60); // 1 hour ago
            const result = (0, _utils.getTimeRemaining)(endDate);
            expect(result).toBe(0);
        });
    });
    describe('formatTimeRemaining', ()=>{
        it('should format time remaining with days', ()=>{
            const timeRemaining = 2 * 24 * 60 * 60 * 1000 + 3 * 60 * 60 * 1000 + 30 * 60 * 1000; // 2d 3h 30m
            const result = (0, _utils.formatTimeRemaining)(timeRemaining);
            expect(result).toBe('2d 3h 30m remaining');
        });
        it('should format time remaining with hours only', ()=>{
            const timeRemaining = 3 * 60 * 60 * 1000 + 30 * 60 * 1000; // 3h 30m
            const result = (0, _utils.formatTimeRemaining)(timeRemaining);
            expect(result).toBe('3h 30m remaining');
        });
        it('should format time remaining with minutes only', ()=>{
            const timeRemaining = 30 * 60 * 1000; // 30m
            const result = (0, _utils.formatTimeRemaining)(timeRemaining);
            expect(result).toBe('30m remaining');
        });
        it('should return "Expired" for zero time remaining', ()=>{
            const result = (0, _utils.formatTimeRemaining)(0);
            expect(result).toBe('Expired');
        });
    });
    describe('sanitizePollTitleForUrl', ()=>{
        it('should sanitize title correctly', ()=>{
            const title = 'What is your favorite color?';
            const result = (0, _utils.sanitizePollTitleForUrl)(title);
            expect(result).toBe('what-is-your-favorite-color');
        });
        it('should handle special characters', ()=>{
            const title = 'Poll with @#$%^&*() special chars!';
            const result = (0, _utils.sanitizePollTitleForUrl)(title);
            expect(result).toBe('poll-with-special-chars');
        });
        it('should handle multiple spaces and hyphens', ()=>{
            const title = 'Poll   with---multiple   spaces';
            const result = (0, _utils.sanitizePollTitleForUrl)(title);
            expect(result).toBe('poll-with-multiple-spaces');
        });
    });
    describe('generatePollSummary', ()=>{
        it('should generate correct summary', ()=>{
            const poll = {
                id: '1',
                title: 'Test Poll',
                description: 'Test Description',
                options: [],
                status: 'active',
                startDate: new Date(),
                endDate: new Date(),
                createdAt: new Date(),
                updatedAt: new Date(),
                createdBy: 'user1',
                settings: {},
                category: 'general',
                tags: [],
                privacyLevel: 'public',
                votingMethod: 'single',
                totalVotes: 100,
                participationRate: 25
            };
            const result = (0, _utils.generatePollSummary)(poll);
            expect(result).toBe('Active • Single Choice • 25% participation');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L3VuaXQvZmVhdHVyZXMvcG9sbHMvaW5kZXgudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFBvbGwgVXRpbGl0aWVzIFRlc3RzXG4gKiBcbiAqIENvbXByZWhlbnNpdmUgdGVzdCBzdWl0ZSBmb3IgcG9sbCB1dGlsaXR5IGZ1bmN0aW9uc1xuICogXG4gKiBDcmVhdGVkOiBPY3RvYmVyIDExLCAyMDI1XG4gKi9cblxuaW1wb3J0IHtcbiAgZm9ybWF0UG9sbERhdGUsXG4gIGNhbGN1bGF0ZVBvbGxEdXJhdGlvbixcbiAgaXNQb2xsQWN0aXZlLFxuICB2YWxpZGF0ZVBvbGxUaXRsZSxcbiAgdmFsaWRhdGVQb2xsRGVzY3JpcHRpb24sXG4gIHZhbGlkYXRlUG9sbE9wdGlvbnMsXG4gIHZhbGlkYXRlUG9sbFNldHRpbmdzLFxuICBmb3JtYXRQb2xsRHVyYXRpb24sXG4gIGNhbGN1bGF0ZVBhcnRpY2lwYXRpb25SYXRlLFxuICBnZXRQb2xsU3RhdHVzVGV4dCxcbiAgZ2V0Vm90aW5nTWV0aG9kVGV4dCxcbiAgYWxsb3dzTXVsdGlwbGVWb3RlcyxcbiAgY2FsY3VsYXRlT3B0aW9uUGVyY2VudGFnZSxcbiAgc29ydE9wdGlvbnNCeVZvdGVzLFxuICBpc1BvbGxFeHBpcmVkLFxuICBnZXRUaW1lUmVtYWluaW5nLFxuICBmb3JtYXRUaW1lUmVtYWluaW5nLFxuICBzYW5pdGl6ZVBvbGxUaXRsZUZvclVybCxcbiAgZ2VuZXJhdGVQb2xsU3VtbWFyeVxufSBmcm9tICdAL2ZlYXR1cmVzL3BvbGxzL3V0aWxzJztcblxuZGVzY3JpYmUoJ1BvbGwgVXRpbGl0aWVzJywgKCkgPT4ge1xuICBkZXNjcmliZSgnZm9ybWF0UG9sbERhdGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBmb3JtYXQgZGF0ZSBzdHJpbmcgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgZGF0ZSA9ICcyMDI1LTEwLTExVDEyOjAwOjAwWic7XG4gICAgICBjb25zdCByZXN1bHQgPSBmb3JtYXRQb2xsRGF0ZShkYXRlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJzEwLzExLzIwMjUnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZm9ybWF0IERhdGUgb2JqZWN0IGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgnMjAyNS0xMC0xMVQxMjowMDowMFonKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGZvcm1hdFBvbGxEYXRlKGRhdGUpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnMTAvMTEvMjAyNScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnY2FsY3VsYXRlUG9sbER1cmF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIGR1cmF0aW9uIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0ID0gJzIwMjUtMTAtMTFUMTA6MDA6MDBaJztcbiAgICAgIGNvbnN0IGVuZCA9ICcyMDI1LTEwLTExVDEyOjAwOjAwWic7XG4gICAgICBjb25zdCByZXN1bHQgPSBjYWxjdWxhdGVQb2xsRHVyYXRpb24oc3RhcnQsIGVuZCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKDIgKiA2MCAqIDYwICogMTAwMCk7IC8vIDIgaG91cnMgaW4gbWlsbGlzZWNvbmRzXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdpc1BvbGxBY3RpdmUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBmb3IgYWN0aXZlIHBvbGwnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKERhdGUubm93KCkgLSAxMDAwICogNjAgKiA2MCk7IC8vIDEgaG91ciBhZ29cbiAgICAgIGNvbnN0IGVuZCA9IG5ldyBEYXRlKERhdGUubm93KCkgKyAxMDAwICogNjAgKiA2MCk7IC8vIDEgaG91ciBmcm9tIG5vd1xuICAgICAgY29uc3QgcmVzdWx0ID0gaXNQb2xsQWN0aXZlKHN0YXJ0LCBlbmQpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSh0cnVlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmV0dXJuIGZhbHNlIGZvciBleHBpcmVkIHBvbGwnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKERhdGUubm93KCkgLSAxMDAwICogNjAgKiA2MCAqIDIpOyAvLyAyIGhvdXJzIGFnb1xuICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoRGF0ZS5ub3coKSAtIDEwMDAgKiA2MCAqIDYwKTsgLy8gMSBob3VyIGFnb1xuICAgICAgY29uc3QgcmVzdWx0ID0gaXNQb2xsQWN0aXZlKHN0YXJ0LCBlbmQpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZShmYWxzZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiBmYWxzZSBmb3IgZnV0dXJlIHBvbGwnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydCA9IG5ldyBEYXRlKERhdGUubm93KCkgKyAxMDAwICogNjAgKiA2MCk7IC8vIDEgaG91ciBmcm9tIG5vd1xuICAgICAgY29uc3QgZW5kID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIDEwMDAgKiA2MCAqIDYwICogMik7IC8vIDIgaG91cnMgZnJvbSBub3dcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGlzUG9sbEFjdGl2ZShzdGFydCwgZW5kKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgndmFsaWRhdGVQb2xsVGl0bGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSBjb3JyZWN0IHRpdGxlJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQb2xsVGl0bGUoJ1doYXQgaXMgeW91ciBmYXZvcml0ZSBjb2xvcj8nKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmVVbmRlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGVtcHR5IHRpdGxlJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQb2xsVGl0bGUoJycpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmUoJ1RpdGxlIGlzIHJlcXVpcmVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCB0aXRsZSB0aGF0IGlzIHRvbyBsb25nJywgKCkgPT4ge1xuICAgICAgY29uc3QgbG9uZ1RpdGxlID0gJ2EnLnJlcGVhdCgyMDEpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQb2xsVGl0bGUobG9uZ1RpdGxlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKCdUaXRsZSBtdXN0IGJlIDIwMCBjaGFyYWN0ZXJzIG9yIGxlc3MnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3ZhbGlkYXRlUG9sbERlc2NyaXB0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgY29ycmVjdCBkZXNjcmlwdGlvbicsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbGlkYXRlUG9sbERlc2NyaXB0aW9uKCdUaGlzIGlzIGEgdGVzdCBwb2xsIGRlc2NyaXB0aW9uLicpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZVVuZGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgZW1wdHkgZGVzY3JpcHRpb24nLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZVBvbGxEZXNjcmlwdGlvbignJyk7XG4gICAgICBleHBlY3QocmVzdWx0LmlzVmFsaWQpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZSgnRGVzY3JpcHRpb24gaXMgcmVxdWlyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IGRlc2NyaXB0aW9uIHRoYXQgaXMgdG9vIGxvbmcnLCAoKSA9PiB7XG4gICAgICBjb25zdCBsb25nRGVzY3JpcHRpb24gPSAnYScucmVwZWF0KDEwMDEpO1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQb2xsRGVzY3JpcHRpb24obG9uZ0Rlc2NyaXB0aW9uKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKCdEZXNjcmlwdGlvbiBtdXN0IGJlIDEwMDAgY2hhcmFjdGVycyBvciBsZXNzJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCd2YWxpZGF0ZVBvbGxPcHRpb25zJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgY29ycmVjdCBvcHRpb25zJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQb2xsT3B0aW9ucyhbJ09wdGlvbiAxJywgJ09wdGlvbiAyJywgJ09wdGlvbiAzJ10pO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5lcnJvcikudG9CZVVuZGVmaW5lZCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgdG9vIGZldyBvcHRpb25zJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQb2xsT3B0aW9ucyhbJ09wdGlvbiAxJ10pO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmUoJ0F0IGxlYXN0IDIgb3B0aW9ucyBhcmUgcmVxdWlyZWQnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IHRvbyBtYW55IG9wdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBtYW55T3B0aW9ucyA9IEFycmF5LmZyb20oeyBsZW5ndGg6IDExIH0sIChfLCBpKSA9PiBgT3B0aW9uICR7aSArIDF9YCk7XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZVBvbGxPcHRpb25zKG1hbnlPcHRpb25zKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlKCdNYXhpbXVtIDEwIG9wdGlvbnMgYWxsb3dlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmaWx0ZXIgb3V0IGVtcHR5IG9wdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZVBvbGxPcHRpb25zKFsnT3B0aW9uIDEnLCAnJywgJ09wdGlvbiAyJywgJyAgICddKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuaXNWYWxpZCkudG9CZSh0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3ZhbGlkYXRlUG9sbFNldHRpbmdzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgY29ycmVjdCBzZXR0aW5ncycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNldHRpbmdzID0geyBtYXhTZWxlY3Rpb25zOiAzLCBtYXhWb3RlczogMTAwIH07XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0ZVBvbGxTZXR0aW5ncyhzZXR0aW5ncyk7XG4gICAgICBleHBlY3QocmVzdWx0LmlzVmFsaWQpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmVycm9yKS50b0JlVW5kZWZpbmVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBpbnZhbGlkIG1heFNlbGVjdGlvbnMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXR0aW5ncyA9IHsgbWF4U2VsZWN0aW9uczogMCB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQb2xsU2V0dGluZ3Moc2V0dGluZ3MpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmUoJ01heCBzZWxlY3Rpb25zIG11c3QgYmUgYXQgbGVhc3QgMScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgaW52YWxpZCBtYXhWb3RlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNldHRpbmdzID0geyBtYXhWb3RlczogMCB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsaWRhdGVQb2xsU2V0dGluZ3Moc2V0dGluZ3MpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5pc1ZhbGlkKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuZXJyb3IpLnRvQmUoJ01heCB2b3RlcyBtdXN0IGJlIGF0IGxlYXN0IDEnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2Zvcm1hdFBvbGxEdXJhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZvcm1hdCBkdXJhdGlvbiB3aXRoIGRheXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCBkdXJhdGlvbiA9IDIgKiAyNCAqIDYwICogNjAgKiAxMDAwICsgMyAqIDYwICogNjAgKiAxMDAwICsgMzAgKiA2MCAqIDEwMDA7IC8vIDJkIDNoIDMwbVxuICAgICAgY29uc3QgcmVzdWx0ID0gZm9ybWF0UG9sbER1cmF0aW9uKGR1cmF0aW9uKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJzJkIDNoIDMwbScpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmb3JtYXQgZHVyYXRpb24gd2l0aCBob3VycyBvbmx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgZHVyYXRpb24gPSAzICogNjAgKiA2MCAqIDEwMDAgKyAzMCAqIDYwICogMTAwMDsgLy8gM2ggMzBtXG4gICAgICBjb25zdCByZXN1bHQgPSBmb3JtYXRQb2xsRHVyYXRpb24oZHVyYXRpb24pO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnM2ggMzBtJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZvcm1hdCBkdXJhdGlvbiB3aXRoIG1pbnV0ZXMgb25seScsICgpID0+IHtcbiAgICAgIGNvbnN0IGR1cmF0aW9uID0gMzAgKiA2MCAqIDEwMDA7IC8vIDMwbVxuICAgICAgY29uc3QgcmVzdWx0ID0gZm9ybWF0UG9sbER1cmF0aW9uKGR1cmF0aW9uKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJzMwbScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnY2FsY3VsYXRlUGFydGljaXBhdGlvblJhdGUnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjYWxjdWxhdGUgcGFydGljaXBhdGlvbiByYXRlIGNvcnJlY3RseScsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZVBhcnRpY2lwYXRpb25SYXRlKDI1LCAxMDApO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgyNSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJldHVybiAwIGZvciB6ZXJvIHVzZXJzJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlUGFydGljaXBhdGlvblJhdGUoMTAsIDApO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcm91bmQgdG8gbmVhcmVzdCBpbnRlZ2VyJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlUGFydGljaXBhdGlvblJhdGUoMzMsIDEwMCk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKDMzKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2dldFBvbGxTdGF0dXNUZXh0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGNvcnJlY3Qgc3RhdHVzIHRleHQgZm9yIGFsbCBzdGF0dXNlcycsICgpID0+IHtcbiAgICAgIGV4cGVjdChnZXRQb2xsU3RhdHVzVGV4dCgnZHJhZnQnKSkudG9CZSgnRHJhZnQnKTtcbiAgICAgIGV4cGVjdChnZXRQb2xsU3RhdHVzVGV4dCgnYWN0aXZlJykpLnRvQmUoJ0FjdGl2ZScpO1xuICAgICAgZXhwZWN0KGdldFBvbGxTdGF0dXNUZXh0KCdjbG9zZWQnKSkudG9CZSgnQ2xvc2VkJyk7XG4gICAgICBleHBlY3QoZ2V0UG9sbFN0YXR1c1RleHQoJ2FyY2hpdmVkJykpLnRvQmUoJ0FyY2hpdmVkJyk7XG4gICAgICBleHBlY3QoZ2V0UG9sbFN0YXR1c1RleHQoJ2xvY2tlZCcpKS50b0JlKCdMb2NrZWQnKTtcbiAgICAgIGV4cGVjdChnZXRQb2xsU3RhdHVzVGV4dCgncG9zdC1jbG9zZScpKS50b0JlKCdQb3N0LUNsb3NlJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZXRWb3RpbmdNZXRob2RUZXh0JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmV0dXJuIGNvcnJlY3QgbWV0aG9kIHRleHQgZm9yIGFsbCBtZXRob2RzJywgKCkgPT4ge1xuICAgICAgZXhwZWN0KGdldFZvdGluZ01ldGhvZFRleHQoJ3NpbmdsZScpKS50b0JlKCdTaW5nbGUgQ2hvaWNlJyk7XG4gICAgICBleHBlY3QoZ2V0Vm90aW5nTWV0aG9kVGV4dCgnYXBwcm92YWwnKSkudG9CZSgnQXBwcm92YWwgVm90aW5nJyk7XG4gICAgICBleHBlY3QoZ2V0Vm90aW5nTWV0aG9kVGV4dCgncmFua2VkJykpLnRvQmUoJ1JhbmtlZCBDaG9pY2UnKTtcbiAgICAgIGV4cGVjdChnZXRWb3RpbmdNZXRob2RUZXh0KCdyYW5nZScpKS50b0JlKCdSYW5nZSBWb3RpbmcnKTtcbiAgICAgIGV4cGVjdChnZXRWb3RpbmdNZXRob2RUZXh0KCdxdWFkcmF0aWMnKSkudG9CZSgnUXVhZHJhdGljIFZvdGluZycpO1xuICAgICAgZXhwZWN0KGdldFZvdGluZ01ldGhvZFRleHQoJ211bHRpcGxlJykpLnRvQmUoJ011bHRpcGxlIENob2ljZScpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnYWxsb3dzTXVsdGlwbGVWb3RlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiB0cnVlIGZvciBtZXRob2RzIHRoYXQgYWxsb3cgbXVsdGlwbGUgdm90ZXMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoYWxsb3dzTXVsdGlwbGVWb3RlcygnYXBwcm92YWwnKSkudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChhbGxvd3NNdWx0aXBsZVZvdGVzKCdtdWx0aXBsZScpKS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgZm9yIG1ldGhvZHMgdGhhdCBkbyBub3QgYWxsb3cgbXVsdGlwbGUgdm90ZXMnLCAoKSA9PiB7XG4gICAgICBleHBlY3QoYWxsb3dzTXVsdGlwbGVWb3Rlcygnc2luZ2xlJykpLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KGFsbG93c011bHRpcGxlVm90ZXMoJ3JhbmtlZCcpKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChhbGxvd3NNdWx0aXBsZVZvdGVzKCdyYW5nZScpKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChhbGxvd3NNdWx0aXBsZVZvdGVzKCdxdWFkcmF0aWMnKSkudG9CZShmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdjYWxjdWxhdGVPcHRpb25QZXJjZW50YWdlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY2FsY3VsYXRlIHBlcmNlbnRhZ2UgY29ycmVjdGx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlT3B0aW9uUGVyY2VudGFnZSgyNSwgMTAwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoMjUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gMCBmb3IgemVybyB0b3RhbCB2b3RlcycsICgpID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGN1bGF0ZU9wdGlvblBlcmNlbnRhZ2UoMTAsIDApO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcm91bmQgdG8gbmVhcmVzdCBpbnRlZ2VyJywgKCkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gY2FsY3VsYXRlT3B0aW9uUGVyY2VudGFnZSgzMywgMTAwKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoMzMpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc29ydE9wdGlvbnNCeVZvdGVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc29ydCBvcHRpb25zIGJ5IHZvdGUgY291bnQgaW4gZGVzY2VuZGluZyBvcmRlcicsICgpID0+IHtcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSBbXG4gICAgICAgIHsgaWQ6ICcxJywgdGV4dDogJ09wdGlvbiAxJywgdm90ZXM6IDEwIH0sXG4gICAgICAgIHsgaWQ6ICcyJywgdGV4dDogJ09wdGlvbiAyJywgdm90ZXM6IDMwIH0sXG4gICAgICAgIHsgaWQ6ICczJywgdGV4dDogJ09wdGlvbiAzJywgdm90ZXM6IDIwIH1cbiAgICAgIF07XG4gICAgICBjb25zdCByZXN1bHQgPSBzb3J0T3B0aW9uc0J5Vm90ZXMob3B0aW9ucyBhcyBhbnkpO1xuICAgICAgZXhwZWN0KHJlc3VsdFswXT8udm90ZXMpLnRvQmUoMzApO1xuICAgICAgZXhwZWN0KHJlc3VsdFsxXT8udm90ZXMpLnRvQmUoMjApO1xuICAgICAgZXhwZWN0KHJlc3VsdFsyXT8udm90ZXMpLnRvQmUoMTApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgb3B0aW9ucyB3aXRob3V0IHZvdGVzJywgKCkgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9ucyA9IFtcbiAgICAgICAgeyBpZDogJzEnLCB0ZXh0OiAnT3B0aW9uIDEnIH0sXG4gICAgICAgIHsgaWQ6ICcyJywgdGV4dDogJ09wdGlvbiAyJywgdm90ZXM6IDEwIH1cbiAgICAgIF07XG4gICAgICBjb25zdCByZXN1bHQgPSBzb3J0T3B0aW9uc0J5Vm90ZXMob3B0aW9ucyBhcyBhbnkpO1xuICAgICAgZXhwZWN0KHJlc3VsdFswXT8udm90ZXMpLnRvQmUoMTApO1xuICAgICAgZXhwZWN0KHJlc3VsdFsxXT8udm90ZXMpLnRvQmVVbmRlZmluZWQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2lzUG9sbEV4cGlyZWQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gdHJ1ZSBmb3IgZXhwaXJlZCBwb2xsJywgKCkgPT4ge1xuICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKERhdGUubm93KCkgLSAxMDAwICogNjAgKiA2MCk7IC8vIDEgaG91ciBhZ29cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGlzUG9sbEV4cGlyZWQoZW5kRGF0ZSk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKHRydWUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gZmFsc2UgZm9yIGFjdGl2ZSBwb2xsJywgKCkgPT4ge1xuICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKERhdGUubm93KCkgKyAxMDAwICogNjAgKiA2MCk7IC8vIDEgaG91ciBmcm9tIG5vd1xuICAgICAgY29uc3QgcmVzdWx0ID0gaXNQb2xsRXhwaXJlZChlbmREYXRlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZ2V0VGltZVJlbWFpbmluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBjb3JyZWN0IHRpbWUgcmVtYWluaW5nJywgKCkgPT4ge1xuICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKERhdGUubm93KCkgKyAxMDAwICogNjAgKiA2MCk7IC8vIDEgaG91ciBmcm9tIG5vd1xuICAgICAgY29uc3QgcmVzdWx0ID0gZ2V0VGltZVJlbWFpbmluZyhlbmREYXRlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmVDbG9zZVRvKDYwICogNjAgKiAxMDAwLCAtMik7IC8vIEFwcHJveGltYXRlbHkgMSBob3VyIGluIG1pbGxpc2Vjb25kc1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gMCBmb3IgZXhwaXJlZCBwb2xsJywgKCkgPT4ge1xuICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKERhdGUubm93KCkgLSAxMDAwICogNjAgKiA2MCk7IC8vIDEgaG91ciBhZ29cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGdldFRpbWVSZW1haW5pbmcoZW5kRGF0ZSk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZm9ybWF0VGltZVJlbWFpbmluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGZvcm1hdCB0aW1lIHJlbWFpbmluZyB3aXRoIGRheXMnLCAoKSA9PiB7XG4gICAgICBjb25zdCB0aW1lUmVtYWluaW5nID0gMiAqIDI0ICogNjAgKiA2MCAqIDEwMDAgKyAzICogNjAgKiA2MCAqIDEwMDAgKyAzMCAqIDYwICogMTAwMDsgLy8gMmQgM2ggMzBtXG4gICAgICBjb25zdCByZXN1bHQgPSBmb3JtYXRUaW1lUmVtYWluaW5nKHRpbWVSZW1haW5pbmcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnMmQgM2ggMzBtIHJlbWFpbmluZycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBmb3JtYXQgdGltZSByZW1haW5pbmcgd2l0aCBob3VycyBvbmx5JywgKCkgPT4ge1xuICAgICAgY29uc3QgdGltZVJlbWFpbmluZyA9IDMgKiA2MCAqIDYwICogMTAwMCArIDMwICogNjAgKiAxMDAwOyAvLyAzaCAzMG1cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGZvcm1hdFRpbWVSZW1haW5pbmcodGltZVJlbWFpbmluZyk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKCczaCAzMG0gcmVtYWluaW5nJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGZvcm1hdCB0aW1lIHJlbWFpbmluZyB3aXRoIG1pbnV0ZXMgb25seScsICgpID0+IHtcbiAgICAgIGNvbnN0IHRpbWVSZW1haW5pbmcgPSAzMCAqIDYwICogMTAwMDsgLy8gMzBtXG4gICAgICBjb25zdCByZXN1bHQgPSBmb3JtYXRUaW1lUmVtYWluaW5nKHRpbWVSZW1haW5pbmcpO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnMzBtIHJlbWFpbmluZycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gXCJFeHBpcmVkXCIgZm9yIHplcm8gdGltZSByZW1haW5pbmcnLCAoKSA9PiB7XG4gICAgICBjb25zdCByZXN1bHQgPSBmb3JtYXRUaW1lUmVtYWluaW5nKDApO1xuICAgICAgZXhwZWN0KHJlc3VsdCkudG9CZSgnRXhwaXJlZCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnc2FuaXRpemVQb2xsVGl0bGVGb3JVcmwnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBzYW5pdGl6ZSB0aXRsZSBjb3JyZWN0bHknLCAoKSA9PiB7XG4gICAgICBjb25zdCB0aXRsZSA9ICdXaGF0IGlzIHlvdXIgZmF2b3JpdGUgY29sb3I/JztcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHNhbml0aXplUG9sbFRpdGxlRm9yVXJsKHRpdGxlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ3doYXQtaXMteW91ci1mYXZvcml0ZS1jb2xvcicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc3BlY2lhbCBjaGFyYWN0ZXJzJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGl0bGUgPSAnUG9sbCB3aXRoIEAjJCVeJiooKSBzcGVjaWFsIGNoYXJzISc7XG4gICAgICBjb25zdCByZXN1bHQgPSBzYW5pdGl6ZVBvbGxUaXRsZUZvclVybCh0aXRsZSk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKCdwb2xsLXdpdGgtc3BlY2lhbC1jaGFycycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgbXVsdGlwbGUgc3BhY2VzIGFuZCBoeXBoZW5zJywgKCkgPT4ge1xuICAgICAgY29uc3QgdGl0bGUgPSAnUG9sbCAgIHdpdGgtLS1tdWx0aXBsZSAgIHNwYWNlcyc7XG4gICAgICBjb25zdCByZXN1bHQgPSBzYW5pdGl6ZVBvbGxUaXRsZUZvclVybCh0aXRsZSk7XG4gICAgICBleHBlY3QocmVzdWx0KS50b0JlKCdwb2xsLXdpdGgtbXVsdGlwbGUtc3BhY2VzJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdnZW5lcmF0ZVBvbGxTdW1tYXJ5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZ2VuZXJhdGUgY29ycmVjdCBzdW1tYXJ5JywgKCkgPT4ge1xuICAgICAgY29uc3QgcG9sbCA9IHtcbiAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgdGl0bGU6ICdUZXN0IFBvbGwnLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ1Rlc3QgRGVzY3JpcHRpb24nLFxuICAgICAgICBvcHRpb25zOiBbXSxcbiAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyBhcyBjb25zdCxcbiAgICAgICAgc3RhcnREYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBlbmREYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKSxcbiAgICAgICAgY3JlYXRlZEJ5OiAndXNlcjEnLFxuICAgICAgICBzZXR0aW5nczoge30gYXMgYW55LFxuICAgICAgICBjYXRlZ29yeTogJ2dlbmVyYWwnIGFzIGFueSxcbiAgICAgICAgdGFnczogW10sXG4gICAgICAgIHByaXZhY3lMZXZlbDogJ3B1YmxpYycgYXMgY29uc3QsXG4gICAgICAgIHZvdGluZ01ldGhvZDogJ3NpbmdsZScgYXMgY29uc3QsXG4gICAgICAgIHRvdGFsVm90ZXM6IDEwMCxcbiAgICAgICAgcGFydGljaXBhdGlvblJhdGU6IDI1XG4gICAgICB9O1xuICAgICAgY29uc3QgcmVzdWx0ID0gZ2VuZXJhdGVQb2xsU3VtbWFyeShwb2xsKTtcbiAgICAgIGV4cGVjdChyZXN1bHQpLnRvQmUoJ0FjdGl2ZSDigKIgU2luZ2xlIENob2ljZSDigKIgMjUlIHBhcnRpY2lwYXRpb24nKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJkZXNjcmliZSIsIml0IiwiZGF0ZSIsInJlc3VsdCIsImZvcm1hdFBvbGxEYXRlIiwiZXhwZWN0IiwidG9CZSIsIkRhdGUiLCJzdGFydCIsImVuZCIsImNhbGN1bGF0ZVBvbGxEdXJhdGlvbiIsIm5vdyIsImlzUG9sbEFjdGl2ZSIsInZhbGlkYXRlUG9sbFRpdGxlIiwiaXNWYWxpZCIsImVycm9yIiwidG9CZVVuZGVmaW5lZCIsImxvbmdUaXRsZSIsInJlcGVhdCIsInZhbGlkYXRlUG9sbERlc2NyaXB0aW9uIiwibG9uZ0Rlc2NyaXB0aW9uIiwidmFsaWRhdGVQb2xsT3B0aW9ucyIsIm1hbnlPcHRpb25zIiwiQXJyYXkiLCJmcm9tIiwibGVuZ3RoIiwiXyIsImkiLCJzZXR0aW5ncyIsIm1heFNlbGVjdGlvbnMiLCJtYXhWb3RlcyIsInZhbGlkYXRlUG9sbFNldHRpbmdzIiwiZHVyYXRpb24iLCJmb3JtYXRQb2xsRHVyYXRpb24iLCJjYWxjdWxhdGVQYXJ0aWNpcGF0aW9uUmF0ZSIsImdldFBvbGxTdGF0dXNUZXh0IiwiZ2V0Vm90aW5nTWV0aG9kVGV4dCIsImFsbG93c011bHRpcGxlVm90ZXMiLCJjYWxjdWxhdGVPcHRpb25QZXJjZW50YWdlIiwib3B0aW9ucyIsImlkIiwidGV4dCIsInZvdGVzIiwic29ydE9wdGlvbnNCeVZvdGVzIiwiZW5kRGF0ZSIsImlzUG9sbEV4cGlyZWQiLCJnZXRUaW1lUmVtYWluaW5nIiwidG9CZUNsb3NlVG8iLCJ0aW1lUmVtYWluaW5nIiwiZm9ybWF0VGltZVJlbWFpbmluZyIsInRpdGxlIiwic2FuaXRpemVQb2xsVGl0bGVGb3JVcmwiLCJwb2xsIiwiZGVzY3JpcHRpb24iLCJzdGF0dXMiLCJzdGFydERhdGUiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJjcmVhdGVkQnkiLCJjYXRlZ29yeSIsInRhZ3MiLCJwcml2YWN5TGV2ZWwiLCJ2b3RpbmdNZXRob2QiLCJ0b3RhbFZvdGVzIiwicGFydGljaXBhdGlvblJhdGUiLCJnZW5lcmF0ZVBvbGxTdW1tYXJ5Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0NBTUM7Ozs7dUJBc0JNO0FBRVBBLFNBQVMsa0JBQWtCO0lBQ3pCQSxTQUFTLGtCQUFrQjtRQUN6QkMsR0FBRyx1Q0FBdUM7WUFDeEMsTUFBTUMsT0FBTztZQUNiLE1BQU1DLFNBQVNDLElBQUFBLHFCQUFjLEVBQUNGO1lBQzlCRyxPQUFPRixRQUFRRyxJQUFJLENBQUM7UUFDdEI7UUFFQUwsR0FBRyx1Q0FBdUM7WUFDeEMsTUFBTUMsT0FBTyxJQUFJSyxLQUFLO1lBQ3RCLE1BQU1KLFNBQVNDLElBQUFBLHFCQUFjLEVBQUNGO1lBQzlCRyxPQUFPRixRQUFRRyxJQUFJLENBQUM7UUFDdEI7SUFDRjtJQUVBTixTQUFTLHlCQUF5QjtRQUNoQ0MsR0FBRyx1Q0FBdUM7WUFDeEMsTUFBTU8sUUFBUTtZQUNkLE1BQU1DLE1BQU07WUFDWixNQUFNTixTQUFTTyxJQUFBQSw0QkFBcUIsRUFBQ0YsT0FBT0M7WUFDNUNKLE9BQU9GLFFBQVFHLElBQUksQ0FBQyxJQUFJLEtBQUssS0FBSyxPQUFPLDBCQUEwQjtRQUNyRTtJQUNGO0lBRUFOLFNBQVMsZ0JBQWdCO1FBQ3ZCQyxHQUFHLHNDQUFzQztZQUN2QyxNQUFNTyxRQUFRLElBQUlELEtBQUtBLEtBQUtJLEdBQUcsS0FBSyxPQUFPLEtBQUssS0FBSyxhQUFh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