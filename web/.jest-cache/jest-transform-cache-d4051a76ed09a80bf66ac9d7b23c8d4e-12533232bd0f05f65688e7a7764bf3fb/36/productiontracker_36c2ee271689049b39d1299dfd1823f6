4d810864fa9aa33929533f1708ba6c86
/**
 * Production Performance Tracker
 * 
 * Provides real-world performance tracking, user experience metrics,
 * regression detection, and advanced analytics for production environments.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get ProductionTracker () {
        return ProductionTracker;
    },
    get productionTracker () {
        return productionTracker;
    }
});
const _logger = require("../../../../lib/utils/logger");
class ProductionTracker {
    /**
   * Start production tracking session
   */ startTracking(sessionId, userId) {
        this.sessionId = sessionId;
        this.isTracking = true;
        _logger.logger.info(`ðŸ­ Starting production tracking for session: ${sessionId}`);
        if (userId) {
            _logger.logger.info(`ðŸ‘¤ User ID: ${userId}`);
        }
    }
    /**
   * Stop production tracking
   */ stopTracking() {
        this.isTracking = false;
        _logger.logger.info(`ðŸ­ Production tracking stopped for session: ${this.sessionId}`);
    }
    /**
   * Record production performance metrics
   */ recordProductionMetrics(metrics) {
        if (!this.isTracking) {
            console.warn('âš ï¸ Production tracking not started. Call startTracking() first.');
            return;
        }
        const fullMetrics = {
            ...metrics,
            sessionId: this.sessionId,
            timestamp: new Date()
        };
        this.metrics.push(fullMetrics);
        // Check for performance regressions
        this.checkForRegressions(fullMetrics);
        // Update baseline metrics
        this.updateBaselineMetrics(fullMetrics);
        _logger.logger.info(`ðŸ“Š Production metrics recorded:`);
        _logger.logger.info(`- Render Time: ${fullMetrics.performance.renderTime.toFixed(2)}ms`);
        _logger.logger.info(`- Memory Usage: ${fullMetrics.performance.memoryUsage.toFixed(2)}MB`);
        _logger.logger.info(`- User Satisfaction: ${fullMetrics.userExperience.satisfaction}/5`);
        _logger.logger.info(`- Task Completion: ${fullMetrics.userExperience.taskCompletion ? 'Yes' : 'No'}`);
    }
    /**
   * Check for performance regressions
   */ checkForRegressions(metrics) {
        const performanceKeys = Object.keys(metrics.performance);
        performanceKeys.forEach((key)=>{
            const currentValue = metrics.performance[key];
            const baselineKey = `${metrics.deviceType}_${key}`;
            const baselineValue = this.baselineMetrics.get(baselineKey);
            if (baselineValue !== undefined) {
                const changePercentage = (currentValue - baselineValue) / baselineValue * 100;
                // Define regression thresholds
                const thresholds = {
                    renderTime: 20,
                    memoryUsage: 30,
                    networkLatency: 25,
                    apiResponseTime: 30,
                    userInteractionTime: 15,
                    pageLoadTime: 25,
                    timeToInteractive: 20,
                    firstContentfulPaint: 15,
                    largestContentfulPaint: 20,
                    cumulativeLayoutShift: 50
                };
                const threshold = thresholds[key] || 20;
                if (changePercentage > threshold) {
                    const severity = this.calculateRegressionSeverity(changePercentage, key);
                    const regression = {
                        id: `regression_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
                        componentName: 'Production Performance',
                        metric: key,
                        baselineValue,
                        currentValue,
                        changePercentage,
                        severity,
                        detectedAt: new Date(),
                        impact: {
                            userExperience: this.calculateUserExperienceImpact(changePercentage, key),
                            businessMetrics: this.calculateBusinessImpact(changePercentage, key),
                            technicalDebt: this.calculateTechnicalDebtImpact(changePercentage, key)
                        }
                    };
                    this.regressions.push(regression);
                    _logger.logger.info(`ðŸš¨ Performance regression detected:`);
                    _logger.logger.info(`- Metric: ${key}`);
                    _logger.logger.info(`- Change: +${changePercentage.toFixed(2)}%`);
                    _logger.logger.info(`- Severity: ${severity.toUpperCase()}`);
                }
            }
        });
    }
    /**
   * Calculate regression severity
   */ calculateRegressionSeverity(changePercentage, metric) {
        if (changePercentage > 100) return 'critical';
        if (changePercentage > 50) return 'high';
        if (changePercentage > 25) return 'medium';
        return 'low';
    }
    /**
   * Calculate user experience impact
   */ calculateUserExperienceImpact(changePercentage, metric) {
        const impactFactors = {
            renderTime: 0.8,
            memoryUsage: 0.6,
            networkLatency: 0.7,
            apiResponseTime: 0.9,
            userInteractionTime: 0.95,
            pageLoadTime: 0.85,
            timeToInteractive: 0.9,
            firstContentfulPaint: 0.8,
            largestContentfulPaint: 0.7,
            cumulativeLayoutShift: 0.6
        };
        const factor = impactFactors[metric] || 0.5;
        return Math.min(100, changePercentage * factor);
    }
    /**
   * Calculate business impact
   */ calculateBusinessImpact(changePercentage, metric) {
        const businessFactors = {
            renderTime: 0.3,
            memoryUsage: 0.2,
            networkLatency: 0.4,
            apiResponseTime: 0.6,
            userInteractionTime: 0.7,
            pageLoadTime: 0.5,
            timeToInteractive: 0.6,
            firstContentfulPaint: 0.4,
            largestContentfulPaint: 0.3,
            cumulativeLayoutShift: 0.2
        };
        const factor = businessFactors[metric] || 0.3;
        return Math.min(100, changePercentage * factor);
    }
    /**
   * Calculate technical debt impact
   */ calculateTechnicalDebtImpact(changePercentage, metric) {
        const debtFactors = {
            renderTime: 0.4,
            memoryUsage: 0.8,
            networkLatency: 0.3,
            apiResponseTime: 0.5,
            userInteractionTime: 0.3,
            pageLoadTime: 0.4,
            timeToInteractive: 0.3,
            firstContentfulPaint: 0.2,
            largestContentfulPaint: 0.2,
            cumulativeLayoutShift: 0.1
        };
        const factor = debtFactors[metric] || 0.4;
        return Math.min(100, changePercentage * factor);
    }
    /**
   * Update baseline metrics
   */ updateBaselineMetrics(metrics) {
        const performanceKeys = Object.keys(metrics.performance);
        performanceKeys.forEach((key)=>{
            const baselineKey = `${metrics.deviceType}_${key}`;
            const currentValue = metrics.performance[key];
            const existingBaseline = this.baselineMetrics.get(baselineKey);
            if (existingBaseline === undefined) {
                // Set initial baseline
                this.baselineMetrics.set(baselineKey, currentValue);
            } else {
                // Update baseline with exponential moving average
                const alpha = 0.1; // Learning rate
                const newBaseline = alpha * currentValue + (1 - alpha) * existingBaseline;
                this.baselineMetrics.set(baselineKey, newBaseline);
            }
        });
    }
    /**
   * Generate user experience insights
   */ generateUserExperienceInsights() {
        if (this.metrics.length === 0) {
            return {
                overallScore: 0,
                topIssues: [
                    'No data available'
                ],
                improvementOpportunities: [],
                userSegments: {
                    highPerformers: [],
                    strugglingUsers: [],
                    atRiskUsers: []
                },
                recommendations: [
                    'Start collecting user experience data'
                ],
                predictedImpact: 0
            };
        }
        const satisfactionScores = this.metrics.map((m)=>m.userExperience.satisfaction);
        const averageSatisfaction = satisfactionScores.reduce((sum, score)=>sum + score, 0) / satisfactionScores.length;
        const taskCompletionRate = this.metrics.filter((m)=>m.userExperience.taskCompletion).length / this.metrics.length;
        const errorRate = this.metrics.reduce((sum, m)=>sum + m.userExperience.errorRate, 0) / this.metrics.length;
        // Calculate overall score (capped at 100)
        const overallScore = Math.min(100, averageSatisfaction * 20 + taskCompletionRate * 30 + (1 - errorRate) * 50);
        // Identify top issues
        const topIssues = [];
        if (averageSatisfaction < 3) topIssues.push('Low user satisfaction');
        if (taskCompletionRate < 0.7) topIssues.push('Poor task completion rate');
        if (errorRate > 0.1) topIssues.push('High error rate');
        // Identify improvement opportunities
        const improvementOpportunities = [];
        if (averageSatisfaction < 4) improvementOpportunities.push('Improve user satisfaction');
        if (taskCompletionRate < 0.8) improvementOpportunities.push('Enhance task completion');
        if (errorRate > 0.05) improvementOpportunities.push('Reduce error rate');
        // Segment users
        const highPerformers = this.metrics.filter((m)=>m.userExperience.satisfaction >= 4 && m.userExperience.taskCompletion && m.userExperience.errorRate < 0.05).map((m)=>m.sessionId);
        const strugglingUsers = this.metrics.filter((m)=>m.userExperience.satisfaction < 3 || !m.userExperience.taskCompletion || m.userExperience.errorRate > 0.1).map((m)=>m.sessionId);
        const atRiskUsers = this.metrics.filter((m)=>m.userExperience.satisfaction < 4 && m.userExperience.satisfaction >= 3).map((m)=>m.sessionId);
        // Generate recommendations
        const recommendations = [];
        if (averageSatisfaction < 4) {
            recommendations.push('Focus on user experience improvements');
        }
        if (taskCompletionRate < 0.8) {
            recommendations.push('Simplify user workflows');
        }
        if (errorRate > 0.05) {
            recommendations.push('Improve error handling and user guidance');
        }
        const predictedImpact = Math.max(0, 100 - overallScore);
        return {
            overallScore,
            topIssues,
            improvementOpportunities,
            userSegments: {
                highPerformers,
                strugglingUsers,
                atRiskUsers
            },
            recommendations,
            predictedImpact
        };
    }
    /**
   * Generate production analytics
   */ generateProductionAnalytics() {
        if (this.metrics.length === 0) {
            return {
                performanceTrends: [],
                userExperienceMetrics: {
                    satisfactionDistribution: [],
                    taskCompletionRate: 0,
                    errorRate: 0,
                    bounceRate: 0
                },
                businessImpact: {
                    conversionImpact: 0,
                    revenueImpact: 0,
                    userRetentionImpact: 0
                },
                technicalHealth: {
                    performanceScore: 0,
                    stabilityScore: 0,
                    scalabilityScore: 0,
                    maintainabilityScore: 0
                }
            };
        }
        // Calculate performance trends
        const performanceTrends = this.calculatePerformanceTrends();
        // Calculate user experience metrics
        const userExperienceMetrics = this.calculateUserExperienceMetrics();
        // Calculate business impact
        const businessImpact = this.calculateBusinessImpactMetrics();
        // Calculate technical health
        const technicalHealth = this.calculateTechnicalHealth();
        return {
            performanceTrends,
            userExperienceMetrics,
            businessImpact,
            technicalHealth
        };
    }
    /**
   * Calculate performance trends
   */ calculatePerformanceTrends() {
        // Group metrics by time periods (simplified for demo)
        const periods = [
            'Week 1',
            'Week 2',
            'Week 3',
            'Week 4'
        ];
        return periods.map((period)=>{
            const periodMetrics = this.metrics.slice(0, Math.floor(this.metrics.length / 4));
            const averageRenderTime = periodMetrics.reduce((sum, m)=>sum + m.performance.renderTime, 0) / periodMetrics.length;
            const averageMemoryUsage = periodMetrics.reduce((sum, m)=>sum + m.performance.memoryUsage, 0) / periodMetrics.length;
            const averageUserSatisfaction = periodMetrics.reduce((sum, m)=>sum + m.userExperience.satisfaction, 0) / periodMetrics.length;
            return {
                period,
                averageRenderTime,
                averageMemoryUsage,
                averageUserSatisfaction,
                trend: 'stable'
            };
        });
    }
    /**
   * Calculate user experience metrics
   */ calculateUserExperienceMetrics() {
        const satisfactionScores = this.metrics.map((m)=>m.userExperience.satisfaction);
        const satisfactionDistribution = [
            1,
            2,
            3,
            4,
            5
        ].map((score)=>({
                score,
                percentage: satisfactionScores.filter((s)=>s === score).length / satisfactionScores.length * 100
            }));
        const taskCompletionRate = this.metrics.filter((m)=>m.userExperience.taskCompletion).length / this.metrics.length;
        const errorRate = this.metrics.reduce((sum, m)=>sum + m.userExperience.errorRate, 0) / this.metrics.length;
        const bounceRate = this.metrics.filter((m)=>m.userExperience.bounceRate).length / this.metrics.length;
        return {
            satisfactionDistribution,
            taskCompletionRate,
            errorRate,
            bounceRate
        };
    }
    /**
   * Calculate business impact
   */ calculateBusinessImpactMetrics() {
        const averageSatisfaction = this.metrics.reduce((sum, m)=>sum + m.userExperience.satisfaction, 0) / this.metrics.length;
        const taskCompletionRate = this.metrics.filter((m)=>m.userExperience.taskCompletion).length / this.metrics.length;
        const averageRevenueImpact = this.metrics.reduce((sum, m)=>sum + m.businessMetrics.revenueImpact, 0) / this.metrics.length;
        return {
            conversionImpact: (averageSatisfaction - 3) * 10,
            revenueImpact: averageRevenueImpact,
            userRetentionImpact: taskCompletionRate * 20
        };
    }
    /**
   * Calculate technical health
   */ calculateTechnicalHealth() {
        const averageRenderTime = this.metrics.reduce((sum, m)=>sum + m.performance.renderTime, 0) / this.metrics.length;
        const averageMemoryUsage = this.metrics.reduce((sum, m)=>sum + m.performance.memoryUsage, 0) / this.metrics.length;
        const errorRate = this.metrics.reduce((sum, m)=>sum + m.userExperience.errorRate, 0) / this.metrics.length;
        const performanceScore = Math.max(0, 100 - averageRenderTime / 10);
        const stabilityScore = Math.max(0, 100 - errorRate * 1000);
        const scalabilityScore = Math.max(0, 100 - averageMemoryUsage * 5);
        const maintainabilityScore = 85; // Simplified calculation
        return {
            performanceScore,
            stabilityScore,
            scalabilityScore,
            maintainabilityScore
        };
    }
    /**
   * Get active regressions
   */ getActiveRegressions() {
        return this.regressions.filter((r)=>!r.resolvedAt);
    }
    /**
   * Resolve regression
   */ resolveRegression(regressionId) {
        const regression = this.regressions.find((r)=>r.id === regressionId);
        if (regression) {
            regression.resolvedAt = new Date();
            _logger.logger.info(`âœ… Regression resolved: ${regressionId}`);
        }
    }
    /**
   * Get production metrics for a specific session
   */ getSessionMetrics(sessionId) {
        return this.metrics.filter((m)=>m.sessionId === sessionId);
    }
    /**
   * Clear all production data
   */ clear() {
        this.metrics = [];
        this.regressions = [];
        this.baselineMetrics.clear();
        this.isTracking = false;
        this.sessionId = '';
    }
    /**
   * Export production data
   */ exportProductionData() {
        return JSON.stringify({
            metrics: this.metrics,
            regressions: this.regressions,
            baselineMetrics: Object.fromEntries(this.baselineMetrics),
            insights: this.generateUserExperienceInsights(),
            analytics: this.generateProductionAnalytics()
        }, null, 2);
    }
    constructor(){
        this.metrics = [];
        this.regressions = [];
        this.baselineMetrics = new Map();
        this.isTracking = false;
        this.sessionId = '';
    }
}
const productionTracker = new ProductionTracker();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L3VuaXQvcGVyZm9ybWFuY2UvcHJvZHVjdGlvbi10cmFja2VyLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogUHJvZHVjdGlvbiBQZXJmb3JtYW5jZSBUcmFja2VyXG4gKiBcbiAqIFByb3ZpZGVzIHJlYWwtd29ybGQgcGVyZm9ybWFuY2UgdHJhY2tpbmcsIHVzZXIgZXhwZXJpZW5jZSBtZXRyaWNzLFxuICogcmVncmVzc2lvbiBkZXRlY3Rpb24sIGFuZCBhZHZhbmNlZCBhbmFseXRpY3MgZm9yIHByb2R1Y3Rpb24gZW52aXJvbm1lbnRzLlxuICovXG5cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0AvbGliL3V0aWxzL2xvZ2dlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdGlvbk1ldHJpY3Mge1xuICBzZXNzaW9uSWQ6IHN0cmluZztcbiAgdXNlcklkPzogc3RyaW5nO1xuICB0aW1lc3RhbXA6IERhdGU7XG4gIHVzZXJBZ2VudDogc3RyaW5nO1xuICBkZXZpY2VUeXBlOiAnbW9iaWxlJyB8ICd0YWJsZXQnIHwgJ2Rlc2t0b3AnO1xuICBjb25uZWN0aW9uVHlwZTogJ3Nsb3ctMmcnIHwgJzJnJyB8ICczZycgfCAnNGcnIHwgJ3dpZmknIHwgJ2V0aGVybmV0JztcbiAgdmlld3BvcnQ6IHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfTtcbiAgcGVyZm9ybWFuY2U6IHtcbiAgICByZW5kZXJUaW1lOiBudW1iZXI7XG4gICAgbWVtb3J5VXNhZ2U6IG51bWJlcjtcbiAgICBuZXR3b3JrTGF0ZW5jeTogbnVtYmVyO1xuICAgIGFwaVJlc3BvbnNlVGltZTogbnVtYmVyO1xuICAgIHVzZXJJbnRlcmFjdGlvblRpbWU6IG51bWJlcjtcbiAgICBwYWdlTG9hZFRpbWU6IG51bWJlcjtcbiAgICB0aW1lVG9JbnRlcmFjdGl2ZTogbnVtYmVyO1xuICAgIGZpcnN0Q29udGVudGZ1bFBhaW50OiBudW1iZXI7XG4gICAgbGFyZ2VzdENvbnRlbnRmdWxQYWludDogbnVtYmVyO1xuICAgIGN1bXVsYXRpdmVMYXlvdXRTaGlmdDogbnVtYmVyO1xuICB9O1xuICB1c2VyRXhwZXJpZW5jZToge1xuICAgIHNhdGlzZmFjdGlvbjogbnVtYmVyOyAvLyAxLTUgc2NhbGVcbiAgICBmcnVzdHJhdGlvbjogbnVtYmVyOyAvLyAxLTUgc2NhbGVcbiAgICB0YXNrQ29tcGxldGlvbjogYm9vbGVhbjtcbiAgICBlcnJvclJhdGU6IG51bWJlcjtcbiAgICBib3VuY2VSYXRlOiBib29sZWFuO1xuICAgIHNlc3Npb25EdXJhdGlvbjogbnVtYmVyO1xuICB9O1xuICBidXNpbmVzc01ldHJpY3M6IHtcbiAgICBjb252ZXJzaW9uUmF0ZTogbnVtYmVyO1xuICAgIGVuZ2FnZW1lbnRTY29yZTogbnVtYmVyO1xuICAgIHJldGVudGlvblJhdGU6IG51bWJlcjtcbiAgICByZXZlbnVlSW1wYWN0OiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyZm9ybWFuY2VSZWdyZXNzaW9uIHtcbiAgaWQ6IHN0cmluZztcbiAgY29tcG9uZW50TmFtZTogc3RyaW5nO1xuICBtZXRyaWM6IHN0cmluZztcbiAgYmFzZWxpbmVWYWx1ZTogbnVtYmVyO1xuICBjdXJyZW50VmFsdWU6IG51bWJlcjtcbiAgY2hhbmdlUGVyY2VudGFnZTogbnVtYmVyO1xuICBzZXZlcml0eTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB8ICdjcml0aWNhbCc7XG4gIGRldGVjdGVkQXQ6IERhdGU7XG4gIHJlc29sdmVkQXQ/OiBEYXRlO1xuICBpbXBhY3Q6IHtcbiAgICB1c2VyRXhwZXJpZW5jZTogbnVtYmVyO1xuICAgIGJ1c2luZXNzTWV0cmljczogbnVtYmVyO1xuICAgIHRlY2huaWNhbERlYnQ6IG51bWJlcjtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBVc2VyRXhwZXJpZW5jZUluc2lnaHRzIHtcbiAgb3ZlcmFsbFNjb3JlOiBudW1iZXI7XG4gIHRvcElzc3Vlczogc3RyaW5nW107XG4gIGltcHJvdmVtZW50T3Bwb3J0dW5pdGllczogc3RyaW5nW107XG4gIHVzZXJTZWdtZW50czoge1xuICAgIGhpZ2hQZXJmb3JtZXJzOiBzdHJpbmdbXTtcbiAgICBzdHJ1Z2dsaW5nVXNlcnM6IHN0cmluZ1tdO1xuICAgIGF0Umlza1VzZXJzOiBzdHJpbmdbXTtcbiAgfTtcbiAgcmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXTtcbiAgcHJlZGljdGVkSW1wYWN0OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZHVjdGlvbkFuYWx5dGljcyB7XG4gIHBlcmZvcm1hbmNlVHJlbmRzOiBBcnJheTx7XG4gICAgcGVyaW9kOiBzdHJpbmc7XG4gICAgYXZlcmFnZVJlbmRlclRpbWU6IG51bWJlcjtcbiAgICBhdmVyYWdlTWVtb3J5VXNhZ2U6IG51bWJlcjtcbiAgICBhdmVyYWdlVXNlclNhdGlzZmFjdGlvbjogbnVtYmVyO1xuICAgIHRyZW5kOiAnaW1wcm92aW5nJyB8ICdzdGFibGUnIHwgJ2RlY2xpbmluZyc7XG4gIH0+O1xuICB1c2VyRXhwZXJpZW5jZU1ldHJpY3M6IHtcbiAgICBzYXRpc2ZhY3Rpb25EaXN0cmlidXRpb246IEFycmF5PHsgc2NvcmU6IG51bWJlcjsgcGVyY2VudGFnZTogbnVtYmVyIH0+O1xuICAgIHRhc2tDb21wbGV0aW9uUmF0ZTogbnVtYmVyO1xuICAgIGVycm9yUmF0ZTogbnVtYmVyO1xuICAgIGJvdW5jZVJhdGU6IG51bWJlcjtcbiAgfTtcbiAgYnVzaW5lc3NJbXBhY3Q6IHtcbiAgICBjb252ZXJzaW9uSW1wYWN0OiBudW1iZXI7XG4gICAgcmV2ZW51ZUltcGFjdDogbnVtYmVyO1xuICAgIHVzZXJSZXRlbnRpb25JbXBhY3Q6IG51bWJlcjtcbiAgfTtcbiAgdGVjaG5pY2FsSGVhbHRoOiB7XG4gICAgcGVyZm9ybWFuY2VTY29yZTogbnVtYmVyO1xuICAgIHN0YWJpbGl0eVNjb3JlOiBudW1iZXI7XG4gICAgc2NhbGFiaWxpdHlTY29yZTogbnVtYmVyO1xuICAgIG1haW50YWluYWJpbGl0eVNjb3JlOiBudW1iZXI7XG4gIH07XG59XG5cbmV4cG9ydCBjbGFzcyBQcm9kdWN0aW9uVHJhY2tlciB7XG4gIHByaXZhdGUgbWV0cmljczogUHJvZHVjdGlvbk1ldHJpY3NbXSA9IFtdO1xuICBwcml2YXRlIHJlZ3Jlc3Npb25zOiBQZXJmb3JtYW5jZVJlZ3Jlc3Npb25bXSA9IFtdO1xuICBwcml2YXRlIGJhc2VsaW5lTWV0cmljczogTWFwPHN0cmluZywgbnVtYmVyPiA9IG5ldyBNYXAoKTtcbiAgcHJpdmF0ZSBpc1RyYWNraW5nID0gZmFsc2U7XG4gIHByaXZhdGUgc2Vzc2lvbklkID0gJyc7XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHByb2R1Y3Rpb24gdHJhY2tpbmcgc2Vzc2lvblxuICAgKi9cbiAgc3RhcnRUcmFja2luZyhzZXNzaW9uSWQ6IHN0cmluZywgdXNlcklkPzogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zZXNzaW9uSWQgPSBzZXNzaW9uSWQ7XG4gICAgdGhpcy5pc1RyYWNraW5nID0gdHJ1ZTtcbiAgICBcbiAgICBsb2dnZXIuaW5mbyhg8J+PrSBTdGFydGluZyBwcm9kdWN0aW9uIHRyYWNraW5nIGZvciBzZXNzaW9uOiAke3Nlc3Npb25JZH1gKTtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICBsb2dnZXIuaW5mbyhg8J+RpCBVc2VyIElEOiAke3VzZXJJZH1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU3RvcCBwcm9kdWN0aW9uIHRyYWNraW5nXG4gICAqL1xuICBzdG9wVHJhY2tpbmcoKTogdm9pZCB7XG4gICAgdGhpcy5pc1RyYWNraW5nID0gZmFsc2U7XG4gICAgbG9nZ2VyLmluZm8oYPCfj60gUHJvZHVjdGlvbiB0cmFja2luZyBzdG9wcGVkIGZvciBzZXNzaW9uOiAke3RoaXMuc2Vzc2lvbklkfWApO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlY29yZCBwcm9kdWN0aW9uIHBlcmZvcm1hbmNlIG1ldHJpY3NcbiAgICovXG4gIHJlY29yZFByb2R1Y3Rpb25NZXRyaWNzKG1ldHJpY3M6IE9taXQ8UHJvZHVjdGlvbk1ldHJpY3MsICdzZXNzaW9uSWQnIHwgJ3RpbWVzdGFtcCc+KTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmlzVHJhY2tpbmcpIHtcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFByb2R1Y3Rpb24gdHJhY2tpbmcgbm90IHN0YXJ0ZWQuIENhbGwgc3RhcnRUcmFja2luZygpIGZpcnN0LicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IGZ1bGxNZXRyaWNzOiBQcm9kdWN0aW9uTWV0cmljcyA9IHtcbiAgICAgIC4uLm1ldHJpY3MsXG4gICAgICBzZXNzaW9uSWQ6IHRoaXMuc2Vzc2lvbklkLFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgIH07XG5cbiAgICB0aGlzLm1ldHJpY3MucHVzaChmdWxsTWV0cmljcyk7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIHBlcmZvcm1hbmNlIHJlZ3Jlc3Npb25zXG4gICAgdGhpcy5jaGVja0ZvclJlZ3Jlc3Npb25zKGZ1bGxNZXRyaWNzKTtcbiAgICBcbiAgICAvLyBVcGRhdGUgYmFzZWxpbmUgbWV0cmljc1xuICAgIHRoaXMudXBkYXRlQmFzZWxpbmVNZXRyaWNzKGZ1bGxNZXRyaWNzKTtcbiAgICBcbiAgICBsb2dnZXIuaW5mbyhg8J+TiiBQcm9kdWN0aW9uIG1ldHJpY3MgcmVjb3JkZWQ6YCk7XG4gICAgbG9nZ2VyLmluZm8oYC0gUmVuZGVyIFRpbWU6ICR7ZnVsbE1ldHJpY3MucGVyZm9ybWFuY2UucmVuZGVyVGltZS50b0ZpeGVkKDIpfW1zYCk7XG4gICAgbG9nZ2VyLmluZm8oYC0gTWVtb3J5IFVzYWdlOiAke2Z1bGxNZXRyaWNzLnBlcmZvcm1hbmNlLm1lbW9yeVVzYWdlLnRvRml4ZWQoMil9TUJgKTtcbiAgICBsb2dnZXIuaW5mbyhgLSBVc2VyIFNhdGlzZmFjdGlvbjogJHtmdWxsTWV0cmljcy51c2VyRXhwZXJpZW5jZS5zYXRpc2ZhY3Rpb259LzVgKTtcbiAgICBsb2dnZXIuaW5mbyhgLSBUYXNrIENvbXBsZXRpb246ICR7ZnVsbE1ldHJpY3MudXNlckV4cGVyaWVuY2UudGFza0NvbXBsZXRpb24gPyAnWWVzJyA6ICdObyd9YCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgZm9yIHBlcmZvcm1hbmNlIHJlZ3Jlc3Npb25zXG4gICAqL1xuICBwcml2YXRlIGNoZWNrRm9yUmVncmVzc2lvbnMobWV0cmljczogUHJvZHVjdGlvbk1ldHJpY3MpOiB2b2lkIHtcbiAgICBjb25zdCBwZXJmb3JtYW5jZUtleXMgPSBPYmplY3Qua2V5cyhtZXRyaWNzLnBlcmZvcm1hbmNlKSBhcyBBcnJheTxrZXlvZiB0eXBlb2YgbWV0cmljcy5wZXJmb3JtYW5jZT47XG4gICAgXG4gICAgcGVyZm9ybWFuY2VLZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IG1ldHJpY3MucGVyZm9ybWFuY2Vba2V5XTtcbiAgICAgIGNvbnN0IGJhc2VsaW5lS2V5ID0gYCR7bWV0cmljcy5kZXZpY2VUeXBlfV8ke2tleX1gO1xuICAgICAgY29uc3QgYmFzZWxpbmVWYWx1ZSA9IHRoaXMuYmFzZWxpbmVNZXRyaWNzLmdldChiYXNlbGluZUtleSk7XG4gICAgICBcbiAgICAgIGlmIChiYXNlbGluZVZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgY2hhbmdlUGVyY2VudGFnZSA9ICgoY3VycmVudFZhbHVlIC0gYmFzZWxpbmVWYWx1ZSkgLyBiYXNlbGluZVZhbHVlKSAqIDEwMDtcbiAgICAgICAgXG4gICAgICAgIC8vIERlZmluZSByZWdyZXNzaW9uIHRocmVzaG9sZHNcbiAgICAgICAgY29uc3QgdGhyZXNob2xkcyA9IHtcbiAgICAgICAgICByZW5kZXJUaW1lOiAyMCwgLy8gMjAlIGluY3JlYXNlXG4gICAgICAgICAgbWVtb3J5VXNhZ2U6IDMwLCAvLyAzMCUgaW5jcmVhc2VcbiAgICAgICAgICBuZXR3b3JrTGF0ZW5jeTogMjUsIC8vIDI1JSBpbmNyZWFzZVxuICAgICAgICAgIGFwaVJlc3BvbnNlVGltZTogMzAsIC8vIDMwJSBpbmNyZWFzZVxuICAgICAgICAgIHVzZXJJbnRlcmFjdGlvblRpbWU6IDE1LCAvLyAxNSUgaW5jcmVhc2VcbiAgICAgICAgICBwYWdlTG9hZFRpbWU6IDI1LCAvLyAyNSUgaW5jcmVhc2VcbiAgICAgICAgICB0aW1lVG9JbnRlcmFjdGl2ZTogMjAsIC8vIDIwJSBpbmNyZWFzZVxuICAgICAgICAgIGZpcnN0Q29udGVudGZ1bFBhaW50OiAxNSwgLy8gMTUlIGluY3JlYXNlXG4gICAgICAgICAgbGFyZ2VzdENvbnRlbnRmdWxQYWludDogMjAsIC8vIDIwJSBpbmNyZWFzZVxuICAgICAgICAgIGN1bXVsYXRpdmVMYXlvdXRTaGlmdDogNTAsIC8vIDUwJSBpbmNyZWFzZVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgY29uc3QgdGhyZXNob2xkID0gdGhyZXNob2xkc1trZXldIHx8IDIwO1xuICAgICAgICBcbiAgICAgICAgaWYgKGNoYW5nZVBlcmNlbnRhZ2UgPiB0aHJlc2hvbGQpIHtcbiAgICAgICAgICBjb25zdCBzZXZlcml0eSA9IHRoaXMuY2FsY3VsYXRlUmVncmVzc2lvblNldmVyaXR5KGNoYW5nZVBlcmNlbnRhZ2UsIGtleSk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgcmVncmVzc2lvbjogUGVyZm9ybWFuY2VSZWdyZXNzaW9uID0ge1xuICAgICAgICAgICAgaWQ6IGByZWdyZXNzaW9uXyR7RGF0ZS5ub3coKX1fJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YCxcbiAgICAgICAgICAgIGNvbXBvbmVudE5hbWU6ICdQcm9kdWN0aW9uIFBlcmZvcm1hbmNlJyxcbiAgICAgICAgICAgIG1ldHJpYzoga2V5LFxuICAgICAgICAgICAgYmFzZWxpbmVWYWx1ZSxcbiAgICAgICAgICAgIGN1cnJlbnRWYWx1ZSxcbiAgICAgICAgICAgIGNoYW5nZVBlcmNlbnRhZ2UsXG4gICAgICAgICAgICBzZXZlcml0eSxcbiAgICAgICAgICAgIGRldGVjdGVkQXQ6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICBpbXBhY3Q6IHtcbiAgICAgICAgICAgICAgdXNlckV4cGVyaWVuY2U6IHRoaXMuY2FsY3VsYXRlVXNlckV4cGVyaWVuY2VJbXBhY3QoY2hhbmdlUGVyY2VudGFnZSwga2V5KSxcbiAgICAgICAgICAgICAgYnVzaW5lc3NNZXRyaWNzOiB0aGlzLmNhbGN1bGF0ZUJ1c2luZXNzSW1wYWN0KGNoYW5nZVBlcmNlbnRhZ2UsIGtleSksXG4gICAgICAgICAgICAgIHRlY2huaWNhbERlYnQ6IHRoaXMuY2FsY3VsYXRlVGVjaG5pY2FsRGVidEltcGFjdChjaGFuZ2VQZXJjZW50YWdlLCBrZXkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIHRoaXMucmVncmVzc2lvbnMucHVzaChyZWdyZXNzaW9uKTtcbiAgICAgICAgICBcbiAgICAgICAgICBsb2dnZXIuaW5mbyhg8J+aqCBQZXJmb3JtYW5jZSByZWdyZXNzaW9uIGRldGVjdGVkOmApO1xuICAgICAgICAgIGxvZ2dlci5pbmZvKGAtIE1ldHJpYzogJHtrZXl9YCk7XG4gICAgICAgICAgbG9nZ2VyLmluZm8oYC0gQ2hhbmdlOiArJHtjaGFuZ2VQZXJjZW50YWdlLnRvRml4ZWQoMil9JWApO1xuICAgICAgICAgIGxvZ2dlci5pbmZvKGAtIFNldmVyaXR5OiAke3NldmVyaXR5LnRvVXBwZXJDYXNlKCl9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgcmVncmVzc2lvbiBzZXZlcml0eVxuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVSZWdyZXNzaW9uU2V2ZXJpdHkoY2hhbmdlUGVyY2VudGFnZTogbnVtYmVyLCBtZXRyaWM6IHN0cmluZyk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnIHtcbiAgICBpZiAoY2hhbmdlUGVyY2VudGFnZSA+IDEwMCkgcmV0dXJuICdjcml0aWNhbCc7XG4gICAgaWYgKGNoYW5nZVBlcmNlbnRhZ2UgPiA1MCkgcmV0dXJuICdoaWdoJztcbiAgICBpZiAoY2hhbmdlUGVyY2VudGFnZSA+IDI1KSByZXR1cm4gJ21lZGl1bSc7XG4gICAgcmV0dXJuICdsb3cnO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB1c2VyIGV4cGVyaWVuY2UgaW1wYWN0XG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZVVzZXJFeHBlcmllbmNlSW1wYWN0KGNoYW5nZVBlcmNlbnRhZ2U6IG51bWJlciwgbWV0cmljOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGNvbnN0IGltcGFjdEZhY3RvcnMgPSB7XG4gICAgICByZW5kZXJUaW1lOiAwLjgsXG4gICAgICBtZW1vcnlVc2FnZTogMC42LFxuICAgICAgbmV0d29ya0xhdGVuY3k6IDAuNyxcbiAgICAgIGFwaVJlc3BvbnNlVGltZTogMC45LFxuICAgICAgdXNlckludGVyYWN0aW9uVGltZTogMC45NSxcbiAgICAgIHBhZ2VMb2FkVGltZTogMC44NSxcbiAgICAgIHRpbWVUb0ludGVyYWN0aXZlOiAwLjksXG4gICAgICBmaXJzdENvbnRlbnRmdWxQYWludDogMC44LFxuICAgICAgbGFyZ2VzdENvbnRlbnRmdWxQYWludDogMC43LFxuICAgICAgY3VtdWxhdGl2ZUxheW91dFNoaWZ0OiAwLjYsXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBmYWN0b3IgPSBpbXBhY3RGYWN0b3JzW21ldHJpYyBhcyBrZXlvZiB0eXBlb2YgaW1wYWN0RmFjdG9yc10gfHwgMC41O1xuICAgIHJldHVybiBNYXRoLm1pbigxMDAsIGNoYW5nZVBlcmNlbnRhZ2UgKiBmYWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBidXNpbmVzcyBpbXBhY3RcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlQnVzaW5lc3NJbXBhY3QoY2hhbmdlUGVyY2VudGFnZTogbnVtYmVyLCBtZXRyaWM6IHN0cmluZyk6IG51bWJlciB7XG4gICAgY29uc3QgYnVzaW5lc3NGYWN0b3JzID0ge1xuICAgICAgcmVuZGVyVGltZTogMC4zLFxuICAgICAgbWVtb3J5VXNhZ2U6IDAuMixcbiAgICAgIG5ldHdvcmtMYXRlbmN5OiAwLjQsXG4gICAgICBhcGlSZXNwb25zZVRpbWU6IDAuNixcbiAgICAgIHVzZXJJbnRlcmFjdGlvblRpbWU6IDAuNyxcbiAgICAgIHBhZ2VMb2FkVGltZTogMC41LFxuICAgICAgdGltZVRvSW50ZXJhY3RpdmU6IDAuNixcbiAgICAgIGZpcnN0Q29udGVudGZ1bFBhaW50OiAwLjQsXG4gICAgICBsYXJnZXN0Q29udGVudGZ1bFBhaW50OiAwLjMsXG4gICAgICBjdW11bGF0aXZlTGF5b3V0U2hpZnQ6IDAuMixcbiAgICB9O1xuICAgIFxuICAgIGNvbnN0IGZhY3RvciA9IGJ1c2luZXNzRmFjdG9yc1ttZXRyaWMgYXMga2V5b2YgdHlwZW9mIGJ1c2luZXNzRmFjdG9yc10gfHwgMC4zO1xuICAgIHJldHVybiBNYXRoLm1pbigxMDAsIGNoYW5nZVBlcmNlbnRhZ2UgKiBmYWN0b3IpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0ZWNobmljYWwgZGVidCBpbXBhY3RcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlVGVjaG5pY2FsRGVidEltcGFjdChjaGFuZ2VQZXJjZW50YWdlOiBudW1iZXIsIG1ldHJpYzogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBjb25zdCBkZWJ0RmFjdG9ycyA9IHtcbiAgICAgIHJlbmRlclRpbWU6IDAuNCxcbiAgICAgIG1lbW9yeVVzYWdlOiAwLjgsXG4gICAgICBuZXR3b3JrTGF0ZW5jeTogMC4zLFxuICAgICAgYXBpUmVzcG9uc2VUaW1lOiAwLjUsXG4gICAgICB1c2VySW50ZXJhY3Rpb25UaW1lOiAwLjMsXG4gICAgICBwYWdlTG9hZFRpbWU6IDAuNCxcbiAgICAgIHRpbWVUb0ludGVyYWN0aXZlOiAwLjMsXG4gICAgICBmaXJzdENvbnRlbnRmdWxQYWludDogMC4yLFxuICAgICAgbGFyZ2VzdENvbnRlbnRmdWxQYWludDogMC4yLFxuICAgICAgY3VtdWxhdGl2ZUxheW91dFNoaWZ0OiAwLjEsXG4gICAgfTtcbiAgICBcbiAgICBjb25zdCBmYWN0b3IgPSBkZWJ0RmFjdG9yc1ttZXRyaWMgYXMga2V5b2YgdHlwZW9mIGRlYnRGYWN0b3JzXSB8fCAwLjQ7XG4gICAgcmV0dXJuIE1hdGgubWluKDEwMCwgY2hhbmdlUGVyY2VudGFnZSAqIGZhY3Rvcik7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGJhc2VsaW5lIG1ldHJpY3NcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlQmFzZWxpbmVNZXRyaWNzKG1ldHJpY3M6IFByb2R1Y3Rpb25NZXRyaWNzKTogdm9pZCB7XG4gICAgY29uc3QgcGVyZm9ybWFuY2VLZXlzID0gT2JqZWN0LmtleXMobWV0cmljcy5wZXJmb3JtYW5jZSkgYXMgQXJyYXk8a2V5b2YgdHlwZW9mIG1ldHJpY3MucGVyZm9ybWFuY2U+O1xuICAgIFxuICAgIHBlcmZvcm1hbmNlS2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCBiYXNlbGluZUtleSA9IGAke21ldHJpY3MuZGV2aWNlVHlwZX1fJHtrZXl9YDtcbiAgICAgIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IG1ldHJpY3MucGVyZm9ybWFuY2Vba2V5XTtcbiAgICAgIGNvbnN0IGV4aXN0aW5nQmFzZWxpbmUgPSB0aGlzLmJhc2VsaW5lTWV0cmljcy5nZXQoYmFzZWxpbmVLZXkpO1xuICAgICAgXG4gICAgICBpZiAoZXhpc3RpbmdCYXNlbGluZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIFNldCBpbml0aWFsIGJhc2VsaW5lXG4gICAgICAgIHRoaXMuYmFzZWxpbmVNZXRyaWNzLnNldChiYXNlbGluZUtleSwgY3VycmVudFZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFVwZGF0ZSBiYXNlbGluZSB3aXRoIGV4cG9uZW50aWFsIG1vdmluZyBhdmVyYWdlXG4gICAgICAgIGNvbnN0IGFscGhhID0gMC4xOyAvLyBMZWFybmluZyByYXRlXG4gICAgICAgIGNvbnN0IG5ld0Jhc2VsaW5lID0gKGFscGhhICogY3VycmVudFZhbHVlKSArICgoMSAtIGFscGhhKSAqIGV4aXN0aW5nQmFzZWxpbmUpO1xuICAgICAgICB0aGlzLmJhc2VsaW5lTWV0cmljcy5zZXQoYmFzZWxpbmVLZXksIG5ld0Jhc2VsaW5lKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSB1c2VyIGV4cGVyaWVuY2UgaW5zaWdodHNcbiAgICovXG4gIGdlbmVyYXRlVXNlckV4cGVyaWVuY2VJbnNpZ2h0cygpOiBVc2VyRXhwZXJpZW5jZUluc2lnaHRzIHtcbiAgICBpZiAodGhpcy5tZXRyaWNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgb3ZlcmFsbFNjb3JlOiAwLFxuICAgICAgICB0b3BJc3N1ZXM6IFsnTm8gZGF0YSBhdmFpbGFibGUnXSxcbiAgICAgICAgaW1wcm92ZW1lbnRPcHBvcnR1bml0aWVzOiBbXSxcbiAgICAgICAgdXNlclNlZ21lbnRzOiB7XG4gICAgICAgICAgaGlnaFBlcmZvcm1lcnM6IFtdLFxuICAgICAgICAgIHN0cnVnZ2xpbmdVc2VyczogW10sXG4gICAgICAgICAgYXRSaXNrVXNlcnM6IFtdLFxuICAgICAgICB9LFxuICAgICAgICByZWNvbW1lbmRhdGlvbnM6IFsnU3RhcnQgY29sbGVjdGluZyB1c2VyIGV4cGVyaWVuY2UgZGF0YSddLFxuICAgICAgICBwcmVkaWN0ZWRJbXBhY3Q6IDAsXG4gICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IHNhdGlzZmFjdGlvblNjb3JlcyA9IHRoaXMubWV0cmljcy5tYXAobSA9PiBtLnVzZXJFeHBlcmllbmNlLnNhdGlzZmFjdGlvbik7XG4gICAgY29uc3QgYXZlcmFnZVNhdGlzZmFjdGlvbiA9IHNhdGlzZmFjdGlvblNjb3Jlcy5yZWR1Y2UoKHN1bSwgc2NvcmUpID0+IHN1bSArIHNjb3JlLCAwKSAvIHNhdGlzZmFjdGlvblNjb3Jlcy5sZW5ndGg7XG4gICAgXG4gICAgY29uc3QgdGFza0NvbXBsZXRpb25SYXRlID0gdGhpcy5tZXRyaWNzLmZpbHRlcihtID0+IG0udXNlckV4cGVyaWVuY2UudGFza0NvbXBsZXRpb24pLmxlbmd0aCAvIHRoaXMubWV0cmljcy5sZW5ndGg7XG4gICAgY29uc3QgZXJyb3JSYXRlID0gdGhpcy5tZXRyaWNzLnJlZHVjZSgoc3VtLCBtKSA9PiBzdW0gKyBtLnVzZXJFeHBlcmllbmNlLmVycm9yUmF0ZSwgMCkgLyB0aGlzLm1ldHJpY3MubGVuZ3RoO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSBvdmVyYWxsIHNjb3JlIChjYXBwZWQgYXQgMTAwKVxuICAgIGNvbnN0IG92ZXJhbGxTY29yZSA9IE1hdGgubWluKDEwMCwgKGF2ZXJhZ2VTYXRpc2ZhY3Rpb24gKiAyMCkgKyAodGFza0NvbXBsZXRpb25SYXRlICogMzApICsgKCgxIC0gZXJyb3JSYXRlKSAqIDUwKSk7XG4gICAgXG4gICAgLy8gSWRlbnRpZnkgdG9wIGlzc3Vlc1xuICAgIGNvbnN0IHRvcElzc3Vlczogc3RyaW5nW10gPSBbXTtcbiAgICBpZiAoYXZlcmFnZVNhdGlzZmFjdGlvbiA8IDMpIHRvcElzc3Vlcy5wdXNoKCdMb3cgdXNlciBzYXRpc2ZhY3Rpb24nKTtcbiAgICBpZiAodGFza0NvbXBsZXRpb25SYXRlIDwgMC43KSB0b3BJc3N1ZXMucHVzaCgnUG9vciB0YXNrIGNvbXBsZXRpb24gcmF0ZScpO1xuICAgIGlmIChlcnJvclJhdGUgPiAwLjEpIHRvcElzc3Vlcy5wdXNoKCdIaWdoIGVycm9yIHJhdGUnKTtcbiAgICBcbiAgICAvLyBJZGVudGlmeSBpbXByb3ZlbWVudCBvcHBvcnR1bml0aWVzXG4gICAgY29uc3QgaW1wcm92ZW1lbnRPcHBvcnR1bml0aWVzOiBzdHJpbmdbXSA9IFtdO1xuICAgIGlmIChhdmVyYWdlU2F0aXNmYWN0aW9uIDwgNCkgaW1wcm92ZW1lbnRPcHBvcnR1bml0aWVzLnB1c2goJ0ltcHJvdmUgdXNlciBzYXRpc2ZhY3Rpb24nKTtcbiAgICBpZiAodGFza0NvbXBsZXRpb25SYXRlIDwgMC44KSBpbXByb3ZlbWVudE9wcG9ydHVuaXRpZXMucHVzaCgnRW5oYW5jZSB0YXNrIGNvbXBsZXRpb24nKTtcbiAgICBpZiAoZXJyb3JSYXRlID4gMC4wNSkgaW1wcm92ZW1lbnRPcHBvcnR1bml0aWVzLnB1c2goJ1JlZHVjZSBlcnJvciByYXRlJyk7XG4gICAgXG4gICAgLy8gU2VnbWVudCB1c2Vyc1xuICAgIGNvbnN0IGhpZ2hQZXJmb3JtZXJzID0gdGhpcy5tZXRyaWNzLmZpbHRlcihtID0+IFxuICAgICAgbS51c2VyRXhwZXJpZW5jZS5zYXRpc2ZhY3Rpb24gPj0gNCAmJiBcbiAgICAgIG0udXNlckV4cGVyaWVuY2UudGFza0NvbXBsZXRpb24gJiYgXG4gICAgICBtLnVzZXJFeHBlcmllbmNlLmVycm9yUmF0ZSA8IDAuMDVcbiAgICApLm1hcChtID0+IG0uc2Vzc2lvbklkKTtcbiAgICBcbiAgICBjb25zdCBzdHJ1Z2dsaW5nVXNlcnMgPSB0aGlzLm1ldHJpY3MuZmlsdGVyKG0gPT4gXG4gICAgICBtLnVzZXJFeHBlcmllbmNlLnNhdGlzZmFjdGlvbiA8IDMgfHwgXG4gICAgICAhbS51c2VyRXhwZXJpZW5jZS50YXNrQ29tcGxldGlvbiB8fCBcbiAgICAgIG0udXNlckV4cGVyaWVuY2UuZXJyb3JSYXRlID4gMC4xXG4gICAgKS5tYXAobSA9PiBtLnNlc3Npb25JZCk7XG4gICAgXG4gICAgY29uc3QgYXRSaXNrVXNlcnMgPSB0aGlzLm1ldHJpY3MuZmlsdGVyKG0gPT4gXG4gICAgICBtLnVzZXJFeHBlcmllbmNlLnNhdGlzZmFjdGlvbiA8IDQgJiYgXG4gICAgICBtLnVzZXJFeHBlcmllbmNlLnNhdGlzZmFjdGlvbiA+PSAzXG4gICAgKS5tYXAobSA9PiBtLnNlc3Npb25JZCk7XG4gICAgXG4gICAgLy8gR2VuZXJhdGUgcmVjb21tZW5kYXRpb25zXG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXSA9IFtdO1xuICAgIGlmIChhdmVyYWdlU2F0aXNmYWN0aW9uIDwgNCkge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ0ZvY3VzIG9uIHVzZXIgZXhwZXJpZW5jZSBpbXByb3ZlbWVudHMnKTtcbiAgICB9XG4gICAgaWYgKHRhc2tDb21wbGV0aW9uUmF0ZSA8IDAuOCkge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ1NpbXBsaWZ5IHVzZXIgd29ya2Zsb3dzJyk7XG4gICAgfVxuICAgIGlmIChlcnJvclJhdGUgPiAwLjA1KSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgnSW1wcm92ZSBlcnJvciBoYW5kbGluZyBhbmQgdXNlciBndWlkYW5jZScpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBwcmVkaWN0ZWRJbXBhY3QgPSBNYXRoLm1heCgwLCAxMDAgLSBvdmVyYWxsU2NvcmUpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBvdmVyYWxsU2NvcmUsXG4gICAgICB0b3BJc3N1ZXMsXG4gICAgICBpbXByb3ZlbWVudE9wcG9ydHVuaXRpZXMsXG4gICAgICB1c2VyU2VnbWVudHM6IHtcbiAgICAgICAgaGlnaFBlcmZvcm1lcnMsXG4gICAgICAgIHN0cnVnZ2xpbmdVc2VycyxcbiAgICAgICAgYXRSaXNrVXNlcnMsXG4gICAgICB9LFxuICAgICAgcmVjb21tZW5kYXRpb25zLFxuICAgICAgcHJlZGljdGVkSW1wYWN0LFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgcHJvZHVjdGlvbiBhbmFseXRpY3NcbiAgICovXG4gIGdlbmVyYXRlUHJvZHVjdGlvbkFuYWx5dGljcygpOiBQcm9kdWN0aW9uQW5hbHl0aWNzIHtcbiAgICBpZiAodGhpcy5tZXRyaWNzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcGVyZm9ybWFuY2VUcmVuZHM6IFtdLFxuICAgICAgICB1c2VyRXhwZXJpZW5jZU1ldHJpY3M6IHtcbiAgICAgICAgICBzYXRpc2ZhY3Rpb25EaXN0cmlidXRpb246IFtdLFxuICAgICAgICAgIHRhc2tDb21wbGV0aW9uUmF0ZTogMCxcbiAgICAgICAgICBlcnJvclJhdGU6IDAsXG4gICAgICAgICAgYm91bmNlUmF0ZTogMCxcbiAgICAgICAgfSxcbiAgICAgICAgYnVzaW5lc3NJbXBhY3Q6IHtcbiAgICAgICAgICBjb252ZXJzaW9uSW1wYWN0OiAwLFxuICAgICAgICAgIHJldmVudWVJbXBhY3Q6IDAsXG4gICAgICAgICAgdXNlclJldGVudGlvbkltcGFjdDogMCxcbiAgICAgICAgfSxcbiAgICAgICAgdGVjaG5pY2FsSGVhbHRoOiB7XG4gICAgICAgICAgcGVyZm9ybWFuY2VTY29yZTogMCxcbiAgICAgICAgICBzdGFiaWxpdHlTY29yZTogMCxcbiAgICAgICAgICBzY2FsYWJpbGl0eVNjb3JlOiAwLFxuICAgICAgICAgIG1haW50YWluYWJpbGl0eVNjb3JlOiAwLFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBDYWxjdWxhdGUgcGVyZm9ybWFuY2UgdHJlbmRzXG4gICAgY29uc3QgcGVyZm9ybWFuY2VUcmVuZHMgPSB0aGlzLmNhbGN1bGF0ZVBlcmZvcm1hbmNlVHJlbmRzKCk7XG4gICAgXG4gICAgLy8gQ2FsY3VsYXRlIHVzZXIgZXhwZXJpZW5jZSBtZXRyaWNzXG4gICAgY29uc3QgdXNlckV4cGVyaWVuY2VNZXRyaWNzID0gdGhpcy5jYWxjdWxhdGVVc2VyRXhwZXJpZW5jZU1ldHJpY3MoKTtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgYnVzaW5lc3MgaW1wYWN0XG4gICAgY29uc3QgYnVzaW5lc3NJbXBhY3QgPSB0aGlzLmNhbGN1bGF0ZUJ1c2luZXNzSW1wYWN0TWV0cmljcygpO1xuICAgIFxuICAgIC8vIENhbGN1bGF0ZSB0ZWNobmljYWwgaGVhbHRoXG4gICAgY29uc3QgdGVjaG5pY2FsSGVhbHRoID0gdGhpcy5jYWxjdWxhdGVUZWNobmljYWxIZWFsdGgoKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgcGVyZm9ybWFuY2VUcmVuZHMsXG4gICAgICB1c2VyRXhwZXJpZW5jZU1ldHJpY3MsXG4gICAgICBidXNpbmVzc0ltcGFjdCxcbiAgICAgIHRlY2huaWNhbEhlYWx0aCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBwZXJmb3JtYW5jZSB0cmVuZHNcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlUGVyZm9ybWFuY2VUcmVuZHMoKTogUHJvZHVjdGlvbkFuYWx5dGljc1sncGVyZm9ybWFuY2VUcmVuZHMnXSB7XG4gICAgLy8gR3JvdXAgbWV0cmljcyBieSB0aW1lIHBlcmlvZHMgKHNpbXBsaWZpZWQgZm9yIGRlbW8pXG4gICAgY29uc3QgcGVyaW9kcyA9IFsnV2VlayAxJywgJ1dlZWsgMicsICdXZWVrIDMnLCAnV2VlayA0J107XG4gICAgXG4gICAgcmV0dXJuIHBlcmlvZHMubWFwKHBlcmlvZCA9PiB7XG4gICAgICBjb25zdCBwZXJpb2RNZXRyaWNzID0gdGhpcy5tZXRyaWNzLnNsaWNlKDAsIE1hdGguZmxvb3IodGhpcy5tZXRyaWNzLmxlbmd0aCAvIDQpKTtcbiAgICAgIGNvbnN0IGF2ZXJhZ2VSZW5kZXJUaW1lID0gcGVyaW9kTWV0cmljcy5yZWR1Y2UoKHN1bSwgbSkgPT4gc3VtICsgbS5wZXJmb3JtYW5jZS5yZW5kZXJUaW1lLCAwKSAvIHBlcmlvZE1ldHJpY3MubGVuZ3RoO1xuICAgICAgY29uc3QgYXZlcmFnZU1lbW9yeVVzYWdlID0gcGVyaW9kTWV0cmljcy5yZWR1Y2UoKHN1bSwgbSkgPT4gc3VtICsgbS5wZXJmb3JtYW5jZS5tZW1vcnlVc2FnZSwgMCkgLyBwZXJpb2RNZXRyaWNzLmxlbmd0aDtcbiAgICAgIGNvbnN0IGF2ZXJhZ2VVc2VyU2F0aXNmYWN0aW9uID0gcGVyaW9kTWV0cmljcy5yZWR1Y2UoKHN1bSwgbSkgPT4gc3VtICsgbS51c2VyRXhwZXJpZW5jZS5zYXRpc2ZhY3Rpb24sIDApIC8gcGVyaW9kTWV0cmljcy5sZW5ndGg7XG4gICAgICBcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBlcmlvZCxcbiAgICAgICAgYXZlcmFnZVJlbmRlclRpbWUsXG4gICAgICAgIGF2ZXJhZ2VNZW1vcnlVc2FnZSxcbiAgICAgICAgYXZlcmFnZVVzZXJTYXRpc2ZhY3Rpb24sXG4gICAgICAgIHRyZW5kOiAnc3RhYmxlJyBhcyBjb25zdCxcbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHVzZXIgZXhwZXJpZW5jZSBtZXRyaWNzXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZVVzZXJFeHBlcmllbmNlTWV0cmljcygpOiBQcm9kdWN0aW9uQW5hbHl0aWNzWyd1c2VyRXhwZXJpZW5jZU1ldHJpY3MnXSB7XG4gICAgY29uc3Qgc2F0aXNmYWN0aW9uU2NvcmVzID0gdGhpcy5tZXRyaWNzLm1hcChtID0+IG0udXNlckV4cGVyaWVuY2Uuc2F0aXNmYWN0aW9uKTtcbiAgICBjb25zdCBzYXRpc2ZhY3Rpb25EaXN0cmlidXRpb24gPSBbMSwgMiwgMywgNCwgNV0ubWFwKHNjb3JlID0+ICh7XG4gICAgICBzY29yZSxcbiAgICAgIHBlcmNlbnRhZ2U6IChzYXRpc2ZhY3Rpb25TY29yZXMuZmlsdGVyKHMgPT4gcyA9PT0gc2NvcmUpLmxlbmd0aCAvIHNhdGlzZmFjdGlvblNjb3Jlcy5sZW5ndGgpICogMTAwLFxuICAgIH0pKTtcbiAgICBcbiAgICBjb25zdCB0YXNrQ29tcGxldGlvblJhdGUgPSB0aGlzLm1ldHJpY3MuZmlsdGVyKG0gPT4gbS51c2VyRXhwZXJpZW5jZS50YXNrQ29tcGxldGlvbikubGVuZ3RoIC8gdGhpcy5tZXRyaWNzLmxlbmd0aDtcbiAgICBjb25zdCBlcnJvclJhdGUgPSB0aGlzLm1ldHJpY3MucmVkdWNlKChzdW0sIG0pID0+IHN1bSArIG0udXNlckV4cGVyaWVuY2UuZXJyb3JSYXRlLCAwKSAvIHRoaXMubWV0cmljcy5sZW5ndGg7XG4gICAgY29uc3QgYm91bmNlUmF0ZSA9IHRoaXMubWV0cmljcy5maWx0ZXIobSA9PiBtLnVzZXJFeHBlcmllbmNlLmJvdW5jZVJhdGUpLmxlbmd0aCAvIHRoaXMubWV0cmljcy5sZW5ndGg7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIHNhdGlzZmFjdGlvbkRpc3RyaWJ1dGlvbixcbiAgICAgIHRhc2tDb21wbGV0aW9uUmF0ZSxcbiAgICAgIGVycm9yUmF0ZSxcbiAgICAgIGJvdW5jZVJhdGUsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgYnVzaW5lc3MgaW1wYWN0XG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZUJ1c2luZXNzSW1wYWN0TWV0cmljcygpOiBQcm9kdWN0aW9uQW5hbHl0aWNzWydidXNpbmVzc0ltcGFjdCddIHtcbiAgICBjb25zdCBhdmVyYWdlU2F0aXNmYWN0aW9uID0gdGhpcy5tZXRyaWNzLnJlZHVjZSgoc3VtLCBtKSA9PiBzdW0gKyBtLnVzZXJFeHBlcmllbmNlLnNhdGlzZmFjdGlvbiwgMCkgLyB0aGlzLm1ldHJpY3MubGVuZ3RoO1xuICAgIGNvbnN0IHRhc2tDb21wbGV0aW9uUmF0ZSA9IHRoaXMubWV0cmljcy5maWx0ZXIobSA9PiBtLnVzZXJFeHBlcmllbmNlLnRhc2tDb21wbGV0aW9uKS5sZW5ndGggLyB0aGlzLm1ldHJpY3MubGVuZ3RoO1xuICAgIGNvbnN0IGF2ZXJhZ2VSZXZlbnVlSW1wYWN0ID0gdGhpcy5tZXRyaWNzLnJlZHVjZSgoc3VtLCBtKSA9PiBzdW0gKyBtLmJ1c2luZXNzTWV0cmljcy5yZXZlbnVlSW1wYWN0LCAwKSAvIHRoaXMubWV0cmljcy5sZW5ndGg7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIGNvbnZlcnNpb25JbXBhY3Q6IChhdmVyYWdlU2F0aXNmYWN0aW9uIC0gMykgKiAxMCwgLy8gU2ltcGxpZmllZCBjYWxjdWxhdGlvblxuICAgICAgcmV2ZW51ZUltcGFjdDogYXZlcmFnZVJldmVudWVJbXBhY3QsXG4gICAgICB1c2VyUmV0ZW50aW9uSW1wYWN0OiB0YXNrQ29tcGxldGlvblJhdGUgKiAyMCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSB0ZWNobmljYWwgaGVhbHRoXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZVRlY2huaWNhbEhlYWx0aCgpOiBQcm9kdWN0aW9uQW5hbHl0aWNzWyd0ZWNobmljYWxIZWFsdGgnXSB7XG4gICAgY29uc3QgYXZlcmFnZVJlbmRlclRpbWUgPSB0aGlzLm1ldHJpY3MucmVkdWNlKChzdW0sIG0pID0+IHN1bSArIG0ucGVyZm9ybWFuY2UucmVuZGVyVGltZSwgMCkgLyB0aGlzLm1ldHJpY3MubGVuZ3RoO1xuICAgIGNvbnN0IGF2ZXJhZ2VNZW1vcnlVc2FnZSA9IHRoaXMubWV0cmljcy5yZWR1Y2UoKHN1bSwgbSkgPT4gc3VtICsgbS5wZXJmb3JtYW5jZS5tZW1vcnlVc2FnZSwgMCkgLyB0aGlzLm1ldHJpY3MubGVuZ3RoO1xuICAgIGNvbnN0IGVycm9yUmF0ZSA9IHRoaXMubWV0cmljcy5yZWR1Y2UoKHN1bSwgbSkgPT4gc3VtICsgbS51c2VyRXhwZXJpZW5jZS5lcnJvclJhdGUsIDApIC8gdGhpcy5tZXRyaWNzLmxlbmd0aDtcbiAgICBcbiAgICBjb25zdCBwZXJmb3JtYW5jZVNjb3JlID0gTWF0aC5tYXgoMCwgMTAwIC0gKGF2ZXJhZ2VSZW5kZXJUaW1lIC8gMTApKTtcbiAgICBjb25zdCBzdGFiaWxpdHlTY29yZSA9IE1hdGgubWF4KDAsIDEwMCAtIChlcnJvclJhdGUgKiAxMDAwKSk7XG4gICAgY29uc3Qgc2NhbGFiaWxpdHlTY29yZSA9IE1hdGgubWF4KDAsIDEwMCAtIChhdmVyYWdlTWVtb3J5VXNhZ2UgKiA1KSk7XG4gICAgY29uc3QgbWFpbnRhaW5hYmlsaXR5U2NvcmUgPSA4NTsgLy8gU2ltcGxpZmllZCBjYWxjdWxhdGlvblxuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBwZXJmb3JtYW5jZVNjb3JlLFxuICAgICAgc3RhYmlsaXR5U2NvcmUsXG4gICAgICBzY2FsYWJpbGl0eVNjb3JlLFxuICAgICAgbWFpbnRhaW5hYmlsaXR5U2NvcmUsXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWN0aXZlIHJlZ3Jlc3Npb25zXG4gICAqL1xuICBnZXRBY3RpdmVSZWdyZXNzaW9ucygpOiBQZXJmb3JtYW5jZVJlZ3Jlc3Npb25bXSB7XG4gICAgcmV0dXJuIHRoaXMucmVncmVzc2lvbnMuZmlsdGVyKHIgPT4gIXIucmVzb2x2ZWRBdCk7XG4gIH1cblxuICAvKipcbiAgICogUmVzb2x2ZSByZWdyZXNzaW9uXG4gICAqL1xuICByZXNvbHZlUmVncmVzc2lvbihyZWdyZXNzaW9uSWQ6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IHJlZ3Jlc3Npb24gPSB0aGlzLnJlZ3Jlc3Npb25zLmZpbmQociA9PiByLmlkID09PSByZWdyZXNzaW9uSWQpO1xuICAgIGlmIChyZWdyZXNzaW9uKSB7XG4gICAgICByZWdyZXNzaW9uLnJlc29sdmVkQXQgPSBuZXcgRGF0ZSgpO1xuICAgICAgbG9nZ2VyLmluZm8oYOKchSBSZWdyZXNzaW9uIHJlc29sdmVkOiAke3JlZ3Jlc3Npb25JZH1gKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogR2V0IHByb2R1Y3Rpb24gbWV0cmljcyBmb3IgYSBzcGVjaWZpYyBzZXNzaW9uXG4gICAqL1xuICBnZXRTZXNzaW9uTWV0cmljcyhzZXNzaW9uSWQ6IHN0cmluZyk6IFByb2R1Y3Rpb25NZXRyaWNzW10ge1xuICAgIHJldHVybiB0aGlzLm1ldHJpY3MuZmlsdGVyKG0gPT4gbS5zZXNzaW9uSWQgPT09IHNlc3Npb25JZCk7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIHByb2R1Y3Rpb24gZGF0YVxuICAgKi9cbiAgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5tZXRyaWNzID0gW107XG4gICAgdGhpcy5yZWdyZXNzaW9ucyA9IFtdO1xuICAgIHRoaXMuYmFzZWxpbmVNZXRyaWNzLmNsZWFyKCk7XG4gICAgdGhpcy5pc1RyYWNraW5nID0gZmFsc2U7XG4gICAgdGhpcy5zZXNzaW9uSWQgPSAnJztcbiAgfVxuXG4gIC8qKlxuICAgKiBFeHBvcnQgcHJvZHVjdGlvbiBkYXRhXG4gICAqL1xuICBleHBvcnRQcm9kdWN0aW9uRGF0YSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBtZXRyaWNzOiB0aGlzLm1ldHJpY3MsXG4gICAgICByZWdyZXNzaW9uczogdGhpcy5yZWdyZXNzaW9ucyxcbiAgICAgIGJhc2VsaW5lTWV0cmljczogT2JqZWN0LmZyb21FbnRyaWVzKHRoaXMuYmFzZWxpbmVNZXRyaWNzKSxcbiAgICAgIGluc2lnaHRzOiB0aGlzLmdlbmVyYXRlVXNlckV4cGVyaWVuY2VJbnNpZ2h0cygpLFxuICAgICAgYW5hbHl0aWNzOiB0aGlzLmdlbmVyYXRlUHJvZHVjdGlvbkFuYWx5dGljcygpLFxuICAgIH0sIG51bGwsIDIpO1xuICB9XG59XG5cbi8vIEdsb2JhbCBwcm9kdWN0aW9uIHRyYWNrZXIgaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBwcm9kdWN0aW9uVHJhY2tlciA9IG5ldyBQcm9kdWN0aW9uVHJhY2tlcigpO1xuXG5cbiJdLCJuYW1lcyI6WyJQcm9kdWN0aW9uVHJhY2tlciIsInByb2R1Y3Rpb25UcmFja2VyIiwic3RhcnRUcmFja2luZyIsInNlc3Npb25JZCIsInVzZXJJZCIsImlzVHJhY2tpbmciLCJsb2dnZXIiLCJpbmZvIiwic3RvcFRyYWNraW5nIiwicmVjb3JkUHJvZHVjdGlvbk1ldHJpY3MiLCJtZXRyaWNzIiwiY29uc29sZSIsIndhcm4iLCJmdWxsTWV0cmljcyIsInRpbWVzdGFtcCIsIkRhdGUiLCJwdXNoIiwiY2hlY2tGb3JSZWdyZXNzaW9ucyIsInVwZGF0ZUJhc2VsaW5lTWV0cmljcyIsInBlcmZvcm1hbmNlIiwicmVuZGVyVGltZSIsInRvRml4ZWQiLCJtZW1vcnlVc2FnZSIsInVzZXJFeHBlcmllbmNlIiwic2F0aXNmYWN0aW9uIiwidGFza0NvbXBsZXRpb24iLCJwZXJmb3JtYW5jZUtleXMiLCJPYmplY3QiLCJrZXlzIiwiZm9yRWFjaCIsImtleSIsImN1cnJlbnRWYWx1ZSIsImJhc2VsaW5lS2V5IiwiZGV2aWNlVHlwZSIsImJhc2VsaW5lVmFsdWUiLCJiYXNlbGluZU1ldHJpY3MiLCJnZXQiLCJ1bmRlZmluZWQiLCJjaGFuZ2VQZXJjZW50YWdlIiwidGhyZXNob2xkcyIsIm5ldHdvcmtMYXRlbmN5IiwiYXBpUmVzcG9uc2VUaW1lIiwidXNlckludGVyYWN0aW9uVGltZSIsInBhZ2VMb2FkVGltZSIsInRpbWVUb0ludGVyYWN0aXZlIiwiZmlyc3RDb250ZW50ZnVsUGFpbnQiLCJsYXJnZXN0Q29udGVudGZ1bFBhaW50IiwiY3VtdWxhdGl2ZUxheW91dFNoaWZ0IiwidGhyZXNob2xkIiwic2V2ZXJpdHkiLCJjYWxjdWxhdGVSZWdyZXNzaW9uU2V2ZXJpdHkiLCJyZWdyZXNzaW9uIiwiaWQiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJjb21wb25lbnROYW1lIiwibWV0cmljIiwiZGV0ZWN0ZWRBdCIsImltcGFjdCIsImNhbGN1bGF0ZVVzZXJFeHBlcmllbmNlSW1wYWN0IiwiYnVzaW5lc3NNZXRyaWNzIiwiY2FsY3VsYXRlQnVzaW5lc3NJbXBhY3QiLCJ0ZWNobmljYWxEZWJ0IiwiY2FsY3VsYXRlVGVjaG5pY2FsRGVidEltcGFjdCIsInJlZ3Jlc3Npb25zIiwidG9VcHBlckNhc2UiLCJpbXBhY3RGYWN0b3JzIiwiZmFjdG9yIiwibWluIiwiYnVzaW5lc3NGYWN0b3JzIiwiZGVidEZhY3RvcnMiLCJleGlzdGluZ0Jhc2VsaW5lIiwic2V0IiwiYWxwaGEiLCJuZXdCYXNlbGluZSIsImdlbmVyYXRlVXNlckV4cGVyaWVuY2VJbnNpZ2h0cyIsImxlbmd0aCIsIm92ZXJhbGxTY29yZSIsInRvcElzc3VlcyIsImltcHJvdmVtZW50T3Bwb3J0dW5pdGllcyIsInVzZXJTZWdtZW50cyIsImhpZ2hQZXJmb3JtZXJzIiwic3RydWdnbGluZ1VzZXJzIiwiYXRSaXNrVXNlcnMiLCJyZWNvbW1lbmRhdGlvbnMiLCJwcmVkaWN0ZWRJbXBhY3QiLCJzYXRpc2ZhY3Rpb25TY29yZXMiLCJtYXAiLCJtIiwiYXZlcmFnZVNhdGlzZmFjdGlvbiIsInJlZHVjZSIsInN1bSIsInNjb3JlIiwidGFza0NvbXBsZXRpb25SYXRlIiwiZmlsdGVyIiwiZXJyb3JSYXRlIiwibWF4IiwiZ2VuZXJhdGVQcm9kdWN0aW9uQW5hbHl0aWNzIiwicGVyZm9ybWFuY2VUcmVuZHMiLCJ1c2VyRXhwZXJpZW5jZU1ldHJpY3MiLCJzYXRpc2ZhY3Rpb25EaXN0cmlidXRpb24iLCJib3VuY2VSYXRlIiwiYnVzaW5lc3NJbXBhY3QiLCJjb252ZXJzaW9uSW1wYWN0IiwicmV2ZW51ZUltcGFjdCIsInVzZXJSZXRlbnRpb25JbXBhY3QiLCJ0ZWNobmljYWxIZWFsdGgiLCJwZXJmb3JtYW5jZVNjb3JlIiwic3RhYmlsaXR5U2NvcmUiLCJzY2FsYWJpbGl0eVNjb3JlIiwibWFpbnRhaW5hYmlsaXR5U2NvcmUiLCJjYWxjdWxhdGVQZXJmb3JtYW5jZVRyZW5kcyIsImNhbGN1bGF0ZVVzZXJFeHBlcmllbmNlTWV0cmljcyIsImNhbGN1bGF0ZUJ1c2luZXNzSW1wYWN0TWV0cmljcyIsImNhbGN1bGF0ZVRlY2huaWNhbEhlYWx0aCIsInBlcmlvZHMiLCJwZXJpb2QiLCJwZXJpb2RNZXRyaWNzIiwic2xpY2UiLCJmbG9vciIsImF2ZXJhZ2VSZW5kZXJUaW1lIiwiYXZlcmFnZU1lbW9yeVVzYWdlIiwiYXZlcmFnZVVzZXJTYXRpc2ZhY3Rpb24iLCJ0cmVuZCIsInBlcmNlbnRhZ2UiLCJzIiwiYXZlcmFnZVJldmVudWVJbXBhY3QiLCJnZXRBY3RpdmVSZWdyZXNzaW9ucyIsInIiLCJyZXNvbHZlZEF0IiwicmVzb2x2ZVJlZ3Jlc3Npb24iLCJyZWdyZXNzaW9uSWQiLCJmaW5kIiwiZ2V0U2Vzc2lvbk1ldHJpY3MiLCJjbGVhciIsImV4cG9ydFByb2R1Y3Rpb25EYXRhIiwiSlNPTiIsInN0cmluZ2lmeSIsImZyb21FbnRyaWVzIiwiaW5zaWdodHMiLCJhbmFseXRpY3MiLCJNYXAiXSwibWFwcGluZ3MiOiJBQUFBOzs7OztDQUtDOzs7Ozs7Ozs7OztRQWlHWUE7ZUFBQUE7O1FBK2RBQztlQUFBQTs7O3dCQTlqQlU7QUErRmhCLE1BQU1EO0lBT1g7O0dBRUMsR0FDREUsY0FBY0MsU0FBaUIsRUFBRUMsTUFBZSxFQUFRO1FBQ3RELElBQUksQ0FBQ0QsU0FBUyxHQUFHQTtRQUNqQixJQUFJLENBQUNFLFVBQVUsR0FBRztRQUVsQkMsY0FBTSxDQUFDQyxJQUFJLENBQUMsQ0FBQyw2Q0FBNkMsRUFBRUosV0FBVztRQUN2RSxJQUFJQyxRQUFRO1lBQ1ZFLGNBQU0sQ0FBQ0MsSUFBSSxDQUFDLENBQUMsWUFBWSxFQUFFSCxRQUFRO1FBQ3JDO0lBQ0Y7SUFFQTs7R0FFQyxHQUNESSxlQUFxQjtRQUNuQixJQUFJLENBQUNILFVBQVUsR0FBRztRQUNsQkMsY0FBTSxDQUFDQyxJQUFJLENBQUMsQ0FBQyw0Q0FBNEMsRUFBRSxJQUFJLENBQUNKLFNBQVMsRUFBRTtJQUM3RTtJQUVBOztHQUVDLEdBQ0RNLHdCQUF3QkMsT0FBMkQsRUFBUTtRQUN6RixJQUFJLENBQUMsSUFBSSxDQUFDTCxVQUFVLEVBQUU7WUFDcEJNLFFBQVFDLElBQUksQ0FBQztZQUNiO1FBQ0Y7UUFFQSxNQUFNQyxjQUFpQztZQUNyQyxHQUFHSCxPQUFPO1lBQ1ZQLFdBQVcsSUFBSSxDQUFDQSxTQUFTO1lBQ3pCVyxXQUFXLElBQUlDO1FBQ2pCO1FBRUEsSUFBSSxDQUFDTCxPQUFPLENBQUNNLElBQUksQ0FBQ0g7UUFFbEIsb0NBQW9DO1FBQ3BDLElBQUksQ0FBQ0ksbUJBQW1CLENBQUNKO1FBRXpCLDBCQUEwQjtRQUMxQixJQUFJLENBQUNLLHFCQUFxQixDQUFDTDtRQUUz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