{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/lib/utils/format-utils.ts"],"sourcesContent":["/**\n * Centralized Formatting Utilities\n * \n * Provides consistent formatting functions across the application.\n * Eliminates duplicate formatting code and standardizes number/date formatting.\n * \n * Created: October 10, 2025\n * Status: âœ… ACTIVE\n */\n\n// ============================================================================\n// NUMBER FORMATTING\n// ============================================================================\n\n/**\n * Format usage count with appropriate suffixes (K, M, B)\n */\nexport function formatUsageCount(count: number): string {\n  if (count < 1000) {\n    return count.toString();\n  }\n  \n  if (count < 1000000) {\n    return `${(count / 1000).toFixed(1)}K`;\n  }\n  \n  if (count < 1000000000) {\n    return `${(count / 1000000).toFixed(1)}M`;\n  }\n  \n  return `${(count / 1000000000).toFixed(1)}B`;\n}\n\n/**\n * Format engagement rate as percentage\n */\nexport function formatEngagementRate(rate: number): string {\n  return `${(rate * 100).toFixed(1)}%`;\n}\n\n/**\n * Format growth rate as percentage with sign\n */\nexport function formatGrowthRate(rate: number): string {\n  const sign = rate >= 0 ? '+' : '';\n  return `${sign}${(rate * 100).toFixed(1)}%`;\n}\n\n/**\n * Format trending score with appropriate precision\n */\nexport function formatTrendingScore(score: number): string {\n  if (score < 1) {\n    return score.toFixed(2);\n  }\n  \n  if (score < 10) {\n    return score.toFixed(1);\n  }\n  \n  return Math.round(score).toString();\n}\n\n/**\n * Format currency with appropriate precision\n */\nexport function formatCurrency(amount: number, currency = 'USD'): string {\n  return new Intl.NumberFormat('en-US', {\n    style: 'currency',\n    currency\n  }).format(amount);\n}\n\n/**\n * Format large numbers with commas\n */\nexport function formatNumber(num: number): string {\n  return new Intl.NumberFormat('en-US').format(num);\n}\n\n// ============================================================================\n// DATE/TIME FORMATTING\n// ============================================================================\n\n/**\n * Format date for display\n */\nexport function formatDate(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return new Intl.DateTimeFormat('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric'\n  }).format(d);\n}\n\n/**\n * Format date and time for display\n */\nexport function formatDateTime(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  return new Intl.DateTimeFormat('en-US', {\n    year: 'numeric',\n    month: 'short',\n    day: 'numeric',\n    hour: 'numeric',\n    minute: '2-digit'\n  }).format(d);\n}\n\n/**\n * Format relative time (e.g., \"2 hours ago\")\n */\nexport function formatRelativeTime(date: Date | string): string {\n  const d = typeof date === 'string' ? new Date(date) : date;\n  const now = new Date();\n  const diffInSeconds = Math.floor((now.getTime() - d.getTime()) / 1000);\n  \n  if (diffInSeconds < 60) {\n    return 'just now';\n  }\n  \n  if (diffInSeconds < 3600) {\n    const minutes = Math.floor(diffInSeconds / 60);\n    return `${minutes} minute${minutes !== 1 ? 's' : ''} ago`;\n  }\n  \n  if (diffInSeconds < 86400) {\n    const hours = Math.floor(diffInSeconds / 3600);\n    return `${hours} hour${hours !== 1 ? 's' : ''} ago`;\n  }\n  \n  if (diffInSeconds < 2592000) {\n    const days = Math.floor(diffInSeconds / 86400);\n    return `${days} day${days !== 1 ? 's' : ''} ago`;\n  }\n  \n  return formatDate(d);\n}\n\n// ============================================================================\n// TEXT FORMATTING\n// ============================================================================\n\n/**\n * Format text for display with proper capitalization\n */\nexport function formatDisplayName(name: string): string {\n  return name\n    .split(' ')\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1).toLowerCase())\n    .join(' ');\n}\n\n/**\n * Format hashtag name for display\n */\nexport function formatHashtagName(name: string): string {\n  return name\n    .toLowerCase()\n    .replace(/[^a-z0-9_-]/g, '_')\n    .replace(/_+/g, '_')\n    .replace(/^_|_$/g, '');\n}\n\n/**\n * Truncate text with ellipsis\n */\nexport function truncateText(text: string, maxLength: number): string {\n  if (text.length <= maxLength) {\n    return text;\n  }\n  \n  return `${text.slice(0, maxLength - 3)  }...`;\n}\n\n/**\n * Format file size in human-readable format\n */\nexport function formatFileSize(bytes: number): string {\n  if (bytes === 0) return '0 Bytes';\n  \n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  \n  return `${parseFloat((bytes / Math.pow(k, i)).toFixed(2))} ${sizes[i]}`;\n}\n\n// ============================================================================\n// PERFORMANCE FORMATTING\n// ============================================================================\n\n/**\n * Format performance metrics\n */\nexport function formatPerformanceMetric(value: number, unit: 'ms' | 'bytes' | 'count' | 'score'): string {\n  switch (unit) {\n    case 'ms':\n      return `${value.toFixed(1)}ms`;\n    case 'bytes':\n      return formatFileSize(value);\n    case 'count':\n      return formatUsageCount(value);\n    case 'score':\n      return formatTrendingScore(value);\n    default:\n      return value.toString();\n  }\n}\n\n/**\n * Format percentage with appropriate precision\n */\nexport function formatPercentage(value: number, decimals = 1): string {\n  return `${(value * 100).toFixed(decimals)}%`;\n}\n\n// ============================================================================\n// VALIDATION HELPERS\n// ============================================================================\n\n/**\n * Check if a value is a valid number\n */\nexport function isValidNumber(value: any): value is number {\n  return typeof value === 'number' && !isNaN(value) && isFinite(value);\n}\n\n/**\n * Check if a value is a valid date\n */\nexport function isValidDate(value: any): value is Date {\n  return value instanceof Date && !isNaN(value.getTime());\n}\n\n/**\n * Check if a string is a valid email\n */\nexport function isValidEmail(email: string): boolean {\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n  return emailRegex.test(email);\n}\n\n/**\n * Check if a string is a valid URL\n */\nexport function isValidUrl(url: string): boolean {\n  try {\n    new URL(url);\n    return true;\n  } catch {\n    return false;\n  }\n}\n"],"names":["formatCurrency","formatDate","formatDateTime","formatDisplayName","formatEngagementRate","formatFileSize","formatGrowthRate","formatHashtagName","formatNumber","formatPercentage","formatPerformanceMetric","formatRelativeTime","formatTrendingScore","formatUsageCount","isValidDate","isValidEmail","isValidNumber","isValidUrl","truncateText","count","toString","toFixed","rate","sign","score","Math","round","amount","currency","Intl","NumberFormat","style","format","num","date","d","Date","DateTimeFormat","year","month","day","hour","minute","now","diffInSeconds","floor","getTime","minutes","hours","days","name","split","map","word","charAt","toUpperCase","slice","toLowerCase","join","replace","text","maxLength","length","bytes","k","sizes","i","log","parseFloat","pow","value","unit","decimals","isNaN","isFinite","email","emailRegex","test","url","URL"],"mappings":"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"}