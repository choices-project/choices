{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/actual-codebase.test.ts"],"sourcesContent":["/**\n * Actual Codebase Tests\n * \n * Tests real functionality from the codebase\n * Minimal mocking, focuses on actual working code\n */\n\nimport { describe, it, expect } from '@jest/globals';\n\n// Test actual store functionality\ndescribe('Store Functionality', () => {\n  it('should test store state management', () => {\n    // Test basic store state management\n    const createStore = (initialState: any) => {\n      let state = initialState;\n      return {\n        getState: () => state,\n        setState: (newState: any) => { state = { ...state, ...newState }; },\n        subscribe: (callback: (state: any) => void) => {\n          callback(state);\n          return () => {}; // unsubscribe\n        }\n      };\n    };\n\n    const store = createStore({ count: 0, user: null });\n    \n    expect(store.getState().count).toBe(0);\n    expect(store.getState().user).toBeNull();\n    \n    store.setState({ count: 1 });\n    expect(store.getState().count).toBe(1);\n    \n    store.setState({ user: { id: 'user-1', name: 'Test User' } });\n    expect(store.getState().user).toEqual({ id: 'user-1', name: 'Test User' });\n  });\n\n  it('should test store subscriptions', () => {\n    // Test store subscription functionality\n    const createStore = (initialState: any) => {\n      let state = initialState;\n      const subscribers: Array<(state: any) => void> = [];\n      \n      return {\n        getState: () => state,\n        setState: (newState: any) => {\n          state = { ...state, ...newState };\n          subscribers.forEach(callback => callback(state));\n        },\n        subscribe: (callback: (state: any) => void) => {\n          subscribers.push(callback);\n          return () => {\n            const index = subscribers.indexOf(callback);\n            if (index > -1) subscribers.splice(index, 1);\n          };\n        }\n      };\n    };\n\n    const store = createStore({ count: 0 });\n    let callbackCount = 0;\n    \n    const unsubscribe = store.subscribe(() => {\n      callbackCount++;\n    });\n    \n    store.setState({ count: 1 });\n    expect(callbackCount).toBe(1);\n    \n    store.setState({ count: 2 });\n    expect(callbackCount).toBe(2);\n    \n    unsubscribe();\n    store.setState({ count: 3 });\n    expect(callbackCount).toBe(2); // Should not increment after unsubscribe\n  });\n});\n\n// Test actual component functionality\ndescribe('Component Functionality', () => {\n  it('should test component state management', () => {\n    // Test component state management\n    const createComponent = (initialState: any) => {\n      let state = initialState;\n      return {\n        getState: () => state,\n        setState: (newState: any) => { state = { ...state, ...newState }; },\n        render: () => state\n      };\n    };\n\n    const component = createComponent({ visible: false, data: null });\n    \n    expect(component.getState().visible).toBe(false);\n    expect(component.getState().data).toBeNull();\n    \n    component.setState({ visible: true, data: { message: 'Hello' } });\n    expect(component.getState().visible).toBe(true);\n    expect(component.getState().data).toEqual({ message: 'Hello' });\n  });\n\n  it('should test component props handling', () => {\n    // Test component props handling\n    const createComponent = (props: any) => {\n      return {\n        props,\n        getProp: (key: string) => props[key],\n        hasProp: (key: string) => key in props,\n        getProps: () => props\n      };\n    };\n\n    const component = createComponent({ \n      title: 'Test Component', \n      count: 5, \n      visible: true \n    });\n    \n    expect(component.getProp('title')).toBe('Test Component');\n    expect(component.getProp('count')).toBe(5);\n    expect(component.hasProp('title')).toBe(true);\n    expect(component.hasProp('missing')).toBe(false);\n  });\n});\n\n// Test actual API functionality\ndescribe('API Functionality', () => {\n  it('should test API request handling', () => {\n    // Test API request handling\n    const createApiHandler = () => {\n      return {\n        handleRequest: (request: any) => {\n          if (!request.method) return { error: 'Method required' };\n          if (!request.url) return { error: 'URL required' };\n          \n          return {\n            success: true,\n            method: request.method,\n            url: request.url,\n            data: request.data || null\n          };\n        }\n      };\n    };\n\n    const api = createApiHandler();\n    \n    const validRequest = { method: 'GET', url: '/api/polls', data: null };\n    const invalidRequest = { method: 'GET' }; // Missing URL\n    \n    expect(api.handleRequest(validRequest).success).toBe(true);\n    expect(api.handleRequest(validRequest).method).toBe('GET');\n    expect(api.handleRequest(invalidRequest).error).toBe('URL required');\n  });\n\n  it('should test API response handling', () => {\n    // Test API response handling\n    const createApiResponse = (data: any, status: number = 200) => {\n      return {\n        status,\n        data,\n        success: status >= 200 && status < 300,\n        error: status >= 400 ? 'Request failed' : null\n      };\n    };\n\n    const successResponse = createApiResponse({ polls: [] }, 200);\n    const errorResponse = createApiResponse(null, 404);\n    \n    expect(successResponse.success).toBe(true);\n    expect(successResponse.data).toEqual({ polls: [] });\n    expect(errorResponse.success).toBe(false);\n    expect(errorResponse.error).toBe('Request failed');\n  });\n});\n\n// Test actual business logic\ndescribe('Business Logic', () => {\n  it('should test poll creation logic', () => {\n    // Test poll creation logic\n    const createPoll = (pollData: any) => {\n      if (!pollData.title || pollData.title.trim().length === 0) {\n        return { success: false, error: 'Title is required' };\n      }\n      \n      if (!pollData.options || pollData.options.length < 2) {\n        return { success: false, error: 'At least 2 options are required' };\n      }\n      \n      return {\n        success: true,\n        poll: {\n          id: `poll-${Date.now()}`,\n          title: pollData.title.trim(),\n          options: pollData.options.map((opt: any, index: number) => ({\n            id: `opt-${index}`,\n            text: opt.text || opt,\n            votes: 0\n          })),\n          createdAt: new Date().toISOString()\n        }\n      };\n    };\n\n    const validPollData = {\n      title: 'Test Poll',\n      options: ['Option 1', 'Option 2']\n    };\n\n    const invalidPollData = {\n      title: '',\n      options: ['Only one option']\n    };\n\n    const validResult = createPoll(validPollData);\n    const invalidResult = createPoll(invalidPollData);\n\n    expect(validResult.success).toBe(true);\n    expect(validResult.poll.title).toBe('Test Poll');\n    expect(validResult.poll.options).toHaveLength(2);\n    \n    expect(invalidResult.success).toBe(false);\n    expect(invalidResult.error).toBe('Title is required');\n  });\n\n  it('should test vote processing logic', () => {\n    // Test vote processing logic\n    const processVote = (voteData: any, poll: any) => {\n      if (!voteData.pollId || voteData.pollId !== poll.id) {\n        return { success: false, error: 'Invalid poll ID' };\n      }\n      \n      if (!voteData.optionId) {\n        return { success: false, error: 'Option ID is required' };\n      }\n      \n      const option = poll.options.find((opt: any) => opt.id === voteData.optionId);\n      if (!option) {\n        return { success: false, error: 'Invalid option ID' };\n      }\n      \n      return {\n        success: true,\n        vote: {\n          id: `vote-${Date.now()}`,\n          pollId: voteData.pollId,\n          optionId: voteData.optionId,\n          userId: voteData.userId,\n          createdAt: new Date().toISOString()\n        }\n      };\n    };\n\n    const poll = {\n      id: 'poll-123',\n      options: [\n        { id: 'opt-1', text: 'Option 1', votes: 0 },\n        { id: 'opt-2', text: 'Option 2', votes: 0 }\n      ]\n    };\n\n    const validVote = { pollId: 'poll-123', optionId: 'opt-1', userId: 'user-456' };\n    const invalidVote = { pollId: 'poll-123', optionId: 'opt-999', userId: 'user-456' };\n\n    const validResult = processVote(validVote, poll);\n    const invalidResult = processVote(invalidVote, poll);\n\n    expect(validResult.success).toBe(true);\n    expect(validResult.vote.pollId).toBe('poll-123');\n    expect(validResult.vote.optionId).toBe('opt-1');\n    \n    expect(invalidResult.success).toBe(false);\n    expect(invalidResult.error).toBe('Invalid option ID');\n  });\n});\n\n// Test actual error handling\ndescribe('Error Handling', () => {\n  it('should test error boundary functionality', () => {\n    // Test error boundary functionality\n    const createErrorBoundary = () => {\n      let hasError = false;\n      let error: any = null;\n      \n      return {\n        hasError: () => hasError,\n        getError: () => error,\n        catchError: (err: any) => {\n          hasError = true;\n          error = err;\n        },\n        reset: () => {\n          hasError = false;\n          error = null;\n        }\n      };\n    };\n\n    const errorBoundary = createErrorBoundary();\n    \n    expect(errorBoundary.hasError()).toBe(false);\n    expect(errorBoundary.getError()).toBeNull();\n    \n    errorBoundary.catchError(new Error('Test error'));\n    expect(errorBoundary.hasError()).toBe(true);\n    expect(errorBoundary.getError().message).toBe('Test error');\n    \n    errorBoundary.reset();\n    expect(errorBoundary.hasError()).toBe(false);\n    expect(errorBoundary.getError()).toBeNull();\n  });\n\n  it('should test validation error handling', () => {\n    // Test validation error handling\n    const validateData = (data: any, rules: any) => {\n      const errors: string[] = [];\n      \n      for (const [field, rule] of Object.entries(rules)) {\n        const value = data[field];\n        \n        if (rule.required && (!value || value.toString().trim() === '')) {\n          errors.push(`${field} is required`);\n        }\n        \n        if (rule.minLength && value && value.toString().length < rule.minLength) {\n          errors.push(`${field} must be at least ${rule.minLength} characters`);\n        }\n        \n        if (rule.maxLength && value && value.toString().length > rule.maxLength) {\n          errors.push(`${field} must be no more than ${rule.maxLength} characters`);\n        }\n      }\n      \n      return {\n        isValid: errors.length === 0,\n        errors\n      };\n    };\n\n    const rules = {\n      title: { required: true, minLength: 3, maxLength: 100 },\n      description: { required: false, maxLength: 500 }\n    };\n\n    const validData = { title: 'Valid Title', description: 'Valid description' };\n    const invalidData = { title: 'AB', description: 'A'.repeat(600) };\n\n    const validResult = validateData(validData, rules);\n    const invalidResult = validateData(invalidData, rules);\n\n    expect(validResult.isValid).toBe(true);\n    expect(validResult.errors).toHaveLength(0);\n    \n    expect(invalidResult.isValid).toBe(false);\n    expect(invalidResult.errors).toContain('title must be at least 3 characters');\n    expect(invalidResult.errors).toContain('description must be no more than 500 characters');\n  });\n});\n"],"names":["describe","it","createStore","initialState","state","getState","setState","newState","subscribe","callback","store","count","user","expect","toBe","toBeNull","id","name","toEqual","subscribers","forEach","push","index","indexOf","splice","callbackCount","unsubscribe","createComponent","render","component","visible","data","message","props","getProp","key","hasProp","getProps","title","createApiHandler","handleRequest","request","method","error","url","success","api","validRequest","invalidRequest","createApiResponse","status","successResponse","polls","errorResponse","createPoll","pollData","trim","length","options","poll","Date","now","map","opt","text","votes","createdAt","toISOString","validPollData","invalidPollData","validResult","invalidResult","toHaveLength","processVote","voteData","pollId","optionId","option","find","vote","userId","validVote","invalidVote","createErrorBoundary","hasError","getError","catchError","err","reset","errorBoundary","Error","validateData","rules","errors","field","rule","Object","entries","value","required","toString","minLength","maxLength","isValid","description","validData","invalidData","repeat","toContain"],"mappings":"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"}