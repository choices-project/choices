ab487eb379d38294897682b5a3f03f23
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get cleanupTestPollsRestApi () {
        return cleanupTestPollsRestApi;
    },
    get getExistingPollsCountRestApi () {
        return getExistingPollsCountRestApi;
    },
    get seedTestPollsRestApi () {
        return seedTestPollsRestApi;
    },
    get verifySeededPollsRestApi () {
        return verifySeededPollsRestApi;
    }
});
/**
 * Test Data Seeding Utility - REST API Approach
 * 
 * Uses direct REST API calls to bypass JavaScript client RLS issues
 * Based on successful curl command approach
 * 
 * Created: January 27, 2025
 * Status: ‚úÖ PRODUCTION READY
 */ // REST API helper function that mimics successful curl approach
async function restApiRequest(endpoint, method = 'GET', body) {
    const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL;
    const supabaseKey = process.env.SUPABASE_SECRET_KEY;
    if (!supabaseUrl || !supabaseKey) {
        throw new Error('Supabase credentials not found. Please check your environment variables.');
    }
    const url = `${supabaseUrl}/rest/v1/${endpoint}`;
    const headers = {
        'apikey': supabaseKey,
        'Authorization': `Bearer ${supabaseKey}`,
        'Content-Type': 'application/json',
        'Prefer': 'return=representation'
    };
    const options = {
        method,
        headers
    };
    if (body && method !== 'GET') {
        options.body = JSON.stringify(body);
    }
    console.log(`Making ${method} request to: ${url}`);
    if (body) {
        console.log('Request body:', JSON.stringify(body, null, 2));
    }
    try {
        const response = await fetch(url, options);
        const data = await response.json();
        console.log(`Response status: ${response.status}`);
        console.log('Response data:', JSON.stringify(data, null, 2));
        if (!response.ok) {
            throw new Error(`HTTP ${response.status}: ${JSON.stringify(data)}`);
        }
        return data;
    } catch (error) {
        console.error('REST API request failed:', error);
        throw error;
    }
}
// Test poll data with correct format (based on successful curl approach)
const TEST_POLLS = [
    {
        title: 'Test Poll 1 - REST API',
        description: 'Testing REST API approach for database seeding',
        options: [
            'Option A',
            'Option B'
        ],
        voting_method: 'single',
        status: 'active',
        created_by: '6f12e40c-fd46-4ace-9470-2016dc0e2e8b',
        privacy_level: 'public',
        category: 'test'
    },
    {
        title: 'Test Poll 2 - REST API',
        description: 'Second test poll using REST API approach',
        options: [
            'Choice 1',
            'Choice 2',
            'Choice 3'
        ],
        voting_method: 'multiple',
        status: 'active',
        created_by: '6f12e40c-fd46-4ace-9470-2016dc0e2e8b',
        privacy_level: 'public',
        category: 'test'
    },
    {
        title: 'Test Poll 3 - REST API',
        description: 'Third test poll for comprehensive testing',
        options: [
            'Yes',
            'No'
        ],
        voting_method: 'single',
        status: 'active',
        created_by: '6f12e40c-fd46-4ace-9470-2016dc0e2e8b',
        privacy_level: 'public',
        category: 'test'
    }
];
async function seedTestPollsRestApi() {
    console.log('üå± Starting database seeding with REST API approach...');
    const seededPollIds = [];
    try {
        // Test database connection first
        console.log('üîç Testing database connection...');
        const connectionTest = await restApiRequest('polls?select=id&limit=1');
        console.log('‚úÖ Database connection successful');
        console.log('Connection test result:', connectionTest);
        // Insert test polls one by one
        for(let i = 0; i < TEST_POLLS.length; i++){
            const poll = TEST_POLLS[i];
            console.log(`\nüìù Inserting poll ${i + 1}/${TEST_POLLS.length}: ${poll.title}`);
            try {
                const result = await restApiRequest('polls', 'POST', poll);
                console.log(`‚úÖ Poll ${i + 1} inserted successfully`);
                console.log('Insert result:', result);
                if (result && result.length > 0 && result[0].id) {
                    seededPollIds.push(result[0].id);
                    console.log(`üìã Poll ID: ${result[0].id}`);
                } else {
                    console.warn(`‚ö†Ô∏è Poll ${i + 1} inserted but no ID returned`);
                }
            } catch (insertError) {
                console.error(`‚ùå Failed to insert poll ${i + 1}:`, insertError);
            // Continue with other polls
            }
        }
        console.log(`\nüéâ Database seeding completed!`);
        console.log(`üìä Seeded ${seededPollIds.length} polls out of ${TEST_POLLS.length} attempts`);
        console.log(`üìã Seeded poll IDs: ${seededPollIds.join(', ')}`);
        return seededPollIds;
    } catch (error) {
        console.error('‚ùå Database seeding failed:', error);
        throw error;
    }
}
async function cleanupTestPollsRestApi(pollIds) {
    console.log('üßπ Cleaning up test polls...');
    for (const pollId of pollIds){
        try {
            console.log(`üóëÔ∏è Deleting poll: ${pollId}`);
            await restApiRequest(`polls?id=eq.${pollId}`, 'DELETE');
            console.log(`‚úÖ Poll ${pollId} deleted successfully`);
        } catch (error) {
            console.error(`‚ùå Failed to delete poll ${pollId}:`, error);
        }
    }
    console.log('‚úÖ Cleanup completed');
}
async function verifySeededPollsRestApi(pollIds) {
    console.log('üîç Verifying seeded polls...');
    try {
        const result = await restApiRequest(`polls?id=in.(${pollIds.join(',')})&select=id,title`);
        console.log('Verification result:', result);
        const foundPolls = result || [];
        console.log(`üìä Found ${foundPolls.length} polls out of ${pollIds.length} expected`);
        return foundPolls.length === pollIds.length;
    } catch (error) {
        console.error('‚ùå Verification failed:', error);
        return false;
    }
}
async function getExistingPollsCountRestApi() {
    try {
        const result = await restApiRequest('polls?select=count');
        console.log('Existing polls count result:', result);
        return result?.[0]?.count || 0;
    } catch (error) {
        console.error('‚ùå Failed to get polls count:', error);
        return 0;
    }
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L2hlbHBlcnMvc2VlZC10ZXN0LWRhdGEtcmVzdC1hcGkudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcblxuLyoqXG4gKiBUZXN0IERhdGEgU2VlZGluZyBVdGlsaXR5IC0gUkVTVCBBUEkgQXBwcm9hY2hcbiAqIFxuICogVXNlcyBkaXJlY3QgUkVTVCBBUEkgY2FsbHMgdG8gYnlwYXNzIEphdmFTY3JpcHQgY2xpZW50IFJMUyBpc3N1ZXNcbiAqIEJhc2VkIG9uIHN1Y2Nlc3NmdWwgY3VybCBjb21tYW5kIGFwcHJvYWNoXG4gKiBcbiAqIENyZWF0ZWQ6IEphbnVhcnkgMjcsIDIwMjVcbiAqIFN0YXR1czog4pyFIFBST0RVQ1RJT04gUkVBRFlcbiAqL1xuXG4vLyBSRVNUIEFQSSBoZWxwZXIgZnVuY3Rpb24gdGhhdCBtaW1pY3Mgc3VjY2Vzc2Z1bCBjdXJsIGFwcHJvYWNoXG5hc3luYyBmdW5jdGlvbiByZXN0QXBpUmVxdWVzdChlbmRwb2ludDogc3RyaW5nLCBtZXRob2Q6IHN0cmluZyA9ICdHRVQnLCBib2R5PzogYW55KSB7XG4gIGNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xuICBjb25zdCBzdXBhYmFzZUtleSA9IHByb2Nlc3MuZW52LlNVUEFCQVNFX1NFQ1JFVF9LRVk7XG4gIFxuICBpZiAoIXN1cGFiYXNlVXJsIHx8ICFzdXBhYmFzZUtleSkge1xuICAgIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2UgY3JlZGVudGlhbHMgbm90IGZvdW5kLiBQbGVhc2UgY2hlY2sgeW91ciBlbnZpcm9ubWVudCB2YXJpYWJsZXMuJyk7XG4gIH1cbiAgXG4gIGNvbnN0IHVybCA9IGAke3N1cGFiYXNlVXJsfS9yZXN0L3YxLyR7ZW5kcG9pbnR9YDtcbiAgY29uc3QgaGVhZGVycyA9IHtcbiAgICAnYXBpa2V5Jzogc3VwYWJhc2VLZXksXG4gICAgJ0F1dGhvcml6YXRpb24nOiBgQmVhcmVyICR7c3VwYWJhc2VLZXl9YCxcbiAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICdQcmVmZXInOiAncmV0dXJuPXJlcHJlc2VudGF0aW9uJ1xuICB9O1xuICBcbiAgY29uc3Qgb3B0aW9uczogUmVxdWVzdEluaXQgPSB7XG4gICAgbWV0aG9kLFxuICAgIGhlYWRlcnNcbiAgfTtcbiAgXG4gIGlmIChib2R5ICYmIG1ldGhvZCAhPT0gJ0dFVCcpIHtcbiAgICBvcHRpb25zLmJvZHkgPSBKU09OLnN0cmluZ2lmeShib2R5KTtcbiAgfVxuICBcbiAgY29uc29sZS5sb2coYE1ha2luZyAke21ldGhvZH0gcmVxdWVzdCB0bzogJHt1cmx9YCk7XG4gIGlmIChib2R5KSB7XG4gICAgY29uc29sZS5sb2coJ1JlcXVlc3QgYm9keTonLCBKU09OLnN0cmluZ2lmeShib2R5LCBudWxsLCAyKSk7XG4gIH1cbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIG9wdGlvbnMpO1xuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coYFJlc3BvbnNlIHN0YXR1czogJHtyZXNwb25zZS5zdGF0dXN9YCk7XG4gICAgY29uc29sZS5sb2coJ1Jlc3BvbnNlIGRhdGE6JywgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMikpO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgSFRUUCAke3Jlc3BvbnNlLnN0YXR1c306ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBkYXRhO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1JFU1QgQVBJIHJlcXVlc3QgZmFpbGVkOicsIGVycm9yKTtcbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufVxuXG4vLyBUZXN0IHBvbGwgZGF0YSB3aXRoIGNvcnJlY3QgZm9ybWF0IChiYXNlZCBvbiBzdWNjZXNzZnVsIGN1cmwgYXBwcm9hY2gpXG5jb25zdCBURVNUX1BPTExTID0gW1xuICB7XG4gICAgdGl0bGU6ICdUZXN0IFBvbGwgMSAtIFJFU1QgQVBJJyxcbiAgICBkZXNjcmlwdGlvbjogJ1Rlc3RpbmcgUkVTVCBBUEkgYXBwcm9hY2ggZm9yIGRhdGFiYXNlIHNlZWRpbmcnLFxuICAgIG9wdGlvbnM6IFsnT3B0aW9uIEEnLCAnT3B0aW9uIEInXSxcbiAgICB2b3RpbmdfbWV0aG9kOiAnc2luZ2xlJywgLy8gQ29ycmVjdCB2YWx1ZVxuICAgIHN0YXR1czogJ2FjdGl2ZScsXG4gICAgY3JlYXRlZF9ieTogJzZmMTJlNDBjLWZkNDYtNGFjZS05NDcwLTIwMTZkYzBlMmU4YicsIC8vIFZhbGlkIHVzZXIgSURcbiAgICBwcml2YWN5X2xldmVsOiAncHVibGljJyxcbiAgICBjYXRlZ29yeTogJ3Rlc3QnXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogJ1Rlc3QgUG9sbCAyIC0gUkVTVCBBUEknLFxuICAgIGRlc2NyaXB0aW9uOiAnU2Vjb25kIHRlc3QgcG9sbCB1c2luZyBSRVNUIEFQSSBhcHByb2FjaCcsXG4gICAgb3B0aW9uczogWydDaG9pY2UgMScsICdDaG9pY2UgMicsICdDaG9pY2UgMyddLFxuICAgIHZvdGluZ19tZXRob2Q6ICdtdWx0aXBsZScsIC8vIENvcnJlY3QgdmFsdWVcbiAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgIGNyZWF0ZWRfYnk6ICc2ZjEyZTQwYy1mZDQ2LTRhY2UtOTQ3MC0yMDE2ZGMwZTJlOGInLCAvLyBWYWxpZCB1c2VyIElEXG4gICAgcHJpdmFjeV9sZXZlbDogJ3B1YmxpYycsXG4gICAgY2F0ZWdvcnk6ICd0ZXN0J1xuICB9LFxuICB7XG4gICAgdGl0bGU6ICdUZXN0IFBvbGwgMyAtIFJFU1QgQVBJJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RoaXJkIHRlc3QgcG9sbCBmb3IgY29tcHJlaGVuc2l2ZSB0ZXN0aW5nJyxcbiAgICBvcHRpb25zOiBbJ1llcycsICdObyddLFxuICAgIHZvdGluZ19tZXRob2Q6ICdzaW5nbGUnLCAvLyBDb3JyZWN0IHZhbHVlXG4gICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICBjcmVhdGVkX2J5OiAnNmYxMmU0MGMtZmQ0Ni00YWNlLTk0NzAtMjAxNmRjMGUyZThiJywgLy8gVmFsaWQgdXNlciBJRFxuICAgIHByaXZhY3lfbGV2ZWw6ICdwdWJsaWMnLFxuICAgIGNhdGVnb3J5OiAndGVzdCdcbiAgfVxuXTtcblxuLyoqXG4gKiBTZWVkIHRlc3QgcG9sbHMgdXNpbmcgUkVTVCBBUEkgYXBwcm9hY2hcbiAqIFRoaXMgYnlwYXNzZXMgSmF2YVNjcmlwdCBjbGllbnQgUkxTIGlzc3Vlc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VlZFRlc3RQb2xsc1Jlc3RBcGkoKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xuICBjb25zb2xlLmxvZygn8J+MsSBTdGFydGluZyBkYXRhYmFzZSBzZWVkaW5nIHdpdGggUkVTVCBBUEkgYXBwcm9hY2guLi4nKTtcbiAgXG4gIGNvbnN0IHNlZWRlZFBvbGxJZHM6IHN0cmluZ1tdID0gW107XG4gIFxuICB0cnkge1xuICAgIC8vIFRlc3QgZGF0YWJhc2UgY29ubmVjdGlvbiBmaXJzdFxuICAgIGNvbnNvbGUubG9nKCfwn5SNIFRlc3RpbmcgZGF0YWJhc2UgY29ubmVjdGlvbi4uLicpO1xuICAgIGNvbnN0IGNvbm5lY3Rpb25UZXN0ID0gYXdhaXQgcmVzdEFwaVJlcXVlc3QoJ3BvbGxzP3NlbGVjdD1pZCZsaW1pdD0xJyk7XG4gICAgY29uc29sZS5sb2coJ+KchSBEYXRhYmFzZSBjb25uZWN0aW9uIHN1Y2Nlc3NmdWwnKTtcbiAgICBjb25zb2xlLmxvZygnQ29ubmVjdGlvbiB0ZXN0IHJlc3VsdDonLCBjb25uZWN0aW9uVGVzdCk7XG4gICAgXG4gICAgLy8gSW5zZXJ0IHRlc3QgcG9sbHMgb25lIGJ5IG9uZVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgVEVTVF9QT0xMUy5sZW5ndGg7IGkrKykge1xuICAgICAgY29uc3QgcG9sbCA9IFRFU1RfUE9MTFNbaV07XG4gICAgICBjb25zb2xlLmxvZyhgXFxu8J+TnSBJbnNlcnRpbmcgcG9sbCAke2kgKyAxfS8ke1RFU1RfUE9MTFMubGVuZ3RofTogJHtwb2xsLnRpdGxlfWApO1xuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXN0QXBpUmVxdWVzdCgncG9sbHMnLCAnUE9TVCcsIHBvbGwpO1xuICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFBvbGwgJHtpICsgMX0gaW5zZXJ0ZWQgc3VjY2Vzc2Z1bGx5YCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdJbnNlcnQgcmVzdWx0OicsIHJlc3VsdCk7XG4gICAgICAgIFxuICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5sZW5ndGggPiAwICYmIHJlc3VsdFswXS5pZCkge1xuICAgICAgICAgIHNlZWRlZFBvbGxJZHMucHVzaChyZXN1bHRbMF0uaWQpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OLIFBvbGwgSUQ6ICR7cmVzdWx0WzBdLmlkfWApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIFBvbGwgJHtpICsgMX0gaW5zZXJ0ZWQgYnV0IG5vIElEIHJldHVybmVkYCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGluc2VydEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBGYWlsZWQgdG8gaW5zZXJ0IHBvbGwgJHtpICsgMX06YCwgaW5zZXJ0RXJyb3IpO1xuICAgICAgICAvLyBDb250aW51ZSB3aXRoIG90aGVyIHBvbGxzXG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKGBcXG7wn46JIERhdGFiYXNlIHNlZWRpbmcgY29tcGxldGVkIWApO1xuICAgIGNvbnNvbGUubG9nKGDwn5OKIFNlZWRlZCAke3NlZWRlZFBvbGxJZHMubGVuZ3RofSBwb2xscyBvdXQgb2YgJHtURVNUX1BPTExTLmxlbmd0aH0gYXR0ZW1wdHNgKTtcbiAgICBjb25zb2xlLmxvZyhg8J+TiyBTZWVkZWQgcG9sbCBJRHM6ICR7c2VlZGVkUG9sbElkcy5qb2luKCcsICcpfWApO1xuICAgIFxuICAgIHJldHVybiBzZWVkZWRQb2xsSWRzO1xuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBEYXRhYmFzZSBzZWVkaW5nIGZhaWxlZDonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGVhbiB1cCB0ZXN0IHBvbGxzIGNyZWF0ZWQgZHVyaW5nIHNlZWRpbmdcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNsZWFudXBUZXN0UG9sbHNSZXN0QXBpKHBvbGxJZHM6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnNvbGUubG9nKCfwn6e5IENsZWFuaW5nIHVwIHRlc3QgcG9sbHMuLi4nKTtcbiAgXG4gIGZvciAoY29uc3QgcG9sbElkIG9mIHBvbGxJZHMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYPCfl5HvuI8gRGVsZXRpbmcgcG9sbDogJHtwb2xsSWR9YCk7XG4gICAgICBhd2FpdCByZXN0QXBpUmVxdWVzdChgcG9sbHM/aWQ9ZXEuJHtwb2xsSWR9YCwgJ0RFTEVURScpO1xuICAgICAgY29uc29sZS5sb2coYOKchSBQb2xsICR7cG9sbElkfSBkZWxldGVkIHN1Y2Nlc3NmdWxseWApO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGDinYwgRmFpbGVkIHRvIGRlbGV0ZSBwb2xsICR7cG9sbElkfTpgLCBlcnJvcik7XG4gICAgfVxuICB9XG4gIFxuICBjb25zb2xlLmxvZygn4pyFIENsZWFudXAgY29tcGxldGVkJyk7XG59XG5cbi8qKlxuICogVmVyaWZ5IHNlZWRlZCBwb2xscyBleGlzdCBpbiBkYXRhYmFzZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdmVyaWZ5U2VlZGVkUG9sbHNSZXN0QXBpKHBvbGxJZHM6IHN0cmluZ1tdKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGNvbnNvbGUubG9nKCfwn5SNIFZlcmlmeWluZyBzZWVkZWQgcG9sbHMuLi4nKTtcbiAgXG4gIHRyeSB7XG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzdEFwaVJlcXVlc3QoYHBvbGxzP2lkPWluLigke3BvbGxJZHMuam9pbignLCcpfSkmc2VsZWN0PWlkLHRpdGxlYCk7XG4gICAgY29uc29sZS5sb2coJ1ZlcmlmaWNhdGlvbiByZXN1bHQ6JywgcmVzdWx0KTtcbiAgICBcbiAgICBjb25zdCBmb3VuZFBvbGxzID0gcmVzdWx0IHx8IFtdO1xuICAgIGNvbnNvbGUubG9nKGDwn5OKIEZvdW5kICR7Zm91bmRQb2xscy5sZW5ndGh9IHBvbGxzIG91dCBvZiAke3BvbGxJZHMubGVuZ3RofSBleHBlY3RlZGApO1xuICAgIFxuICAgIHJldHVybiBmb3VuZFBvbGxzLmxlbmd0aCA9PT0gcG9sbElkcy5sZW5ndGg7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcign4p2MIFZlcmlmaWNhdGlvbiBmYWlsZWQ6JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBleGlzdGluZyBwb2xscyBjb3VudFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RXhpc3RpbmdQb2xsc0NvdW50UmVzdEFwaSgpOiBQcm9taXNlPG51bWJlcj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlc3RBcGlSZXF1ZXN0KCdwb2xscz9zZWxlY3Q9Y291bnQnKTtcbiAgICBjb25zb2xlLmxvZygnRXhpc3RpbmcgcG9sbHMgY291bnQgcmVzdWx0OicsIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdD8uWzBdPy5jb3VudCB8fCAwO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWlsZWQgdG8gZ2V0IHBvbGxzIGNvdW50OicsIGVycm9yKTtcbiAgICByZXR1cm4gMDtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImNsZWFudXBUZXN0UG9sbHNSZXN0QXBpIiwiZ2V0RXhpc3RpbmdQb2xsc0NvdW50UmVzdEFwaSIsInNlZWRUZXN0UG9sbHNSZXN0QXBpIiwidmVyaWZ5U2VlZGVkUG9sbHNSZXN0QXBpIiwicmVzdEFwaVJlcXVlc3QiLCJlbmRwb2ludCIsIm1ldGhvZCIsImJvZHkiLCJzdXBhYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJzdXBhYmFzZUtleSIsIlNVUEFCQVNFX1NFQ1JFVF9LRVkiLCJFcnJvciIsInVybCIsImhlYWRlcnMiLCJvcHRpb25zIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25zZSIsImZldGNoIiwiZGF0YSIsImpzb24iLCJzdGF0dXMiLCJvayIsImVycm9yIiwiVEVTVF9QT0xMUyIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2b3RpbmdfbWV0aG9kIiwiY3JlYXRlZF9ieSIsInByaXZhY3lfbGV2ZWwiLCJjYXRlZ29yeSIsInNlZWRlZFBvbGxJZHMiLCJjb25uZWN0aW9uVGVzdCIsImkiLCJsZW5ndGgiLCJwb2xsIiwicmVzdWx0IiwiaWQiLCJwdXNoIiwid2FybiIsImluc2VydEVycm9yIiwiam9pbiIsInBvbGxJZHMiLCJwb2xsSWQiLCJmb3VuZFBvbGxzIiwiY291bnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O1FBb0pzQkE7ZUFBQUE7O1FBdUNBQztlQUFBQTs7UUF4RkFDO2VBQUFBOztRQW9FQUM7ZUFBQUE7OztBQXJLdEI7Ozs7Ozs7O0NBUUMsR0FFRCxnRUFBZ0U7QUFDaEUsZUFB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