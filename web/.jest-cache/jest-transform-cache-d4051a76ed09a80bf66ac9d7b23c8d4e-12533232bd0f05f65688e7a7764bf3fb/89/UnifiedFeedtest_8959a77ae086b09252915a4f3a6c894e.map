{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/features/feeds/UnifiedFeed.test.tsx"],"sourcesContent":["/**\n * UnifiedFeed Component Tests\n * \n * Comprehensive testing for the UnifiedFeed component using the Real Component Testing Framework\n * Tests real functionality with real dependencies to catch real issues\n * \n * Created: January 19, 2025\n * Status: âœ… PRODUCTION READY\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor, act } from '@testing-library/react';\nimport { jest } from '@jest/globals';\nimport { RealComponentTester, realComponentHelpers } from '@/lib/testing/realComponentTesting';\nimport UnifiedFeed from '@/features/feeds/components/UnifiedFeed';\nimport { useFeeds } from '@/lib/stores/feedsStore';\nimport { useHashtags } from '@/features/hashtags/hooks/useHashtags';\nimport { T } from '@/lib/testing/testIds';\nimport type { FeedItemData } from '@/features/feeds/types';\n\n// Mock the stores\njest.mock('@/lib/stores/feedsStore', () => ({\n  useFeeds: jest.fn()\n}));\n\njest.mock('@/features/hashtags/hooks/useHashtags', () => ({\n  useHashtags: jest.fn()\n}));\n\nconst mockUseFeeds = useFeeds as jest.MockedFunction<typeof useFeeds>;\nconst mockUseHashtags = useHashtags as jest.MockedFunction<typeof useHashtags>;\n\n// Ensure mocks are properly initialized\nbeforeEach(() => {\n  mockUseFeeds.mockReturnValue([]);\n  mockUseHashtags.mockReturnValue({\n    hashtags: [],\n    trendingHashtags: [],\n    userHashtags: [],\n    isLoading: false,\n    error: null,\n    loadTrendingHashtags: jest.fn(),\n    searchHashtags: jest.fn(),\n    followHashtag: jest.fn(),\n    unfollowHashtag: jest.fn(),\n    getTrendingHashtags: jest.fn(),\n    refresh: jest.fn()\n  });\n});\n\n\n// Mock data\nconst mockFeedData = [\n  {\n    id: '1',\n    title: 'Test Poll',\n    content: 'This is a test poll content',\n    summary: 'This is a test poll',\n    author: {\n      id: 'author-1',\n      name: 'Test Author',\n      avatar: '/test-avatar.jpg',\n      verified: true\n    },\n    category: 'politics',\n    tags: ['politics', 'election'],\n    type: 'poll' as const,\n    source: {\n      name: 'Test Source',\n      url: 'https://example.com',\n      logo: '/test-logo.jpg',\n      verified: true\n    },\n    publishedAt: '2025-01-19T10:00:00Z',\n    updatedAt: '2025-01-19T10:00:00Z',\n    readTime: 5,\n    engagement: {\n      likes: 10,\n      shares: 5,\n      comments: 3,\n      views: 100\n    },\n    userInteraction: {\n      liked: false,\n      shared: false,\n      bookmarked: false,\n      read: false\n    },\n    metadata: {\n      hashtags: ['politics', 'election'],\n      primary_hashtag: 'politics',\n      language: 'en'\n    }\n  },\n  {\n    id: '2',\n    title: 'Test Post',\n    content: 'This is a test post content',\n    summary: 'This is a test post',\n    author: {\n      id: 'author-2',\n      name: 'Test Author 2',\n      avatar: '/test-avatar-2.jpg',\n      verified: true\n    },\n    category: 'news',\n    tags: ['news', 'update'],\n    type: 'article' as const,\n    source: {\n      name: 'Test Source 2',\n      url: 'https://example.com/2',\n      logo: '/test-logo-2.jpg',\n      verified: true\n    },\n    publishedAt: '2025-01-19T09:00:00Z',\n    updatedAt: '2025-01-19T09:00:00Z',\n    readTime: 3,\n    engagement: {\n      likes: 15,\n      shares: 8,\n      comments: 12,\n      views: 150\n    },\n    userInteraction: {\n      liked: false,\n      shared: false,\n      bookmarked: false,\n      read: false\n    },\n    metadata: {\n      hashtags: ['news', 'update'],\n      primary_hashtag: 'news',\n      language: 'en'\n    }\n  }\n];\n\nconst mockHashtagData = [\n  {\n    id: '1',\n    name: 'politics',\n    display_name: 'Politics',\n    usage_count: 100,\n    follower_count: 50,\n    is_trending: true,\n    trend_score: 0.8,\n    created_at: '2025-01-19T10:00:00Z',\n    updated_at: '2025-01-19T10:00:00Z',\n    is_verified: false,\n    is_featured: false\n  },\n  {\n    id: '2',\n    name: 'election',\n    display_name: 'Election',\n    usage_count: 75,\n    follower_count: 30,\n    is_trending: false,\n    trend_score: 0.3,\n    created_at: '2025-01-19T09:00:00Z',\n    updated_at: '2025-01-19T09:00:00Z',\n    is_verified: false,\n    is_featured: false\n  }\n];\n\ndescribe('UnifiedFeed Component - Real Component Testing', () => {\n  let realComponentTester: RealComponentTester;\n\n  beforeEach(() => {\n    // Initialize real component tester\n    realComponentTester = new RealComponentTester({\n      useRealDependencies: true,\n      testRealInteractions: true,\n      testRealBusinessLogic: true,\n      testRealErrorHandling: true,\n      testRealAccessibility: true,\n      testRealPerformance: true\n    });\n\n    // Mock store implementations\n    mockUseFeeds.mockReturnValue(mockFeedData);\n\n    mockUseHashtags.mockReturnValue({\n      hashtags: mockHashtagData,\n      trendingHashtags: [],\n      userHashtags: [],\n      isLoading: false,\n      error: null,\n      loadTrendingHashtags: jest.fn(),\n      searchHashtags: jest.fn(),\n      followHashtag: jest.fn(),\n      unfollowHashtag: jest.fn(),\n      getTrendingHashtags: jest.fn(),\n      refresh: jest.fn()\n    });\n  });\n\n  afterEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Real Component Rendering', () => {\n    it('should render UnifiedFeed with all essential elements', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentHelpers.testRealRendering(component, [\n        'Unified Feed',\n        'Personalized content with hashtag-polls integration',\n        'Online',\n        'Dark mode toggle',\n        'Advanced filters toggle',\n        'Refresh button'\n      ]);\n\n      expect(result.passed).toBe(true);\n      expect(result.errors).toHaveLength(0);\n    });\n\n    it('should render feed items correctly', async () => {\n      const component = <UnifiedFeed />;\n      \n      const result = await realComponentHelpers.testRealRendering(component, [\n        'Test Poll',\n        'This is a test poll',\n        'politics',\n        'election',\n        'Test Post',\n        'This is a test post',\n        'news',\n        'update'\n      ]);\n\n      expect(result.passed).toBe(true);\n    });\n\n    it('should render within acceptable performance time', async () => {\n      const startTime = performance.now();\n      \n      const component = <UnifiedFeed />;\n      render(component);\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Test that real component renders within acceptable time\n      expect(renderTime).toBeLessThan(2000); // 2s threshold\n    });\n  });\n\n  describe('Real Component Interactions', () => {\n    it('should handle dark mode toggle correctly', async () => {\n      render(<UnifiedFeed />);\n      \n      const darkModeButton = screen.getByTestId(T.accessibility.button);\n      fireEvent.click(darkModeButton);\n      \n      await waitFor(() => {\n        expect(screen.getByTestId(T.accessibility.button)).toBeInTheDocument();\n      });\n    });\n\n    it('should handle advanced filters toggle correctly', async () => {\n      render(<UnifiedFeed />);\n      \n      const filtersButton = screen.getByTestId(T.accessibility.filterButton);\n      fireEvent.click(filtersButton);\n      \n      await waitFor(() => {\n        expect(screen.getByText(/advanced filters/i)).toBeInTheDocument();\n      });\n    });\n\n    it('should handle feed item interactions correctly', async () => {\n      render(<UnifiedFeed />);\n      \n      const likeButton = screen.getByTestId(T.accessibility.feedItem('1'));\n      fireEvent.click(likeButton);\n      \n      // Check that the interaction was handled\n      expect(likeButton).toBeInTheDocument();\n    });\n\n    it('should handle hashtag interactions correctly', async () => {\n      render(<UnifiedFeed />);\n      \n      const hashtagButton = screen.getByText('politics');\n      fireEvent.click(hashtagButton);\n      \n      // Check that the hashtag interaction was handled\n      expect(hashtagButton).toBeInTheDocument();\n    });\n  });\n\n  describe('Real Component State Management', () => {\n    it('should manage loading states correctly', async () => {\n      mockUseHashtags.mockReturnValue({\n        ...mockUseHashtags(),\n        isLoading: true\n      });\n\n      render(<UnifiedFeed />);\n      \n      expect(screen.getByText(/loading/i)).toBeInTheDocument();\n    });\n\n    it('should manage error states correctly', async () => {\n      mockUseHashtags.mockReturnValue({\n        ...mockUseHashtags(),\n        error: 'Failed to load hashtags'\n      });\n\n      render(<UnifiedFeed />);\n      \n      expect(screen.getByText(/failed to load hashtags/i)).toBeInTheDocument();\n    });\n\n    it('should manage personalization score correctly', async () => {\n      render(<UnifiedFeed />);\n      \n      const likeButton = screen.getByLabelText(/like test poll/i);\n      fireEvent.click(likeButton);\n      \n      // Check that personalization is working\n      expect(likeButton).toBeInTheDocument();\n    });\n  });\n\n  describe('Real Component Accessibility', () => {\n    it('should have proper ARIA labels and roles', async () => {\n      render(<UnifiedFeed />);\n      \n      const feed = screen.getByTestId(T.accessibility.main);\n      expect(feed).toHaveAttribute('aria-label', 'Unified Feed');\n      \n      const darkModeButton = screen.getByTestId(T.accessibility.button);\n      expect(darkModeButton).toHaveAttribute('aria-label');\n      \n      const likeButton = screen.getByTestId(T.accessibility.feedItem('1'));\n      expect(likeButton).toHaveAttribute('aria-label');\n    });\n\n    it('should support keyboard navigation', async () => {\n      render(<UnifiedFeed />);\n      \n      const darkModeButton = screen.getByTestId(T.accessibility.button);\n      darkModeButton.focus();\n      expect(document.activeElement).toBe(darkModeButton);\n      \n      fireEvent.keyDown(darkModeButton, { key: 'Enter' });\n      // Should toggle dark mode\n    });\n\n    it('should announce changes to screen readers', async () => {\n      render(<UnifiedFeed />);\n      \n      const refreshButton = screen.getByTestId(T.accessibility.button);\n      fireEvent.click(refreshButton);\n      \n      // Should have aria-live region for announcements\n      const liveRegion = screen.getByTestId(T.accessibility.liveRegion);\n      expect(liveRegion).toBeInTheDocument();\n    });\n  });\n\n  describe('Real Component Performance', () => {\n    it('should handle large datasets efficiently', async () => {\n      const largeFeedData = Array.from({ length: 100 }, (_, i) => ({\n        id: `${i}`,\n        title: `Test Poll ${i}`,\n        content: `This is test poll ${i} content`,\n        summary: `This is test poll ${i}`,\n        author: {\n          id: `author-${i}`,\n          name: `Test Author ${i}`,\n          avatar: `/test-avatar-${i}.jpg`,\n          verified: true\n        },\n        category: 'politics',\n        tags: ['politics', 'election'],\n        type: 'poll' as const,\n        source: {\n          name: `Test Source ${i}`,\n          url: `https://example.com/${i}`,\n          logo: `/test-logo-${i}.jpg`,\n          verified: true\n        },\n        publishedAt: '2025-01-19T10:00:00Z',\n        updatedAt: '2025-01-19T10:00:00Z',\n        readTime: 5,\n        engagement: {\n          likes: Math.floor(Math.random() * 100),\n          shares: Math.floor(Math.random() * 50),\n          comments: Math.floor(Math.random() * 30),\n          views: Math.floor(Math.random() * 1000)\n        },\n        userInteraction: {\n          liked: false,\n          shared: false,\n          bookmarked: false,\n          read: false\n        },\n        metadata: {\n          hashtags: ['politics', 'election'],\n          primary_hashtag: 'politics',\n          language: 'en'\n        }\n      }));\n\n      mockUseFeeds.mockReturnValue(largeFeedData);\n\n      const startTime = performance.now();\n      render(<UnifiedFeed />);\n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      expect(renderTime).toBeLessThan(5000); // 5s threshold for 100 items\n    });\n\n    it('should handle rapid interactions without performance degradation', async () => {\n      render(<UnifiedFeed />);\n      \n      const startTime = performance.now();\n      \n      // Simulate rapid interactions\n      for (let i = 0; i < 10; i++) {\n        const likeButton = screen.getByTestId(T.accessibility.feedItem('1'));\n        fireEvent.click(likeButton);\n        await act(async () => {\n          await new Promise(resolve => setTimeout(resolve, 10));\n        });\n      }\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      expect(totalTime).toBeLessThan(1000); // 1s threshold for 10 interactions\n    });\n  });\n\n  describe('Real Component Error Handling', () => {\n    it('should handle network errors gracefully', async () => {\n      mockUseHashtags.mockReturnValue({\n        ...mockUseHashtags(),\n        error: 'Network error'\n      });\n\n      render(<UnifiedFeed />);\n      \n      expect(screen.getByText(/network error/i)).toBeInTheDocument();\n    });\n\n    it('should handle missing data gracefully', async () => {\n      mockUseFeeds.mockReturnValue([]);\n\n      render(<UnifiedFeed />);\n      \n      expect(screen.getByText(/no feeds available/i)).toBeInTheDocument();\n    });\n\n    it('should recover from errors when retrying', async () => {\n      mockUseHashtags.mockReturnValue({\n        ...mockUseHashtags(),\n        error: 'Network error',\n        refresh: jest.fn()\n      });\n\n      render(<UnifiedFeed />);\n      \n      const retryButton = screen.getByLabelText(/retry/i);\n      fireEvent.click(retryButton);\n      \n      // Check that retry was attempted\n      expect(retryButton).toBeInTheDocument();\n    });\n  });\n\n  describe('Real Component Business Logic', () => {\n    it('should calculate personalization score correctly', async () => {\n      render(<UnifiedFeed />);\n      \n      // Simulate user interactions that should increase personalization score\n      const likeButton = screen.getByTestId(T.accessibility.feedItem('1'));\n      fireEvent.click(likeButton);\n      \n      // Check that personalization is working\n      expect(likeButton).toBeInTheDocument();\n    });\n\n    it('should filter content based on hashtags correctly', async () => {\n      render(<UnifiedFeed />);\n      \n      const hashtagFilter = screen.getByText('politics');\n      fireEvent.click(hashtagFilter);\n      \n      // Should show only items with politics hashtag\n      expect(screen.getByText('Test Poll')).toBeInTheDocument();\n      expect(screen.queryByText('Test Post')).not.toBeInTheDocument();\n    });\n\n    it('should handle infinite scroll correctly', async () => {\n      render(<UnifiedFeed />);\n      \n      // Simulate scrolling to bottom\n      const feed = screen.getByTestId(T.accessibility.main);\n      fireEvent.scroll(feed, { target: { scrollTop: 1000 } });\n      \n      // Should trigger load more\n      expect(feed).toBeInTheDocument();\n    });\n  });\n});\n"],"names":["jest","mock","useFeeds","fn","useHashtags","mockUseFeeds","mockUseHashtags","beforeEach","mockReturnValue","hashtags","trendingHashtags","userHashtags","isLoading","error","loadTrendingHashtags","searchHashtags","followHashtag","unfollowHashtag","getTrendingHashtags","refresh","mockFeedData","id","title","content","summary","author","name","avatar","verified","category","tags","type","source","url","logo","publishedAt","updatedAt","readTime","engagement","likes","shares","comments","views","userInteraction","liked","shared","bookmarked","read","metadata","primary_hashtag","language","mockHashtagData","display_name","usage_count","follower_count","is_trending","trend_score","created_at","updated_at","is_verified","is_featured","describe","realComponentTester","RealComponentTester","useRealDependencies","testRealInteractions","testRealBusinessLogic","testRealErrorHandling","testRealAccessibility","testRealPerformance","afterEach","clearAllMocks","it","component","UnifiedFeed","result","realComponentHelpers","testRealRendering","expect","passed","toBe","errors","toHaveLength","startTime","performance","now","render","endTime","renderTime","toBeLessThan","darkModeButton","screen","getByTestId","T","accessibility","button","fireEvent","click","waitFor","toBeInTheDocument","filtersButton","filterButton","getByText","likeButton","feedItem","hashtagButton","getByLabelText","feed","main","toHaveAttribute","focus","document","activeElement","keyDown","key","refreshButton","liveRegion","largeFeedData","Array","from","length","_","i","Math","floor","random","act","Promise","resolve","setTimeout","totalTime","retryButton","hashtagFilter","queryByText","not","scroll","target","scrollTop"],"mappings":"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"}