c8fd5e41b7cb1ae22462d47358e0f785
/**
 * Onboarding Store - Zustand Implementation
 * 
 * Comprehensive onboarding state management including step navigation,
 * form data persistence, and progress tracking. Integrates with UserStore
 * for profile data and AppStore for user preferences.
 * 
 * Created: October 10, 2025
 * Status: âœ… ACTIVE
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: Object.getOwnPropertyDescriptor(all, name).get
    });
}
_export(exports, {
    get onboardingStoreDebug () {
        return onboardingStoreDebug;
    },
    get onboardingStoreSubscriptions () {
        return onboardingStoreSubscriptions;
    },
    get onboardingStoreUtils () {
        return onboardingStoreUtils;
    },
    get useCurrentStepData () {
        return useCurrentStepData;
    },
    get useOnboardingActions () {
        return useOnboardingActions;
    },
    get useOnboardingActive () {
        return useOnboardingActive;
    },
    get useOnboardingCompleted () {
        return useOnboardingCompleted;
    },
    get useOnboardingData () {
        return useOnboardingData;
    },
    get useOnboardingError () {
        return useOnboardingError;
    },
    get useOnboardingLoading () {
        return useOnboardingLoading;
    },
    get useOnboardingProgress () {
        return useOnboardingProgress;
    },
    get useOnboardingSkipped () {
        return useOnboardingSkipped;
    },
    get useOnboardingStats () {
        return useOnboardingStats;
    },
    get useOnboardingStep () {
        return useOnboardingStep;
    },
    get useOnboardingStore () {
        return useOnboardingStore;
    },
    get useStepValidation () {
        return useStepValidation;
    }
});
const _zustand = require("zustand");
const _middleware = require("zustand/middleware");
const _logger = require("../utils/logger");
// Default onboarding steps
const defaultSteps = [
    {
        id: 0,
        title: 'Welcome',
        description: 'Get started with your civic engagement journey',
        component: 'WelcomeStep',
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 1,
        title: 'Authentication',
        description: 'Set up your account and security',
        component: 'AuthSetupStep',
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 2,
        title: 'Profile Setup',
        description: 'Tell us about yourself',
        component: 'ProfileSetupStep',
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 3,
        title: 'Values & Interests',
        description: 'Help us personalize your experience',
        component: 'ValuesStep',
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 4,
        title: 'Privacy & Data',
        description: 'Control your data and privacy settings',
        component: 'DataUsageStepLite',
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 5,
        title: 'Complete',
        description: 'You\'re all set! Welcome to Choices',
        component: 'CompleteStep',
        required: true,
        completed: false,
        skipped: false
    }
];
const useOnboardingStore = (0, _zustand.create)()((0, _middleware.devtools)((0, _middleware.persist)((set, get)=>({
        // Initial state
        currentStep: 0,
        totalSteps: 6,
        isCompleted: false,
        isSkipped: false,
        isActive: false,
        authData: {},
        profileData: {},
        valuesData: {},
        preferencesData: {},
        progress: 0,
        completedSteps: [],
        skippedSteps: [],
        stepData: {},
        steps: defaultSteps,
        isLoading: false,
        isSaving: false,
        isSubmitting: false,
        error: null,
        // Navigation actions
        setCurrentStep: (step)=>set((state)=>{
                const newStep = Math.max(0, Math.min(step, state.totalSteps - 1));
                const progress = newStep / state.totalSteps * 100;
                _logger.logger.info('Onboarding step changed', {
                    from: state.currentStep,
                    to: newStep,
                    progress: Math.round(progress)
                });
                return {
                    ...state,
                    currentStep: newStep,
                    progress
                };
            }),
        nextStep: ()=>set((state)=>{
                const nextStep = Math.min(state.currentStep + 1, state.totalSteps - 1);
                const progress = nextStep / state.totalSteps * 100;
                _logger.logger.info('Onboarding next step', {
                    currentStep: nextStep,
                    progress: Math.round(progress)
                });
                return {
                    ...state,
                    currentStep: nextStep,
                    progress
                };
            }),
        previousStep: ()=>set((state)=>{
                const prevStep = Math.max(state.currentStep - 1, 0);
                const progress = prevStep / state.totalSteps * 100;
                _logger.logger.info('Onboarding previous step', {
                    currentStep: prevStep,
                    progress: Math.round(progress)
                });
                return {
                    ...state,
                    currentStep: prevStep,
                    progress
                };
            }),
        goToStep: (step)=>{
            const { setCurrentStep } = get();
            setCurrentStep(step);
        },
        completeOnboarding: ()=>set((state)=>{
                _logger.logger.info('Onboarding completed', {
                    totalSteps: state.totalSteps,
                    completedSteps: state.completedSteps.length + 1
                });
                return {
                    ...state,
                    isCompleted: true,
                    isActive: false,
                    progress: 100,
                    completedSteps: [
                        ...state.completedSteps,
                        state.currentStep
                    ]
                };
            }),
        skipOnboarding: ()=>set({
                isSkipped: true,
                isActive: false,
                progress: 100
            }),
        restartOnboarding: ()=>set({
                currentStep: 0,
                isCompleted: false,
                isSkipped: false,
                isActive: true,
                progress: 0,
                completedSteps: [],
                skippedSteps: [],
                stepData: {},
                authData: {},
                profileData: {},
                valuesData: {},
                preferencesData: {},
                error: null
            }),
        // Data management actions
        updateFormData: (step, data)=>set((state)=>({
                    stepData: {
                        ...state.stepData,
                        [step]: {
                            ...state.stepData[step] || {},
                            ...data
                        }
                    }
                })),
        updateAuthData: (data)=>set((state)=>({
                    authData: {
                        ...state.authData,
                        ...data
                    }
                })),
        updateProfileData: (data)=>set((state)=>({
                    profileData: {
                        ...state.profileData,
                        ...data
                    }
                })),
        updateValuesData: (data)=>set((state)=>({
                    valuesData: {
                        ...state.valuesData,
                        ...data
                    }
                })),
        updatePreferencesData: (data)=>set((state)=>({
                    preferencesData: {
                        ...state.preferencesData,
                        ...data
                    }
                })),
        clearStepData: (step)=>set((state)=>({
                    stepData: {
                        ...state.stepData,
                        [step]: {}
                    }
                })),
        clearAllData: ()=>set({
                stepData: {},
                authData: {},
                profileData: {},
                valuesData: {},
                preferencesData: {}
            }),
        // Step management actions
        markStepCompleted: (step)=>set((state)=>({
                    completedSteps: [
                        ...state.completedSteps,
                        step
                    ],
                    steps: state.steps.map((s)=>s.id === step ? {
                            ...s,
                            completed: true
                        } : s)
                })),
        markStepSkipped: (step)=>set((state)=>({
                    skippedSteps: [
                        ...state.skippedSteps,
                        step
                    ],
                    steps: state.steps.map((s)=>s.id === step ? {
                            ...s,
                            skipped: true
                        } : s)
                })),
        markStepIncomplete: (step)=>set((state)=>({
                    completedSteps: state.completedSteps.filter((s)=>s !== step),
                    steps: state.steps.map((s)=>s.id === step ? {
                            ...s,
                            completed: false
                        } : s)
                })),
        canProceedToNextStep: (step)=>{
            const state = get();
            const currentStepData = state.stepData[step];
            const stepConfig = state.steps.find((s)=>s.id === step);
            if (!stepConfig?.required) return true;
            // Add validation logic here based on step requirements
            switch(step){
                case 0:
                    return true;
                case 1:
                    return !!(currentStepData?.email && currentStepData?.password);
                case 2:
                    return !!(currentStepData?.firstName && currentStepData?.lastName);
                case 3:
                    return !!(currentStepData?.primaryInterests?.length > 0);
                case 4:
                    return !!currentStepData?.privacyAccepted;
                case 5:
                    return true;
                default:
                    return true;
            }
        },
        getStepValidationErrors: (step)=>{
            const state = get();
            const currentStepData = state.stepData[step];
            const errors = [];
            switch(step){
                case 1:
                    if (!currentStepData?.email) errors.push('Email is required');
                    if (!currentStepData?.password) errors.push('Password is required');
                    if (currentStepData?.password !== currentStepData?.confirmPassword) {
                        errors.push('Passwords do not match');
                    }
                    break;
                case 2:
                    if (!currentStepData?.firstName) errors.push('First name is required');
                    if (!currentStepData?.lastName) errors.push('Last name is required');
                    break;
                case 3:
                    if (!currentStepData?.primaryInterests?.length) {
                        errors.push('Please select at least one interest');
                    }
                    break;
                case 4:
                    if (!currentStepData?.privacyAccepted) {
                        errors.push('You must accept the privacy policy');
                    }
                    break;
            }
            return errors;
        },
        // Loading state actions
        setLoading: (loading)=>set({
                isLoading: loading
            }),
        setSaving: (saving)=>set({
                isSaving: saving
            }),
        setSubmitting: (submitting)=>set({
                isSubmitting: submitting
            }),
        setError: (error)=>set({
                error
            }),
        clearError: ()=>set({
                error: null
            }),
        // Data operations
        saveProgress: async ()=>{
            const { setSaving, setError } = get();
            try {
                setSaving(true);
                setError(null);
                const state = get();
                const response = await fetch('/api/profile?action=onboarding-progress', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        currentStep: state.currentStep,
                        progress: state.progress,
                        stepData: state.stepData,
                        authData: state.authData,
                        profileData: state.profileData,
                        valuesData: state.valuesData,
                        preferencesData: state.preferencesData
                    })
                });
                if (!response.ok) {
                    throw new Error('Failed to save onboarding progress');
                }
                _logger.logger.info('Onboarding progress saved', {
                    currentStep: state.currentStep,
                    progress: state.progress
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : 'Unknown error';
                setError(errorMessage);
                _logger.logger.error('Failed to save onboarding progress', error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setSaving(false);
            }
        },
        loadProgress: async ()=>{
            const { setLoading, setError } = get();
            try {
                setLoading(true);
                setError(null);
                const response = await fetch('/api/profile?action=onboarding-progress');
                if (!response.ok) {
                    throw new Error('Failed to load onboarding progress');
                }
                const data = await response.json();
                set({
                    currentStep: data.currentStep || 0,
                    progress: data.progress || 0,
                    stepData: data.stepData || {},
                    authData: data.authData || {},
                    profileData: data.profileData || {},
                    valuesData: data.valuesData || {},
                    preferencesData: data.preferencesData || {}
                });
                _logger.logger.info('Onboarding progress loaded', {
                    currentStep: data.currentStep,
                    progress: data.progress
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : 'Unknown error';
                setError(errorMessage);
                _logger.logger.error('Failed to load onboarding progress', error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setLoading(false);
            }
        },
        submitOnboarding: async ()=>{
            const { setSubmitting, setError, completeOnboarding } = get();
            try {
                setSubmitting(true);
                setError(null);
                const state = get();
                const response = await fetch('/api/profile?action=complete-onboarding', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        authData: state.authData,
                        profileData: state.profileData,
                        valuesData: state.valuesData,
                        preferencesData: state.preferencesData
                    })
                });
                if (!response.ok) {
                    throw new Error('Failed to complete onboarding');
                }
                completeOnboarding();
                _logger.logger.info('Onboarding submitted successfully');
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : 'Unknown error';
                setError(errorMessage);
                _logger.logger.error('Failed to submit onboarding', error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setSubmitting(false);
            }
        },
        validateStep: (step)=>{
            const { getStepValidationErrors } = get();
            const errors = getStepValidationErrors(step);
            return errors.length === 0;
        },
        validateAllSteps: ()=>{
            const { validateStep, totalSteps } = get();
            return Array.from({
                length: totalSteps
            }, (_, i)=>i).every((step)=>validateStep(step));
        }
    }), {
    name: 'onboarding-store',
    partialize: (state)=>({
            currentStep: state.currentStep,
            progress: state.progress,
            stepData: state.stepData,
            authData: state.authData,
            profileData: state.profileData,
            valuesData: state.valuesData,
            preferencesData: state.preferencesData,
            completedSteps: state.completedSteps,
            skippedSteps: state.skippedSteps
        })
}), {
    name: 'onboarding-store'
}));
const useOnboardingStep = ()=>useOnboardingStore((state)=>state.currentStep);
const useOnboardingProgress = ()=>useOnboardingStore((state)=>state.progress);
const useOnboardingCompleted = ()=>useOnboardingStore((state)=>state.isCompleted);
const useOnboardingSkipped = ()=>useOnboardingStore((state)=>state.isSkipped);
const useOnboardingActive = ()=>useOnboardingStore((state)=>state.isActive);
const useOnboardingData = ()=>{
    const currentStep = useOnboardingStore((state)=>state.currentStep);
    const progress = useOnboardingStore((state)=>state.progress);
    const isCompleted = useOnboardingStore((state)=>state.isCompleted);
    const authData = useOnboardingStore((state)=>state.authData);
    const profileData = useOnboardingStore((state)=>state.profileData);
    const valuesData = useOnboardingStore((state)=>state.valuesData);
    const preferencesData = useOnboardingStore((state)=>state.preferencesData);
    return {
        currentStep,
        progress,
        isCompleted,
        authData,
        profileData,
        valuesData,
        preferencesData
    };
};
const useOnboardingLoading = ()=>useOnboardingStore((state)=>state.isLoading);
const useOnboardingError = ()=>useOnboardingStore((state)=>state.error);
const useOnboardingActions = ()=>{
    const setCurrentStep = useOnboardingStore((state)=>state.setCurrentStep);
    const nextStep = useOnboardingStore((state)=>state.nextStep);
    const previousStep = useOnboardingStore((state)=>state.previousStep);
    const goToStep = useOnboardingStore((state)=>state.goToStep);
    const completeOnboarding = useOnboardingStore((state)=>state.completeOnboarding);
    const skipOnboarding = useOnboardingStore((state)=>state.skipOnboarding);
    const restartOnboarding = useOnboardingStore((state)=>state.restartOnboarding);
    const updateFormData = useOnboardingStore((state)=>state.updateFormData);
    const updateAuthData = useOnboardingStore((state)=>state.updateAuthData);
    const updateProfileData = useOnboardingStore((state)=>state.updateProfileData);
    const updateValuesData = useOnboardingStore((state)=>state.updateValuesData);
    const updatePreferencesData = useOnboardingStore((state)=>state.updatePreferencesData);
    const clearStepData = useOnboardingStore((state)=>state.clearStepData);
    const clearAllData = useOnboardingStore((state)=>state.clearAllData);
    const markStepCompleted = useOnboardingStore((state)=>state.markStepCompleted);
    const markStepSkipped = useOnboardingStore((state)=>state.markStepSkipped);
    const markStepIncomplete = useOnboardingStore((state)=>state.markStepIncomplete);
    const canProceedToNextStep = useOnboardingStore((state)=>state.canProceedToNextStep);
    const getStepValidationErrors = useOnboardingStore((state)=>state.getStepValidationErrors);
    const setLoading = useOnboardingStore((state)=>state.setLoading);
    const setSaving = useOnboardingStore((state)=>state.setSaving);
    const setSubmitting = useOnboardingStore((state)=>state.setSubmitting);
    const setError = useOnboardingStore((state)=>state.setError);
    const clearError = useOnboardingStore((state)=>state.clearError);
    const saveProgress = useOnboardingStore((state)=>state.saveProgress);
    const loadProgress = useOnboardingStore((state)=>state.loadProgress);
    const submitOnboarding = useOnboardingStore((state)=>state.submitOnboarding);
    const validateStep = useOnboardingStore((state)=>state.validateStep);
    const validateAllSteps = useOnboardingStore((state)=>state.validateAllSteps);
    return {
        setCurrentStep,
        nextStep,
        previousStep,
        goToStep,
        completeOnboarding,
        skipOnboarding,
        restartOnboarding,
        updateFormData,
        updateAuthData,
        updateProfileData,
        updateValuesData,
        updatePreferencesData,
        clearStepData,
        clearAllData,
        markStepCompleted,
        markStepSkipped,
        markStepIncomplete,
        canProceedToNextStep,
        getStepValidationErrors,
        setLoading,
        setSaving,
        setSubmitting,
        setError,
        clearError,
        saveProgress,
        loadProgress,
        submitOnboarding,
        validateStep,
        validateAllSteps
    };
};
const useOnboardingStats = ()=>{
    const totalSteps = useOnboardingStore((state)=>state.totalSteps);
    const currentStep = useOnboardingStore((state)=>state.currentStep);
    const completedSteps = useOnboardingStore((state)=>state.completedSteps.length);
    const skippedSteps = useOnboardingStore((state)=>state.skippedSteps.length);
    const progress = useOnboardingStore((state)=>state.progress);
    const isCompleted = useOnboardingStore((state)=>state.isCompleted);
    const isSkipped = useOnboardingStore((state)=>state.isSkipped);
    return {
        totalSteps,
        currentStep,
        completedSteps,
        skippedSteps,
        progress,
        isCompleted,
        isSkipped
    };
};
const useCurrentStepData = ()=>useOnboardingStore((state)=>state.stepData[state.currentStep] || {});
const useStepValidation = (step)=>useOnboardingStore((state)=>({
            canProceed: state.canProceedToNextStep(step),
            errors: state.getStepValidationErrors(step),
            isValid: state.validateStep(step)
        }));
const onboardingStoreUtils = {
    /**
   * Get onboarding summary
   */ getOnboardingSummary: ()=>{
        const state = useOnboardingStore.getState();
        return {
            currentStep: state.currentStep,
            totalSteps: state.totalSteps,
            progress: state.progress,
            isCompleted: state.isCompleted,
            isSkipped: state.isSkipped,
            completedSteps: state.completedSteps,
            skippedSteps: state.skippedSteps
        };
    },
    /**
   * Get step data for specific step
   */ getStepData: (step)=>{
        const state = useOnboardingStore.getState();
        return state.stepData[step] || {};
    },
    /**
   * Check if onboarding can be completed
   */ canCompleteOnboarding: ()=>{
        const state = useOnboardingStore.getState();
        return state.validateAllSteps() && state.currentStep === state.totalSteps - 1;
    },
    /**
   * Get onboarding progress percentage
   */ getProgressPercentage: ()=>{
        const state = useOnboardingStore.getState();
        return Math.round(state.progress);
    },
    /**
   * Get next incomplete step
   */ getNextIncompleteStep: ()=>{
        const state = useOnboardingStore.getState();
        const incompleteSteps = state.steps.filter((step)=>!step.completed && !step.skipped);
        return incompleteSteps[0] || null;
    }
};
const onboardingStoreSubscriptions = {
    /**
   * Subscribe to onboarding progress changes
   */ onProgressChange: (callback)=>{
        return useOnboardingStore.subscribe((state)=>{
            callback(state.progress);
        });
    },
    /**
   * Subscribe to step changes
   */ onStepChange: (callback)=>{
        return useOnboardingStore.subscribe((state)=>{
            callback(state.currentStep);
        });
    },
    /**
   * Subscribe to completion status
   */ onCompletionChange: (callback)=>{
        return useOnboardingStore.subscribe((state)=>{
            callback(state.isCompleted);
        });
    }
};
const onboardingStoreDebug = {
    /**
   * Log current onboarding state
   */ logState: ()=>{
        const state = useOnboardingStore.getState();
        _logger.logger.debug('Onboarding Store State', {
            currentStep: state.currentStep,
            totalSteps: state.totalSteps,
            progress: state.progress,
            isCompleted: state.isCompleted,
            isSkipped: state.isSkipped,
            completedSteps: state.completedSteps,
            skippedSteps: state.skippedSteps,
            isLoading: state.isLoading,
            error: state.error
        });
    },
    /**
   * Log onboarding summary
   */ logSummary: ()=>{
        const summary = onboardingStoreUtils.getOnboardingSummary();
        _logger.logger.debug('Onboarding Summary', summary);
    },
    /**
   * Log step data
   */ logStepData: (step)=>{
        const stepData = onboardingStoreUtils.getStepData(step);
        _logger.logger.debug('Step Data', {
            step,
            stepData
        });
    },
    /**
   * Reset onboarding store
   */ reset: ()=>{
        useOnboardingStore.getState().restartOnboarding();
        _logger.logger.info('Onboarding store reset');
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvc3RvcmVzL29uYm9hcmRpbmdTdG9yZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE9uYm9hcmRpbmcgU3RvcmUgLSBadXN0YW5kIEltcGxlbWVudGF0aW9uXG4gKiBcbiAqIENvbXByZWhlbnNpdmUgb25ib2FyZGluZyBzdGF0ZSBtYW5hZ2VtZW50IGluY2x1ZGluZyBzdGVwIG5hdmlnYXRpb24sXG4gKiBmb3JtIGRhdGEgcGVyc2lzdGVuY2UsIGFuZCBwcm9ncmVzcyB0cmFja2luZy4gSW50ZWdyYXRlcyB3aXRoIFVzZXJTdG9yZVxuICogZm9yIHByb2ZpbGUgZGF0YSBhbmQgQXBwU3RvcmUgZm9yIHVzZXIgcHJlZmVyZW5jZXMuXG4gKiBcbiAqIENyZWF0ZWQ6IE9jdG9iZXIgMTAsIDIwMjVcbiAqIFN0YXR1czog4pyFIEFDVElWRVxuICovXG5cbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnO1xuaW1wb3J0IHsgZGV2dG9vbHMgfSBmcm9tICd6dXN0YW5kL21pZGRsZXdhcmUnO1xuaW1wb3J0IHsgcGVyc2lzdCB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0AvbGliL3V0aWxzL2xvZ2dlcic7XG5cbi8vIE9uYm9hcmRpbmcgZGF0YSB0eXBlc1xuaW50ZXJmYWNlIEF1dGhEYXRhIHtcbiAgbWV0aG9kPzogJ2VtYWlsJyB8ICdnb29nbGUnIHwgJ2FwcGxlJyB8ICdwaG9uZSc7XG4gIGVtYWlsPzogc3RyaW5nO1xuICBwaG9uZT86IHN0cmluZztcbiAgcGFzc3dvcmQ/OiBzdHJpbmc7XG4gIGNvbmZpcm1QYXNzd29yZD86IHN0cmluZztcbiAgdGVybXNBY2NlcHRlZD86IGJvb2xlYW47XG4gIHByaXZhY3lBY2NlcHRlZD86IGJvb2xlYW47XG4gIG1hcmtldGluZ09wdEluPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFByb2ZpbGVEYXRhIHtcbiAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICBsYXN0TmFtZT86IHN0cmluZztcbiAgdXNlcm5hbWU/OiBzdHJpbmc7XG4gIGF2YXRhcj86IHN0cmluZztcbiAgYmlvPzogc3RyaW5nO1xuICBsb2NhdGlvbj86IHN0cmluZztcbiAgc3RhdGU/OiBzdHJpbmc7XG4gIHppcENvZGU/OiBzdHJpbmc7XG4gIGRhdGVPZkJpcnRoPzogc3RyaW5nO1xuICBnZW5kZXI/OiBzdHJpbmc7XG4gIHBob25lPzogc3RyaW5nO1xuICB3ZWJzaXRlPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVmFsdWVzRGF0YSB7XG4gIHBvbGl0aWNhbEFmZmlsaWF0aW9uPzogc3RyaW5nO1xuICBwcmltYXJ5SW50ZXJlc3RzPzogc3RyaW5nW107XG4gIHNlY29uZGFyeUludGVyZXN0cz86IHN0cmluZ1tdO1xuICB2YWx1ZXM/OiBzdHJpbmdbXTtcbiAgcHJpb3JpdGllcz86IHN0cmluZ1tdO1xuICBlbmdhZ2VtZW50TGV2ZWw/OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnO1xuICBub3RpZmljYXRpb25QcmVmZXJlbmNlcz86IHtcbiAgICBlbWFpbDogYm9vbGVhbjtcbiAgICBwdXNoOiBib29sZWFuO1xuICAgIHNtczogYm9vbGVhbjtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFByZWZlcmVuY2VzRGF0YSB7XG4gIHRoZW1lPzogJ2xpZ2h0JyB8ICdkYXJrJyB8ICdzeXN0ZW0nO1xuICBsYW5ndWFnZT86IHN0cmluZztcbiAgdGltZXpvbmU/OiBzdHJpbmc7XG4gIG5vdGlmaWNhdGlvbnM/OiBib29sZWFuO1xuICBwcml2YWN5PzogJ3B1YmxpYycgfCAncHJpdmF0ZScgfCAnZnJpZW5kcyc7XG4gIGRhdGFTaGFyaW5nPzogYm9vbGVhbjtcbiAgYW5hbHl0aWNzPzogYm9vbGVhbjtcbiAgbWFya2V0aW5nPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIE9uYm9hcmRpbmdTdGVwIHtcbiAgaWQ6IG51bWJlcjtcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgY29tcG9uZW50OiBzdHJpbmc7XG4gIHJlcXVpcmVkOiBib29sZWFuO1xuICBjb21wbGV0ZWQ6IGJvb2xlYW47XG4gIHNraXBwZWQ6IGJvb2xlYW47XG4gIGRhdGE/OiBhbnk7XG59XG5cbi8vIE9uYm9hcmRpbmcgc3RvcmUgc3RhdGUgaW50ZXJmYWNlXG5pbnRlcmZhY2UgT25ib2FyZGluZ1N0b3JlIHtcbiAgLy8gT25ib2FyZGluZyBzdGF0ZVxuICBjdXJyZW50U3RlcDogbnVtYmVyO1xuICB0b3RhbFN0ZXBzOiBudW1iZXI7XG4gIGlzQ29tcGxldGVkOiBib29sZWFuO1xuICBpc1NraXBwZWQ6IGJvb2xlYW47XG4gIGlzQWN0aXZlOiBib29sZWFuO1xuICBcbiAgLy8gRm9ybSBkYXRhXG4gIGF1dGhEYXRhOiBBdXRoRGF0YTtcbiAgcHJvZmlsZURhdGE6IFByb2ZpbGVEYXRhO1xuICB2YWx1ZXNEYXRhOiBWYWx1ZXNEYXRhO1xuICBwcmVmZXJlbmNlc0RhdGE6IFByZWZlcmVuY2VzRGF0YTtcbiAgXG4gIC8vIFByb2dyZXNzIHRyYWNraW5nXG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIGNvbXBsZXRlZFN0ZXBzOiBudW1iZXJbXTtcbiAgc2tpcHBlZFN0ZXBzOiBudW1iZXJbXTtcbiAgc3RlcERhdGE6IFJlY29yZDxudW1iZXIsIGFueT47XG4gIFxuICAvLyBTdGVwcyBjb25maWd1cmF0aW9uXG4gIHN0ZXBzOiBPbmJvYXJkaW5nU3RlcFtdO1xuICBcbiAgLy8gTG9hZGluZyBzdGF0ZXNcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBpc1NhdmluZzogYm9vbGVhbjtcbiAgaXNTdWJtaXR0aW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBOYXZpZ2F0aW9uXG4gIHNldEN1cnJlbnRTdGVwOiAoc3RlcDogbnVtYmVyKSA9PiB2b2lkO1xuICBuZXh0U3RlcDogKCkgPT4gdm9pZDtcbiAgcHJldmlvdXNTdGVwOiAoKSA9PiB2b2lkO1xuICBnb1RvU3RlcDogKHN0ZXA6IG51bWJlcikgPT4gdm9pZDtcbiAgY29tcGxldGVPbmJvYXJkaW5nOiAoKSA9PiB2b2lkO1xuICBza2lwT25ib2FyZGluZzogKCkgPT4gdm9pZDtcbiAgcmVzdGFydE9uYm9hcmRpbmc6ICgpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gRGF0YSBtYW5hZ2VtZW50XG4gIHVwZGF0ZUZvcm1EYXRhOiAoc3RlcDogbnVtYmVyLCBkYXRhOiBhbnkpID0+IHZvaWQ7XG4gIHVwZGF0ZUF1dGhEYXRhOiAoZGF0YTogUGFydGlhbDxBdXRoRGF0YT4pID0+IHZvaWQ7XG4gIHVwZGF0ZVByb2ZpbGVEYXRhOiAoZGF0YTogUGFydGlhbDxQcm9maWxlRGF0YT4pID0+IHZvaWQ7XG4gIHVwZGF0ZVZhbHVlc0RhdGE6IChkYXRhOiBQYXJ0aWFsPFZhbHVlc0RhdGE+KSA9PiB2b2lkO1xuICB1cGRhdGVQcmVmZXJlbmNlc0RhdGE6IChkYXRhOiBQYXJ0aWFsPFByZWZlcmVuY2VzRGF0YT4pID0+IHZvaWQ7XG4gIGNsZWFyU3RlcERhdGE6IChzdGVwOiBudW1iZXIpID0+IHZvaWQ7XG4gIGNsZWFyQWxsRGF0YTogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBTdGVwIG1hbmFnZW1lbnRcbiAgbWFya1N0ZXBDb21wbGV0ZWQ6IChzdGVwOiBudW1iZXIpID0+IHZvaWQ7XG4gIG1hcmtTdGVwU2tpcHBlZDogKHN0ZXA6IG51bWJlcikgPT4gdm9pZDtcbiAgbWFya1N0ZXBJbmNvbXBsZXRlOiAoc3RlcDogbnVtYmVyKSA9PiB2b2lkO1xuICBjYW5Qcm9jZWVkVG9OZXh0U3RlcDogKHN0ZXA6IG51bWJlcikgPT4gYm9vbGVhbjtcbiAgZ2V0U3RlcFZhbGlkYXRpb25FcnJvcnM6IChzdGVwOiBudW1iZXIpID0+IHN0cmluZ1tdO1xuICBcbiAgLy8gQWN0aW9ucyAtIExvYWRpbmcgc3RhdGVzXG4gIHNldExvYWRpbmc6IChsb2FkaW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRTYXZpbmc6IChzYXZpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldFN1Ym1pdHRpbmc6IChzdWJtaXR0aW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRFcnJvcjogKGVycm9yOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkO1xuICBjbGVhckVycm9yOiAoKSA9PiB2b2lkO1xuICBcbiAgLy8gQWN0aW9ucyAtIERhdGEgb3BlcmF0aW9uc1xuICBzYXZlUHJvZ3Jlc3M6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGxvYWRQcm9ncmVzczogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc3VibWl0T25ib2FyZGluZzogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgdmFsaWRhdGVTdGVwOiAoc3RlcDogbnVtYmVyKSA9PiBib29sZWFuO1xuICB2YWxpZGF0ZUFsbFN0ZXBzOiAoKSA9PiBib29sZWFuO1xufVxuXG4vLyBEZWZhdWx0IG9uYm9hcmRpbmcgc3RlcHNcbmNvbnN0IGRlZmF1bHRTdGVwczogT25ib2FyZGluZ1N0ZXBbXSA9IFtcbiAge1xuICAgIGlkOiAwLFxuICAgIHRpdGxlOiAnV2VsY29tZScsXG4gICAgZGVzY3JpcHRpb246ICdHZXQgc3RhcnRlZCB3aXRoIHlvdXIgY2l2aWMgZW5nYWdlbWVudCBqb3VybmV5JyxcbiAgICBjb21wb25lbnQ6ICdXZWxjb21lU3RlcCcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICBza2lwcGVkOiBmYWxzZSxcbiAgfSxcbiAge1xuICAgIGlkOiAxLFxuICAgIHRpdGxlOiAnQXV0aGVudGljYXRpb24nLFxuICAgIGRlc2NyaXB0aW9uOiAnU2V0IHVwIHlvdXIgYWNjb3VudCBhbmQgc2VjdXJpdHknLFxuICAgIGNvbXBvbmVudDogJ0F1dGhTZXR1cFN0ZXAnLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgc2tpcHBlZDogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICBpZDogMixcbiAgICB0aXRsZTogJ1Byb2ZpbGUgU2V0dXAnLFxuICAgIGRlc2NyaXB0aW9uOiAnVGVsbCB1cyBhYm91dCB5b3Vyc2VsZicsXG4gICAgY29tcG9uZW50OiAnUHJvZmlsZVNldHVwU3RlcCcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICBza2lwcGVkOiBmYWxzZSxcbiAgfSxcbiAge1xuICAgIGlkOiAzLFxuICAgIHRpdGxlOiAnVmFsdWVzICYgSW50ZXJlc3RzJyxcbiAgICBkZXNjcmlwdGlvbjogJ0hlbHAgdXMgcGVyc29uYWxpemUgeW91ciBleHBlcmllbmNlJyxcbiAgICBjb21wb25lbnQ6ICdWYWx1ZXNTdGVwJyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgIHNraXBwZWQ6IGZhbHNlLFxuICB9LFxuICB7XG4gICAgaWQ6IDQsXG4gICAgdGl0bGU6ICdQcml2YWN5ICYgRGF0YScsXG4gICAgZGVzY3JpcHRpb246ICdDb250cm9sIHlvdXIgZGF0YSBhbmQgcHJpdmFjeSBzZXR0aW5ncycsXG4gICAgY29tcG9uZW50OiAnRGF0YVVzYWdlU3RlcExpdGUnLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgc2tpcHBlZDogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICBpZDogNSxcbiAgICB0aXRsZTogJ0NvbXBsZXRlJyxcbiAgICBkZXNjcmlwdGlvbjogJ1lvdVxcJ3JlIGFsbCBzZXQhIFdlbGNvbWUgdG8gQ2hvaWNlcycsXG4gICAgY29tcG9uZW50OiAnQ29tcGxldGVTdGVwJyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgIHNraXBwZWQ6IGZhbHNlLFxuICB9LFxuXTtcblxuLy8gQ3JlYXRlIG9uYm9hcmRpbmcgc3RvcmUgd2l0aCBtaWRkbGV3YXJlXG5leHBvcnQgY29uc3QgdXNlT25ib2FyZGluZ1N0b3JlID0gY3JlYXRlPE9uYm9hcmRpbmdTdG9yZT4oKShcbiAgZGV2dG9vbHMoXG4gICAgcGVyc2lzdChcbiAgICAgIChzZXQsIGdldCkgPT4gKHtcbiAgICAgICAgLy8gSW5pdGlhbCBzdGF0ZVxuICAgICAgICBjdXJyZW50U3RlcDogMCxcbiAgICAgICAgdG90YWxTdGVwczogNixcbiAgICAgICAgaXNDb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICBpc1NraXBwZWQ6IGZhbHNlLFxuICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICAgIGF1dGhEYXRhOiB7fSxcbiAgICAgICAgcHJvZmlsZURhdGE6IHt9LFxuICAgICAgICB2YWx1ZXNEYXRhOiB7fSxcbiAgICAgICAgcHJlZmVyZW5jZXNEYXRhOiB7fSxcbiAgICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICAgIGNvbXBsZXRlZFN0ZXBzOiBbXSxcbiAgICAgICAgc2tpcHBlZFN0ZXBzOiBbXSxcbiAgICAgICAgc3RlcERhdGE6IHt9LFxuICAgICAgICBzdGVwczogZGVmYXVsdFN0ZXBzLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBpc1NhdmluZzogZmFsc2UsXG4gICAgICAgIGlzU3VibWl0dGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICBcbiAgICAgICAgLy8gTmF2aWdhdGlvbiBhY3Rpb25zXG4gICAgICAgIHNldEN1cnJlbnRTdGVwOiAoc3RlcCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld1N0ZXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzdGVwLCBzdGF0ZS50b3RhbFN0ZXBzIC0gMSkpO1xuICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gKG5ld1N0ZXAgLyBzdGF0ZS50b3RhbFN0ZXBzKSAqIDEwMDtcbiAgICAgICAgICBcbiAgICAgICAgICBsb2dnZXIuaW5mbygnT25ib2FyZGluZyBzdGVwIGNoYW5nZWQnLCB7XG4gICAgICAgICAgICBmcm9tOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgICAgICAgIHRvOiBuZXdTdGVwLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IE1hdGgucm91bmQocHJvZ3Jlc3MpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgY3VycmVudFN0ZXA6IG5ld1N0ZXAsXG4gICAgICAgICAgICBwcm9ncmVzc1xuICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgbmV4dFN0ZXA6ICgpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXh0U3RlcCA9IE1hdGgubWluKHN0YXRlLmN1cnJlbnRTdGVwICsgMSwgc3RhdGUudG90YWxTdGVwcyAtIDEpO1xuICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gKG5leHRTdGVwIC8gc3RhdGUudG90YWxTdGVwcykgKiAxMDA7XG4gICAgICAgICAgXG4gICAgICAgICAgbG9nZ2VyLmluZm8oJ09uYm9hcmRpbmcgbmV4dCBzdGVwJywge1xuICAgICAgICAgICAgY3VycmVudFN0ZXA6IG5leHRTdGVwLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IE1hdGgucm91bmQocHJvZ3Jlc3MpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgY3VycmVudFN0ZXA6IG5leHRTdGVwLFxuICAgICAgICAgICAgcHJvZ3Jlc3NcbiAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHByZXZpb3VzU3RlcDogKCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHByZXZTdGVwID0gTWF0aC5tYXgoc3RhdGUuY3VycmVudFN0ZXAgLSAxLCAwKTtcbiAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IChwcmV2U3RlcCAvIHN0YXRlLnRvdGFsU3RlcHMpICogMTAwO1xuICAgICAgICAgIFxuICAgICAgICAgIGxvZ2dlci5pbmZvKCdPbmJvYXJkaW5nIHByZXZpb3VzIHN0ZXAnLCB7XG4gICAgICAgICAgICBjdXJyZW50U3RlcDogcHJldlN0ZXAsXG4gICAgICAgICAgICBwcm9ncmVzczogTWF0aC5yb3VuZChwcm9ncmVzcylcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICBjdXJyZW50U3RlcDogcHJldlN0ZXAsXG4gICAgICAgICAgICBwcm9ncmVzc1xuICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgZ29Ub1N0ZXA6IChzdGVwKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBzZXRDdXJyZW50U3RlcCB9ID0gZ2V0KCk7XG4gICAgICAgICAgc2V0Q3VycmVudFN0ZXAoc3RlcCk7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBjb21wbGV0ZU9uYm9hcmRpbmc6ICgpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBsb2dnZXIuaW5mbygnT25ib2FyZGluZyBjb21wbGV0ZWQnLCB7XG4gICAgICAgICAgICB0b3RhbFN0ZXBzOiBzdGF0ZS50b3RhbFN0ZXBzLFxuICAgICAgICAgICAgY29tcGxldGVkU3RlcHM6IHN0YXRlLmNvbXBsZXRlZFN0ZXBzLmxlbmd0aCArIDFcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICBpc0NvbXBsZXRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIHByb2dyZXNzOiAxMDAsXG4gICAgICAgICAgICBjb21wbGV0ZWRTdGVwczogWy4uLnN0YXRlLmNvbXBsZXRlZFN0ZXBzLCBzdGF0ZS5jdXJyZW50U3RlcF1cbiAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHNraXBPbmJvYXJkaW5nOiAoKSA9PiBzZXQoe1xuICAgICAgICAgIGlzU2tpcHBlZDogdHJ1ZSxcbiAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgcHJvZ3Jlc3M6IDEwMFxuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHJlc3RhcnRPbmJvYXJkaW5nOiAoKSA9PiBzZXQoe1xuICAgICAgICAgIGN1cnJlbnRTdGVwOiAwLFxuICAgICAgICAgIGlzQ29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICBpc1NraXBwZWQ6IGZhbHNlLFxuICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgICAgIGNvbXBsZXRlZFN0ZXBzOiBbXSxcbiAgICAgICAgICBza2lwcGVkU3RlcHM6IFtdLFxuICAgICAgICAgIHN0ZXBEYXRhOiB7fSxcbiAgICAgICAgICBhdXRoRGF0YToge30sXG4gICAgICAgICAgcHJvZmlsZURhdGE6IHt9LFxuICAgICAgICAgIHZhbHVlc0RhdGE6IHt9LFxuICAgICAgICAgIHByZWZlcmVuY2VzRGF0YToge30sXG4gICAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBEYXRhIG1hbmFnZW1lbnQgYWN0aW9uc1xuICAgICAgICB1cGRhdGVGb3JtRGF0YTogKHN0ZXAsIGRhdGEpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgc3RlcERhdGE6IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLnN0ZXBEYXRhLFxuICAgICAgICAgICAgW3N0ZXBdOiB7IC4uLihzdGF0ZS5zdGVwRGF0YVtzdGVwXSB8fCB7fSksIC4uLmRhdGEgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgdXBkYXRlQXV0aERhdGE6IChkYXRhKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGF1dGhEYXRhOiB7IC4uLnN0YXRlLmF1dGhEYXRhLCAuLi5kYXRhIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgdXBkYXRlUHJvZmlsZURhdGE6IChkYXRhKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHByb2ZpbGVEYXRhOiB7IC4uLnN0YXRlLnByb2ZpbGVEYXRhLCAuLi5kYXRhIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgdXBkYXRlVmFsdWVzRGF0YTogKGRhdGEpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgdmFsdWVzRGF0YTogeyAuLi5zdGF0ZS52YWx1ZXNEYXRhLCAuLi5kYXRhIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgdXBkYXRlUHJlZmVyZW5jZXNEYXRhOiAoZGF0YSkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBwcmVmZXJlbmNlc0RhdGE6IHsgLi4uc3RhdGUucHJlZmVyZW5jZXNEYXRhLCAuLi5kYXRhIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgY2xlYXJTdGVwRGF0YTogKHN0ZXApID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgc3RlcERhdGE6IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLnN0ZXBEYXRhLFxuICAgICAgICAgICAgW3N0ZXBdOiB7fVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgY2xlYXJBbGxEYXRhOiAoKSA9PiBzZXQoe1xuICAgICAgICAgIHN0ZXBEYXRhOiB7fSxcbiAgICAgICAgICBhdXRoRGF0YToge30sXG4gICAgICAgICAgcHJvZmlsZURhdGE6IHt9LFxuICAgICAgICAgIHZhbHVlc0RhdGE6IHt9LFxuICAgICAgICAgIHByZWZlcmVuY2VzRGF0YToge31cbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBTdGVwIG1hbmFnZW1lbnQgYWN0aW9uc1xuICAgICAgICBtYXJrU3RlcENvbXBsZXRlZDogKHN0ZXApID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgY29tcGxldGVkU3RlcHM6IFsuLi5zdGF0ZS5jb21wbGV0ZWRTdGVwcywgc3RlcF0sXG4gICAgICAgICAgc3RlcHM6IHN0YXRlLnN0ZXBzLm1hcChzID0+IFxuICAgICAgICAgICAgcy5pZCA9PT0gc3RlcCA/IHsgLi4ucywgY29tcGxldGVkOiB0cnVlIH0gOiBzXG4gICAgICAgICAgKVxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICBtYXJrU3RlcFNraXBwZWQ6IChzdGVwKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHNraXBwZWRTdGVwczogWy4uLnN0YXRlLnNraXBwZWRTdGVwcywgc3RlcF0sXG4gICAgICAgICAgc3RlcHM6IHN0YXRlLnN0ZXBzLm1hcChzID0+IFxuICAgICAgICAgICAgcy5pZCA9PT0gc3RlcCA/IHsgLi4ucywgc2tpcHBlZDogdHJ1ZSB9IDogc1xuICAgICAgICAgIClcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgbWFya1N0ZXBJbmNvbXBsZXRlOiAoc3RlcCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBjb21wbGV0ZWRTdGVwczogc3RhdGUuY29tcGxldGVkU3RlcHMuZmlsdGVyKHMgPT4gcyAhPT0gc3RlcCksXG4gICAgICAgICAgc3RlcHM6IHN0YXRlLnN0ZXBzLm1hcChzID0+IFxuICAgICAgICAgICAgcy5pZCA9PT0gc3RlcCA/IHsgLi4ucywgY29tcGxldGVkOiBmYWxzZSB9IDogc1xuICAgICAgICAgIClcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgY2FuUHJvY2VlZFRvTmV4dFN0ZXA6IChzdGVwKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXQoKTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50U3RlcERhdGEgPSBzdGF0ZS5zdGVwRGF0YVtzdGVwXTtcbiAgICAgICAgICBjb25zdCBzdGVwQ29uZmlnID0gc3RhdGUuc3RlcHMuZmluZChzID0+IHMuaWQgPT09IHN0ZXApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghc3RlcENvbmZpZz8ucmVxdWlyZWQpIHJldHVybiB0cnVlO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCB2YWxpZGF0aW9uIGxvZ2ljIGhlcmUgYmFzZWQgb24gc3RlcCByZXF1aXJlbWVudHNcbiAgICAgICAgICBzd2l0Y2ggKHN0ZXApIHtcbiAgICAgICAgICAgIGNhc2UgMDogLy8gV2VsY29tZSBzdGVwXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY2FzZSAxOiAvLyBBdXRoIHN0ZXBcbiAgICAgICAgICAgICAgcmV0dXJuICEhKGN1cnJlbnRTdGVwRGF0YT8uZW1haWwgJiYgY3VycmVudFN0ZXBEYXRhPy5wYXNzd29yZCk7XG4gICAgICAgICAgICBjYXNlIDI6IC8vIFByb2ZpbGUgc3RlcFxuICAgICAgICAgICAgICByZXR1cm4gISEoY3VycmVudFN0ZXBEYXRhPy5maXJzdE5hbWUgJiYgY3VycmVudFN0ZXBEYXRhPy5sYXN0TmFtZSk7XG4gICAgICAgICAgICBjYXNlIDM6IC8vIFZhbHVlcyBzdGVwXG4gICAgICAgICAgICAgIHJldHVybiAhIShjdXJyZW50U3RlcERhdGE/LnByaW1hcnlJbnRlcmVzdHM/Lmxlbmd0aCA+IDApO1xuICAgICAgICAgICAgY2FzZSA0OiAvLyBQcml2YWN5IHN0ZXBcbiAgICAgICAgICAgICAgcmV0dXJuICEhKGN1cnJlbnRTdGVwRGF0YT8ucHJpdmFjeUFjY2VwdGVkKTtcbiAgICAgICAgICAgIGNhc2UgNTogLy8gQ29tcGxldGUgc3RlcFxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGdldFN0ZXBWYWxpZGF0aW9uRXJyb3JzOiAoc3RlcCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0KCk7XG4gICAgICAgICAgY29uc3QgY3VycmVudFN0ZXBEYXRhID0gc3RhdGUuc3RlcERhdGFbc3RlcF07XG4gICAgICAgICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgIFxuICAgICAgICAgIHN3aXRjaCAoc3RlcCkge1xuICAgICAgICAgICAgY2FzZSAxOiAvLyBBdXRoIHN0ZXBcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50U3RlcERhdGE/LmVtYWlsKSBlcnJvcnMucHVzaCgnRW1haWwgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50U3RlcERhdGE/LnBhc3N3b3JkKSBlcnJvcnMucHVzaCgnUGFzc3dvcmQgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGVwRGF0YT8ucGFzc3dvcmQgIT09IGN1cnJlbnRTdGVwRGF0YT8uY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjogLy8gUHJvZmlsZSBzdGVwXG4gICAgICAgICAgICAgIGlmICghY3VycmVudFN0ZXBEYXRhPy5maXJzdE5hbWUpIGVycm9ycy5wdXNoKCdGaXJzdCBuYW1lIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgICAgICAgIGlmICghY3VycmVudFN0ZXBEYXRhPy5sYXN0TmFtZSkgZXJyb3JzLnB1c2goJ0xhc3QgbmFtZSBpcyByZXF1aXJlZCcpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzogLy8gVmFsdWVzIHN0ZXBcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50U3RlcERhdGE/LnByaW1hcnlJbnRlcmVzdHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBpbnRlcmVzdCcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OiAvLyBQcml2YWN5IHN0ZXBcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50U3RlcERhdGE/LnByaXZhY3lBY2NlcHRlZCkge1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdZb3UgbXVzdCBhY2NlcHQgdGhlIHByaXZhY3kgcG9saWN5Jyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiBlcnJvcnM7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvLyBMb2FkaW5nIHN0YXRlIGFjdGlvbnNcbiAgICAgICAgc2V0TG9hZGluZzogKGxvYWRpbmcpID0+IHNldCh7IGlzTG9hZGluZzogbG9hZGluZyB9KSxcbiAgICAgICAgc2V0U2F2aW5nOiAoc2F2aW5nKSA9PiBzZXQoeyBpc1NhdmluZzogc2F2aW5nIH0pLFxuICAgICAgICBzZXRTdWJtaXR0aW5nOiAoc3VibWl0dGluZykgPT4gc2V0KHsgaXNTdWJtaXR0aW5nOiBzdWJtaXR0aW5nIH0pLFxuICAgICAgICBzZXRFcnJvcjogKGVycm9yKSA9PiBzZXQoeyBlcnJvciB9KSxcbiAgICAgICAgY2xlYXJFcnJvcjogKCkgPT4gc2V0KHsgZXJyb3I6IG51bGwgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBEYXRhIG9wZXJhdGlvbnNcbiAgICAgICAgc2F2ZVByb2dyZXNzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBzZXRTYXZpbmcsIHNldEVycm9yIH0gPSBnZXQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0U2F2aW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0KCk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3Byb2ZpbGU/YWN0aW9uPW9uYm9hcmRpbmctcHJvZ3Jlc3MnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTdGVwOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgICBwcm9ncmVzczogc3RhdGUucHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgc3RlcERhdGE6IHN0YXRlLnN0ZXBEYXRhLFxuICAgICAgICAgICAgICAgIGF1dGhEYXRhOiBzdGF0ZS5hdXRoRGF0YSxcbiAgICAgICAgICAgICAgICBwcm9maWxlRGF0YTogc3RhdGUucHJvZmlsZURhdGEsXG4gICAgICAgICAgICAgICAgdmFsdWVzRGF0YTogc3RhdGUudmFsdWVzRGF0YSxcbiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlc0RhdGE6IHN0YXRlLnByZWZlcmVuY2VzRGF0YSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzYXZlIG9uYm9hcmRpbmcgcHJvZ3Jlc3MnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ09uYm9hcmRpbmcgcHJvZ3Jlc3Mgc2F2ZWQnLCB7XG4gICAgICAgICAgICAgIGN1cnJlbnRTdGVwOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHN0YXRlLnByb2dyZXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBvbmJvYXJkaW5nIHByb2dyZXNzJywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGxvYWRQcm9ncmVzczogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0TG9hZGluZywgc2V0RXJyb3IgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcHJvZmlsZT9hY3Rpb249b25ib2FyZGluZy1wcm9ncmVzcycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgb25ib2FyZGluZyBwcm9ncmVzcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXQoe1xuICAgICAgICAgICAgICBjdXJyZW50U3RlcDogZGF0YS5jdXJyZW50U3RlcCB8fCAwLFxuICAgICAgICAgICAgICBwcm9ncmVzczogZGF0YS5wcm9ncmVzcyB8fCAwLFxuICAgICAgICAgICAgICBzdGVwRGF0YTogZGF0YS5zdGVwRGF0YSB8fCB7fSxcbiAgICAgICAgICAgICAgYXV0aERhdGE6IGRhdGEuYXV0aERhdGEgfHwge30sXG4gICAgICAgICAgICAgIHByb2ZpbGVEYXRhOiBkYXRhLnByb2ZpbGVEYXRhIHx8IHt9LFxuICAgICAgICAgICAgICB2YWx1ZXNEYXRhOiBkYXRhLnZhbHVlc0RhdGEgfHwge30sXG4gICAgICAgICAgICAgIHByZWZlcmVuY2VzRGF0YTogZGF0YS5wcmVmZXJlbmNlc0RhdGEgfHwge30sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ09uYm9hcmRpbmcgcHJvZ3Jlc3MgbG9hZGVkJywge1xuICAgICAgICAgICAgICBjdXJyZW50U3RlcDogZGF0YS5jdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IGRhdGEucHJvZ3Jlc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIG9uYm9hcmRpbmcgcHJvZ3Jlc3MnLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHN1Ym1pdE9uYm9hcmRpbmc6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldFN1Ym1pdHRpbmcsIHNldEVycm9yLCBjb21wbGV0ZU9uYm9hcmRpbmcgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRTdWJtaXR0aW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0KCk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3Byb2ZpbGU/YWN0aW9uPWNvbXBsZXRlLW9uYm9hcmRpbmcnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGF1dGhEYXRhOiBzdGF0ZS5hdXRoRGF0YSxcbiAgICAgICAgICAgICAgICBwcm9maWxlRGF0YTogc3RhdGUucHJvZmlsZURhdGEsXG4gICAgICAgICAgICAgICAgdmFsdWVzRGF0YTogc3RhdGUudmFsdWVzRGF0YSxcbiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlc0RhdGE6IHN0YXRlLnByZWZlcmVuY2VzRGF0YSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb21wbGV0ZSBvbmJvYXJkaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbXBsZXRlT25ib2FyZGluZygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnT25ib2FyZGluZyBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHN1Ym1pdCBvbmJvYXJkaW5nJywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICB2YWxpZGF0ZVN0ZXA6IChzdGVwKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBnZXRTdGVwVmFsaWRhdGlvbkVycm9ycyB9ID0gZ2V0KCk7XG4gICAgICAgICAgY29uc3QgZXJyb3JzID0gZ2V0U3RlcFZhbGlkYXRpb25FcnJvcnMoc3RlcCk7XG4gICAgICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICB2YWxpZGF0ZUFsbFN0ZXBzOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyB2YWxpZGF0ZVN0ZXAsIHRvdGFsU3RlcHMgfSA9IGdldCgpO1xuICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiB0b3RhbFN0ZXBzIH0sIChfLCBpKSA9PiBpKVxuICAgICAgICAgICAgLmV2ZXJ5KHN0ZXAgPT4gdmFsaWRhdGVTdGVwKHN0ZXApKTtcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBuYW1lOiAnb25ib2FyZGluZy1zdG9yZScsXG4gICAgICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBjdXJyZW50U3RlcDogc3RhdGUuY3VycmVudFN0ZXAsXG4gICAgICAgICAgcHJvZ3Jlc3M6IHN0YXRlLnByb2dyZXNzLFxuICAgICAgICAgIHN0ZXBEYXRhOiBzdGF0ZS5zdGVwRGF0YSxcbiAgICAgICAgICBhdXRoRGF0YTogc3RhdGUuYXV0aERhdGEsXG4gICAgICAgICAgcHJvZmlsZURhdGE6IHN0YXRlLnByb2ZpbGVEYXRhLFxuICAgICAgICAgIHZhbHVlc0RhdGE6IHN0YXRlLnZhbHVlc0RhdGEsXG4gICAgICAgICAgcHJlZmVyZW5jZXNEYXRhOiBzdGF0ZS5wcmVmZXJlbmNlc0RhdGEsXG4gICAgICAgICAgY29tcGxldGVkU3RlcHM6IHN0YXRlLmNvbXBsZXRlZFN0ZXBzLFxuICAgICAgICAgIHNraXBwZWRTdGVwczogc3RhdGUuc2tpcHBlZFN0ZXBzLFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICApLFxuICAgIHsgbmFtZTogJ29uYm9hcmRpbmctc3RvcmUnIH1cbiAgKVxuKTtcblxuLy8gU3RvcmUgc2VsZWN0b3JzIGZvciBvcHRpbWl6ZWQgcmUtcmVuZGVyc1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdTdGVwID0gKCkgPT4gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmN1cnJlbnRTdGVwKTtcbmV4cG9ydCBjb25zdCB1c2VPbmJvYXJkaW5nUHJvZ3Jlc3MgPSAoKSA9PiB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUucHJvZ3Jlc3MpO1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdDb21wbGV0ZWQgPSAoKSA9PiB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNDb21wbGV0ZWQpO1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdTa2lwcGVkID0gKCkgPT4gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmlzU2tpcHBlZCk7XG5leHBvcnQgY29uc3QgdXNlT25ib2FyZGluZ0FjdGl2ZSA9ICgpID0+IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc0FjdGl2ZSk7XG4vLyBGSVhFRDogVXNlIGluZGl2aWR1YWwgc2VsZWN0b3JzIHRvIHByZXZlbnQgaW5maW5pdGUgcmUtcmVuZGVyc1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdEYXRhID0gKCkgPT4ge1xuICBjb25zdCBjdXJyZW50U3RlcCA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jdXJyZW50U3RlcCk7XG4gIGNvbnN0IHByb2dyZXNzID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnByb2dyZXNzKTtcbiAgY29uc3QgaXNDb21wbGV0ZWQgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNDb21wbGV0ZWQpO1xuICBjb25zdCBhdXRoRGF0YSA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5hdXRoRGF0YSk7XG4gIGNvbnN0IHByb2ZpbGVEYXRhID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnByb2ZpbGVEYXRhKTtcbiAgY29uc3QgdmFsdWVzRGF0YSA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS52YWx1ZXNEYXRhKTtcbiAgY29uc3QgcHJlZmVyZW5jZXNEYXRhID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnByZWZlcmVuY2VzRGF0YSk7XG4gIFxuICByZXR1cm4ge1xuICAgIGN1cnJlbnRTdGVwLFxuICAgIHByb2dyZXNzLFxuICAgIGlzQ29tcGxldGVkLFxuICAgIGF1dGhEYXRhLFxuICAgIHByb2ZpbGVEYXRhLFxuICAgIHZhbHVlc0RhdGEsXG4gICAgcHJlZmVyZW5jZXNEYXRhLFxuICB9O1xufTtcbmV4cG9ydCBjb25zdCB1c2VPbmJvYXJkaW5nTG9hZGluZyA9ICgpID0+IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc0xvYWRpbmcpO1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdFcnJvciA9ICgpID0+IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5lcnJvcik7XG5cbi8vIEFjdGlvbiBzZWxlY3RvcnMgLSBGSVhFRDogVXNlIGluZGl2aWR1YWwgc2VsZWN0b3JzIHRvIHByZXZlbnQgaW5maW5pdGUgcmUtcmVuZGVyc1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdBY3Rpb25zID0gKCkgPT4ge1xuICBjb25zdCBzZXRDdXJyZW50U3RlcCA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5zZXRDdXJyZW50U3RlcCk7XG4gIGNvbnN0IG5leHRTdGVwID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLm5leHRTdGVwKTtcbiAgY29uc3QgcHJldmlvdXNTdGVwID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnByZXZpb3VzU3RlcCk7XG4gIGNvbnN0IGdvVG9TdGVwID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmdvVG9TdGVwKTtcbiAgY29uc3QgY29tcGxldGVPbmJvYXJkaW5nID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmNvbXBsZXRlT25ib2FyZGluZyk7XG4gIGNvbnN0IHNraXBPbmJvYXJkaW5nID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnNraXBPbmJvYXJkaW5nKTtcbiAgY29uc3QgcmVzdGFydE9uYm9hcmRpbmcgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUucmVzdGFydE9uYm9hcmRpbmcpO1xuICBjb25zdCB1cGRhdGVGb3JtRGF0YSA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS51cGRhdGVGb3JtRGF0YSk7XG4gIGNvbnN0IHVwZGF0ZUF1dGhEYXRhID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnVwZGF0ZUF1dGhEYXRhKTtcbiAgY29uc3QgdXBkYXRlUHJvZmlsZURhdGEgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUudXBkYXRlUHJvZmlsZURhdGEpO1xuICBjb25zdCB1cGRhdGVWYWx1ZXNEYXRhID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnVwZGF0ZVZhbHVlc0RhdGEpO1xuICBjb25zdCB1cGRhdGVQcmVmZXJlbmNlc0RhdGEgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUudXBkYXRlUHJlZmVyZW5jZXNEYXRhKTtcbiAgY29uc3QgY2xlYXJTdGVwRGF0YSA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jbGVhclN0ZXBEYXRhKTtcbiAgY29uc3QgY2xlYXJBbGxEYXRhID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmNsZWFyQWxsRGF0YSk7XG4gIGNvbnN0IG1hcmtTdGVwQ29tcGxldGVkID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLm1hcmtTdGVwQ29tcGxldGVkKTtcbiAgY29uc3QgbWFya1N0ZXBTa2lwcGVkID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLm1hcmtTdGVwU2tpcHBlZCk7XG4gIGNvbnN0IG1hcmtTdGVwSW5jb21wbGV0ZSA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5tYXJrU3RlcEluY29tcGxldGUpO1xuICBjb25zdCBjYW5Qcm9jZWVkVG9OZXh0U3RlcCA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jYW5Qcm9jZWVkVG9OZXh0U3RlcCk7XG4gIGNvbnN0IGdldFN0ZXBWYWxpZGF0aW9uRXJyb3JzID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmdldFN0ZXBWYWxpZGF0aW9uRXJyb3JzKTtcbiAgY29uc3Qgc2V0TG9hZGluZyA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5zZXRMb2FkaW5nKTtcbiAgY29uc3Qgc2V0U2F2aW5nID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnNldFNhdmluZyk7XG4gIGNvbnN0IHNldFN1Ym1pdHRpbmcgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuc2V0U3VibWl0dGluZyk7XG4gIGNvbnN0IHNldEVycm9yID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnNldEVycm9yKTtcbiAgY29uc3QgY2xlYXJFcnJvciA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jbGVhckVycm9yKTtcbiAgY29uc3Qgc2F2ZVByb2dyZXNzID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnNhdmVQcm9ncmVzcyk7XG4gIGNvbnN0IGxvYWRQcm9ncmVzcyA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5sb2FkUHJvZ3Jlc3MpO1xuICBjb25zdCBzdWJtaXRPbmJvYXJkaW5nID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnN1Ym1pdE9uYm9hcmRpbmcpO1xuICBjb25zdCB2YWxpZGF0ZVN0ZXAgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUudmFsaWRhdGVTdGVwKTtcbiAgY29uc3QgdmFsaWRhdGVBbGxTdGVwcyA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS52YWxpZGF0ZUFsbFN0ZXBzKTtcbiAgXG4gIHJldHVybiB7XG4gICAgc2V0Q3VycmVudFN0ZXAsXG4gICAgbmV4dFN0ZXAsXG4gICAgcHJldmlvdXNTdGVwLFxuICAgIGdvVG9TdGVwLFxuICAgIGNvbXBsZXRlT25ib2FyZGluZyxcbiAgICBza2lwT25ib2FyZGluZyxcbiAgICByZXN0YXJ0T25ib2FyZGluZyxcbiAgICB1cGRhdGVGb3JtRGF0YSxcbiAgICB1cGRhdGVBdXRoRGF0YSxcbiAgICB1cGRhdGVQcm9maWxlRGF0YSxcbiAgICB1cGRhdGVWYWx1ZXNEYXRhLFxuICAgIHVwZGF0ZVByZWZlcmVuY2VzRGF0YSxcbiAgICBjbGVhclN0ZXBEYXRhLFxuICAgIGNsZWFyQWxsRGF0YSxcbiAgICBtYXJrU3RlcENvbXBsZXRlZCxcbiAgICBtYXJrU3RlcFNraXBwZWQsXG4gICAgbWFya1N0ZXBJbmNvbXBsZXRlLFxuICAgIGNhblByb2NlZWRUb05leHRTdGVwLFxuICAgIGdldFN0ZXBWYWxpZGF0aW9uRXJyb3JzLFxuICAgIHNldExvYWRpbmcsXG4gICAgc2V0U2F2aW5nLFxuICAgIHNldFN1Ym1pdHRpbmcsXG4gICAgc2V0RXJyb3IsXG4gICAgY2xlYXJFcnJvcixcbiAgICBzYXZlUHJvZ3Jlc3MsXG4gICAgbG9hZFByb2dyZXNzLFxuICAgIHN1Ym1pdE9uYm9hcmRpbmcsXG4gICAgdmFsaWRhdGVTdGVwLFxuICAgIHZhbGlkYXRlQWxsU3RlcHMsXG4gIH07XG59O1xuXG4vLyBDb21wdXRlZCBzZWxlY3RvcnMgLSBGSVhFRDogVXNlIGluZGl2aWR1YWwgc2VsZWN0b3JzIHRvIHByZXZlbnQgaW5maW5pdGUgcmUtcmVuZGVyc1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdTdGF0cyA9ICgpID0+IHtcbiAgY29uc3QgdG90YWxTdGVwcyA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS50b3RhbFN0ZXBzKTtcbiAgY29uc3QgY3VycmVudFN0ZXAgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuY3VycmVudFN0ZXApO1xuICBjb25zdCBjb21wbGV0ZWRTdGVwcyA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jb21wbGV0ZWRTdGVwcy5sZW5ndGgpO1xuICBjb25zdCBza2lwcGVkU3RlcHMgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuc2tpcHBlZFN0ZXBzLmxlbmd0aCk7XG4gIGNvbnN0IHByb2dyZXNzID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnByb2dyZXNzKTtcbiAgY29uc3QgaXNDb21wbGV0ZWQgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNDb21wbGV0ZWQpO1xuICBjb25zdCBpc1NraXBwZWQgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNTa2lwcGVkKTtcbiAgXG4gIHJldHVybiB7XG4gICAgdG90YWxTdGVwcyxcbiAgICBjdXJyZW50U3RlcCxcbiAgICBjb21wbGV0ZWRTdGVwcyxcbiAgICBza2lwcGVkU3RlcHMsXG4gICAgcHJvZ3Jlc3MsXG4gICAgaXNDb21wbGV0ZWQsXG4gICAgaXNTa2lwcGVkLFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUN1cnJlbnRTdGVwRGF0YSA9ICgpID0+IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBcbiAgc3RhdGUuc3RlcERhdGFbc3RhdGUuY3VycmVudFN0ZXBdIHx8IHt9XG4pO1xuXG5leHBvcnQgY29uc3QgdXNlU3RlcFZhbGlkYXRpb24gPSAoc3RlcDogbnVtYmVyKSA9PiB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gKHtcbiAgY2FuUHJvY2VlZDogc3RhdGUuY2FuUHJvY2VlZFRvTmV4dFN0ZXAoc3RlcCksXG4gIGVycm9yczogc3RhdGUuZ2V0U3RlcFZhbGlkYXRpb25FcnJvcnMoc3RlcCksXG4gIGlzVmFsaWQ6IHN0YXRlLnZhbGlkYXRlU3RlcChzdGVwKSxcbn0pKTtcblxuLy8gU3RvcmUgdXRpbGl0aWVzXG5leHBvcnQgY29uc3Qgb25ib2FyZGluZ1N0b3JlVXRpbHMgPSB7XG4gIC8qKlxuICAgKiBHZXQgb25ib2FyZGluZyBzdW1tYXJ5XG4gICAqL1xuICBnZXRPbmJvYXJkaW5nU3VtbWFyeTogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlT25ib2FyZGluZ1N0b3JlLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnRTdGVwOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgIHRvdGFsU3RlcHM6IHN0YXRlLnRvdGFsU3RlcHMsXG4gICAgICBwcm9ncmVzczogc3RhdGUucHJvZ3Jlc3MsXG4gICAgICBpc0NvbXBsZXRlZDogc3RhdGUuaXNDb21wbGV0ZWQsXG4gICAgICBpc1NraXBwZWQ6IHN0YXRlLmlzU2tpcHBlZCxcbiAgICAgIGNvbXBsZXRlZFN0ZXBzOiBzdGF0ZS5jb21wbGV0ZWRTdGVwcyxcbiAgICAgIHNraXBwZWRTdGVwczogc3RhdGUuc2tpcHBlZFN0ZXBzLFxuICAgIH07XG4gIH0sXG4gIFxuICAvKipcbiAgICogR2V0IHN0ZXAgZGF0YSBmb3Igc3BlY2lmaWMgc3RlcFxuICAgKi9cbiAgZ2V0U3RlcERhdGE6IChzdGVwOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZU9uYm9hcmRpbmdTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiBzdGF0ZS5zdGVwRGF0YVtzdGVwXSB8fCB7fTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBDaGVjayBpZiBvbmJvYXJkaW5nIGNhbiBiZSBjb21wbGV0ZWRcbiAgICovXG4gIGNhbkNvbXBsZXRlT25ib2FyZGluZzogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlT25ib2FyZGluZ1N0b3JlLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHN0YXRlLnZhbGlkYXRlQWxsU3RlcHMoKSAmJiBzdGF0ZS5jdXJyZW50U3RlcCA9PT0gc3RhdGUudG90YWxTdGVwcyAtIDE7XG4gIH0sXG4gIFxuICAvKipcbiAgICogR2V0IG9uYm9hcmRpbmcgcHJvZ3Jlc3MgcGVyY2VudGFnZVxuICAgKi9cbiAgZ2V0UHJvZ3Jlc3NQZXJjZW50YWdlOiAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VPbmJvYXJkaW5nU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChzdGF0ZS5wcm9ncmVzcyk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogR2V0IG5leHQgaW5jb21wbGV0ZSBzdGVwXG4gICAqL1xuICBnZXROZXh0SW5jb21wbGV0ZVN0ZXA6ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZU9uYm9hcmRpbmdTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGluY29tcGxldGVTdGVwcyA9IHN0YXRlLnN0ZXBzLmZpbHRlcihzdGVwID0+ICFzdGVwLmNvbXBsZXRlZCAmJiAhc3RlcC5za2lwcGVkKTtcbiAgICByZXR1cm4gaW5jb21wbGV0ZVN0ZXBzWzBdIHx8IG51bGw7XG4gIH1cbn07XG5cbi8vIFN0b3JlIHN1YnNjcmlwdGlvbnMgZm9yIGV4dGVybmFsIGludGVncmF0aW9uc1xuZXhwb3J0IGNvbnN0IG9uYm9hcmRpbmdTdG9yZVN1YnNjcmlwdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gb25ib2FyZGluZyBwcm9ncmVzcyBjaGFuZ2VzXG4gICAqL1xuICBvblByb2dyZXNzQ2hhbmdlOiAoY2FsbGJhY2s6IChwcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkKSA9PiB7XG4gICAgcmV0dXJuIHVzZU9uYm9hcmRpbmdTdG9yZS5zdWJzY3JpYmUoXG4gICAgICAoc3RhdGUpID0+IHtcbiAgICAgICAgY2FsbGJhY2soc3RhdGUucHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgICk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHN0ZXAgY2hhbmdlc1xuICAgKi9cbiAgb25TdGVwQ2hhbmdlOiAoY2FsbGJhY2s6IChzdGVwOiBudW1iZXIpID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gdXNlT25ib2FyZGluZ1N0b3JlLnN1YnNjcmliZShcbiAgICAgIChzdGF0ZSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhzdGF0ZS5jdXJyZW50U3RlcCk7XG4gICAgICB9XG4gICAgKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gY29tcGxldGlvbiBzdGF0dXNcbiAgICovXG4gIG9uQ29tcGxldGlvbkNoYW5nZTogKGNhbGxiYWNrOiAoaXNDb21wbGV0ZWQ6IGJvb2xlYW4pID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gdXNlT25ib2FyZGluZ1N0b3JlLnN1YnNjcmliZShcbiAgICAgIChzdGF0ZSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhzdGF0ZS5pc0NvbXBsZXRlZCk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxufTtcblxuLy8gU3RvcmUgZGVidWdnaW5nIHV0aWxpdGllc1xuZXhwb3J0IGNvbnN0IG9uYm9hcmRpbmdTdG9yZURlYnVnID0ge1xuICAvKipcbiAgICogTG9nIGN1cnJlbnQgb25ib2FyZGluZyBzdGF0ZVxuICAgKi9cbiAgbG9nU3RhdGU6ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZU9uYm9hcmRpbmdTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGxvZ2dlci5kZWJ1ZygnT25ib2FyZGluZyBTdG9yZSBTdGF0ZScsIHtcbiAgICAgIGN1cnJlbnRTdGVwOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgIHRvdGFsU3RlcHM6IHN0YXRlLnRvdGFsU3RlcHMsXG4gICAgICBwcm9ncmVzczogc3RhdGUucHJvZ3Jlc3MsXG4gICAgICBpc0NvbXBsZXRlZDogc3RhdGUuaXNDb21wbGV0ZWQsXG4gICAgICBpc1NraXBwZWQ6IHN0YXRlLmlzU2tpcHBlZCxcbiAgICAgIGNvbXBsZXRlZFN0ZXBzOiBzdGF0ZS5jb21wbGV0ZWRTdGVwcyxcbiAgICAgIHNraXBwZWRTdGVwczogc3RhdGUuc2tpcHBlZFN0ZXBzLFxuICAgICAgaXNMb2FkaW5nOiBzdGF0ZS5pc0xvYWRpbmcsXG4gICAgICBlcnJvcjogc3RhdGUuZXJyb3JcbiAgICB9KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBMb2cgb25ib2FyZGluZyBzdW1tYXJ5XG4gICAqL1xuICBsb2dTdW1tYXJ5OiAoKSA9PiB7XG4gICAgY29uc3Qgc3VtbWFyeSA9IG9uYm9hcmRpbmdTdG9yZVV0aWxzLmdldE9uYm9hcmRpbmdTdW1tYXJ5KCk7XG4gICAgbG9nZ2VyLmRlYnVnKCdPbmJvYXJkaW5nIFN1bW1hcnknLCBzdW1tYXJ5KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBMb2cgc3RlcCBkYXRhXG4gICAqL1xuICBsb2dTdGVwRGF0YTogKHN0ZXA6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHN0ZXBEYXRhID0gb25ib2FyZGluZ1N0b3JlVXRpbHMuZ2V0U3RlcERhdGEoc3RlcCk7XG4gICAgbG9nZ2VyLmRlYnVnKCdTdGVwIERhdGEnLCB7IHN0ZXAsIHN0ZXBEYXRhIH0pO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIFJlc2V0IG9uYm9hcmRpbmcgc3RvcmVcbiAgICovXG4gIHJlc2V0OiAoKSA9PiB7XG4gICAgdXNlT25ib2FyZGluZ1N0b3JlLmdldFN0YXRlKCkucmVzdGFydE9uYm9hcmRpbmcoKTtcbiAgICBsb2dnZXIuaW5mbygnT25ib2FyZGluZyBzdG9yZSByZXNldCcpO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIm9uYm9hcmRpbmdTdG9yZURlYnVnIiwib25ib2FyZGluZ1N0b3JlU3Vic2NyaXB0aW9ucyIsIm9uYm9hcmRpbmdTdG9yZVV0aWxzIiwidXNlQ3VycmVudFN0ZXBEYXRhIiwidXNlT25ib2FyZGluZ0FjdGlvbnMiLCJ1c2VPbmJvYXJkaW5nQWN0aXZlIiwidXNlT25ib2FyZGluZ0NvbXBsZXRlZCIsInVzZU9uYm9hcmRpbmdEYXRhIiwidXNlT25ib2FyZGluZ0Vycm9yIiwidXNlT25ib2FyZGluZ0xvYWRpbmciLCJ1c2VPbmJvYXJkaW5nUHJvZ3Jlc3MiLCJ1c2VPbmJvYXJkaW5nU2tpcHBlZCIsInVzZU9uYm9hcmRpbmdTdGF0cyIsInVzZU9uYm9hcmRpbmdTdGVwIiwidXNlT25ib2FyZGluZ1N0b3JlIiwidXNlU3RlcFZhbGlkYXRpb24iLCJkZWZhdWx0U3RlcHMiLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJjb21wb25lbnQiLCJyZXF1aXJlZCIsImNvbXBsZXRlZCIsInNraXBwZWQiLCJjcmVhdGUiLCJkZXZ0b29scyIsInBlcnNpc3QiLCJzZXQiLCJnZXQiLCJjdXJyZW50U3RlcCIsInRvdGFsU3RlcHMiLCJpc0NvbXBsZXRlZCIsImlzU2tpcHBlZCIsImlzQWN0aXZlIiwiYXV0aERhdGEiLCJwcm9maWxlRGF0YSIsInZhbHVlc0RhdGEiLCJwcmVmZXJlbmNlc0RhdGEiLCJwcm9ncmVzcyIsImNvbXBsZXRlZFN0ZXBzIiwic2tpcHBlZFN0ZXBzIiwic3RlcERhdGEiLCJzdGVwcyIsImlzTG9hZGluZyIsImlzU2F2aW5nIiwiaXNTdWJtaXR0aW5nIiwiZXJyb3IiLCJzZXRDdXJyZW50U3RlcCIsInN0ZXAiLCJzdGF0ZSIsIm5ld1N0ZXAiLCJNYXRoIiwibWF4IiwibWluIiwibG9nZ2VyIiwiaW5mbyIsImZyb20iLCJ0byIsInJvdW5kIiwibmV4dFN0ZXAiLCJwcmV2aW91c1N0ZXAiLCJwcmV2U3RlcCIsImdvVG9TdGVwIiwiY29tcGxldGVPbmJvYXJkaW5nIiwibGVuZ3RoIiwic2tpcE9uYm9hcmRpbmciLCJyZXN0YXJ0T25ib2FyZGluZyIsInVwZGF0ZUZvcm1EYXRhIiwiZGF0YSIsInVwZGF0ZUF1dGhEYXRhIiwidXBkYXRlUHJvZmlsZURhdGEiLCJ1cGRhdGVWYWx1ZXNEYXRhIiwidXBkYXRlUHJlZmVyZW5jZXNEYXRhIiwiY2xlYXJTdGVwRGF0YSIsImNsZWFyQWxsRGF0YSIsIm1hcmtTdGVwQ29tcGxldGVkIiwibWFwIiwicyIsIm1hcmtTdGVwU2tpcHBlZCIsIm1hcmtTdGVwSW5jb21wbGV0ZSIsImZpbHRlciIsImNhblByb2NlZWRUb05leHRTdGVwIiwiY3VycmVudFN0ZXBEYXRhIiwic3RlcENvbmZpZyIsImZpbmQiLCJlbWFpbCIsInBhc3N3b3JkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJwcmltYXJ5SW50ZXJlc3RzIiwicHJpdmFjeUFjY2VwdGVkIiwiZ2V0U3RlcFZhbGlkYXRpb25FcnJvcnMiLCJlcnJvcnMiLCJwdXNoIiwiY29uZmlybVBhc3N3b3JkIiwic2V0TG9hZGluZyIsImxvYWRpbmciLCJzZXRTYXZpbmciLCJzYXZpbmciLCJzZXRTdWJtaXR0aW5nIiwic3VibWl0dGluZyIsInNldEVycm9yIiwiY2xlYXJFcnJvciIsInNhdmVQcm9ncmVzcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsIkVycm9yIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImxvYWRQcm9ncmVzcyIsImpzb24iLCJzdWJtaXRPbmJvYXJkaW5nIiwidmFsaWRhdGVTdGVwIiwidmFsaWRhdGVBbGxTdGVwcyIsIkFycmF5IiwiXyIsImkiLCJldmVyeSIsIm5hbWUiLCJwYXJ0aWFsaXplIiwiY2FuUHJvY2VlZCIsImlzVmFsaWQiLCJnZXRPbmJvYXJkaW5nU3VtbWFyeSIsImdldFN0YXRlIiwiZ2V0U3RlcERhdGEiLCJjYW5Db21wbGV0ZU9uYm9hcmRpbmciLCJnZXRQcm9ncmVzc1BlcmNlbnRhZ2UiLCJnZXROZXh0SW5jb21wbGV0ZVN0ZXAiLCJpbmNvbXBsZXRlU3RlcHMiLCJvblByb2dyZXNzQ2hhbmdlIiwiY2FsbGJhY2siLCJzdWJzY3JpYmUiLCJvblN0ZXBDaGFuZ2UiLCJvbkNvbXBsZXRpb25DaGFuZ2UiLCJsb2dTdGF0ZSIsImRlYnVnIiwibG9nU3VtbWFyeSIsInN1bW1hcnkiLCJsb2dTdGVwRGF0YSIsInJlc2V0Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0NBU0M7Ozs7Ozs7Ozs7O1FBZ3lCWUE7ZUFBQUE7O1FBcENBQztlQUFBQTs7UUFwREFDO2VBQUFBOztRQVhBQztlQUFBQTs7UUFyRkFDO2VBQUFBOztRQXpCQUM7ZUFBQUE7O1FBRkFDO2VBQUFBOztRQUlBQztlQUFBQTs7UUFvQkFDO2VBQUFBOztRQURBQztlQUFBQTs7UUF4QkFDO2VBQUFBOztRQUVBQztlQUFBQTs7UUEyRkFDO2VB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