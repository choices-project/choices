{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/lib/stores/appStore.ts"],"sourcesContent":["/**\n * App Store - Zustand Implementation\n * \n * Global application state management including theme, sidebar, feature flags,\n * and app-wide settings. Consolidates scattered local state and Context API usage.\n * \n * Created: October 10, 2025\n * Status: âœ… ACTIVE\n */\n\nimport { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\nimport { persist } from 'zustand/middleware';\nimport { immer } from 'zustand/middleware/immer';\n\nimport { logger } from '@/lib/utils/logger';\n\nimport type { BaseStore, FeatureFlag } from './types';\n\n// App store state interface\ntype AppStore = {\n  // UI State\n  theme: 'light' | 'dark' | 'system';\n  systemTheme: 'light' | 'dark';\n  resolvedTheme: 'light' | 'dark';\n  sidebarCollapsed: boolean;\n  sidebarWidth: number;\n  sidebarPinned: boolean;\n  sidebarActiveSection: string | null;\n  \n  // Modal State\n  activeModal: string | null;\n  modalData: any;\n  modalStack: Array<{\n    id: string;\n    data: any;\n  }>;\n  \n  // Mobile UI State\n  isMobile: boolean;\n  isTablet: boolean;\n  isDesktop: boolean;\n  screenSize: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl';\n  orientation: 'portrait' | 'landscape';\n  \n  // Feature Flags\n  features: Record<string, boolean>;\n  featureFlags: FeatureFlag[];\n  \n  // App Settings\n  settings: {\n    animations: boolean;\n    haptics: boolean;\n    sound: boolean;\n    autoSave: boolean;\n    language: string;\n    timezone: string;\n    compactMode: boolean;\n    showTooltips: boolean;\n    enableAnalytics: boolean;\n    enableCrashReporting: boolean;\n  };\n  \n  // I18n State\n  i18n: {\n    currentLanguage: string;\n    isLoading: boolean;\n    error: string | null;\n  };\n  \n  // Navigation State\n  currentRoute: string;\n  previousRoute: string;\n  breadcrumbs: Array<{\n    label: string;\n    href: string;\n    icon?: string;\n  }>;\n  \n  // Loading States\n  isInitializing: boolean;\n  isUpdating: boolean;\n  \n  // Actions - Theme\n  setTheme: (theme: 'light' | 'dark' | 'system') => void;\n  toggleTheme: () => void;\n  updateSystemTheme: (systemTheme: 'light' | 'dark') => void;\n  \n  // Actions - Sidebar\n  toggleSidebar: () => void;\n  setSidebarCollapsed: (collapsed: boolean) => void;\n  setSidebarWidth: (width: number) => void;\n  setSidebarPinned: (pinned: boolean) => void;\n  setSidebarActiveSection: (section: string | null) => void;\n  \n  // Actions - Modal\n  openModal: (id: string, data?: any) => void;\n  closeModal: () => void;\n  closeAllModals: () => void;\n  pushModal: (id: string, data?: any) => void;\n  popModal: () => void;\n  \n  // Actions - Mobile UI\n  setDeviceInfo: (info: {\n    isMobile: boolean;\n    isTablet: boolean;\n    isDesktop: boolean;\n    screenSize: 'xs' | 'sm' | 'md' | 'lg' | 'xl' | '2xl';\n    orientation: 'portrait' | 'landscape';\n  }) => void;\n  \n  // Actions - Feature Flags\n  setFeatureFlag: (flag: string, enabled: boolean) => void;\n  toggleFeatureFlag: (flag: string) => void;\n  setFeatureFlags: (flags: Record<string, boolean>) => void;\n  loadFeatureFlags: (flags: FeatureFlag[]) => void;\n  \n  // Actions - Settings\n  updateSettings: (settings: Partial<AppStore['settings']>) => void;\n  resetSettings: () => void;\n  \n  // Actions - I18n\n  setLanguage: (language: string) => void;\n  setI18nLoading: (loading: boolean) => void;\n  setI18nError: (error: string | null) => void;\n  \n  // Actions - Navigation\n  setCurrentRoute: (route: string) => void;\n  setBreadcrumbs: (breadcrumbs: Array<{ label: string; href: string; icon?: string }>) => void;\n  addBreadcrumb: (breadcrumb: { label: string; href: string; icon?: string }) => void;\n  removeBreadcrumb: (index: number) => void;\n  \n  // Actions - Loading States\n  setInitializing: (initializing: boolean) => void;\n  setUpdating: (updating: boolean) => void;\n} & BaseStore\n\n// Default settings\nconst defaultSettings = {\n  animations: true,\n  haptics: true,\n  sound: true,\n  autoSave: true,\n  language: 'en',\n  timezone: 'UTC',\n  compactMode: false,\n  showTooltips: true,\n  enableAnalytics: true,\n  enableCrashReporting: true,\n};\n\n// Create app store with middleware\nexport const useAppStore = create<AppStore>()(\n  devtools(\n    persist(\n      immer((set, _get) => ({\n        // Initial state\n        theme: 'system',\n        systemTheme: 'light',\n        resolvedTheme: 'light',\n        sidebarCollapsed: false,\n        sidebarWidth: 280,\n        sidebarPinned: false,\n        sidebarActiveSection: null,\n        \n        // Modal state\n        activeModal: null,\n        modalData: null,\n        modalStack: [],\n        \n        // Mobile UI state\n        isMobile: false,\n        isTablet: false,\n        isDesktop: true,\n        screenSize: 'lg',\n        orientation: 'landscape',\n        \n        features: {},\n        featureFlags: [],\n        settings: defaultSettings,\n        i18n: {\n          currentLanguage: 'en',\n          isLoading: false,\n          error: null\n        },\n        currentRoute: '/',\n        previousRoute: '',\n        breadcrumbs: [],\n        isLoading: false,\n        isInitializing: false,\n        isUpdating: false,\n        error: null,\n      \n      // Base store actions\n      setLoading: (loading) => set((state) => {\n        state.isLoading = loading;\n      }),\n      \n      setError: (error) => set((state) => {\n        state.error = error;\n      }),\n      \n      clearError: () => set((state) => {\n        state.error = null;\n      }),\n      \n      // Theme actions\n      setTheme: (theme) => set((state) => {\n        state.theme = theme;\n        \n        // Apply theme to document\n        if (typeof window !== 'undefined') {\n          document.documentElement.setAttribute('data-theme', theme);\n          if (theme === 'dark') {\n            document.documentElement.classList.add('dark');\n          } else {\n            document.documentElement.classList.remove('dark');\n          }\n        }\n        \n        logger.info('Theme changed', { theme });\n      }),\n      \n      toggleTheme: () => set((state) => {\n        const newTheme = state.theme === 'light' ? 'dark' : 'light';\n        state.theme = newTheme;\n        \n        // Apply theme to document\n        if (typeof window !== 'undefined') {\n          document.documentElement.setAttribute('data-theme', newTheme);\n          if (newTheme === 'dark') {\n            document.documentElement.classList.add('dark');\n          } else {\n            document.documentElement.classList.remove('dark');\n          }\n        }\n        \n        logger.info('Theme toggled', { newTheme });\n      }),\n      \n      updateSystemTheme: (systemTheme) => set((state) => {\n        state.systemTheme = systemTheme;\n        if (state.theme === 'system') {\n          state.resolvedTheme = systemTheme;\n        }\n      }),\n      \n      // Sidebar actions\n      toggleSidebar: () => set((state) => {\n        state.sidebarCollapsed = !state.sidebarCollapsed;\n        logger.debug('Sidebar toggled', { collapsed: state.sidebarCollapsed });\n      }),\n      \n      setSidebarCollapsed: (collapsed) => set((state) => {\n        state.sidebarCollapsed = collapsed;\n      }),\n      \n      setSidebarWidth: (width) => set((state) => {\n        state.sidebarWidth = Math.max(200, Math.min(400, width)); // Clamp between 200-400px\n      }),\n      \n      setSidebarPinned: (pinned) => set((state) => {\n        state.sidebarPinned = pinned;\n        if (pinned) {\n          state.sidebarCollapsed = false;\n        }\n      }),\n      \n      setSidebarActiveSection: (section) => set((state) => {\n        state.sidebarActiveSection = section;\n      }),\n      \n      // Modal actions\n      openModal: (id, data) => set((state) => {\n        state.activeModal = id;\n        state.modalData = data;\n        state.modalStack.push({ id, data });\n      }),\n      \n      closeModal: () => set((state) => {\n        state.modalStack.pop();\n        if (state.modalStack.length > 0) {\n          const previous = state.modalStack[state.modalStack.length - 1];\n          if (previous) {\n            state.activeModal = previous.id;\n            state.modalData = previous.data;\n          }\n        } else {\n          state.activeModal = null;\n          state.modalData = null;\n        }\n      }),\n      \n      closeAllModals: () => set((state) => {\n        state.activeModal = null;\n        state.modalData = null;\n        state.modalStack = [];\n      }),\n      \n      pushModal: (id, data) => set((state) => {\n        state.modalStack.push({ id, data });\n        state.activeModal = id;\n        state.modalData = data;\n      }),\n      \n      popModal: () => set((state) => {\n        if (state.modalStack.length > 0) {\n          state.modalStack.pop();\n          if (state.modalStack.length > 0) {\n            const previous = state.modalStack[state.modalStack.length - 1];\n            if (previous) {\n              state.activeModal = previous.id;\n              state.modalData = previous.data;\n            }\n          } else {\n            state.activeModal = null;\n            state.modalData = null;\n          }\n        }\n      }),\n      \n      // Mobile UI actions\n      setDeviceInfo: (info) => set((state) => {\n        state.isMobile = info.isMobile;\n        state.isTablet = info.isTablet;\n        state.isDesktop = info.isDesktop;\n        state.screenSize = info.screenSize;\n        state.orientation = info.orientation;\n      }),\n      \n      // Feature flag actions\n      setFeatureFlag: (flag, enabled) => set((state) => {\n        state.features[flag] = enabled;\n        logger.info('Feature flag set', { flag, enabled });\n      }),\n      \n      toggleFeatureFlag: (flag) => set((state) => {\n        state.features[flag] = !state.features[flag];\n        logger.info('Feature flag toggled', { flag, enabled: state.features[flag] });\n      }),\n      \n      setFeatureFlags: (flags) => set((state) => {\n        state.features = { ...state.features, ...flags };\n        logger.info('Feature flags updated', { flags });\n      }),\n      \n      loadFeatureFlags: (flags) => set((state) => {\n        state.featureFlags = flags;\n        // Initialize features from loaded flags\n        flags.forEach(flag => {\n          state.features[flag.id] = flag.enabled;\n        });\n        logger.info('Feature flags loaded', { count: flags.length });\n      }),\n      \n      // Settings actions\n      updateSettings: (settings) => set((state) => {\n        state.settings = { ...state.settings, ...settings };\n        logger.info('App settings updated', { settings });\n      }),\n      \n      resetSettings: () => set((state) => {\n        state.settings = { ...defaultSettings };\n        logger.info('App settings reset to defaults');\n      }),\n      \n      // I18n actions\n      setLanguage: (language) => set((state) => {\n        state.i18n.currentLanguage = language;\n        state.settings.language = language;\n        logger.info('Language changed', { language });\n      }),\n      \n      setI18nLoading: (loading) => set((state) => {\n        state.i18n.isLoading = loading;\n      }),\n      \n      setI18nError: (error) => set((state) => {\n        state.i18n.error = error;\n      }),\n      \n      // Navigation actions\n      setCurrentRoute: (route) => set((state) => {\n        state.previousRoute = state.currentRoute;\n        state.currentRoute = route;\n        logger.debug('Route changed', { from: state.previousRoute, to: route });\n      }),\n      \n      setBreadcrumbs: (breadcrumbs) => set((state) => {\n        state.breadcrumbs = breadcrumbs;\n      }),\n      \n      addBreadcrumb: (breadcrumb) => set((state) => {\n        state.breadcrumbs.push(breadcrumb);\n      }),\n      \n      removeBreadcrumb: (index) => set((state) => {\n        state.breadcrumbs.splice(index, 1);\n      }),\n      \n      // Loading state actions\n      setInitializing: (initializing) => set((state) => {\n        state.isInitializing = initializing;\n      }),\n      \n      setUpdating: (updating) => set((state) => {\n        state.isUpdating = updating;\n      }),\n    })),\n    {\n      name: 'app-store',\n      partialize: (state) => ({\n        theme: state.theme,\n        sidebarCollapsed: state.sidebarCollapsed,\n        sidebarWidth: state.sidebarWidth,\n        sidebarPinned: state.sidebarPinned,\n        features: state.features,\n        settings: state.settings,\n      }),\n    }\n  ),\n  { name: 'app-store' }\n));\n\n// Store selectors for optimized re-renders\nexport const useTheme = () => useAppStore(state => state.theme);\nexport const useSystemTheme = () => useAppStore(state => state.systemTheme);\nexport const useResolvedTheme = () => useAppStore(state => state.resolvedTheme);\nexport const useSidebarCollapsed = () => useAppStore(state => state.sidebarCollapsed);\nexport const useSidebarWidth = () => useAppStore(state => state.sidebarWidth);\nexport const useSidebarPinned = () => useAppStore(state => state.sidebarPinned);\nexport const useSidebarActiveSection = () => useAppStore(state => state.sidebarActiveSection);\n\n// Modal selectors\nexport const useActiveModal = () => useAppStore(state => state.activeModal);\nexport const useModalData = () => useAppStore(state => state.modalData);\nexport const useModalStack = () => useAppStore(state => state.modalStack);\n\n// Mobile UI selectors\nexport const useIsMobile = () => useAppStore(state => state.isMobile);\nexport const useIsTablet = () => useAppStore(state => state.isTablet);\nexport const useIsDesktop = () => useAppStore(state => state.isDesktop);\nexport const useScreenSize = () => useAppStore(state => state.screenSize);\nexport const useOrientation = () => useAppStore(state => state.orientation);\n\nexport const useFeatureFlags = () => useAppStore(state => state.features);\nexport const useAppSettings = () => useAppStore(state => state.settings);\nexport const useCurrentRoute = () => useAppStore(state => state.currentRoute);\nexport const useBreadcrumbs = () => useAppStore(state => state.breadcrumbs);\nexport const useAppLoading = () => useAppStore(state => state.isLoading);\nexport const useAppError = () => useAppStore(state => state.error);\n\n// Action selectors\nexport const useAppActions = () => useAppStore(state => ({\n  setTheme: state.setTheme,\n  toggleTheme: state.toggleTheme,\n  updateSystemTheme: state.updateSystemTheme,\n  toggleSidebar: state.toggleSidebar,\n  setSidebarCollapsed: state.setSidebarCollapsed,\n  setSidebarWidth: state.setSidebarWidth,\n  setSidebarPinned: state.setSidebarPinned,\n  setSidebarActiveSection: state.setSidebarActiveSection,\n  openModal: state.openModal,\n  closeModal: state.closeModal,\n  closeAllModals: state.closeAllModals,\n  pushModal: state.pushModal,\n  popModal: state.popModal,\n  setDeviceInfo: state.setDeviceInfo,\n  setFeatureFlag: state.setFeatureFlag,\n  toggleFeatureFlag: state.toggleFeatureFlag,\n  setFeatureFlags: state.setFeatureFlags,\n  loadFeatureFlags: state.loadFeatureFlags,\n  updateSettings: state.updateSettings,\n  resetSettings: state.resetSettings,\n  setCurrentRoute: state.setCurrentRoute,\n  setBreadcrumbs: state.setBreadcrumbs,\n  addBreadcrumb: state.addBreadcrumb,\n  removeBreadcrumb: state.removeBreadcrumb,\n  setInitializing: state.setInitializing,\n  setUpdating: state.setUpdating,\n}));\n\n// Computed selectors\nexport const useIsFeatureEnabled = (flag: string) => useAppStore(state => {\n  return state.features[flag] ?? false;\n});\n\nexport const useAppTheme = () => useAppStore(state => {\n  if (state.theme === 'system') {\n    return typeof window !== 'undefined' && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n  }\n  return state.theme;\n});\n\nexport const useAppLanguage = () => useAppStore(state => state.settings.language);\nexport const useAppTimezone = () => useAppStore(state => state.settings.timezone);\nexport const useAppAnimations = () => useAppStore(state => state.settings.animations);\nexport const useAppHaptics = () => useAppStore(state => state.settings.haptics);\n\n// Store utilities\nexport const appStoreUtils = {\n  /**\n   * Check if a feature is enabled\n   */\n  isFeatureEnabled: (flag: string) => {\n    const state = useAppStore.getState();\n    return state.features[flag] ?? false;\n  },\n  \n  /**\n   * Get all enabled features\n   */\n  getEnabledFeatures: () => {\n    const state = useAppStore.getState();\n    return Object.entries(state.features)\n      .filter(([_, enabled]) => enabled)\n      .map(([flag, _]) => flag);\n  },\n  \n  /**\n   * Get all disabled features\n   */\n  getDisabledFeatures: () => {\n    const state = useAppStore.getState();\n    return Object.entries(state.features)\n      .filter(([_, enabled]) => !enabled)\n      .map(([flag, _]) => flag);\n  },\n  \n  /**\n   * Get current theme with system preference\n   */\n  getCurrentTheme: () => {\n    const state = useAppStore.getState();\n    if (state.theme === 'system') {\n      return typeof window !== 'undefined' && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n    }\n    return state.theme;\n  },\n  \n  /**\n   * Get app configuration\n   */\n  getAppConfig: () => {\n    const state = useAppStore.getState();\n    return {\n      theme: state.theme,\n      sidebar: {\n        collapsed: state.sidebarCollapsed,\n        width: state.sidebarWidth,\n        pinned: state.sidebarPinned,\n      },\n      features: state.features,\n      settings: state.settings,\n      navigation: {\n        currentRoute: state.currentRoute,\n        previousRoute: state.previousRoute,\n        breadcrumbs: state.breadcrumbs,\n      }\n    };\n  },\n  \n  /**\n   * Initialize app store with default values\n   */\n  initialize: () => {\n    const state = useAppStore.getState();\n    \n    // Set initial theme\n    if (typeof window !== 'undefined') {\n      const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';\n      const theme = state.theme === 'system' ? systemTheme : state.theme;\n      document.documentElement.setAttribute('data-theme', theme);\n      if (theme === 'dark') {\n        document.documentElement.classList.add('dark');\n      } else {\n        document.documentElement.classList.remove('dark');\n      }\n    }\n    \n    logger.info('App store initialized');\n  }\n};\n\n// Store subscriptions for external integrations\nexport const appStoreSubscriptions = {\n  /**\n   * Subscribe to theme changes\n   */\n  onThemeChange: (callback: (theme: string) => void) => {\n    return useAppStore.subscribe(\n      (state, prevState) => {\n        const { theme } = state;\n        const { theme: prevTheme } = prevState;\n        if (theme !== prevTheme) {\n          callback(theme);\n        }\n      }\n    );\n  },\n  \n  /**\n   * Subscribe to sidebar changes\n   */\n  onSidebarChange: (callback: (collapsed: boolean) => void) => {\n    return useAppStore.subscribe(\n      (state, prevState) => {\n        const { sidebarCollapsed } = state;\n        const { sidebarCollapsed: prevCollapsed } = prevState;\n        if (sidebarCollapsed !== prevCollapsed) {\n          callback(sidebarCollapsed);\n        }\n      }\n    );\n  },\n  \n  /**\n   * Subscribe to feature flag changes\n   */\n  onFeatureFlagChange: (flag: string, callback: (enabled: boolean) => void) => {\n    return useAppStore.subscribe(\n      (state, prevState) => {\n        const enabled = state.features[flag];\n        const prevEnabled = prevState.features[flag];\n        if (enabled !== prevEnabled) {\n          callback(enabled ?? false);\n        }\n      }\n    );\n  },\n  \n  /**\n   * Subscribe to settings changes\n   */\n  onSettingsChange: (callback: (settings: AppStore['settings']) => void) => {\n    return useAppStore.subscribe(\n      (state, prevState) => {\n        const { settings } = state;\n        const { settings: prevSettings } = prevState;\n        if (settings !== prevSettings) {\n          callback(settings);\n        }\n      }\n    );\n  }\n};\n\n// Store debugging utilities\nexport const appStoreDebug = {\n  /**\n   * Log current app state\n   */\n  logState: () => {\n    const state = useAppStore.getState();\n    logger.debug('App Store State', {\n      theme: state.theme,\n      sidebarCollapsed: state.sidebarCollapsed,\n      features: state.features,\n      settings: state.settings,\n      currentRoute: state.currentRoute,\n      isLoading: state.isLoading,\n      error: state.error\n    });\n  },\n  \n  /**\n   * Log feature flags\n   */\n  logFeatureFlags: () => {\n    const state = useAppStore.getState();\n    logger.debug('Feature Flags', {\n      enabled: Object.entries(state.features).filter(([_, enabled]) => enabled),\n      disabled: Object.entries(state.features).filter(([_, enabled]) => !enabled),\n      total: Object.keys(state.features).length\n    });\n  },\n  \n  /**\n   * Log app settings\n   */\n  logSettings: () => {\n    const state = useAppStore.getState();\n    logger.debug('App Settings', state.settings);\n  },\n  \n  /**\n   * Reset store to initial state\n   */\n  reset: () => {\n    useAppStore.getState().resetSettings();\n    logger.info('App store reset to initial state');\n  }\n};\n"],"names":["appStoreDebug","appStoreSubscriptions","appStoreUtils","useActiveModal","useAppActions","useAppAnimations","useAppError","useAppHaptics","useAppLanguage","useAppLoading","useAppSettings","useAppStore","useAppTheme","useAppTimezone","useBreadcrumbs","useCurrentRoute","useFeatureFlags","useIsDesktop","useIsFeatureEnabled","useIsMobile","useIsTablet","useModalData","useModalStack","useOrientation","useResolvedTheme","useScreenSize","useSidebarActiveSection","useSidebarCollapsed","useSidebarPinned","useSidebarWidth","useSystemTheme","useTheme","defaultSettings","animations","haptics","sound","autoSave","language","timezone","compactMode","showTooltips","enableAnalytics","enableCrashReporting","create","devtools","persist","immer","set","_get","theme","systemTheme","resolvedTheme","sidebarCollapsed","sidebarWidth","sidebarPinned","sidebarActiveSection","activeModal","modalData","modalStack","isMobile","isTablet","isDesktop","screenSize","orientation","features","featureFlags","settings","i18n","currentLanguage","isLoading","error","currentRoute","previousRoute","breadcrumbs","isInitializing","isUpdating","setLoading","loading","state","setError","clearError","setTheme","window","document","documentElement","setAttribute","classList","add","remove","logger","info","toggleTheme","newTheme","updateSystemTheme","toggleSidebar","debug","collapsed","setSidebarCollapsed","setSidebarWidth","width","Math","max","min","setSidebarPinned","pinned","setSidebarActiveSection","section","openModal","id","data","push","closeModal","pop","length","previous","closeAllModals","pushModal","popModal","setDeviceInfo","setFeatureFlag","flag","enabled","toggleFeatureFlag","setFeatureFlags","flags","loadFeatureFlags","forEach","count","updateSettings","resetSettings","setLanguage","setI18nLoading","setI18nError","setCurrentRoute","route","from","to","setBreadcrumbs","addBreadcrumb","breadcrumb","removeBreadcrumb","index","splice","setInitializing","initializing","setUpdating","updating","name","partialize","matchMedia","matches","isFeatureEnabled","getState","getEnabledFeatures","Object","entries","filter","_","map","getDisabledFeatures","getCurrentTheme","getAppConfig","sidebar","navigation","initialize","onThemeChange","callback","subscribe","prevState","prevTheme","onSidebarChange","prevCollapsed","onFeatureFlagChange","prevEnabled","onSettingsChange","prevSettings","logState","logFeatureFlags","disabled","total","keys","logSettings","reset"],"mappings":"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"}