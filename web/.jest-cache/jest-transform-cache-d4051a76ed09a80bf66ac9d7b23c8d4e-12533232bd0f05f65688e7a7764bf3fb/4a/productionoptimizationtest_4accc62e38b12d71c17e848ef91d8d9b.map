{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/performance/production-optimization.test.tsx"],"sourcesContent":["/**\n * @jest-environment jsdom\n */\n\nimport React from 'react';\nimport { render, screen, waitFor, act } from '@testing-library/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport SuperiorMobileFeed from '@/features/feeds/components/SuperiorMobileFeed';\nimport { productionTracker, ProductionMetrics } from './production-tracker';\nimport { logger } from '@/lib/utils/logger';\n\n// Setup minimal mocks for test environment\nbeforeAll(() => {\n  // Mock localStorage for component functionality\n  Object.defineProperty(window, 'localStorage', {\n    value: {\n      getItem: jest.fn(),\n      setItem: jest.fn(),\n      removeItem: jest.fn(),\n      clear: jest.fn(),\n    },\n    writable: true,\n  });\n  \n  // Mock navigator for online status\n  Object.defineProperty(navigator, 'onLine', {\n    value: true,\n    writable: true,\n  });\n\n  // Mock fetch to handle API calls\n  global.fetch = jest.fn((url: string) => {\n    if (url.includes('/api/feeds')) {\n      return Promise.resolve({\n        ok: true,\n        json: () => Promise.resolve([\n          {\n            id: '1',\n            title: 'Sample Civic Activity',\n            description: 'A sample civic activity for testing',\n            category: 'civic',\n            timestamp: new Date().toISOString(),\n            source: 'test'\n          }\n        ])\n      } as Response);\n    }\n    if (url.includes('/api/civics/analytics')) {\n      return Promise.resolve({\n        ok: true,\n        json: () => Promise.resolve({\n          success: true,\n          analytics: {\n            totalViews: 100,\n            engagement: 0.75,\n            userSatisfaction: 0.85\n          }\n        })\n      } as Response);\n    }\n    if (url.includes('/api/pwa/offline/sync')) {\n      return Promise.resolve({\n        ok: true,\n        json: () => Promise.resolve({ success: true })\n      } as Response);\n    }\n    return Promise.resolve({\n      ok: true,\n      json: () => Promise.resolve({})\n    } as Response);\n  });\n});\n\ndescribe('Production Optimization Tests', () => {\n  beforeEach(() => {\n    // Clear production tracker before each test\n    productionTracker.clear();\n  });\n\n  describe('Real-world Performance Tracking', () => {\n    it('should track production performance metrics in real-world conditions', async () => {\n      const sessionId = 'prod-session-001';\n      const userId = 'user-123';\n      \n      // Start production tracking\n      productionTracker.startTracking(sessionId, userId);\n      \n      // Simulate real-world performance metrics\n      const productionMetrics: Omit<ProductionMetrics, 'sessionId' | 'timestamp'> = {\n        userId,\n        userAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15',\n        deviceType: 'mobile',\n        connectionType: '4g',\n        viewport: { width: 375, height: 812 },\n        performance: {\n          renderTime: 150,\n          memoryUsage: 25,\n          networkLatency: 200,\n          apiResponseTime: 300,\n          userInteractionTime: 50,\n          pageLoadTime: 1200,\n          timeToInteractive: 800,\n          firstContentfulPaint: 600,\n          largestContentfulPaint: 900,\n          cumulativeLayoutShift: 0.1,\n        },\n        userExperience: {\n          satisfaction: 4,\n          frustration: 2,\n          taskCompletion: true,\n          errorRate: 0.02,\n          bounceRate: false,\n          sessionDuration: 300,\n        },\n        businessMetrics: {\n          conversionRate: 0.15,\n          engagementScore: 0.8,\n          retentionRate: 0.7,\n          revenueImpact: 25.50,\n        },\n      };\n      \n      // Record production metrics\n      productionTracker.recordProductionMetrics(productionMetrics);\n      \n      logger.info(`ðŸ­ Production Performance Tracking:`);\n      logger.info(`- Session ID: ${sessionId}`);\n      logger.info(`- User ID: ${userId}`);\n      logger.info(`- Device: ${productionMetrics.deviceType}`);\n      logger.info(`- Connection: ${productionMetrics.connectionType}`);\n      logger.info(`- Render Time: ${productionMetrics.performance.renderTime}ms`);\n      logger.info(`- Memory Usage: ${productionMetrics.performance.memoryUsage}MB`);\n      logger.info(`- User Satisfaction: ${productionMetrics.userExperience.satisfaction}/5`);\n      logger.info(`- Task Completion: ${productionMetrics.userExperience.taskCompletion}`);\n      logger.info(`- Revenue Impact: $${productionMetrics.businessMetrics.revenueImpact}`);\n      \n      // Stop tracking\n      productionTracker.stopTracking();\n      \n      // Verify tracking\n      const sessionMetrics = productionTracker.getSessionMetrics(sessionId);\n      expect(sessionMetrics).toHaveLength(1);\n      expect(sessionMetrics[0].sessionId).toBe(sessionId);\n      expect(sessionMetrics[0].userId).toBe(userId);\n      expect(sessionMetrics[0].deviceType).toBe('mobile');\n    });\n\n    it('should detect performance regressions in production', async () => {\n      const sessionId = 'regression-test-session';\n      \n      productionTracker.startTracking(sessionId);\n      \n      // Record baseline metrics\n      const baselineMetrics: Omit<ProductionMetrics, 'sessionId' | 'timestamp'> = {\n        userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\n        deviceType: 'desktop',\n        connectionType: 'wifi',\n        viewport: { width: 1920, height: 1080 },\n        performance: {\n          renderTime: 100,\n          memoryUsage: 20,\n          networkLatency: 50,\n          apiResponseTime: 200,\n          userInteractionTime: 30,\n          pageLoadTime: 800,\n          timeToInteractive: 600,\n          firstContentfulPaint: 400,\n          largestContentfulPaint: 700,\n          cumulativeLayoutShift: 0.05,\n        },\n        userExperience: {\n          satisfaction: 4.5,\n          frustration: 1,\n          taskCompletion: true,\n          errorRate: 0.01,\n          bounceRate: false,\n          sessionDuration: 600,\n        },\n        businessMetrics: {\n          conversionRate: 0.2,\n          engagementScore: 0.9,\n          retentionRate: 0.8,\n          revenueImpact: 50.00,\n        },\n      };\n      \n      productionTracker.recordProductionMetrics(baselineMetrics);\n      \n      // Record degraded metrics (simulating regression)\n      const degradedMetrics: Omit<ProductionMetrics, 'sessionId' | 'timestamp'> = {\n        ...baselineMetrics,\n        performance: {\n          ...baselineMetrics.performance,\n          renderTime: 200, // 100% increase\n          memoryUsage: 35, // 75% increase\n          apiResponseTime: 400, // 100% increase\n        },\n        userExperience: {\n          ...baselineMetrics.userExperience,\n          satisfaction: 3, // Decreased satisfaction\n          frustration: 3, // Increased frustration\n        },\n      };\n      \n      productionTracker.recordProductionMetrics(degradedMetrics);\n      \n      // Check for regressions\n      const activeRegressions = productionTracker.getActiveRegressions();\n      \n      logger.info(`ðŸš¨ Performance Regressions Detected: ${activeRegressions.length}`);\n      activeRegressions.forEach(regression => {\n        logger.info(`- Metric: ${regression.metric}`);\n        logger.info(`- Change: +${regression.changePercentage.toFixed(2)}%`);\n        logger.info(`- Severity: ${regression.severity.toUpperCase()}`);\n        logger.info(`- User Experience Impact: ${regression.impact.userExperience.toFixed(2)}%`);\n        logger.info(`- Business Impact: ${regression.impact.businessMetrics}%`);\n      });\n      \n      expect(activeRegressions.length).toBeGreaterThan(0);\n      expect(activeRegressions.some(r => r.metric === 'renderTime')).toBe(true);\n      expect(activeRegressions.some(r => r.severity === 'high' || r.severity === 'critical')).toBe(true);\n    });\n\n    it('should resolve performance regressions', async () => {\n      const sessionId = 'regression-resolution-session';\n      \n      productionTracker.startTracking(sessionId);\n      \n      // Create a regression scenario\n      const baselineMetrics: Omit<ProductionMetrics, 'sessionId' | 'timestamp'> = {\n        userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36',\n        deviceType: 'desktop',\n        connectionType: 'ethernet',\n        viewport: { width: 2560, height: 1440 },\n        performance: {\n          renderTime: 80,\n          memoryUsage: 15,\n          networkLatency: 30,\n          apiResponseTime: 150,\n          userInteractionTime: 25,\n          pageLoadTime: 600,\n          timeToInteractive: 400,\n          firstContentfulPaint: 300,\n          largestContentfulPaint: 500,\n          cumulativeLayoutShift: 0.02,\n        },\n        userExperience: {\n          satisfaction: 4.8,\n          frustration: 0.5,\n          taskCompletion: true,\n          errorRate: 0.005,\n          bounceRate: false,\n          sessionDuration: 900,\n        },\n        businessMetrics: {\n          conversionRate: 0.25,\n          engagementScore: 0.95,\n          retentionRate: 0.85,\n          revenueImpact: 75.00,\n        },\n      };\n      \n      productionTracker.recordProductionMetrics(baselineMetrics);\n      \n      // Create regression\n      const regressionMetrics: Omit<ProductionMetrics, 'sessionId' | 'timestamp'> = {\n        ...baselineMetrics,\n        performance: {\n          ...baselineMetrics.performance,\n          renderTime: 200, // 150% increase\n        },\n      };\n      \n      productionTracker.recordProductionMetrics(regressionMetrics);\n      \n      const activeRegressions = productionTracker.getActiveRegressions();\n      expect(activeRegressions.length).toBeGreaterThan(0);\n      \n      // Resolve the regression\n      const regressionId = activeRegressions[0].id;\n      productionTracker.resolveRegression(regressionId);\n      \n      const resolvedRegressions = productionTracker.getActiveRegressions();\n      const resolvedRegression = productionTracker.getActiveRegressions().find(r => r.id === regressionId);\n      \n      logger.info(`âœ… Regression Resolution:`);\n      logger.info(`- Active Regressions: ${resolvedRegressions.length}`);\n      logger.info(`- Regression Resolved: ${resolvedRegression === undefined}`);\n      \n      expect(resolvedRegressions.length).toBeLessThan(activeRegressions.length);\n    });\n  });\n\n  describe('User Experience Metrics', () => {\n    it('should generate comprehensive user experience insights', async () => {\n      const sessionId = 'ux-insights-session';\n      \n      productionTracker.startTracking(sessionId);\n      \n      // Record diverse user experience data\n      const userSessions = [\n        {\n          satisfaction: 5,\n          taskCompletion: true,\n          errorRate: 0.01,\n          sessionDuration: 1200,\n        },\n        {\n          satisfaction: 4,\n          taskCompletion: true,\n          errorRate: 0.02,\n          sessionDuration: 800,\n        },\n        {\n          satisfaction: 3,\n          taskCompletion: false,\n          errorRate: 0.05,\n          sessionDuration: 300,\n        },\n        {\n          satisfaction: 2,\n          taskCompletion: false,\n          errorRate: 0.1,\n          sessionDuration: 150,\n        },\n      ];\n      \n      userSessions.forEach((session, index) => {\n        const metrics: Omit<ProductionMetrics, 'sessionId' | 'timestamp'> = {\n          userAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 15_0 like Mac OS X) AppleWebKit/605.1.15',\n          deviceType: 'mobile',\n          connectionType: '4g',\n          viewport: { width: 375, height: 812 },\n          performance: {\n            renderTime: 120 + (index * 20),\n            memoryUsage: 20 + (index * 5),\n            networkLatency: 100 + (index * 50),\n            apiResponseTime: 200 + (index * 100),\n            userInteractionTime: 40 + (index * 10),\n            pageLoadTime: 800 + (index * 200),\n            timeToInteractive: 500 + (index * 100),\n            firstContentfulPaint: 300 + (index * 50),\n            largestContentfulPaint: 600 + (index * 100),\n            cumulativeLayoutShift: 0.05 + (index * 0.02),\n          },\n          userExperience: {\n            satisfaction: session.satisfaction,\n            frustration: 5 - session.satisfaction,\n            taskCompletion: session.taskCompletion,\n            errorRate: session.errorRate,\n            bounceRate: !session.taskCompletion,\n            sessionDuration: session.sessionDuration,\n          },\n          businessMetrics: {\n            conversionRate: session.satisfaction * 0.1,\n            engagementScore: session.satisfaction * 0.2,\n            retentionRate: session.satisfaction * 0.15,\n            revenueImpact: session.satisfaction * 10,\n          },\n        };\n        \n        productionTracker.recordProductionMetrics(metrics);\n      });\n      \n      // Generate user experience insights\n      const insights = productionTracker.generateUserExperienceInsights();\n      \n      logger.info(`ðŸŽ¯ User Experience Insights:`);\n      logger.info(`- Overall Score: ${insights.overallScore.toFixed(2)}/100`);\n      logger.info(`- Top Issues: ${insights.topIssues.length}`);\n      logger.info(`- Improvement Opportunities: ${insights.improvementOpportunities.length}`);\n      logger.info(`- High Performers: ${insights.userSegments.highPerformers.length}`);\n      logger.info(`- Struggling Users: ${insights.userSegments.strugglingUsers.length}`);\n      logger.info(`- At Risk Users: ${insights.userSegments.atRiskUsers.length}`);\n      logger.info(`- Recommendations: ${insights.recommendations.length}`);\n      logger.info(`- Predicted Impact: ${insights.predictedImpact.toFixed(2)}%`);\n      \n      if (insights.topIssues.length > 0) {\n        logger.info(`\\nðŸš¨ Top Issues:`);\n        insights.topIssues.forEach(issue => logger.info(`  - ${issue}`));\n      }\n      \n      if (insights.improvementOpportunities.length > 0) {\n        logger.info(`\\nðŸ’¡ Improvement Opportunities:`);\n        insights.improvementOpportunities.forEach(opportunity => logger.info(`  - ${opportunity}`));\n      }\n      \n      if (insights.recommendations.length > 0) {\n        logger.info(`\\nðŸ“‹ Recommendations:`);\n        insights.recommendations.forEach(rec => logger.info(`  - ${rec}`));\n      }\n      \n      // Verify insights\n      expect(insights.overallScore).toBeGreaterThanOrEqual(0);\n      expect(insights.overallScore).toBeLessThanOrEqual(100);\n      expect(Array.isArray(insights.topIssues)).toBe(true);\n      expect(Array.isArray(insights.improvementOpportunities)).toBe(true);\n      expect(Array.isArray(insights.userSegments.highPerformers)).toBe(true);\n      expect(Array.isArray(insights.userSegments.strugglingUsers)).toBe(true);\n      expect(Array.isArray(insights.userSegments.atRiskUsers)).toBe(true);\n      expect(Array.isArray(insights.recommendations)).toBe(true);\n    });\n  });\n\n  describe('Production Analytics', () => {\n    it('should generate comprehensive production analytics', async () => {\n      const sessionId = 'analytics-session';\n      \n      productionTracker.startTracking(sessionId);\n      \n      // Record analytics data across different time periods\n      const analyticsData = [\n        { period: 'Week 1', satisfaction: 4.2, renderTime: 120, memoryUsage: 25 },\n        { period: 'Week 2', satisfaction: 4.0, renderTime: 130, memoryUsage: 28 },\n        { period: 'Week 3', satisfaction: 3.8, renderTime: 140, memoryUsage: 30 },\n        { period: 'Week 4', satisfaction: 4.1, renderTime: 125, memoryUsage: 26 },\n      ];\n      \n      analyticsData.forEach((data, index) => {\n        const metrics: Omit<ProductionMetrics, 'sessionId' | 'timestamp'> = {\n          userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36',\n          deviceType: 'desktop',\n          connectionType: 'wifi',\n          viewport: { width: 1920, height: 1080 },\n          performance: {\n            renderTime: data.renderTime,\n            memoryUsage: data.memoryUsage,\n            networkLatency: 50,\n            apiResponseTime: 200,\n            userInteractionTime: 30,\n            pageLoadTime: 800,\n            timeToInteractive: 500,\n            firstContentfulPaint: 300,\n            largestContentfulPaint: 600,\n            cumulativeLayoutShift: 0.05,\n          },\n          userExperience: {\n            satisfaction: data.satisfaction,\n            frustration: 5 - data.satisfaction,\n            taskCompletion: true,\n            errorRate: 0.02,\n            bounceRate: false,\n            sessionDuration: 600,\n          },\n          businessMetrics: {\n            conversionRate: data.satisfaction * 0.1,\n            engagementScore: data.satisfaction * 0.2,\n            retentionRate: data.satisfaction * 0.15,\n            revenueImpact: data.satisfaction * 15,\n          },\n        };\n        \n        productionTracker.recordProductionMetrics(metrics);\n      });\n      \n      // Generate production analytics\n      const analytics = productionTracker.generateProductionAnalytics();\n      \n      logger.info(`ðŸ“Š Production Analytics:`);\n      logger.info(`- Performance Trends: ${analytics.performanceTrends.length}`);\n      logger.info(`- User Experience Metrics:`);\n      logger.info(`  - Task Completion Rate: ${(analytics.userExperienceMetrics.taskCompletionRate * 100).toFixed(2)}%`);\n      logger.info(`  - Error Rate: ${(analytics.userExperienceMetrics.errorRate * 100).toFixed(2)}%`);\n      logger.info(`  - Bounce Rate: ${(analytics.userExperienceMetrics.bounceRate * 100).toFixed(2)}%`);\n      logger.info(`- Business Impact:`);\n      logger.info(`  - Conversion Impact: ${analytics.businessImpact.conversionImpact.toFixed(2)}%`);\n      logger.info(`  - Revenue Impact: $${analytics.businessImpact.revenueImpact.toFixed(2)}`);\n      logger.info(`  - User Retention Impact: ${analytics.businessImpact.userRetentionImpact.toFixed(2)}%`);\n      logger.info(`- Technical Health:`);\n      logger.info(`  - Performance Score: ${analytics.technicalHealth.performanceScore.toFixed(2)}/100`);\n      logger.info(`  - Stability Score: ${analytics.technicalHealth.stabilityScore.toFixed(2)}/100`);\n      logger.info(`  - Scalability Score: ${analytics.technicalHealth.scalabilityScore.toFixed(2)}/100`);\n      logger.info(`  - Maintainability Score: ${analytics.technicalHealth.maintainabilityScore.toFixed(2)}/100`);\n      \n      // Verify analytics\n      expect(analytics.performanceTrends).toBeDefined();\n      expect(analytics.userExperienceMetrics).toBeDefined();\n      expect(analytics.businessImpact).toBeDefined();\n      expect(analytics.technicalHealth).toBeDefined();\n      expect(analytics.performanceTrends.length).toBeGreaterThan(0);\n      expect(analytics.userExperienceMetrics.taskCompletionRate).toBeGreaterThanOrEqual(0);\n      expect(analytics.userExperienceMetrics.taskCompletionRate).toBeLessThanOrEqual(1);\n    });\n\n    it('should export comprehensive production data', async () => {\n      const sessionId = 'export-session';\n      \n      productionTracker.startTracking(sessionId);\n      \n      // Record sample production data\n      const sampleMetrics: Omit<ProductionMetrics, 'sessionId' | 'timestamp'> = {\n        userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36',\n        deviceType: 'desktop',\n        connectionType: 'ethernet',\n        viewport: { width: 2560, height: 1440 },\n        performance: {\n          renderTime: 100,\n          memoryUsage: 20,\n          networkLatency: 30,\n          apiResponseTime: 150,\n          userInteractionTime: 25,\n          pageLoadTime: 600,\n          timeToInteractive: 400,\n          firstContentfulPaint: 300,\n          largestContentfulPaint: 500,\n          cumulativeLayoutShift: 0.02,\n        },\n        userExperience: {\n          satisfaction: 4.5,\n          frustration: 1,\n          taskCompletion: true,\n          errorRate: 0.01,\n          bounceRate: false,\n          sessionDuration: 900,\n        },\n        businessMetrics: {\n          conversionRate: 0.2,\n          engagementScore: 0.9,\n          retentionRate: 0.8,\n          revenueImpact: 50.00,\n        },\n      };\n      \n      productionTracker.recordProductionMetrics(sampleMetrics);\n      \n      // Export production data\n      const exportedData = productionTracker.exportProductionData();\n      const parsedData = JSON.parse(exportedData);\n      \n      logger.info(`ðŸ“¤ Production Data Export:`);\n      logger.info(`- Metrics: ${parsedData.metrics.length}`);\n      logger.info(`- Regressions: ${parsedData.regressions.length}`);\n      logger.info(`- Baseline Metrics: ${Object.keys(parsedData.baselineMetrics).length}`);\n      logger.info(`- Insights Generated: ${!!parsedData.insights}`);\n      logger.info(`- Analytics Generated: ${!!parsedData.analytics}`);\n      \n      // Verify export\n      expect(parsedData.metrics).toBeDefined();\n      expect(parsedData.regressions).toBeDefined();\n      expect(parsedData.baselineMetrics).toBeDefined();\n      expect(parsedData.insights).toBeDefined();\n      expect(parsedData.analytics).toBeDefined();\n      expect(parsedData.metrics.length).toBe(1);\n    });\n  });\n});\n"],"names":["beforeAll","Object","defineProperty","window","value","getItem","jest","fn","setItem","removeItem","clear","writable","navigator","global","fetch","url","includes","Promise","resolve","ok","json","id","title","description","category","timestamp","Date","toISOString","source","success","analytics","totalViews","engagement","userSatisfaction","describe","beforeEach","productionTracker","it","sessionId","userId","startTracking","productionMetrics","userAgent","deviceType","connectionType","viewport","width","height","performance","renderTime","memoryUsage","networkLatency","apiResponseTime","userInteractionTime","pageLoadTime","timeToInteractive","firstContentfulPaint","largestContentfulPaint","cumulativeLayoutShift","userExperience","satisfaction","frustration","taskCompletion","errorRate","bounceRate","sessionDuration","businessMetrics","conversionRate","engagementScore","retentionRate","revenueImpact","recordProductionMetrics","logger","info","stopTracking","sessionMetrics","getSessionMetrics","expect","toHaveLength","toBe","baselineMetrics","degradedMetrics","activeRegressions","getActiveRegressions","length","forEach","regression","metric","changePercentage","toFixed","severity","toUpperCase","impact","toBeGreaterThan","some","r","regressionMetrics","regressionId","resolveRegression","resolvedRegressions","resolvedRegression","find","undefined","toBeLessThan","userSessions","session","index","metrics","insights","generateUserExperienceInsights","overallScore","topIssues","improvementOpportunities","userSegments","highPerformers","strugglingUsers","atRiskUsers","recommendations","predictedImpact","issue","opportunity","rec","toBeGreaterThanOrEqual","toBeLessThanOrEqual","Array","isArray","analyticsData","period","data","generateProductionAnalytics","performanceTrends","userExperienceMetrics","taskCompletionRate","businessImpact","conversionImpact","userRetentionImpact","technicalHealth","performanceScore","stabilityScore","scalabilityScore","maintainabilityScore","toBeDefined","sampleMetrics","exportedData","exportProductionData","parsedData","JSON","parse","regressions","keys"],"mappings":"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"}