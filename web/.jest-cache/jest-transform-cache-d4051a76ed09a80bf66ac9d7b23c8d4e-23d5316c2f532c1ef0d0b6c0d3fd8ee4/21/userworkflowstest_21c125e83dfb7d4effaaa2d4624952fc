25f0fe26df4e8859d20eef3b75e29b18
/**
 * End-to-End Tests - User Workflows (10% of tests)
 * 
 * These tests focus on complete user journeys.
 * Test full user workflows from start to finish.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _globals = require("@jest/globals");
const _supabasejs = require("@supabase/supabase-js");
const _server = require("next/server");
const _route = require("../../../app/api/polls/route");
// Use real Supabase client with real credentials
let supabase;
try {
    supabase = (0, _supabasejs.createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);
} catch (error) {
    console.warn("Real Supabase credentials not set up. This test requires real credentials.");
    console.warn("Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY environment variables.");
}
(0, _globals.describe)("E2E Tests - User Workflows", ()=>{
    let testUser;
    let testPollId = null;
    (0, _globals.beforeAll)(async ()=>{
        if (!supabase) {
            console.warn("Skipping tests - Real Supabase credentials not set up");
            return;
        }
        // Login with real test user
        console.log("E2E: Logging in with real test user...");
        const { data, error } = await supabase.auth.signInWithPassword({
            email: "test@example.com",
            password: "testpassword"
        });
        if (error) {
            console.error("Failed to login with test user:", error);
            throw new Error(`Failed to login with test user: ${error.message}`);
        }
        testUser = data.user;
        console.log("E2E: Successfully logged in with test user:", testUser.email);
    });
    (0, _globals.afterAll)(async ()=>{
        if (!supabase) return;
        // Clean up test data
        if (testPollId) {
            console.log("E2E: Cleaning up test poll:", testPollId);
            await supabase.from("polls").delete().eq("id", testPollId);
        }
        // Sign out
        await supabase.auth.signOut();
    });
    (0, _globals.beforeEach)(()=>{
        // Reset test poll ID
        testPollId = null;
    });
    (0, _globals.afterEach)(async ()=>{
        if (!supabase) return;
        // Clean up any test data created during the test
        if (testPollId) {
            await supabase.from("polls").delete().eq("id", testPollId);
            testPollId = null;
        }
    });
    (0, _globals.describe)("Complete User Workflow: Create Poll", ()=>{
        (0, _globals.it)("should complete full poll creation workflow", async ()=>{
            if (!supabase) {
                console.warn("Skipping test - Real Supabase credentials not set up");
                return;
            }
            // E2E Test: Complete poll creation workflow
            // 1. User logs in (already done in beforeAll)
            (0, _globals.expect)(testUser).toBeDefined();
            (0, _globals.expect)(testUser.email).toBe("test@example.com");
            // 2. User creates a poll
            const pollData = {
                title: "E2E Test Poll",
                options: [
                    {
                        text: "E2E Option 1",
                        votes: 0
                    },
                    {
                        text: "E2E Option 2",
                        votes: 0
                    },
                    {
                        text: "E2E Option 3",
                        votes: 0
                    }
                ],
                created_by: testUser.id,
                total_votes: 0,
                status: "active"
            };
            const { data: poll, error: pollError } = await supabase.from("polls").insert(pollData).select().single();
            (0, _globals.expect)(pollError).toBeNull();
            (0, _globals.expect)(poll).toBeDefined();
            (0, _globals.expect)(poll.title).toBe("E2E Test Poll");
            (0, _globals.expect)(poll.options).toHaveLength(3);
            // Store for cleanup
            testPollId = poll.id;
            // 3. User views the poll via API
            const request = new _server.NextRequest("http://localhost:3000/api/polls");
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            (0, _globals.expect)(response.status).toBe(200);
            (0, _globals.expect)(responseData.success).toBe(true);
            (0, _globals.expect)(Array.isArray(responseData.polls)).toBe(true);
            // 4. Verify poll appears in results
            const foundPoll = responseData.polls.find((p)=>p.poll_id === poll.id);
            (0, _globals.expect)(foundPoll).toBeDefined();
            console.log("E2E: Complete poll creation workflow successful");
        });
    });
    (0, _globals.describe)("Complete User Workflow: Vote on Poll", ()=>{
        (0, _globals.it)("should complete full voting workflow", async ()=>{
            if (!supabase) {
                console.warn("Skipping test - Real Supabase credentials not set up");
                return;
            }
            // E2E Test: Complete voting workflow
            // 1. Create a poll
            const pollData = {
                title: "E2E Voting Poll",
                options: [
                    {
                        text: "Vote Option 1",
                        votes: 0
                    },
                    {
                        text: "Vote Option 2",
                        votes: 0
                    }
                ],
                created_by: testUser.id,
                total_votes: 0,
                status: "active"
            };
            const { data: poll, error: pollError } = await supabase.from("polls").insert(pollData).select().single();
            (0, _globals.expect)(pollError).toBeNull();
            (0, _globals.expect)(poll).toBeDefined();
            // Store for cleanup
            testPollId = poll.id;
            // 2. User votes on the poll
            const voteData = {
                poll_id: poll.id,
                user_id: testUser.id,
                option_index: 0,
                created_at: new Date().toISOString()
            };
            const { data: vote, error: voteError } = await supabase.from("votes").insert(voteData).select().single();
            (0, _globals.expect)(voteError).toBeNull();
            (0, _globals.expect)(vote).toBeDefined();
            (0, _globals.expect)(vote.poll_id).toBe(poll.id);
            (0, _globals.expect)(vote.user_id).toBe(testUser.id);
            (0, _globals.expect)(vote.option_index).toBe(0);
            // 3. Update poll vote count
            const { data: updatedPoll, error: updateError } = await supabase.from("polls").update({
                total_votes: 1
            }).eq("id", poll.id).select().single();
            (0, _globals.expect)(updateError).toBeNull();
            (0, _globals.expect)(updatedPoll.total_votes).toBe(1);
            // 4. Verify vote is recorded
            const { data: allVotes, error: votesError } = await supabase.from("votes").select("*").eq("poll_id", poll.id);
            (0, _globals.expect)(votesError).toBeNull();
            (0, _globals.expect)(allVotes).toHaveLength(1);
            (0, _globals.expect)(allVotes[0].option_index).toBe(0);
            console.log("E2E: Complete voting workflow successful");
        });
    });
    (0, _globals.describe)("Complete User Workflow: Poll Results", ()=>{
        (0, _globals.it)("should complete full poll results workflow", async ()=>{
            if (!supabase) {
                console.warn("Skipping test - Real Supabase credentials not set up");
                return;
            }
            // E2E Test: Complete poll results workflow
            // 1. Create a poll
            const pollData = {
                title: "E2E Results Poll",
                options: [
                    {
                        text: "Results Option 1",
                        votes: 0
                    },
                    {
                        text: "Results Option 2",
                        votes: 0
                    }
                ],
                created_by: testUser.id,
                total_votes: 0,
                status: "active"
            };
            const { data: poll, error: pollError } = await supabase.from("polls").insert(pollData).select().single();
            (0, _globals.expect)(pollError).toBeNull();
            (0, _globals.expect)(poll).toBeDefined();
            // Store for cleanup
            testPollId = poll.id;
            // 2. Add multiple votes
            const votes = [
                {
                    poll_id: poll.id,
                    user_id: testUser.id,
                    option_index: 0
                },
                {
                    poll_id: poll.id,
                    user_id: "user2",
                    option_index: 0
                },
                {
                    poll_id: poll.id,
                    user_id: "user3",
                    option_index: 1
                }
            ];
            for (const vote of votes){
                const { error: voteError } = await supabase.from("votes").insert(vote);
                (0, _globals.expect)(voteError).toBeNull();
            }
            // 3. Calculate results
            const { data: allVotes, error: votesError } = await supabase.from("votes").select("*").eq("poll_id", poll.id);
            (0, _globals.expect)(votesError).toBeNull();
            (0, _globals.expect)(allVotes).toHaveLength(3);
            // 4. Calculate final results
            const option1Votes = allVotes.filter((vote)=>vote.option_index === 0).length;
            const option2Votes = allVotes.filter((vote)=>vote.option_index === 1).length;
            (0, _globals.expect)(option1Votes).toBe(2);
            (0, _globals.expect)(option2Votes).toBe(1);
            // 5. Update poll with final results
            const { data: finalPoll, error: finalError } = await supabase.from("polls").update({
                total_votes: 3,
                options: [
                    {
                        text: "Results Option 1",
                        votes: 2
                    },
                    {
                        text: "Results Option 2",
                        votes: 1
                    }
                ]
            }).eq("id", poll.id).select().single();
            (0, _globals.expect)(finalError).toBeNull();
            (0, _globals.expect)(finalPoll.total_votes).toBe(3);
            (0, _globals.expect)(finalPoll.options[0].votes).toBe(2);
            (0, _globals.expect)(finalPoll.options[1].votes).toBe(1);
            console.log("E2E: Complete poll results workflow successful");
        });
    });
    (0, _globals.describe)("Complete User Workflow: Error Handling", ()=>{
        (0, _globals.it)("should handle errors gracefully in complete workflow", async ()=>{
            if (!supabase) {
                console.warn("Skipping test - Real Supabase credentials not set up");
                return;
            }
            // E2E Test: Error handling in complete workflow
            // 1. Test invalid poll creation
            const invalidPollData = {
                // Missing required fields
                options: [
                    {
                        text: "Invalid Option 1"
                    }
                ],
                created_by: testUser.id
            };
            const { data, error } = await supabase.from("polls").insert(invalidPollData).select().single();
            // 2. Verify error handling
            (0, _globals.expect)(error).not.toBeNull();
            (0, _globals.expect)(error.message).toContain("title");
            // 3. Test API still works despite error
            const request = new _server.NextRequest("http://localhost:3000/api/polls");
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            // API should still work
            (0, _globals.expect)(response.status).toBe(200);
            (0, _globals.expect)(responseData.success).toBe(true);
            console.log("E2E: Error handling workflow successful");
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L2UyZS91c2VyLXdvcmtmbG93cy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRW5kLXRvLUVuZCBUZXN0cyAtIFVzZXIgV29ya2Zsb3dzICgxMCUgb2YgdGVzdHMpXG4gKiBcbiAqIFRoZXNlIHRlc3RzIGZvY3VzIG9uIGNvbXBsZXRlIHVzZXIgam91cm5leXMuXG4gKiBUZXN0IGZ1bGwgdXNlciB3b3JrZmxvd3MgZnJvbSBzdGFydCB0byBmaW5pc2guXG4gKi9cblxuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUFsbCwgYWZ0ZXJBbGwsIGJlZm9yZUVhY2gsIGFmdGVyRWFjaCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgR0VULCBQT1NUIH0gZnJvbSAnQC9hcHAvYXBpL3BvbGxzL3JvdXRlJztcblxuLy8gVXNlIHJlYWwgU3VwYWJhc2UgY2xpZW50IHdpdGggcmVhbCBjcmVkZW50aWFsc1xubGV0IHN1cGFiYXNlOiBhbnk7XG5cbnRyeSB7XG4gIHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhXG4gICk7XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLndhcm4oJ1JlYWwgU3VwYWJhc2UgY3JlZGVudGlhbHMgbm90IHNldCB1cC4gVGhpcyB0ZXN0IHJlcXVpcmVzIHJlYWwgY3JlZGVudGlhbHMuJyk7XG4gIGNvbnNvbGUud2FybignUGxlYXNlIHNldCBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgYW5kIE5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIGVudmlyb25tZW50IHZhcmlhYmxlcy4nKTtcbn1cblxuZGVzY3JpYmUoJ0UyRSBUZXN0cyAtIFVzZXIgV29ya2Zsb3dzJywgKCkgPT4ge1xuICBsZXQgdGVzdFVzZXI6IGFueTtcbiAgbGV0IHRlc3RQb2xsSWQ6IHN0cmluZyB8IG51bGwgPSBudWxsO1xuXG4gIGJlZm9yZUFsbChhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgY29uc29sZS53YXJuKCdTa2lwcGluZyB0ZXN0cyAtIFJlYWwgU3VwYWJhc2UgY3JlZGVudGlhbHMgbm90IHNldCB1cCcpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIExvZ2luIHdpdGggcmVhbCB0ZXN0IHVzZXJcbiAgICBjb25zb2xlLmxvZygnRTJFOiBMb2dnaW5nIGluIHdpdGggcmVhbCB0ZXN0IHVzZXIuLi4nKTtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7XG4gICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICd0ZXN0cGFzc3dvcmQnXG4gICAgfSk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2dpbiB3aXRoIHRlc3QgdXNlcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2dpbiB3aXRoIHRlc3QgdXNlcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cblxuICAgIHRlc3RVc2VyID0gZGF0YS51c2VyO1xuICAgIGNvbnNvbGUubG9nKCdFMkU6IFN1Y2Nlc3NmdWxseSBsb2dnZWQgaW4gd2l0aCB0ZXN0IHVzZXI6JywgdGVzdFVzZXIuZW1haWwpO1xuICB9KTtcblxuICBhZnRlckFsbChhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuO1xuXG4gICAgLy8gQ2xlYW4gdXAgdGVzdCBkYXRhXG4gICAgaWYgKHRlc3RQb2xsSWQpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdFMkU6IENsZWFuaW5nIHVwIHRlc3QgcG9sbDonLCB0ZXN0UG9sbElkKTtcbiAgICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oJ3BvbGxzJykuZGVsZXRlKCkuZXEoJ2lkJywgdGVzdFBvbGxJZCk7XG4gICAgfVxuXG4gICAgLy8gU2lnbiBvdXRcbiAgICBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25PdXQoKTtcbiAgfSk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgLy8gUmVzZXQgdGVzdCBwb2xsIElEXG4gICAgdGVzdFBvbGxJZCA9IG51bGw7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaChhc3luYyAoKSA9PiB7XG4gICAgaWYgKCFzdXBhYmFzZSkgcmV0dXJuO1xuXG4gICAgLy8gQ2xlYW4gdXAgYW55IHRlc3QgZGF0YSBjcmVhdGVkIGR1cmluZyB0aGUgdGVzdFxuICAgIGlmICh0ZXN0UG9sbElkKSB7XG4gICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKCdwb2xscycpLmRlbGV0ZSgpLmVxKCdpZCcsIHRlc3RQb2xsSWQpO1xuICAgICAgdGVzdFBvbGxJZCA9IG51bGw7XG4gICAgfVxuICB9KTtcblxuICBkZXNjcmliZSgnQ29tcGxldGUgVXNlciBXb3JrZmxvdzogQ3JlYXRlIFBvbGwnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjb21wbGV0ZSBmdWxsIHBvbGwgY3JlYXRpb24gd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignU2tpcHBpbmcgdGVzdCAtIFJlYWwgU3VwYWJhc2UgY3JlZGVudGlhbHMgbm90IHNldCB1cCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEUyRSBUZXN0OiBDb21wbGV0ZSBwb2xsIGNyZWF0aW9uIHdvcmtmbG93XG4gICAgICAvLyAxLiBVc2VyIGxvZ3MgaW4gKGFscmVhZHkgZG9uZSBpbiBiZWZvcmVBbGwpXG4gICAgICBleHBlY3QodGVzdFVzZXIpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodGVzdFVzZXIuZW1haWwpLnRvQmUoJ3Rlc3RAZXhhbXBsZS5jb20nKTtcblxuICAgICAgLy8gMi4gVXNlciBjcmVhdGVzIGEgcG9sbFxuICAgICAgY29uc3QgcG9sbERhdGEgPSB7XG4gICAgICAgIHRpdGxlOiAnRTJFIFRlc3QgUG9sbCcsXG4gICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICB7IHRleHQ6ICdFMkUgT3B0aW9uIDEnLCB2b3RlczogMCB9LFxuICAgICAgICAgIHsgdGV4dDogJ0UyRSBPcHRpb24gMicsIHZvdGVzOiAwIH0sXG4gICAgICAgICAgeyB0ZXh0OiAnRTJFIE9wdGlvbiAzJywgdm90ZXM6IDAgfVxuICAgICAgICBdLFxuICAgICAgICBjcmVhdGVkX2J5OiB0ZXN0VXNlci5pZCxcbiAgICAgICAgdG90YWxfdm90ZXM6IDAsXG4gICAgICAgIHN0YXR1czogJ2FjdGl2ZSdcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHsgZGF0YTogcG9sbCwgZXJyb3I6IHBvbGxFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3BvbGxzJylcbiAgICAgICAgLmluc2VydChwb2xsRGF0YSlcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgZXhwZWN0KHBvbGxFcnJvcikudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChwb2xsKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KHBvbGwudGl0bGUpLnRvQmUoJ0UyRSBUZXN0IFBvbGwnKTtcbiAgICAgIGV4cGVjdChwb2xsLm9wdGlvbnMpLnRvSGF2ZUxlbmd0aCgzKTtcblxuICAgICAgLy8gU3RvcmUgZm9yIGNsZWFudXBcbiAgICAgIHRlc3RQb2xsSWQgPSBwb2xsLmlkO1xuXG4gICAgICAvLyAzLiBVc2VyIHZpZXdzIHRoZSBwb2xsIHZpYSBBUElcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcG9sbHMnKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QoQXJyYXkuaXNBcnJheShyZXNwb25zZURhdGEucG9sbHMpKS50b0JlKHRydWUpO1xuXG4gICAgICAvLyA0LiBWZXJpZnkgcG9sbCBhcHBlYXJzIGluIHJlc3VsdHNcbiAgICAgIGNvbnN0IGZvdW5kUG9sbCA9IHJlc3BvbnNlRGF0YS5wb2xscy5maW5kKChwOiBhbnkpID0+IHAucG9sbF9pZCA9PT0gcG9sbC5pZCk7XG4gICAgICBleHBlY3QoZm91bmRQb2xsKS50b0JlRGVmaW5lZCgpO1xuXG4gICAgICBjb25zb2xlLmxvZygnRTJFOiBDb21wbGV0ZSBwb2xsIGNyZWF0aW9uIHdvcmtmbG93IHN1Y2Nlc3NmdWwnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbXBsZXRlIFVzZXIgV29ya2Zsb3c6IFZvdGUgb24gUG9sbCcsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNvbXBsZXRlIGZ1bGwgdm90aW5nIHdvcmtmbG93JywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1NraXBwaW5nIHRlc3QgLSBSZWFsIFN1cGFiYXNlIGNyZWRlbnRpYWxzIG5vdCBzZXQgdXAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBFMkUgVGVzdDogQ29tcGxldGUgdm90aW5nIHdvcmtmbG93XG4gICAgICAvLyAxLiBDcmVhdGUgYSBwb2xsXG4gICAgICBjb25zdCBwb2xsRGF0YSA9IHtcbiAgICAgICAgdGl0bGU6ICdFMkUgVm90aW5nIFBvbGwnLFxuICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgeyB0ZXh0OiAnVm90ZSBPcHRpb24gMScsIHZvdGVzOiAwIH0sXG4gICAgICAgICAgeyB0ZXh0OiAnVm90ZSBPcHRpb24gMicsIHZvdGVzOiAwIH1cbiAgICAgICAgXSxcbiAgICAgICAgY3JlYXRlZF9ieTogdGVzdFVzZXIuaWQsXG4gICAgICAgIHRvdGFsX3ZvdGVzOiAwLFxuICAgICAgICBzdGF0dXM6ICdhY3RpdmUnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IGRhdGE6IHBvbGwsIGVycm9yOiBwb2xsRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwb2xscycpXG4gICAgICAgIC5pbnNlcnQocG9sbERhdGEpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGV4cGVjdChwb2xsRXJyb3IpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QocG9sbCkudG9CZURlZmluZWQoKTtcblxuICAgICAgLy8gU3RvcmUgZm9yIGNsZWFudXBcbiAgICAgIHRlc3RQb2xsSWQgPSBwb2xsLmlkO1xuXG4gICAgICAvLyAyLiBVc2VyIHZvdGVzIG9uIHRoZSBwb2xsXG4gICAgICBjb25zdCB2b3RlRGF0YSA9IHtcbiAgICAgICAgcG9sbF9pZDogcG9sbC5pZCxcbiAgICAgICAgdXNlcl9pZDogdGVzdFVzZXIuaWQsXG4gICAgICAgIG9wdGlvbl9pbmRleDogMCxcbiAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IGRhdGE6IHZvdGUsIGVycm9yOiB2b3RlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd2b3RlcycpXG4gICAgICAgIC5pbnNlcnQodm90ZURhdGEpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGV4cGVjdCh2b3RlRXJyb3IpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3Qodm90ZSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdCh2b3RlLnBvbGxfaWQpLnRvQmUocG9sbC5pZCk7XG4gICAgICBleHBlY3Qodm90ZS51c2VyX2lkKS50b0JlKHRlc3RVc2VyLmlkKTtcbiAgICAgIGV4cGVjdCh2b3RlLm9wdGlvbl9pbmRleCkudG9CZSgwKTtcblxuICAgICAgLy8gMy4gVXBkYXRlIHBvbGwgdm90ZSBjb3VudFxuICAgICAgY29uc3QgeyBkYXRhOiB1cGRhdGVkUG9sbCwgZXJyb3I6IHVwZGF0ZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncG9sbHMnKVxuICAgICAgICAudXBkYXRlKHsgdG90YWxfdm90ZXM6IDEgfSlcbiAgICAgICAgLmVxKCdpZCcsIHBvbGwuaWQpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGV4cGVjdCh1cGRhdGVFcnJvcikudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdCh1cGRhdGVkUG9sbC50b3RhbF92b3RlcykudG9CZSgxKTtcblxuICAgICAgLy8gNC4gVmVyaWZ5IHZvdGUgaXMgcmVjb3JkZWRcbiAgICAgIGNvbnN0IHsgZGF0YTogYWxsVm90ZXMsIGVycm9yOiB2b3Rlc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndm90ZXMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCdwb2xsX2lkJywgcG9sbC5pZCk7XG5cbiAgICAgIGV4cGVjdCh2b3Rlc0Vycm9yKS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KGFsbFZvdGVzKS50b0hhdmVMZW5ndGgoMSk7XG4gICAgICBleHBlY3QoYWxsVm90ZXNbMF0ub3B0aW9uX2luZGV4KS50b0JlKDApO1xuXG4gICAgICBjb25zb2xlLmxvZygnRTJFOiBDb21wbGV0ZSB2b3Rpbmcgd29ya2Zsb3cgc3VjY2Vzc2Z1bCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29tcGxldGUgVXNlciBXb3JrZmxvdzogUG9sbCBSZXN1bHRzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY29tcGxldGUgZnVsbCBwb2xsIHJlc3VsdHMgd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignU2tpcHBpbmcgdGVzdCAtIFJlYWwgU3VwYWJhc2UgY3JlZGVudGlhbHMgbm90IHNldCB1cCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEUyRSBUZXN0OiBDb21wbGV0ZSBwb2xsIHJlc3VsdHMgd29ya2Zsb3dcbiAgICAgIC8vIDEuIENyZWF0ZSBhIHBvbGxcbiAgICAgIGNvbnN0IHBvbGxEYXRhID0ge1xuICAgICAgICB0aXRsZTogJ0UyRSBSZXN1bHRzIFBvbGwnLFxuICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgeyB0ZXh0OiAnUmVzdWx0cyBPcHRpb24gMScsIHZvdGVzOiAwIH0sXG4gICAgICAgICAgeyB0ZXh0OiAnUmVzdWx0cyBPcHRpb24gMicsIHZvdGVzOiAwIH1cbiAgICAgICAgXSxcbiAgICAgICAgY3JlYXRlZF9ieTogdGVzdFVzZXIuaWQsXG4gICAgICAgIHRvdGFsX3ZvdGVzOiAwLFxuICAgICAgICBzdGF0dXM6ICdhY3RpdmUnXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IGRhdGE6IHBvbGwsIGVycm9yOiBwb2xsRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwb2xscycpXG4gICAgICAgIC5pbnNlcnQocG9sbERhdGEpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgIGV4cGVjdChwb2xsRXJyb3IpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QocG9sbCkudG9CZURlZmluZWQoKTtcblxuICAgICAgLy8gU3RvcmUgZm9yIGNsZWFudXBcbiAgICAgIHRlc3RQb2xsSWQgPSBwb2xsLmlkO1xuXG4gICAgICAvLyAyLiBBZGQgbXVsdGlwbGUgdm90ZXNcbiAgICAgIGNvbnN0IHZvdGVzID0gW1xuICAgICAgICB7IHBvbGxfaWQ6IHBvbGwuaWQsIHVzZXJfaWQ6IHRlc3RVc2VyLmlkLCBvcHRpb25faW5kZXg6IDAgfSxcbiAgICAgICAgeyBwb2xsX2lkOiBwb2xsLmlkLCB1c2VyX2lkOiAndXNlcjInLCBvcHRpb25faW5kZXg6IDAgfSxcbiAgICAgICAgeyBwb2xsX2lkOiBwb2xsLmlkLCB1c2VyX2lkOiAndXNlcjMnLCBvcHRpb25faW5kZXg6IDEgfVxuICAgICAgXTtcblxuICAgICAgZm9yIChjb25zdCB2b3RlIG9mIHZvdGVzKSB7XG4gICAgICAgIGNvbnN0IHsgZXJyb3I6IHZvdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgndm90ZXMnKVxuICAgICAgICAgIC5pbnNlcnQodm90ZSk7XG5cbiAgICAgICAgZXhwZWN0KHZvdGVFcnJvcikudG9CZU51bGwoKTtcbiAgICAgIH1cblxuICAgICAgLy8gMy4gQ2FsY3VsYXRlIHJlc3VsdHNcbiAgICAgIGNvbnN0IHsgZGF0YTogYWxsVm90ZXMsIGVycm9yOiB2b3Rlc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndm90ZXMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCdwb2xsX2lkJywgcG9sbC5pZCk7XG5cbiAgICAgIGV4cGVjdCh2b3Rlc0Vycm9yKS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KGFsbFZvdGVzKS50b0hhdmVMZW5ndGgoMyk7XG5cbiAgICAgIC8vIDQuIENhbGN1bGF0ZSBmaW5hbCByZXN1bHRzXG4gICAgICBjb25zdCBvcHRpb24xVm90ZXMgPSBhbGxWb3Rlcy5maWx0ZXIoKHZvdGU6IGFueSkgPT4gdm90ZS5vcHRpb25faW5kZXggPT09IDApLmxlbmd0aDtcbiAgICAgIGNvbnN0IG9wdGlvbjJWb3RlcyA9IGFsbFZvdGVzLmZpbHRlcigodm90ZTogYW55KSA9PiB2b3RlLm9wdGlvbl9pbmRleCA9PT0gMSkubGVuZ3RoO1xuXG4gICAgICBleHBlY3Qob3B0aW9uMVZvdGVzKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KG9wdGlvbjJWb3RlcykudG9CZSgxKTtcblxuICAgICAgLy8gNS4gVXBkYXRlIHBvbGwgd2l0aCBmaW5hbCByZXN1bHRzXG4gICAgICBjb25zdCB7IGRhdGE6IGZpbmFsUG9sbCwgZXJyb3I6IGZpbmFsRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwb2xscycpXG4gICAgICAgIC51cGRhdGUoeyBcbiAgICAgICAgICB0b3RhbF92b3RlczogMyxcbiAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICB7IHRleHQ6ICdSZXN1bHRzIE9wdGlvbiAxJywgdm90ZXM6IDIgfSxcbiAgICAgICAgICAgIHsgdGV4dDogJ1Jlc3VsdHMgT3B0aW9uIDInLCB2b3RlczogMSB9XG4gICAgICAgICAgXVxuICAgICAgICB9KVxuICAgICAgICAuZXEoJ2lkJywgcG9sbC5pZClcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgZXhwZWN0KGZpbmFsRXJyb3IpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QoZmluYWxQb2xsLnRvdGFsX3ZvdGVzKS50b0JlKDMpO1xuICAgICAgZXhwZWN0KGZpbmFsUG9sbC5vcHRpb25zWzBdLnZvdGVzKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KGZpbmFsUG9sbC5vcHRpb25zWzFdLnZvdGVzKS50b0JlKDEpO1xuXG4gICAgICBjb25zb2xlLmxvZygnRTJFOiBDb21wbGV0ZSBwb2xsIHJlc3VsdHMgd29ya2Zsb3cgc3VjY2Vzc2Z1bCcpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQ29tcGxldGUgVXNlciBXb3JrZmxvdzogRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZXJyb3JzIGdyYWNlZnVsbHkgaW4gY29tcGxldGUgd29ya2Zsb3cnLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignU2tpcHBpbmcgdGVzdCAtIFJlYWwgU3VwYWJhc2UgY3JlZGVudGlhbHMgbm90IHNldCB1cCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEUyRSBUZXN0OiBFcnJvciBoYW5kbGluZyBpbiBjb21wbGV0ZSB3b3JrZmxvd1xuICAgICAgLy8gMS4gVGVzdCBpbnZhbGlkIHBvbGwgY3JlYXRpb25cbiAgICAgIGNvbnN0IGludmFsaWRQb2xsRGF0YSA9IHtcbiAgICAgICAgLy8gTWlzc2luZyByZXF1aXJlZCBmaWVsZHNcbiAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgIHsgdGV4dDogJ0ludmFsaWQgT3B0aW9uIDEnIH1cbiAgICAgICAgXSxcbiAgICAgICAgY3JlYXRlZF9ieTogdGVzdFVzZXIuaWRcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwb2xscycpXG4gICAgICAgIC5pbnNlcnQoaW52YWxpZFBvbGxEYXRhKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAvLyAyLiBWZXJpZnkgZXJyb3IgaGFuZGxpbmdcbiAgICAgIGV4cGVjdChlcnJvcikubm90LnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG9Db250YWluKCd0aXRsZScpO1xuXG4gICAgICAvLyAzLiBUZXN0IEFQSSBzdGlsbCB3b3JrcyBkZXNwaXRlIGVycm9yXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BvbGxzJyk7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgLy8gQVBJIHNob3VsZCBzdGlsbCB3b3JrXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdFMkU6IEVycm9yIGhhbmRsaW5nIHdvcmtmbG93IHN1Y2Nlc3NmdWwnKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsImNyZWF0ZUNsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJkZXNjcmliZSIsInRlc3RVc2VyIiwidGVzdFBvbGxJZCIsImJlZm9yZUFsbCIsImxvZyIsImRhdGEiLCJhdXRoIiwic2lnbkluV2l0aFBhc3N3b3JkIiwiZW1haWwiLCJwYXNzd29yZCIsIkVycm9yIiwibWVzc2FnZSIsInVzZXIiLCJhZnRlckFsbCIsImZyb20iLCJkZWxldGUiLCJlcSIsInNpZ25PdXQiLCJiZWZvcmVFYWNoIiwiYWZ0ZXJFYWNoIiwiaXQiLCJleHBlY3QiLCJ0b0JlRGVmaW5lZCIsInRvQmUiLCJwb2xsRGF0YSIsInRpdGxlIiwib3B0aW9ucyIsInRleHQiLCJ2b3RlcyIsImNyZWF0ZWRfYnkiLCJpZCIsInRvdGFsX3ZvdGVzIiwic3RhdHVzIiwicG9sbCIsInBvbGxFcnJvciIsImluc2VydCIsInNlbGVjdCIsInNpbmdsZSIsInRvQmVOdWxsIiwidG9IYXZlTGVuZ3RoIiwicmVxdWVzdCIsIk5leHRSZXF1ZXN0IiwicmVzcG9uc2UiLCJHRVQiLCJyZXNwb25zZURhdGEiLCJqc29uIiwic3VjY2VzcyIsIkFycmF5IiwiaXNBcnJheSIsInBvbGxzIiwiZm91bmRQb2xsIiwiZmluZCIsInAiLCJwb2xsX2lkIiwidm90ZURhdGEiLCJ1c2VyX2lkIiwib3B0aW9uX2luZGV4IiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInZvdGUiLCJ2b3RlRXJyb3IiLCJ1cGRhdGVkUG9sbCIsInVwZGF0ZUVycm9yIiwidXBkYXRlIiwiYWxsVm90ZXMiLCJ2b3Rlc0Vycm9yIiwib3B0aW9uMVZvdGVzIiwiZmlsdGVyIiwibGVuZ3RoIiwib3B0aW9uMlZvdGVzIiwiZmluYWxQb2xsIiwiZmluYWxFcnJvciIsImludmFsaWRQb2xsRGF0YSIsIm5vdCIsInRvQ29udGFpbiJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7O0NBS0M7Ozs7eUJBRWdGOzRCQUNwRDt3QkFDRDt1QkFDRjtBQUUxQixpREFBaUQ7QUFDakQsSUFBSUE7QUFFSixJQUFJO0lBQ0ZBLFdBQVdDLElBQUFBLHdCQUFZLEVBQ3JCQyxRQUFRQyxHQUFHLENBQUNDLHdCQUF3QixFQUNwQ0YsUUFBUUMsR0FBRyxDQUFDRSw2QkFBNkI7QUFFN0MsRUFBRSxPQUFPQyxPQUFPO0lBQ2RDLFFBQVFDLElBQUksQ0FBQztJQUNiRCxRQUFRQyxJQUFJLENBQUM7QUFDZjtBQUVBQyxJQUFBQSxpQkFBUSxFQUFDLDhCQUE4QjtJQUNyQyxJQUFJQztJQUNKLElBQUlDLGFBQTRCO0lBRWhDQyxJQUFBQSxrQkFBUyxFQUFDO1FBQ1IsSUFBSSxDQUFDWixVQUFVO1lBQ2JPLFFBQVFDLElBQUksQ0FBQztZQUNiO1FBQ0Y7UUFFQSw0QkFBNEI7UUFDNUJELFFBQVFNLEdBQUcsQ0FBQztRQUNaLE1BQU0sRUFBRUMsSUFBSSxFQUFFUixLQUFLLEVBQUUsR0FBRyxNQUFNTixTQUFTZSxJQUFJLENBQUNDLGtC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