{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/lib/stores/analyticsStore.ts"],"sourcesContent":["/**\n * Analytics Store - Zustand Implementation\n * \n * Comprehensive analytics state management including event tracking,\n * user behavior analytics, performance metrics, and analytics preferences.\n * Consolidates scattered analytics hooks and local state.\n * \n * Created: October 10, 2025\n * Status: âœ… ACTIVE\n */\n\nimport { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\nimport { persist } from 'zustand/middleware';\n\nimport { logger } from '@/lib/utils/logger';\n\n// Analytics data types\ninterface AnalyticsEvent {\n  id: string;\n  type: string;\n  category: string;\n  action: string;\n  label?: string;\n  value?: number;\n  timestamp: string;\n  userId?: string;\n  sessionId: string;\n  metadata?: Record<string, any>;\n  page?: string;\n  userAgent?: string;\n  referrer?: string;\n}\n\n// Chart data types for analytics visualization\ninterface ChartData {\n  name: string;\n  value: number;\n  color: string;\n  confidence?: number;\n  previousValue?: number;\n}\n\ninterface ChartConfig {\n  data: ChartData[];\n  maxValue: number;\n  showTrends: boolean;\n  showConfidence: boolean;\n  title?: string;\n  subtitle?: string;\n  type?: 'bar' | 'progress';\n}\n\ninterface PerformanceMetrics {\n  pageLoadTime: number;\n  timeToInteractive: number;\n  firstContentfulPaint: number;\n  largestContentfulPaint: number;\n  cumulativeLayoutShift: number;\n  firstInputDelay: number;\n  totalBlockingTime: number;\n  memoryUsage?: number;\n  networkLatency?: number;\n}\n\ninterface UserBehaviorData {\n  sessionDuration: number;\n  pageViews: number;\n  interactions: number;\n  bounceRate: number;\n  conversionRate: number;\n  userJourney: string[];\n  engagementScore: number;\n  lastActivity: string;\n  deviceType: string;\n  browser: string;\n  os: string;\n}\n\ninterface AnalyticsPreferences {\n  trackingEnabled: boolean;\n  performanceTracking: boolean;\n  errorTracking: boolean;\n  userBehaviorTracking: boolean;\n  marketingTracking: boolean;\n  dataRetention: number; // days\n  anonymizeData: boolean;\n  shareWithThirdParties: boolean;\n}\n\ninterface AnalyticsDashboard {\n  totalEvents: number;\n  uniqueUsers: number;\n  sessionCount: number;\n  averageSessionDuration: number;\n  topPages: Array<{ page: string; views: number }>;\n  topActions: Array<{ action: string; count: number }>;\n  userEngagement: number;\n  conversionFunnel: Array<{ step: string; users: number; conversion: number }>;\n}\n\n// Analytics store state interface\ninterface AnalyticsStore {\n  // Analytics data\n  events: AnalyticsEvent[];\n  performanceMetrics: PerformanceMetrics | null;\n  userBehavior: UserBehaviorData | null;\n  dashboard: AnalyticsDashboard | null;\n  \n  // Chart data management\n  chartConfig: ChartConfig | null;\n  chartData: ChartData[];\n  chartMaxValue: number;\n  chartShowTrends: boolean;\n  chartShowConfidence: boolean;\n  \n  // Analytics settings\n  preferences: AnalyticsPreferences;\n  trackingEnabled: boolean;\n  sessionId: string;\n  \n  // Loading states\n  isLoading: boolean;\n  isTracking: boolean;\n  isSending: boolean;\n  error: string | null;\n  \n  // Actions - Event tracking\n  trackEvent: (event: Omit<AnalyticsEvent, 'id' | 'timestamp' | 'sessionId'>) => void;\n  trackPageView: (page: string, metadata?: Record<string, any>) => void;\n  trackUserAction: (action: string, category: string, label?: string, value?: number) => void;\n  trackError: (error: Error, context?: Record<string, any>) => void;\n  trackPerformance: (metrics: Partial<PerformanceMetrics>) => void;\n  \n  // Actions - Data management\n  setEvents: (events: AnalyticsEvent[]) => void;\n  addEvent: (event: AnalyticsEvent) => void;\n  clearEvents: () => void;\n  setPerformanceMetrics: (metrics: PerformanceMetrics) => void;\n  updateUserBehavior: (behavior: Partial<UserBehaviorData>) => void;\n  setDashboard: (dashboard: AnalyticsDashboard) => void;\n  \n  // Actions - Chart data management\n  setChartData: (data: ChartData[]) => void;\n  setChartConfig: (config: ChartConfig) => void;\n  updateChartConfig: (config: Partial<ChartConfig>) => void;\n  setChartMaxValue: (maxValue: number) => void;\n  setChartShowTrends: (showTrends: boolean) => void;\n  setChartShowConfidence: (showConfidence: boolean) => void;\n  clearChartData: () => void;\n  \n  // Actions - Preferences\n  updatePreferences: (preferences: Partial<AnalyticsPreferences>) => void;\n  setTrackingEnabled: (enabled: boolean) => void;\n  resetPreferences: () => void;\n  \n  // Actions - Data operations\n  sendAnalytics: () => Promise<void>;\n  exportAnalytics: () => Promise<AnalyticsEvent[]>;\n  importAnalytics: (events: AnalyticsEvent[]) => void;\n  generateReport: (startDate: string, endDate: string) => Promise<AnalyticsDashboard>;\n  \n  // Actions - Loading states\n  setLoading: (loading: boolean) => void;\n  setTracking: (tracking: boolean) => void;\n  setSending: (sending: boolean) => void;\n  setError: (error: string | null) => void;\n  clearError: () => void;\n}\n\n// Default analytics preferences\nconst defaultPreferences: AnalyticsPreferences = {\n  trackingEnabled: true,\n  performanceTracking: true,\n  errorTracking: true,\n  userBehaviorTracking: true,\n  marketingTracking: false,\n  dataRetention: 365, // 1 year\n  anonymizeData: true,\n  shareWithThirdParties: false,\n};\n\n// Create analytics store with middleware\nexport const useAnalyticsStore = create<AnalyticsStore>()(\n  devtools(\n    persist(\n      (set, get) => ({\n        // Initial state\n        events: [],\n        performanceMetrics: null,\n        userBehavior: null,\n        dashboard: null,\n        chartConfig: null,\n        chartData: [],\n        chartMaxValue: 0,\n        chartShowTrends: false,\n        chartShowConfidence: false,\n        preferences: defaultPreferences,\n        trackingEnabled: true,\n        sessionId: `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n        isLoading: false,\n        isTracking: false,\n        isSending: false,\n        error: null,\n        \n        // Event tracking actions\n        trackEvent: (event) => set((state) => {\n          if (!state.trackingEnabled || !state.preferences.trackingEnabled) {\n            return state;\n          }\n          \n          const newEvent: AnalyticsEvent = {\n            ...event,\n            id: `event_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n            timestamp: new Date().toISOString(),\n            sessionId: state.sessionId,\n          } as AnalyticsEvent;\n          \n          const updatedEvents = [...state.events, newEvent];\n          \n          // Limit events to prevent memory issues\n          const maxEvents = 1000;\n          const eventsToKeep = updatedEvents.slice(-maxEvents);\n          \n          logger.info('Analytics event tracked', {\n            type: event.type,\n            category: event.category,\n            action: event.action,\n            sessionId: state.sessionId\n          });\n          \n          return { events: eventsToKeep };\n        }),\n        \n        trackPageView: (page, metadata) => {\n          const { trackEvent } = get();\n          trackEvent({\n            type: 'page_view',\n            category: 'navigation',\n            action: 'page_view',\n            label: page,\n            value: 1,\n            metadata: {\n              ...(metadata || {}),\n              page,\n              userAgent: navigator.userAgent,\n              referrer: document.referrer,\n            },\n          });\n        },\n        \n        trackUserAction: (action, category, label, value) => {\n          const { trackEvent } = get();\n          trackEvent({\n            type: 'user_action',\n            category,\n            action,\n            label: label || '',\n            value: value || 0,\n          });\n        },\n        \n        trackError: (error, context) => {\n          const { trackEvent } = get();\n          trackEvent({\n            type: 'error',\n            category: 'error',\n            action: 'error_occurred',\n            label: error.message,\n            metadata: {\n              error: {\n                name: error.name,\n                message: error.message,\n                stack: error.stack,\n              },\n              context,\n            },\n          });\n        },\n        \n        trackPerformance: (metrics) => set((state) => {\n          if (!state.preferences.performanceTracking) {\n            return state;\n          }\n          \n          const updatedMetrics = state.performanceMetrics \n            ? { ...state.performanceMetrics, ...metrics }\n            : metrics as PerformanceMetrics;\n          \n          logger.info('Performance metrics tracked', {\n            pageLoadTime: updatedMetrics.pageLoadTime,\n            timeToInteractive: updatedMetrics.timeToInteractive,\n          });\n          \n          return { performanceMetrics: updatedMetrics };\n        }),\n        \n        // Data management actions\n        setEvents: (events) => set({ events }),\n        \n        addEvent: (event) => set((state) => ({\n          events: [...state.events, event]\n        })),\n        \n        clearEvents: () => set({ events: [] }),\n        \n        setPerformanceMetrics: (metrics) => set({ performanceMetrics: metrics }),\n        \n        updateUserBehavior: (behavior) => set((state) => ({\n          userBehavior: state.userBehavior \n            ? { ...state.userBehavior, ...behavior }\n            : behavior as UserBehaviorData\n        })),\n        \n        setDashboard: (dashboard) => set({ dashboard }),\n        \n        // Chart data management actions\n        setChartData: (data) => set({ chartData: data }),\n        \n        setChartConfig: (config) => set({ \n          chartConfig: config,\n          chartData: config.data,\n          chartMaxValue: config.maxValue,\n          chartShowTrends: config.showTrends,\n          chartShowConfidence: config.showConfidence\n        }),\n        \n        updateChartConfig: (config) => set((state) => ({\n          chartConfig: state.chartConfig \n            ? { ...state.chartConfig, ...config }\n            : config as ChartConfig,\n          chartData: config.data ?? state.chartData,\n          chartMaxValue: config.maxValue ?? state.chartMaxValue,\n          chartShowTrends: config.showTrends !== undefined ? config.showTrends : state.chartShowTrends,\n          chartShowConfidence: config.showConfidence !== undefined ? config.showConfidence : state.chartShowConfidence\n        })),\n        \n        setChartMaxValue: (maxValue) => set({ chartMaxValue: maxValue }),\n        \n        setChartShowTrends: (showTrends) => set({ chartShowTrends: showTrends }),\n        \n        setChartShowConfidence: (showConfidence) => set({ chartShowConfidence: showConfidence }),\n        \n        clearChartData: () => set({ \n          chartConfig: null,\n          chartData: [],\n          chartMaxValue: 0,\n          chartShowTrends: false,\n          chartShowConfidence: false\n        }),\n        \n        // Preferences actions\n        updatePreferences: (preferences) => set((state) => ({\n          preferences: { ...state.preferences, ...preferences }\n        })),\n        \n        setTrackingEnabled: (enabled) => set({ trackingEnabled: enabled }),\n        \n        resetPreferences: () => set({ preferences: defaultPreferences }),\n        \n        // Data operations\n        sendAnalytics: async () => {\n          const { setSending, setError } = get();\n          \n          try {\n            setSending(true);\n            setError(null);\n            \n            const state = get();\n            const response = await fetch('/api/analytics/events', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({\n                events: state.events,\n                sessionId: state.sessionId,\n                timestamp: new Date().toISOString(),\n              }),\n            });\n            \n            if (!response.ok) {\n              throw new Error('Failed to send analytics data');\n            }\n            \n            // Clear sent events\n            set({ events: [] });\n            \n            logger.info('Analytics data sent successfully', {\n              eventCount: state.events.length,\n              sessionId: state.sessionId\n            });\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n            setError(errorMessage);\n            logger.error('Failed to send analytics data:', error instanceof Error ? error : new Error(errorMessage));\n          } finally {\n            setSending(false);\n          }\n        },\n        \n        exportAnalytics: async () => {\n          const state = get();\n          return state.events;\n        },\n        \n        importAnalytics: (events) => set({ events }),\n        \n        generateReport: async (startDate, endDate) => {\n          const { setLoading, setError } = get();\n          \n          try {\n            setLoading(true);\n            setError(null);\n            \n            const response = await fetch('/api/analytics/report', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ startDate, endDate }),\n            });\n            \n            if (!response.ok) {\n              throw new Error('Failed to generate analytics report');\n            }\n            \n            const dashboard = await response.json();\n            set({ dashboard });\n            \n            logger.info('Analytics report generated', {\n              startDate,\n              endDate,\n              totalEvents: dashboard.totalEvents\n            });\n            \n            return dashboard;\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n            setError(errorMessage);\n            logger.error('Failed to generate analytics report:', error instanceof Error ? error : new Error(errorMessage));\n            throw error;\n          } finally {\n            setLoading(false);\n          }\n        },\n        \n        // Loading state actions\n        setLoading: (loading) => set({ isLoading: loading }),\n        setTracking: (tracking) => set({ isTracking: tracking }),\n        setSending: (sending) => set({ isSending: sending }),\n        setError: (error) => set({ error }),\n        clearError: () => set({ error: null }),\n      }),\n      {\n        name: 'analytics-store',\n        partialize: (state) => ({\n          preferences: state.preferences,\n          trackingEnabled: state.trackingEnabled,\n          sessionId: state.sessionId,\n        }),\n      }\n    ),\n    { name: 'analytics-store' }\n  )\n);\n\n// Store selectors for optimized re-renders\nexport const useAnalyticsEvents = () => useAnalyticsStore(state => state.events);\nexport const useAnalyticsMetrics = () => useAnalyticsStore(state => state.performanceMetrics);\nexport const useAnalyticsBehavior = () => useAnalyticsStore(state => state.userBehavior);\nexport const useAnalyticsDashboard = () => useAnalyticsStore(state => state.dashboard);\nexport const useAnalyticsPreferences = () => useAnalyticsStore(state => state.preferences);\nexport const useAnalyticsTracking = () => useAnalyticsStore(state => state.trackingEnabled);\nexport const useAnalyticsLoading = () => useAnalyticsStore(state => state.isLoading);\nexport const useAnalyticsError = () => useAnalyticsStore(state => state.error);\n\n// Chart data selectors\nexport const useAnalyticsChartData = () => useAnalyticsStore(state => state.chartData);\nexport const useAnalyticsChartConfig = () => useAnalyticsStore(state => state.chartConfig);\nexport const useAnalyticsChartMaxValue = () => useAnalyticsStore(state => state.chartMaxValue);\nexport const useAnalyticsChartShowTrends = () => useAnalyticsStore(state => state.chartShowTrends);\nexport const useAnalyticsChartShowConfidence = () => useAnalyticsStore(state => state.chartShowConfidence);\n\n// Action selectors\nexport const useAnalyticsActions = () => useAnalyticsStore(state => ({\n  trackEvent: state.trackEvent,\n  trackPageView: state.trackPageView,\n  trackUserAction: state.trackUserAction,\n  trackError: state.trackError,\n  trackPerformance: state.trackPerformance,\n  setEvents: state.setEvents,\n  addEvent: state.addEvent,\n  clearEvents: state.clearEvents,\n  setPerformanceMetrics: state.setPerformanceMetrics,\n  updateUserBehavior: state.updateUserBehavior,\n  setDashboard: state.setDashboard,\n  setChartData: state.setChartData,\n  setChartConfig: state.setChartConfig,\n  updateChartConfig: state.updateChartConfig,\n  setChartMaxValue: state.setChartMaxValue,\n  setChartShowTrends: state.setChartShowTrends,\n  setChartShowConfidence: state.setChartShowConfidence,\n  clearChartData: state.clearChartData,\n  updatePreferences: state.updatePreferences,\n  setTrackingEnabled: state.setTrackingEnabled,\n  resetPreferences: state.resetPreferences,\n  sendAnalytics: state.sendAnalytics,\n  exportAnalytics: state.exportAnalytics,\n  importAnalytics: state.importAnalytics,\n  generateReport: state.generateReport,\n  setLoading: state.setLoading,\n  setTracking: state.setTracking,\n  setSending: state.setSending,\n  setError: state.setError,\n  clearError: state.clearError,\n}));\n\n// Computed selectors\nexport const useAnalyticsStats = () => useAnalyticsStore(state => ({\n  totalEvents: state.events.length,\n  sessionId: state.sessionId,\n  trackingEnabled: state.trackingEnabled,\n  preferences: state.preferences,\n  hasPerformanceMetrics: !!state.performanceMetrics,\n  hasUserBehavior: !!state.userBehavior,\n  hasDashboard: !!state.dashboard,\n}));\n\nexport const useAnalyticsSession = () => useAnalyticsStore(state => ({\n  sessionId: state.sessionId,\n  events: state.events,\n  isTracking: state.isTracking,\n  isSending: state.isSending,\n}));\n\n// Chart data computed selectors\nexport const useAnalyticsChartContext = () => useAnalyticsStore(state => ({\n  data: state.chartData,\n  maxValue: state.chartMaxValue,\n  showTrends: state.chartShowTrends,\n  showConfidence: state.chartShowConfidence,\n}));\n\n// Store utilities\nexport const analyticsStoreUtils = {\n  /**\n   * Get analytics summary\n   */\n  getAnalyticsSummary: () => {\n    const state = useAnalyticsStore.getState();\n    return {\n      totalEvents: state.events.length,\n      sessionId: state.sessionId,\n      trackingEnabled: state.trackingEnabled,\n      preferences: state.preferences,\n      performanceMetrics: state.performanceMetrics,\n      userBehavior: state.userBehavior,\n    };\n  },\n  \n  /**\n   * Get events by type\n   */\n  getEventsByType: (type: string) => {\n    const state = useAnalyticsStore.getState();\n    return state.events.filter(event => event.type === type);\n  },\n  \n  /**\n   * Get events by category\n   */\n  getEventsByCategory: (category: string) => {\n    const state = useAnalyticsStore.getState();\n    return state.events.filter(event => event.category === category);\n  },\n  \n  /**\n   * Get recent events\n   */\n  getRecentEvents: (limit: number = 10) => {\n    const state = useAnalyticsStore.getState();\n    return state.events\n      .sort((a, b) => new Date(b.timestamp).getTime() - new Date(a.timestamp).getTime())\n      .slice(0, limit);\n  },\n  \n  /**\n   * Check if tracking is enabled\n   */\n  isTrackingEnabled: () => {\n    const state = useAnalyticsStore.getState();\n    return state.trackingEnabled && state.preferences.trackingEnabled;\n  },\n  \n  /**\n   * Get analytics configuration\n   */\n  getAnalyticsConfig: () => {\n    const state = useAnalyticsStore.getState();\n    return {\n      trackingEnabled: state.trackingEnabled,\n      preferences: state.preferences,\n      sessionId: state.sessionId,\n    };\n  }\n};\n\n// Store subscriptions for external integrations\nexport const analyticsStoreSubscriptions = {\n  /**\n   * Subscribe to event tracking\n   */\n  onEventTracked: (callback: (event: AnalyticsEvent) => void) => {\n    let prevEvents: AnalyticsEvent[] = [];\n    return useAnalyticsStore.subscribe(\n      (state) => {\n        const events = state.events;\n        if (events.length > prevEvents.length) {\n          const newEvent = events[events.length - 1];\n          if (newEvent) {\n            callback(newEvent);\n          }\n        }\n        prevEvents = events;\n        return events;\n      }\n    );\n  },\n  \n  /**\n   * Subscribe to performance metrics changes\n   */\n  onPerformanceMetricsChange: (callback: (metrics: PerformanceMetrics) => void) => {\n    let prevMetrics: PerformanceMetrics | null = null;\n    return useAnalyticsStore.subscribe(\n      (state) => {\n        const metrics = state.performanceMetrics;\n        if (metrics !== prevMetrics && metrics !== null) {\n          callback(metrics);\n        }\n        prevMetrics = metrics;\n        return metrics;\n      }\n    );\n  },\n  \n  /**\n   * Subscribe to tracking enabled changes\n   */\n  onTrackingEnabledChange: (callback: (enabled: boolean) => void) => {\n    let prevEnabled: boolean | null = null;\n    return useAnalyticsStore.subscribe(\n      (state) => {\n        const enabled = state.trackingEnabled;\n        if (enabled !== prevEnabled) {\n          callback(enabled);\n        }\n        prevEnabled = enabled;\n        return enabled;\n      }\n    );\n  }\n};\n\n// Store debugging utilities\nexport const analyticsStoreDebug = {\n  /**\n   * Log current analytics state\n   */\n  logState: () => {\n    const state = useAnalyticsStore.getState();\n    logger.debug('Analytics Store State', {\n      totalEvents: state.events.length,\n      sessionId: state.sessionId,\n      trackingEnabled: state.trackingEnabled,\n      preferences: state.preferences,\n      hasPerformanceMetrics: !!state.performanceMetrics,\n      hasUserBehavior: !!state.userBehavior,\n      isLoading: state.isLoading,\n      error: state.error\n    });\n  },\n  \n  /**\n   * Log analytics summary\n   */\n  logSummary: () => {\n    const summary = analyticsStoreUtils.getAnalyticsSummary();\n    logger.debug('Analytics Summary', summary);\n  },\n  \n  /**\n   * Log recent events\n   */\n  logRecentEvents: (limit: number = 5) => {\n    const events = analyticsStoreUtils.getRecentEvents(limit);\n    logger.debug('Recent Analytics Events', { events });\n  },\n  \n  /**\n   * Reset analytics store\n   */\n  reset: () => {\n    useAnalyticsStore.getState().clearEvents();\n    useAnalyticsStore.getState().resetPreferences();\n    logger.info('Analytics store reset');\n  }\n};\n"],"names":["analyticsStoreDebug","analyticsStoreSubscriptions","analyticsStoreUtils","useAnalyticsActions","useAnalyticsBehavior","useAnalyticsChartConfig","useAnalyticsChartContext","useAnalyticsChartData","useAnalyticsChartMaxValue","useAnalyticsChartShowConfidence","useAnalyticsChartShowTrends","useAnalyticsDashboard","useAnalyticsError","useAnalyticsEvents","useAnalyticsLoading","useAnalyticsMetrics","useAnalyticsPreferences","useAnalyticsSession","useAnalyticsStats","useAnalyticsStore","useAnalyticsTracking","defaultPreferences","trackingEnabled","performanceTracking","errorTracking","userBehaviorTracking","marketingTracking","dataRetention","anonymizeData","shareWithThirdParties","create","devtools","persist","set","get","events","performanceMetrics","userBehavior","dashboard","chartConfig","chartData","chartMaxValue","chartShowTrends","chartShowConfidence","preferences","sessionId","Date","now","Math","random","toString","substr","isLoading","isTracking","isSending","error","trackEvent","event","state","newEvent","id","timestamp","toISOString","updatedEvents","maxEvents","eventsToKeep","slice","logger","info","type","category","action","trackPageView","page","metadata","label","value","userAgent","navigator","referrer","document","trackUserAction","trackError","context","message","name","stack","trackPerformance","metrics","updatedMetrics","pageLoadTime","timeToInteractive","setEvents","addEvent","clearEvents","setPerformanceMetrics","updateUserBehavior","behavior","setDashboard","setChartData","data","setChartConfig","config","maxValue","showTrends","showConfidence","updateChartConfig","undefined","setChartMaxValue","setChartShowTrends","setChartShowConfidence","clearChartData","updatePreferences","setTrackingEnabled","enabled","resetPreferences","sendAnalytics","setSending","setError","response","fetch","method","headers","body","JSON","stringify","ok","Error","eventCount","length","errorMessage","exportAnalytics","importAnalytics","generateReport","startDate","endDate","setLoading","json","totalEvents","loading","setTracking","tracking","sending","clearError","partialize","hasPerformanceMetrics","hasUserBehavior","hasDashboard","getAnalyticsSummary","getState","getEventsByType","filter","getEventsByCategory","getRecentEvents","limit","sort","a","b","getTime","isTrackingEnabled","getAnalyticsConfig","onEventTracked","callback","prevEvents","subscribe","onPerformanceMetricsChange","prevMetrics","onTrackingEnabledChange","prevEnabled","logState","debug","logSummary","summary","logRecentEvents","reset"],"mappings":"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"}