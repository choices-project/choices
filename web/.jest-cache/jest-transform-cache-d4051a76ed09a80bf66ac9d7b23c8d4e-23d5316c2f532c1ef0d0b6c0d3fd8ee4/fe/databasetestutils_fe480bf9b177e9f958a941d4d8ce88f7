5cb54c17b9a5c05daeb87c161663d413
/**
 * Database Test Utilities
 * 
 * Provides real database operations for integration testing.
 * Follows integration testing best practices:
 * - Uses real database connections
 * - Implements proper test isolation
 * - Provides cleanup utilities
 * - Supports both local and CI environments
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    cleanupTestDatabase: function() {
        return cleanupTestDatabase;
    },
    createTestSupabaseClient: function() {
        return createTestSupabaseClient;
    },
    createTestUser: function() {
        return createTestUser;
    },
    setupTestDatabase: function() {
        return setupTestDatabase;
    },
    trackTestData: function() {
        return trackTestData;
    }
});
const _supabasejs = require("@supabase/supabase-js");
const _globals = require("@jest/globals");
// Test database configuration
const TEST_DB_URL = process.env.TEST_SUPABASE_URL || process.env.NEXT_PUBLIC_SUPABASE_URL;
const TEST_DB_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;
// Test data tracking for cleanup
let testDataIds = {
    polls: [],
    votes: [],
    users: []
};
const createTestSupabaseClient = ()=>{
    if (!TEST_DB_URL || !TEST_DB_KEY) {
        console.warn("Test database credentials not found. Integration tests will be skipped.");
        return null;
    }
    return (0, _supabasejs.createClient)(TEST_DB_URL, TEST_DB_KEY);
};
const setupTestDatabase = async ()=>{
    const client = createTestSupabaseClient();
    if (!client) {
        console.warn("No test database available. Using mock client for CI/CD.");
        return createMockSupabaseClient();
    }
    // Reset test data tracking
    testDataIds = {
        polls: [],
        votes: [],
        users: []
    };
    console.log("Integration: Real test database connected");
    return client;
};
const createTestUser = async (supabase)=>{
    if (!supabase) {
        return {
            id: "test-user-id",
            email: "test@example.com",
            name: "Test User"
        };
    }
    try {
        // Use an existing user ID from the database
        const testUser = {
            id: "6f12e40c-fd46-4ace-9470-2016dc0e2e8b",
            email: "test@example.com",
            name: "Test User"
        };
        // Track for cleanup
        testDataIds.users.push(testUser.id);
        return testUser;
    } catch (error) {
        console.warn("Failed to create test user:", error);
        return {
            id: "6f12e40c-fd46-4ace-9470-2016dc0e2e8b",
            email: "test@example.com",
            name: "Test User"
        };
    }
};
const trackTestData = (type, id)=>{
    testDataIds[type].push(id);
};
const cleanupTestDatabase = async (supabase)=>{
    if (!supabase) {
        console.log("Integration: Mock database cleanup completed");
        return;
    }
    try {
        // Clean up in reverse order to respect foreign key constraints
        if (testDataIds.votes.length > 0) {
            await supabase.from("votes").delete().in("id", testDataIds.votes);
            console.log(`Integration: Cleaned up ${testDataIds.votes.length} test votes`);
        }
        if (testDataIds.polls.length > 0) {
            await supabase.from("polls").delete().in("id", testDataIds.polls);
            console.log(`Integration: Cleaned up ${testDataIds.polls.length} test polls`);
        }
        // Note: Users are managed by Supabase Auth, not a custom users table
        if (testDataIds.users.length > 0) {
            console.log(`Integration: Note - ${testDataIds.users.length} test users tracked (managed by Supabase Auth)`);
        }
        // Reset tracking
        testDataIds = {
            polls: [],
            votes: [],
            users: []
        };
        console.log("Integration: Test database cleanup completed");
    } catch (error) {
        console.error("Integration: Failed to cleanup test database:", error);
    }
};
// Mock client fallback for CI/CD environments
const createMockSupabaseClient = ()=>{
    return {
        from: _globals.jest.fn().mockReturnValue({
            insert: _globals.jest.fn().mockReturnValue({
                select: _globals.jest.fn().mockReturnValue({
                    single: _globals.jest.fn().mockResolvedValue({
                        data: {
                            id: "test-poll-id",
                            title: "Test Poll",
                            description: "A test poll",
                            votingMethod: "single",
                            options: [
                                {
                                    id: "option-1",
                                    text: "Option 1"
                                },
                                {
                                    id: "option-2",
                                    text: "Option 2"
                                }
                            ],
                            status: "active",
                            createdAt: new Date().toISOString(),
                            closeAt: new Date(Date.now() + 86400000).toISOString(),
                            createdBy: "test-user-id"
                        },
                        error: null
                    })
                })
            }),
            select: _globals.jest.fn().mockReturnValue({
                eq: _globals.jest.fn().mockReturnValue({
                    single: _globals.jest.fn().mockResolvedValue({
                        data: {
                            id: "test-poll-id",
                            title: "Test Poll",
                            description: "A test poll",
                            votingMethod: "single",
                            options: [
                                {
                                    id: "option-1",
                                    text: "Option 1"
                                },
                                {
                                    id: "option-2",
                                    text: "Option 2"
                                }
                            ],
                            status: "active",
                            createdAt: new Date().toISOString(),
                            closeAt: new Date(Date.now() + 86400000).toISOString(),
                            createdBy: "test-user-id"
                        },
                        error: null
                    })
                })
            })
        }),
        auth: {
            signInWithPassword: _globals.jest.fn().mockResolvedValue({
                data: {
                    user: {
                        id: "test-user-id",
                        email: "test@example.com"
                    }
                },
                error: null
            })
        }
    };
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9oZWxwZXJzL2RhdGFiYXNlLXRlc3QtdXRpbHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBEYXRhYmFzZSBUZXN0IFV0aWxpdGllc1xuICogXG4gKiBQcm92aWRlcyByZWFsIGRhdGFiYXNlIG9wZXJhdGlvbnMgZm9yIGludGVncmF0aW9uIHRlc3RpbmcuXG4gKiBGb2xsb3dzIGludGVncmF0aW9uIHRlc3RpbmcgYmVzdCBwcmFjdGljZXM6XG4gKiAtIFVzZXMgcmVhbCBkYXRhYmFzZSBjb25uZWN0aW9uc1xuICogLSBJbXBsZW1lbnRzIHByb3BlciB0ZXN0IGlzb2xhdGlvblxuICogLSBQcm92aWRlcyBjbGVhbnVwIHV0aWxpdGllc1xuICogLSBTdXBwb3J0cyBib3RoIGxvY2FsIGFuZCBDSSBlbnZpcm9ubWVudHNcbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGVDbGllbnQsIFN1cGFiYXNlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB7IGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcblxuLy8gVGVzdCBkYXRhYmFzZSBjb25maWd1cmF0aW9uXG5jb25zdCBURVNUX0RCX1VSTCA9IHByb2Nlc3MuZW52LlRFU1RfU1VQQUJBU0VfVVJMIHx8IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTDtcbmNvbnN0IFRFU1RfREJfS0VZID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfU0VSVklDRV9ST0xFX0tFWSB8fCBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWTtcblxuLy8gVGVzdCBkYXRhIHRyYWNraW5nIGZvciBjbGVhbnVwXG5sZXQgdGVzdERhdGFJZHM6IHtcbiAgcG9sbHM6IHN0cmluZ1tdO1xuICB2b3Rlczogc3RyaW5nW107XG4gIHVzZXJzOiBzdHJpbmdbXTtcbn0gPSB7XG4gIHBvbGxzOiBbXSxcbiAgdm90ZXM6IFtdLFxuICB1c2VyczogW11cbn07XG5cbi8vIENyZWF0ZSByZWFsIFN1cGFiYXNlIGNsaWVudCBmb3IgdGVzdGluZ1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVRlc3RTdXBhYmFzZUNsaWVudCA9ICgpOiBTdXBhYmFzZUNsaWVudCB8IG51bGwgPT4ge1xuICBpZiAoIVRFU1RfREJfVVJMIHx8ICFURVNUX0RCX0tFWSkge1xuICAgIGNvbnNvbGUud2FybignVGVzdCBkYXRhYmFzZSBjcmVkZW50aWFscyBub3QgZm91bmQuIEludGVncmF0aW9uIHRlc3RzIHdpbGwgYmUgc2tpcHBlZC4nKTtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBcbiAgcmV0dXJuIGNyZWF0ZUNsaWVudChURVNUX0RCX1VSTCwgVEVTVF9EQl9LRVkpO1xufTtcblxuLy8gU2V0dXAgdGVzdCBkYXRhYmFzZSB3aXRoIHJlYWwgY29ubmVjdGlvblxuZXhwb3J0IGNvbnN0IHNldHVwVGVzdERhdGFiYXNlID0gYXN5bmMgKCk6IFByb21pc2U8U3VwYWJhc2VDbGllbnQgfCBudWxsPiA9PiB7XG4gIGNvbnN0IGNsaWVudCA9IGNyZWF0ZVRlc3RTdXBhYmFzZUNsaWVudCgpO1xuICBcbiAgaWYgKCFjbGllbnQpIHtcbiAgICBjb25zb2xlLndhcm4oJ05vIHRlc3QgZGF0YWJhc2UgYXZhaWxhYmxlLiBVc2luZyBtb2NrIGNsaWVudCBmb3IgQ0kvQ0QuJyk7XG4gICAgcmV0dXJuIGNyZWF0ZU1vY2tTdXBhYmFzZUNsaWVudCgpO1xuICB9XG4gIFxuICAvLyBSZXNldCB0ZXN0IGRhdGEgdHJhY2tpbmdcbiAgdGVzdERhdGFJZHMgPSB7IHBvbGxzOiBbXSwgdm90ZXM6IFtdLCB1c2VyczogW10gfTtcbiAgXG4gIGNvbnNvbGUubG9nKCdJbnRlZ3JhdGlvbjogUmVhbCB0ZXN0IGRhdGFiYXNlIGNvbm5lY3RlZCcpO1xuICByZXR1cm4gY2xpZW50O1xufTtcblxuLy8gQ3JlYXRlIHRlc3QgdXNlciB3aXRoIHJlYWwgZGF0YWJhc2VcbmV4cG9ydCBjb25zdCBjcmVhdGVUZXN0VXNlciA9IGFzeW5jIChzdXBhYmFzZTogU3VwYWJhc2VDbGllbnQgfCBudWxsKSA9PiB7XG4gIGlmICghc3VwYWJhc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgaWQ6ICd0ZXN0LXVzZXItaWQnLFxuICAgICAgZW1haWw6ICd0ZXN0QGV4YW1wbGUuY29tJyxcbiAgICAgIG5hbWU6ICdUZXN0IFVzZXInXG4gICAgfTtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICAvLyBVc2UgYW4gZXhpc3RpbmcgdXNlciBJRCBmcm9tIHRoZSBkYXRhYmFzZVxuICAgIGNvbnN0IHRlc3RVc2VyID0ge1xuICAgICAgaWQ6ICc2ZjEyZTQwYy1mZDQ2LTRhY2UtOTQ3MC0yMDE2ZGMwZTJlOGInLCAvLyBFeGlzdGluZyB1c2VyIElEIGZyb20gZGF0YWJhc2VcbiAgICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgICBuYW1lOiAnVGVzdCBVc2VyJ1xuICAgIH07XG4gICAgXG4gICAgLy8gVHJhY2sgZm9yIGNsZWFudXBcbiAgICB0ZXN0RGF0YUlkcy51c2Vycy5wdXNoKHRlc3RVc2VyLmlkKTtcbiAgICBcbiAgICByZXR1cm4gdGVzdFVzZXI7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS53YXJuKCdGYWlsZWQgdG8gY3JlYXRlIHRlc3QgdXNlcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHtcbiAgICAgIGlkOiAnNmYxMmU0MGMtZmQ0Ni00YWNlLTk0NzAtMjAxNmRjMGUyZThiJywgLy8gRXhpc3RpbmcgdXNlciBJRCBmcm9tIGRhdGFiYXNlXG4gICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgbmFtZTogJ1Rlc3QgVXNlcidcbiAgICB9O1xuICB9XG59O1xuXG4vLyBUcmFjayB0ZXN0IGRhdGEgZm9yIGNsZWFudXBcbmV4cG9ydCBjb25zdCB0cmFja1Rlc3REYXRhID0gKHR5cGU6ICdwb2xscycgfCAndm90ZXMnIHwgJ3VzZXJzJywgaWQ6IHN0cmluZykgPT4ge1xuICB0ZXN0RGF0YUlkc1t0eXBlXS5wdXNoKGlkKTtcbn07XG5cbi8vIENsZWFudXAgdGVzdCBkYXRhYmFzZSAtIHJlbW92ZXMgYWxsIHRlc3QgZGF0YVxuZXhwb3J0IGNvbnN0IGNsZWFudXBUZXN0RGF0YWJhc2UgPSBhc3luYyAoc3VwYWJhc2U6IFN1cGFiYXNlQ2xpZW50IHwgbnVsbCkgPT4ge1xuICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgY29uc29sZS5sb2coJ0ludGVncmF0aW9uOiBNb2NrIGRhdGFiYXNlIGNsZWFudXAgY29tcGxldGVkJyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICB0cnkge1xuICAgIC8vIENsZWFuIHVwIGluIHJldmVyc2Ugb3JkZXIgdG8gcmVzcGVjdCBmb3JlaWduIGtleSBjb25zdHJhaW50c1xuICAgIGlmICh0ZXN0RGF0YUlkcy52b3Rlcy5sZW5ndGggPiAwKSB7XG4gICAgICBhd2FpdCBzdXBhYmFzZS5mcm9tKCd2b3RlcycpLmRlbGV0ZSgpLmluKCdpZCcsIHRlc3REYXRhSWRzLnZvdGVzKTtcbiAgICAgIGNvbnNvbGUubG9nKGBJbnRlZ3JhdGlvbjogQ2xlYW5lZCB1cCAke3Rlc3REYXRhSWRzLnZvdGVzLmxlbmd0aH0gdGVzdCB2b3Rlc2ApO1xuICAgIH1cbiAgICBcbiAgICBpZiAodGVzdERhdGFJZHMucG9sbHMubGVuZ3RoID4gMCkge1xuICAgICAgYXdhaXQgc3VwYWJhc2UuZnJvbSgncG9sbHMnKS5kZWxldGUoKS5pbignaWQnLCB0ZXN0RGF0YUlkcy5wb2xscyk7XG4gICAgICBjb25zb2xlLmxvZyhgSW50ZWdyYXRpb246IENsZWFuZWQgdXAgJHt0ZXN0RGF0YUlkcy5wb2xscy5sZW5ndGh9IHRlc3QgcG9sbHNgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gTm90ZTogVXNlcnMgYXJlIG1hbmFnZWQgYnkgU3VwYWJhc2UgQXV0aCwgbm90IGEgY3VzdG9tIHVzZXJzIHRhYmxlXG4gICAgaWYgKHRlc3REYXRhSWRzLnVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUubG9nKGBJbnRlZ3JhdGlvbjogTm90ZSAtICR7dGVzdERhdGFJZHMudXNlcnMubGVuZ3RofSB0ZXN0IHVzZXJzIHRyYWNrZWQgKG1hbmFnZWQgYnkgU3VwYWJhc2UgQXV0aClgKTtcbiAgICB9XG4gICAgXG4gICAgLy8gUmVzZXQgdHJhY2tpbmdcbiAgICB0ZXN0RGF0YUlkcyA9IHsgcG9sbHM6IFtdLCB2b3RlczogW10sIHVzZXJzOiBbXSB9O1xuICAgIFxuICAgIGNvbnNvbGUubG9nKCdJbnRlZ3JhdGlvbjogVGVzdCBkYXRhYmFzZSBjbGVhbnVwIGNvbXBsZXRlZCcpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0ludGVncmF0aW9uOiBGYWlsZWQgdG8gY2xlYW51cCB0ZXN0IGRhdGFiYXNlOicsIGVycm9yKTtcbiAgfVxufTtcblxuLy8gTW9jayBjbGllbnQgZmFsbGJhY2sgZm9yIENJL0NEIGVudmlyb25tZW50c1xuY29uc3QgY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50ID0gKCkgPT4ge1xuICByZXR1cm4ge1xuICAgIGZyb206IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgaW5zZXJ0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgICBzaW5nbGU6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGlkOiAndGVzdC1wb2xsLWlkJyxcbiAgICAgICAgICAgICAgdGl0bGU6ICdUZXN0IFBvbGwnLFxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogJ0EgdGVzdCBwb2xsJyxcbiAgICAgICAgICAgICAgdm90aW5nTWV0aG9kOiAnc2luZ2xlJyxcbiAgICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgIHsgaWQ6ICdvcHRpb24tMScsIHRleHQ6ICdPcHRpb24gMScgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiAnb3B0aW9uLTInLCB0ZXh0OiAnT3B0aW9uIDInIH1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICAgICAgY3JlYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIGNsb3NlQXQ6IG5ldyBEYXRlKERhdGUubm93KCkgKyA4NjQwMDAwMCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgY3JlYXRlZEJ5OiAndGVzdC11c2VyLWlkJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBudWxsXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0pLFxuICAgICAgc2VsZWN0OiBqZXN0LmZuKCkubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgZXE6IGplc3QuZm4oKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICAgIHNpbmdsZTogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgaWQ6ICd0ZXN0LXBvbGwtaWQnLFxuICAgICAgICAgICAgICB0aXRsZTogJ1Rlc3QgUG9sbCcsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQSB0ZXN0IHBvbGwnLFxuICAgICAgICAgICAgICB2b3RpbmdNZXRob2Q6ICdzaW5nbGUnLFxuICAgICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyBpZDogJ29wdGlvbi0xJywgdGV4dDogJ09wdGlvbiAxJyB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6ICdvcHRpb24tMicsIHRleHQ6ICdPcHRpb24gMicgfVxuICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgY2xvc2VBdDogbmV3IERhdGUoRGF0ZS5ub3coKSArIDg2NDAwMDAwKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICBjcmVhdGVkQnk6ICd0ZXN0LXVzZXItaWQnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgfSlcbiAgICB9KSxcbiAgICBhdXRoOiB7XG4gICAgICBzaWduSW5XaXRoUGFzc3dvcmQ6IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh7XG4gICAgICAgIGRhdGE6IHsgdXNlcjogeyBpZDogJ3Rlc3QtdXNlci1pZCcsIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScgfSB9LFxuICAgICAgICBlcnJvcjogbnVsbFxuICAgICAgfSlcbiAgICB9XG4gIH07XG59O1xuIl0sIm5hbWVzIjpbImNsZWFudXBUZXN0RGF0YWJhc2UiLCJjcmVhdGVUZXN0U3VwYWJhc2VDbGllbnQiLCJjcmVhdGVUZXN0VXNlciIsInNldHVwVGVzdERhdGFiYXNlIiwidHJhY2tUZXN0RGF0YSIsIlRFU1RfREJfVVJMIiwicHJvY2VzcyIsImVudiIsIlRFU1RfU1VQQUJBU0VfVVJMIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiVEVTVF9EQl9LRVkiLCJTVVBBQkFTRV9TRVJWSUNFX1JPTEVfS0VZIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJ0ZXN0RGF0YUlkcyIsInBvbGxzIiwidm90ZXMiLCJ1c2VycyIsImNvbnNvbGUiLCJ3YXJuIiwiY3JlYXRlQ2xpZW50IiwiY2xpZW50IiwiY3JlYXRlTW9ja1N1cGFiYXNlQ2xpZW50IiwibG9nIiwic3VwYWJhc2UiLCJpZCIsImVtYWlsIiwibmFtZSIsInRlc3RVc2VyIiwicHVzaCIsImVycm9yIiwidHlwZSIsImxlbmd0aCIsImZyb20iLCJkZWxldGUiLCJpbiIsImplc3QiLCJmbiIsIm1vY2tSZXR1cm5WYWx1ZSIsImluc2VydCIsInNlbGVjdCIsInNpbmdsZSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiZGF0YSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2b3RpbmdNZXRob2QiLCJvcHRpb25zIiwidGV4dCIsInN0YXR1cyIsImNyZWF0ZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNsb3NlQXQiLCJub3ciLCJjcmVhdGVkQnkiLCJlcSIsImF1dGgiLCJzaWduSW5XaXRoUGFzc3dvcmQiLCJ1c2VyIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0NBU0M7Ozs7Ozs7Ozs7O0lBb0ZZQSxtQkFBbUI7ZUFBbkJBOztJQS9EQUMsd0JBQXdCO2VBQXhCQTs7SUEwQkFDLGNBQWM7ZUFBZEE7O0lBaEJBQyxpQkFBaUI7ZUFBakJBOztJQWdEQUMsYUFBYTtlQUFiQTs7OzRCQTdFZ0M7eUJBQ3hCO0FBRXJCLDhCQUE4QjtBQUM5QixNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNDLGlCQUFpQixJQUFJRixRQUFRQyxHQUFHLENBQUNFLHdCQUF3QjtBQUN6RixNQUFNQyxjQUFjSixRQUFRQyxHQUFHLENBQUNJLHlCQUF5QixJQUFJTCxRQUFRQyxHQUFHLENBQUNLLDZCQUE2QjtBQUV0RyxpQ0FBaUM7QUFDakMsSUFBSUMsY0FJQTtJQUNGQyxPQUFPLEVBQUU7SUFDVEMsT0FBTyxFQUFFO0lBQ1RDLE9BQU8sRUFBRTtBQUNYO0FBR08sTUFBTWYsMkJBQTJCO0lBQ3RDLElBQUksQ0FBQ0ksZUFBZSxDQUFDSyxhQUFhO1FBQ2hDTyxRQUFRQyxJQUFJLENBQUM7UUFDYixPQUFPO0lBQ1Q7SUFFQSxPQUFPQyxJQUFBQSx3QkFBWSxFQUFDZCxhQUFhSztBQUNuQztBQUdPLE1BQU1QLG9CQUFvQjtJQUMvQixNQUFNaUIsU0FBU25CO0lBRWYsSUFBSSxDQUFDbUIsUUFBUTtRQUNYSCxRQUFRQyxJQUFJLENBQUM7UUFDYixPQUFPRztJQUNUO0lBRUEsMkJBQTJCO0lBQzNC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