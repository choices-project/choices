{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/components/features/pwa/pwa-features-comprehensive.test.tsx"],"sourcesContent":["/**\n * @jest-environment jsdom\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor, act } from '@testing-library/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport userEvent from '@testing-library/user-event';\nimport PWAFeatures from '@/features/pwa/components/PWAFeatures';\nimport { T } from '@/lib/testing/testIds';\n\n// Mock PWA hooks\n// Note: usePWAInstallation hook doesn't exist, using usePWAUtils instead\n\n// Note: These PWA hooks don't exist, using available hooks instead\n\n// Mock service worker\nObject.defineProperty(navigator, 'serviceWorker', {\n  value: {\n    register: jest.fn(),\n    ready: Promise.resolve(),\n  },\n  writable: true,\n});\n\n// Mock Notification API\nObject.defineProperty(window, 'Notification', {\n  value: {\n    permission: 'granted',\n    requestPermission: jest.fn().mockResolvedValue('granted'),\n  },\n  writable: true,\n});\n\n// Mock localStorage\nObject.defineProperty(window, 'localStorage', {\n  value: {\n    getItem: jest.fn(),\n    setItem: jest.fn(),\n    removeItem: jest.fn(),\n    clear: jest.fn(),\n  },\n  writable: true,\n});\n\n// Mock fetch for API calls\nglobal.fetch = jest.fn(() =>\n  Promise.resolve({\n    ok: true,\n    json: () => Promise.resolve({ success: true }),\n  } as Response)\n);\n\ndescribe('PWA Features - Comprehensive Testing', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (fetch as jest.Mock).mockClear();\n  });\n\n  describe('Component Rendering', () => {\n    it('should render PWA features when installation is available', () => {\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      expect(screen.getByTestId(T.pwa.features)).toBeInTheDocument();\n      expect(screen.getByTestId(T.pwa.offlineFeatures)).toBeInTheDocument();\n      expect(screen.getByTestId(T.pwa.notificationFeatures)).toBeInTheDocument();\n    });\n\n    it('should not render when PWA is already installed and no features available', () => {\n      // Mock already installed state\n      jest.doMock('@/features/pwa/hooks/usePWAInstallation', () => ({\n        usePWAInstallation: () => ({\n          isInstalled: true,\n          canInstall: false,\n          install: jest.fn(),\n          isInstalling: false,\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      expect(screen.queryByTestId(T.pwa.features)).not.toBeInTheDocument();\n    });\n\n    it('should render with custom className', () => {\n      render(\n        <BrowserRouter>\n          <PWAFeatures className=\"custom-class\" />\n        </BrowserRouter>\n      );\n\n      const container = screen.getByTestId(T.pwa.features);\n      expect(container).toHaveClass('custom-class');\n    });\n  });\n\n  describe('Offline Features', () => {\n    it('should display offline indicator', () => {\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      expect(screen.getByTestId(T.pwa.offlineIndicator)).toBeInTheDocument();\n    });\n\n    it('should show offline polls when cached pages exist', () => {\n      // Mock offline data with cached pages\n      jest.doMock('@/features/pwa/hooks/useOffline', () => ({\n        useOffline: () => ({\n          isOnline: false,\n          offlineData: {\n            cachedPages: ['poll-1', 'poll-2'],\n            queuedActions: [],\n          },\n          syncOfflineData: jest.fn(),\n          clearOfflineData: jest.fn(),\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      expect(screen.getByTestId(T.pwa.offlinePolls)).toBeInTheDocument();\n    });\n\n    it('should show offline queue when queued actions exist', () => {\n      // Mock offline data with queued actions\n      jest.doMock('@/features/pwa/hooks/useOffline', () => ({\n        useOffline: () => ({\n          isOnline: false,\n          offlineData: {\n            cachedPages: [],\n            queuedActions: ['action-1', 'action-2'],\n          },\n          syncOfflineData: jest.fn(),\n          clearOfflineData: jest.fn(),\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      expect(screen.getByTestId(T.pwa.offlineQueue)).toBeInTheDocument();\n    });\n\n    it('should show offline sync when cached pages exist', () => {\n      // Mock offline data with cached pages\n      jest.doMock('@/features/pwa/hooks/useOffline', () => ({\n        useOffline: () => ({\n          isOnline: false,\n          offlineData: {\n            cachedPages: ['poll-1'],\n            queuedActions: [],\n          },\n          syncOfflineData: jest.fn(),\n          clearOfflineData: jest.fn(),\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      expect(screen.getByTestId(T.pwa.offlineSync)).toBeInTheDocument();\n    });\n  });\n\n  describe('Notification Features', () => {\n    it('should display notification permission component', () => {\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      expect(screen.getByTestId(T.pwa.notificationPermission)).toBeInTheDocument();\n    });\n\n    it('should display notification preferences', () => {\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      expect(screen.getByTestId(T.pwa.notificationPreferences)).toBeInTheDocument();\n    });\n\n    it('should show different notification types for different user roles', () => {\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      // Regular user notifications\n      expect(screen.getByTestId(T.pwa.regularUserNotifications)).toBeInTheDocument();\n      expect(screen.getByTestId(T.pwa.regularUserNotifications)).toHaveTextContent('Regular User Notifications');\n      \n      // Admin user notifications\n      expect(screen.getByTestId(T.pwa.adminUserNotifications)).toBeInTheDocument();\n      expect(screen.getByTestId(T.pwa.adminUserNotifications)).toHaveTextContent('Admin User Notifications');\n      \n      // Mobile notifications\n      expect(screen.getByTestId(T.pwa.mobileNotifications)).toBeInTheDocument();\n      expect(screen.getByTestId(T.pwa.mobileNotifications)).toHaveTextContent('Mobile Notifications');\n    });\n  });\n\n  describe('PWA Installation', () => {\n    it('should handle PWA installation', async () => {\n      const user = userEvent.setup();\n      const mockInstall = jest.fn();\n      \n      // Mock installation hook\n      jest.doMock('@/features/pwa/hooks/usePWAInstallation', () => ({\n        usePWAInstallation: () => ({\n          isInstalled: false,\n          canInstall: true,\n          install: mockInstall,\n          isInstalling: false,\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      const installButton = screen.getByTestId(T.pwa.installButton);\n      await user.click(installButton);\n      \n      expect(mockInstall).toHaveBeenCalled();\n    });\n\n    it('should show installation progress', () => {\n      // Mock installing state\n      jest.doMock('@/features/pwa/hooks/usePWAInstallation', () => ({\n        usePWAInstallation: () => ({\n          isInstalled: false,\n          canInstall: true,\n          install: jest.fn(),\n          isInstalling: true,\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      expect(screen.getByTestId(T.pwa.installingIndicator)).toBeInTheDocument();\n      expect(screen.getByTestId(T.pwa.installingIndicator)).toHaveTextContent('Installing...');\n    });\n\n    it('should show installed state when PWA is installed', () => {\n      // Mock installed state\n      jest.doMock('@/features/pwa/hooks/usePWAInstallation', () => ({\n        usePWAInstallation: () => ({\n          isInstalled: true,\n          canInstall: false,\n          install: jest.fn(),\n          isInstalling: false,\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      expect(screen.getByTestId(T.pwa.installedIndicator)).toBeInTheDocument();\n      expect(screen.getByTestId(T.pwa.installedIndicator)).toHaveTextContent('PWA Installed');\n    });\n  });\n\n  describe('Offline Data Management', () => {\n    it('should sync offline data when online', async () => {\n      const user = userEvent.setup();\n      const mockSyncOfflineData = jest.fn();\n      \n      // Mock offline hook with sync function\n      jest.doMock('@/features/pwa/hooks/useOffline', () => ({\n        useOffline: () => ({\n          isOnline: true,\n          offlineData: {\n            cachedPages: ['poll-1'],\n            queuedActions: ['action-1'],\n          },\n          syncOfflineData: mockSyncOfflineData,\n          clearOfflineData: jest.fn(),\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      const syncButton = screen.getByTestId(T.pwa.syncButton);\n      await user.click(syncButton);\n      \n      expect(mockSyncOfflineData).toHaveBeenCalled();\n    });\n\n    it('should clear offline data', async () => {\n      const user = userEvent.setup();\n      const mockClearOfflineData = jest.fn();\n      \n      // Mock offline hook with clear function\n      jest.doMock('@/features/pwa/hooks/useOffline', () => ({\n        useOffline: () => ({\n          isOnline: false,\n          offlineData: {\n            cachedPages: ['poll-1'],\n            queuedActions: ['action-1'],\n          },\n          syncOfflineData: jest.fn(),\n          clearOfflineData: mockClearOfflineData,\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      const clearButton = screen.getByTestId(T.pwa.clearButton);\n      await user.click(clearButton);\n      \n      expect(mockClearOfflineData).toHaveBeenCalled();\n    });\n  });\n\n  describe('Notification Management', () => {\n    it('should request notification permission', async () => {\n      const user = userEvent.setup();\n      const mockRequestPermission = jest.fn().mockResolvedValue('granted');\n      \n      // Mock notifications hook\n      jest.doMock('@/features/pwa/hooks/useNotifications', () => ({\n        useNotifications: () => ({\n          permission: 'default',\n          requestPermission: mockRequestPermission,\n          showNotification: jest.fn(),\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      const requestButton = screen.getByTestId(T.pwa.requestPermissionButton);\n      await user.click(requestButton);\n      \n      expect(mockRequestPermission).toHaveBeenCalled();\n    });\n\n    it('should show notification when permission is granted', async () => {\n      const user = userEvent.setup();\n      const mockShowNotification = jest.fn();\n      \n      // Mock notifications hook\n      jest.doMock('@/features/pwa/hooks/useNotifications', () => ({\n        useNotifications: () => ({\n          permission: 'granted',\n          requestPermission: jest.fn(),\n          showNotification: mockShowNotification,\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      const testButton = screen.getByTestId(T.pwa.testNotificationButton);\n      await user.click(testButton);\n      \n      expect(mockShowNotification).toHaveBeenCalledWith({\n        title: 'Test Notification',\n        body: 'This is a test notification',\n        icon: '/icon-192x192.png',\n      });\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle installation errors', async () => {\n      const user = userEvent.setup();\n      const mockInstall = jest.fn().mockRejectedValue(new Error('Installation failed'));\n      \n      // Mock installation hook with error\n      jest.doMock('@/features/pwa/hooks/usePWAInstallation', () => ({\n        usePWAInstallation: () => ({\n          isInstalled: false,\n          canInstall: true,\n          install: mockInstall,\n          isInstalling: false,\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      const installButton = screen.getByTestId(T.pwa.installButton);\n      await user.click(installButton);\n      \n      // Should show error message\n      await waitFor(() => {\n        expect(screen.getByTestId(T.pwa.installError)).toBeInTheDocument();\n        expect(screen.getByTestId(T.pwa.installError)).toHaveTextContent('Installation failed');\n      });\n    });\n\n    it('should handle sync errors', async () => {\n      const user = userEvent.setup();\n      const mockSyncOfflineData = jest.fn().mockRejectedValue(new Error('Sync failed'));\n      \n      // Mock offline hook with error\n      jest.doMock('@/features/pwa/hooks/useOffline', () => ({\n        useOffline: () => ({\n          isOnline: true,\n          offlineData: {\n            cachedPages: ['poll-1'],\n            queuedActions: ['action-1'],\n          },\n          syncOfflineData: mockSyncOfflineData,\n          clearOfflineData: jest.fn(),\n        }),\n      }));\n\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      const syncButton = screen.getByTestId(T.pwa.syncButton);\n      await user.click(syncButton);\n      \n      // Should show error message\n      await waitFor(() => {\n        expect(screen.getByTestId(T.pwa.syncError)).toBeInTheDocument();\n        expect(screen.getByTestId(T.pwa.syncError)).toHaveTextContent('Sync failed');\n      });\n    });\n  });\n\n  describe('Accessibility', () => {\n    it('should be keyboard navigable', () => {\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      // Tab through elements\n      const firstElement = screen.getByTestId(T.pwa.firstFocusable);\n      firstElement.focus();\n      expect(document.activeElement).toBe(firstElement);\n      \n      // Tab to next element\n      fireEvent.keyDown(firstElement, { key: 'Tab' });\n      const secondElement = screen.getByTestId(T.pwa.secondFocusable);\n      expect(document.activeElement).toBe(secondElement);\n    });\n\n    it('should have proper ARIA labels', () => {\n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      // Check for ARIA labels\n      expect(screen.getByTestId(T.pwa.installButton)).toHaveAttribute('aria-label', 'Install PWA');\n      expect(screen.getByTestId(T.pwa.syncButton)).toHaveAttribute('aria-label', 'Sync offline data');\n    });\n\n    it('should announce state changes to screen readers', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      // Trigger state change\n      const installButton = screen.getByTestId(T.pwa.installButton);\n      await user.click(installButton);\n      \n      // Should announce state change\n      await waitFor(() => {\n        expect(screen.getByTestId(T.pwa.stateAnnouncement)).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Performance', () => {\n    it('should render within performance budget', async () => {\n      const startTime = performance.now();\n      \n      render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Should render within 100ms\n      expect(renderTime).toBeLessThan(100);\n    });\n\n    it('should not cause memory leaks', async () => {\n      const { unmount } = render(\n        <BrowserRouter>\n          <PWAFeatures />\n        </BrowserRouter>\n      );\n\n      // Unmount component\n      unmount();\n      \n      // Should not leave any event listeners or timers\n      expect(jest.getTimerCount()).toBe(0);\n    });\n  });\n});\n"],"names":["Object","defineProperty","navigator","value","register","jest","fn","ready","Promise","resolve","writable","window","permission","requestPermission","mockResolvedValue","getItem","setItem","removeItem","clear","global","fetch","ok","json","success","describe","beforeEach","clearAllMocks","mockClear","it","render","BrowserRouter","PWAFeatures","expect","screen","getByTestId","T","pwa","features","toBeInTheDocument","offlineFeatures","notificationFeatures","doMock","usePWAInstallation","isInstalled","canInstall","install","isInstalling","queryByTestId","not","className","container","toHaveClass","offlineIndicator","useOffline","isOnline","offlineData","cachedPages","queuedActions","syncOfflineData","clearOfflineData","offlinePolls","offlineQueue","offlineSync","notificationPermission","notificationPreferences","regularUserNotifications","toHaveTextContent","adminUserNotifications","mobileNotifications","user","userEvent","setup","mockInstall","installButton","click","toHaveBeenCalled","installingIndicator","installedIndicator","mockSyncOfflineData","syncButton","mockClearOfflineData","clearButton","mockRequestPermission","useNotifications","showNotification","requestButton","requestPermissionButton","mockShowNotification","testButton","testNotificationButton","toHaveBeenCalledWith","title","body","icon","mockRejectedValue","Error","waitFor","installError","syncError","firstElement","firstFocusable","focus","document","activeElement","toBe","fireEvent","keyDown","key","secondElement","secondFocusable","toHaveAttribute","stateAnnouncement","startTime","performance","now","endTime","renderTime","toBeLessThan","unmount","getTimerCount"],"mappings":"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"}