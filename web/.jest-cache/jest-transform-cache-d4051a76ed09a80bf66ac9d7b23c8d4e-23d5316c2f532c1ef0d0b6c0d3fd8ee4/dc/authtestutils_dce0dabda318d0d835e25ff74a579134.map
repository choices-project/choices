{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/helpers/auth-test-utils.ts"],"sourcesContent":["// Mock auth utilities for testing\nimport { jest } from '@jest/globals';\n\nexport const getUser = jest.fn().mockResolvedValue({\n  user: {\n    id: 'test-user-id',\n    email: 'test@example.com',\n    name: 'Test User',\n  },\n  error: null,\n})\n\nexport const requireAuth = jest.fn().mockImplementation((handler) => {\n  return async (req: any, res: any) => {\n    const user = await getUser()\n    if (!user.user) {\n      return res.status(401).json({ error: 'Unauthorized' })\n    }\n    return handler(req, res)\n  }\n})\n\nexport const checkPermissions = jest.fn().mockResolvedValue(true)\n\nexport const validateSession = jest.fn().mockResolvedValue({\n  valid: true,\n  user: {\n    id: 'test-user-id',\n    email: 'test@example.com',\n  },\n})"],"names":["checkPermissions","getUser","requireAuth","validateSession","jest","fn","mockResolvedValue","user","id","email","name","error","mockImplementation","handler","req","res","status","json","valid"],"mappings":"AAAA,kCAAkC;;;;;;;;;;;;IAsBrBA,gBAAgB;eAAhBA;;IAnBAC,OAAO;eAAPA;;IASAC,WAAW;eAAXA;;IAYAC,eAAe;eAAfA;;;yBAvBQ;AAEd,MAAMF,UAAUG,aAAI,CAACC,EAAE,GAAGC,iBAAiB,CAAC;IACjDC,MAAM;QACJC,IAAI;QACJC,OAAO;QACPC,MAAM;IACR;IACAC,OAAO;AACT;AAEO,MAAMT,cAAcE,aAAI,CAACC,EAAE,GAAGO,kBAAkB,CAAC,CAACC;IACvD,OAAO,OAAOC,KAAUC;QACtB,MAAMR,OAAO,MAAMN;QACnB,IAAI,CAACM,KAAKA,IAAI,EAAE;YACd,OAAOQ,IAAIC,MAAM,CAAC,KAAKC,IAAI,CAAC;gBAAEN,OAAO;YAAe;QACtD;QACA,OAAOE,QAAQC,KAAKC;IACtB;AACF;AAEO,MAAMf,mBAAmBI,aAAI,CAACC,EAAE,GAAGC,iBAAiB,CAAC;AAErD,MAAMH,kBAAkBC,aAAI,CAACC,EAAE,GAAGC,iBAAiB,CAAC;IACzDY,OAAO;IACPX,MAAM;QACJC,IAAI;QACJC,OAAO;IACT;AACF"}