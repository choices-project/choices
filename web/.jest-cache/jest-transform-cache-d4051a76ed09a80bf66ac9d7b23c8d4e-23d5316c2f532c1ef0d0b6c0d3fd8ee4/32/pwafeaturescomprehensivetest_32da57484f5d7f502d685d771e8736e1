2718b681bdedd707a00925b24657a04e
/**
 * @jest-environment jsdom
 */ // Mock window.matchMedia before any imports
"use strict";
// Mock lucide-react icons
jest.mock("lucide-react", ()=>({
        Bell: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "bell-icon"
            }),
        BellOff: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "bell-off-icon"
            }),
        CheckCircle: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "check-circle-icon"
            }),
        AlertCircle: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "alert-circle-icon"
            }),
        Wifi: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "wifi-icon"
            }),
        WifiOff: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "wifi-off-icon"
            }),
        Download: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "download-icon"
            }),
        Settings: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "settings-icon"
            }),
        RefreshCw: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "refresh-icon"
            }),
        Database: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "database-icon"
            }),
        Clock: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "clock-icon"
            }),
        Check: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "check-icon"
            }),
        X: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "x-icon"
            })
    }));
// Mock Zustand PWA store hooks - CORRECT APPROACH
jest.mock("@/lib/stores", ()=>({
        usePWAInstallation: jest.fn(()=>({
                isInstalled: false,
                canInstall: true,
                install: jest.fn(),
                checkInstallationStatus: jest.fn()
            })),
        usePWAOffline: jest.fn(()=>({
                isOnline: true,
                offlineData: {
                    cachedPages: [],
                    cachedResources: [],
                    queuedActions: []
                },
                syncOfflineData: jest.fn(),
                clearOfflineData: jest.fn()
            })),
        usePWANotifications: jest.fn(()=>({
                permission: "default",
                requestPermission: jest.fn(),
                showNotification: jest.fn()
            })),
        usePWALoading: jest.fn(()=>false),
        usePWAError: jest.fn(()=>null)
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _reactrouterdom = require("react-router-dom");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _PWAFeatures = /*#__PURE__*/ _interop_require_default(require("../../../../../../features/pwa/components/PWAFeatures"));
const _testIds = require("../../../../../../lib/testing/testIds");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
Object.defineProperty(window, "matchMedia", {
    value: jest.fn().mockImplementation((query)=>({
            matches: false,
            media: query,
            onchange: null,
            addListener: jest.fn(),
            removeListener: jest.fn(),
            addEventListener: jest.fn(),
            removeEventListener: jest.fn(),
            dispatchEvent: jest.fn()
        })),
    writable: true
});
// Mock browser APIs
Object.defineProperty(navigator, "serviceWorker", {
    value: {
        register: jest.fn(),
        ready: Promise.resolve()
    },
    writable: true
});
// Mock online/offline events
Object.defineProperty(navigator, "onLine", {
    value: true,
    writable: true
});
// Mock Notification API
Object.defineProperty(window, "Notification", {
    value: {
        permission: "granted",
        requestPermission: jest.fn().mockResolvedValue("granted")
    },
    writable: true
});
// Mock localStorage
Object.defineProperty(window, "localStorage", {
    value: {
        getItem: jest.fn(),
        setItem: jest.fn(),
        removeItem: jest.fn(),
        clear: jest.fn()
    },
    writable: true
});
// Mock fetch for API calls
global.fetch = jest.fn(()=>Promise.resolve({
        ok: true,
        json: ()=>Promise.resolve({
                success: true
            })
    }));
describe("PWA Features - Comprehensive Testing", ()=>{
    // Enable fake timers to fix timer-related issues
    jest.useFakeTimers();
    beforeEach(()=>{
        jest.clearAllMocks();
        fetch.mockClear();
        // Clear all timers before each test
        jest.clearAllTimers();
    });
    afterEach(()=>{
        // Clean up timers after each test
        jest.runOnlyPendingTimers();
        jest.useRealTimers();
        jest.useFakeTimers();
    });
    describe("Component Rendering", ()=>{
        it("should render PWA features when installation is available", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // Check for basic PWA elements
            expect(_react1.screen.getByTestId("pwa-features")).toBeInTheDocument();
            expect(_react1.screen.getByTestId("offline-features")).toBeInTheDocument();
        });
        it("should not render when PWA is already installed and no features available", ()=>{
            // Mock already installed state
            const { usePWAInstallation: usePWAInstallation1 } = require("@/lib/stores");
            usePWAInstallation1.mockReturnValue({
                isInstalled: true,
                canInstall: false,
                install: jest.fn(),
                isInstalling: false
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // When PWA is installed and no features available, component returns null
            expect(_react1.screen.queryByTestId("pwa-features")).not.toBeInTheDocument();
        });
        it("should render with custom className", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {
                    className: "custom-class"
                })
            }));
            const container = _react1.screen.getByTestId("pwa-features");
            expect(container).toHaveClass("custom-class");
        });
    });
    describe("Offline Features", ()=>{
        it("should display offline indicator", ()=>{
            // Mock offline state
            const { usePWAOffline: usePWAOffline1 } = require("@/lib/stores");
            usePWAOffline1.mockReturnValue({
                isOnline: false,
                offlineData: {},
                syncOfflineData: jest.fn(),
                clearOfflineData: jest.fn()
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId("offline-features")).toBeInTheDocument();
        });
        it("should show offline polls when cached pages exist", ()=>{
            // Mock offline data with cached pages
            const { usePWAOffline: usePWAOffline1 } = require("@/lib/stores");
            usePWAOffline1.mockReturnValue({
                isOnline: false,
                offlineData: {
                    cachedPages: [
                        "poll-1",
                        "poll-2"
                    ],
                    queuedActions: []
                },
                syncOfflineData: jest.fn(),
                clearOfflineData: jest.fn()
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId("offline-polls")).toBeInTheDocument();
        });
        it("should show offline queue when queued actions exist", ()=>{
            // Mock offline data with queued actions
            jest.doMock("@/features/pwa/hooks/useOffline", ()=>({
                    useOffline: ()=>({
                            isOnline: false,
                            offlineData: {
                                cachedPages: [],
                                queuedActions: [
                                    "action-1",
                                    "action-2"
                                ]
                            },
                            syncOfflineData: jest.fn(),
                            clearOfflineData: jest.fn()
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId(_testIds.T.pwa.offlineQueue)).toBeInTheDocument();
        });
        it("should show offline sync when cached pages exist", ()=>{
            // Mock offline data with cached pages
            jest.doMock("@/features/pwa/hooks/useOffline", ()=>({
                    useOffline: ()=>({
                            isOnline: false,
                            offlineData: {
                                cachedPages: [
                                    "poll-1"
                                ],
                                queuedActions: []
                            },
                            syncOfflineData: jest.fn(),
                            clearOfflineData: jest.fn()
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId(_testIds.T.pwa.offlineSync)).toBeInTheDocument();
        });
    });
    describe("Notification Features", ()=>{
        it("should display notification permission component", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId(_testIds.T.pwa.notificationPermission)).toBeInTheDocument();
        });
        it("should display notification preferences", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId(_testIds.T.pwa.notificationPreferences)).toBeInTheDocument();
        });
        it("should show different notification types for different user roles", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // Regular user notifications
            expect(_react1.screen.getByTestId(_testIds.T.pwa.regularUserNotifications)).toBeInTheDocument();
            expect(_react1.screen.getByTestId(_testIds.T.pwa.regularUserNotifications)).toHaveTextContent("Regular User Notifications");
            // Admin user notifications
            expect(_react1.screen.getByTestId(_testIds.T.pwa.adminUserNotifications)).toBeInTheDocument();
            expect(_react1.screen.getByTestId(_testIds.T.pwa.adminUserNotifications)).toHaveTextContent("Admin User Notifications");
            // Mobile notifications
            expect(_react1.screen.getByTestId(_testIds.T.pwa.mobileNotifications)).toBeInTheDocument();
            expect(_react1.screen.getByTestId(_testIds.T.pwa.mobileNotifications)).toHaveTextContent("Mobile Notifications");
        });
    });
    describe("PWA Installation", ()=>{
        it("should handle PWA installation", async ()=>{
            const user = _userevent.default.setup();
            const mockInstall = jest.fn().mockResolvedValue(undefined);
            // Mock installation hook
            usePWAInstallation.mockReturnValue({
                isInstalled: false,
                canInstall: true,
                install: mockInstall,
                isInstalling: false
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const installButton = _react1.screen.getByTestId(_testIds.T.pwa.installButton);
            await user.click(installButton);
            // Wait for async operation
            await (0, _react1.waitFor)(()=>{
                expect(mockInstall).toHaveBeenCalled();
            });
        }, 5000);
        it("should show installation progress", ()=>{
            // Mock installing state
            jest.doMock("@/features/pwa/hooks/usePWAInstallation", ()=>({
                    usePWAInstallation: ()=>({
                            isInstalled: false,
                            canInstall: true,
                            install: jest.fn(),
                            isInstalling: true
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId(_testIds.T.pwa.installingIndicator)).toBeInTheDocument();
            expect(_react1.screen.getByTestId(_testIds.T.pwa.installingIndicator)).toHaveTextContent("Installing...");
        });
        it("should show installed state when PWA is installed", ()=>{
            // Mock installed state
            jest.doMock("@/features/pwa/hooks/usePWAInstallation", ()=>({
                    usePWAInstallation: ()=>({
                            isInstalled: true,
                            canInstall: false,
                            install: jest.fn(),
                            isInstalling: false
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId(_testIds.T.pwa.installedIndicator)).toBeInTheDocument();
            expect(_react1.screen.getByTestId(_testIds.T.pwa.installedIndicator)).toHaveTextContent("PWA Installed");
        });
    });
    describe("Offline Data Management", ()=>{
        it("should sync offline data when online", async ()=>{
            const user = _userevent.default.setup();
            const mockSyncOfflineData = jest.fn().mockResolvedValue(undefined);
            // Mock offline hook with sync function
            usePWAOffline.mockReturnValue({
                isOnline: true,
                offlineData: {
                    cachedPages: [
                        "poll-1"
                    ],
                    queuedActions: [
                        "action-1"
                    ]
                },
                syncOfflineData: mockSyncOfflineData,
                clearOfflineData: jest.fn()
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const syncButton = _react1.screen.getByTestId(_testIds.T.pwa.syncButton);
            await user.click(syncButton);
            // Wait for async operation
            await (0, _react1.waitFor)(()=>{
                expect(mockSyncOfflineData).toHaveBeenCalled();
            });
        }, 5000);
        it("should clear offline data", async ()=>{
            const user = _userevent.default.setup();
            const mockClearOfflineData = jest.fn().mockResolvedValue(undefined);
            // Mock offline hook with clear function
            usePWAOffline.mockReturnValue({
                isOnline: false,
                offlineData: {
                    cachedPages: [
                        "poll-1"
                    ],
                    queuedActions: [
                        "action-1"
                    ]
                },
                syncOfflineData: jest.fn(),
                clearOfflineData: mockClearOfflineData
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const clearButton = _react1.screen.getByTestId(_testIds.T.pwa.clearButton);
            await user.click(clearButton);
            // Wait for async operation
            await (0, _react1.waitFor)(()=>{
                expect(mockClearOfflineData).toHaveBeenCalled();
            });
        }, 5000);
    });
    describe("Notification Management", ()=>{
        it("should request notification permission", async ()=>{
            const user = _userevent.default.setup();
            const mockRequestPermission = jest.fn().mockResolvedValue("granted");
            // Mock notifications hook
            jest.doMock("@/features/pwa/hooks/useNotifications", ()=>({
                    useNotifications: ()=>({
                            permission: "default",
                            requestPermission: mockRequestPermission,
                            showNotification: jest.fn()
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const requestButton = _react1.screen.getByTestId(_testIds.T.pwa.requestPermissionButton);
            await user.click(requestButton);
            expect(mockRequestPermission).toHaveBeenCalled();
        });
        it("should show notification when permission is granted", async ()=>{
            const user = _userevent.default.setup();
            const mockShowNotification = jest.fn();
            // Mock notifications hook
            jest.doMock("@/features/pwa/hooks/useNotifications", ()=>({
                    useNotifications: ()=>({
                            permission: "granted",
                            requestPermission: jest.fn(),
                            showNotification: mockShowNotification
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const testButton = _react1.screen.getByTestId(_testIds.T.pwa.testNotificationButton);
            await user.click(testButton);
            expect(mockShowNotification).toHaveBeenCalledWith({
                title: "Test Notification",
                body: "This is a test notification",
                icon: "/icon-192x192.png"
            });
        });
    });
    describe("Error Handling", ()=>{
        it("should handle installation errors", async ()=>{
            const user = _userevent.default.setup();
            const mockInstall = jest.fn().mockRejectedValue(new Error("Installation failed"));
            // Mock installation hook with error
            jest.doMock("@/features/pwa/hooks/usePWAInstallation", ()=>({
                    usePWAInstallation: ()=>({
                            isInstalled: false,
                            canInstall: true,
                            install: mockInstall,
                            isInstalling: false
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const installButton = _react1.screen.getByTestId(_testIds.T.pwa.installButton);
            await user.click(installButton);
            // Should show error message
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId(_testIds.T.pwa.installError)).toBeInTheDocument();
                expect(_react1.screen.getByTestId(_testIds.T.pwa.installError)).toHaveTextContent("Installation failed");
            });
        });
        it("should handle sync errors", async ()=>{
            const user = _userevent.default.setup();
            const mockSyncOfflineData = jest.fn().mockRejectedValue(new Error("Sync failed"));
            // Mock offline hook with error
            jest.doMock("@/features/pwa/hooks/useOffline", ()=>({
                    useOffline: ()=>({
                            isOnline: true,
                            offlineData: {
                                cachedPages: [
                                    "poll-1"
                                ],
                                queuedActions: [
                                    "action-1"
                                ]
                            },
                            syncOfflineData: mockSyncOfflineData,
                            clearOfflineData: jest.fn()
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const syncButton = _react1.screen.getByTestId(_testIds.T.pwa.syncButton);
            await user.click(syncButton);
            // Should show error message
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId(_testIds.T.pwa.syncError)).toBeInTheDocument();
                expect(_react1.screen.getByTestId(_testIds.T.pwa.syncError)).toHaveTextContent("Sync failed");
            });
        });
    });
    describe("Accessibility", ()=>{
        it("should be keyboard navigable", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // Tab through elements
            const firstElement = _react1.screen.getByTestId(_testIds.T.pwa.firstFocusable);
            firstElement.focus();
            expect(document.activeElement).toBe(firstElement);
            // Tab to next element
            _react1.fireEvent.keyDown(firstElement, {
                key: "Tab"
            });
            const secondElement = _react1.screen.getByTestId(_testIds.T.pwa.secondFocusable);
            expect(document.activeElement).toBe(secondElement);
        });
        it("should have proper ARIA labels", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // Check for ARIA labels
            expect(_react1.screen.getByTestId(_testIds.T.pwa.installButton)).toHaveAttribute("aria-label", "Install PWA");
            expect(_react1.screen.getByTestId(_testIds.T.pwa.syncButton)).toHaveAttribute("aria-label", "Sync offline data");
        });
        it("should announce state changes to screen readers", async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // Trigger state change
            const installButton = _react1.screen.getByTestId(_testIds.T.pwa.installButton);
            await user.click(installButton);
            // Should announce state change
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId(_testIds.T.pwa.stateAnnouncement)).toBeInTheDocument();
            });
        });
    });
    describe("Performance", ()=>{
        it("should render within performance budget", async ()=>{
            const startTime = performance.now();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Should render within 100ms
            expect(renderTime).toBeLessThan(100);
        });
        it("should not cause memory leaks", async ()=>{
            const { unmount } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // Unmount component
            unmount();
            // Should not leave any event listeners or timers
            expect(jest.getTimerCount()).toBe(0);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L3VuaXQvY29tcG9uZW50cy9mZWF0dXJlcy9wd2EvcHdhLWZlYXR1cmVzLWNvbXByZWhlbnNpdmUudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAamVzdC1lbnZpcm9ubWVudCBqc2RvbVxuICovXG5cbi8vIE1vY2sgd2luZG93Lm1hdGNoTWVkaWEgYmVmb3JlIGFueSBpbXBvcnRzXG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbWF0Y2hNZWRpYScsIHtcbiAgdmFsdWU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24ocXVlcnkgPT4gKHtcbiAgICBtYXRjaGVzOiBmYWxzZSxcbiAgICBtZWRpYTogcXVlcnksXG4gICAgb25jaGFuZ2U6IG51bGwsXG4gICAgYWRkTGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICByZW1vdmVMaXN0ZW5lcjogamVzdC5mbigpLFxuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gICAgZGlzcGF0Y2hFdmVudDogamVzdC5mbigpLFxuICB9KSksXG4gIHdyaXRhYmxlOiB0cnVlLFxufSk7XG5cbi8vIE1vY2sgYnJvd3NlciBBUElzXG5PYmplY3QuZGVmaW5lUHJvcGVydHkobmF2aWdhdG9yLCAnc2VydmljZVdvcmtlcicsIHtcbiAgdmFsdWU6IHtcbiAgICByZWdpc3RlcjogamVzdC5mbigpLFxuICAgIHJlYWR5OiBQcm9taXNlLnJlc29sdmUoKSxcbiAgfSxcbiAgd3JpdGFibGU6IHRydWUsXG59KTtcblxuLy8gTW9jayBvbmxpbmUvb2ZmbGluZSBldmVudHNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXZpZ2F0b3IsICdvbkxpbmUnLCB7XG4gIHZhbHVlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pO1xuXG4vLyBNb2NrIGx1Y2lkZS1yZWFjdCBpY29uc1xuamVzdC5tb2NrKCdsdWNpZGUtcmVhY3QnLCAoKSA9PiAoe1xuICBCZWxsOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiYmVsbC1pY29uXCIgLz4sXG4gIEJlbGxPZmY6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJiZWxsLW9mZi1pY29uXCIgLz4sXG4gIENoZWNrQ2lyY2xlOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiY2hlY2stY2lyY2xlLWljb25cIiAvPixcbiAgQWxlcnRDaXJjbGU6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJhbGVydC1jaXJjbGUtaWNvblwiIC8+LFxuICBXaWZpOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwid2lmaS1pY29uXCIgLz4sXG4gIFdpZmlPZmY6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJ3aWZpLW9mZi1pY29uXCIgLz4sXG4gIERvd25sb2FkOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiZG93bmxvYWQtaWNvblwiIC8+LFxuICBTZXR0aW5nczogKCkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cInNldHRpbmdzLWljb25cIiAvPixcbiAgUmVmcmVzaEN3OiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwicmVmcmVzaC1pY29uXCIgLz4sXG4gIERhdGFiYXNlOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiZGF0YWJhc2UtaWNvblwiIC8+LFxuICBDbG9jazogKCkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cImNsb2NrLWljb25cIiAvPixcbiAgQ2hlY2s6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJjaGVjay1pY29uXCIgLz4sXG4gIFg6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJ4LWljb25cIiAvPixcbn0pKTtcblxuLy8gTW9jayBadXN0YW5kIFBXQSBzdG9yZSBob29rcyAtIENPUlJFQ1QgQVBQUk9BQ0hcbmplc3QubW9jaygnQC9saWIvc3RvcmVzJywgKCkgPT4gKHtcbiAgdXNlUFdBSW5zdGFsbGF0aW9uOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgaXNJbnN0YWxsZWQ6IGZhbHNlLFxuICAgIGNhbkluc3RhbGw6IHRydWUsXG4gICAgaW5zdGFsbDogamVzdC5mbigpLFxuICAgIGNoZWNrSW5zdGFsbGF0aW9uU3RhdHVzOiBqZXN0LmZuKCksXG4gIH0pKSxcbiAgdXNlUFdBT2ZmbGluZTogamVzdC5mbigoKSA9PiAoe1xuICAgIGlzT25saW5lOiB0cnVlLFxuICAgIG9mZmxpbmVEYXRhOiB7XG4gICAgICBjYWNoZWRQYWdlczogW10sXG4gICAgICBjYWNoZWRSZXNvdXJjZXM6IFtdLFxuICAgICAgcXVldWVkQWN0aW9uczogW11cbiAgICB9LFxuICAgIHN5bmNPZmZsaW5lRGF0YTogamVzdC5mbigpLFxuICAgIGNsZWFyT2ZmbGluZURhdGE6IGplc3QuZm4oKSxcbiAgfSkpLFxuICB1c2VQV0FOb3RpZmljYXRpb25zOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgcGVybWlzc2lvbjogJ2RlZmF1bHQnLFxuICAgIHJlcXVlc3RQZXJtaXNzaW9uOiBqZXN0LmZuKCksXG4gICAgc2hvd05vdGlmaWNhdGlvbjogamVzdC5mbigpLFxuICB9KSksXG4gIHVzZVBXQUxvYWRpbmc6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICB1c2VQV0FFcnJvcjogamVzdC5mbigoKSA9PiBudWxsKSxcbn0pKTtcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IsIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgQnJvd3NlclJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnO1xuaW1wb3J0IFBXQUZlYXR1cmVzIGZyb20gJ0AvZmVhdHVyZXMvcHdhL2NvbXBvbmVudHMvUFdBRmVhdHVyZXMnO1xuaW1wb3J0IHsgVCB9IGZyb20gJ0AvbGliL3Rlc3RpbmcvdGVzdElkcyc7XG5cbi8vIE1vY2sgTm90aWZpY2F0aW9uIEFQSVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ05vdGlmaWNhdGlvbicsIHtcbiAgdmFsdWU6IHtcbiAgICBwZXJtaXNzaW9uOiAnZ3JhbnRlZCcsXG4gICAgcmVxdWVzdFBlcm1pc3Npb246IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnZ3JhbnRlZCcpLFxuICB9LFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pO1xuXG4vLyBNb2NrIGxvY2FsU3RvcmFnZVxuT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2xvY2FsU3RvcmFnZScsIHtcbiAgdmFsdWU6IHtcbiAgICBnZXRJdGVtOiBqZXN0LmZuKCksXG4gICAgc2V0SXRlbTogamVzdC5mbigpLFxuICAgIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgICBjbGVhcjogamVzdC5mbigpLFxuICB9LFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pO1xuXG5cbi8vIE1vY2sgZmV0Y2ggZm9yIEFQSSBjYWxsc1xuZ2xvYmFsLmZldGNoID0gamVzdC5mbigoKSA9PlxuICBQcm9taXNlLnJlc29sdmUoe1xuICAgIG9rOiB0cnVlLFxuICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IHN1Y2Nlc3M6IHRydWUgfSksXG4gIH0gYXMgUmVzcG9uc2UpXG4pO1xuXG5kZXNjcmliZSgnUFdBIEZlYXR1cmVzIC0gQ29tcHJlaGVuc2l2ZSBUZXN0aW5nJywgKCkgPT4ge1xuICAvLyBFbmFibGUgZmFrZSB0aW1lcnMgdG8gZml4IHRpbWVyLXJlbGF0ZWQgaXNzdWVzXG4gIGplc3QudXNlRmFrZVRpbWVycygpXG4gIFxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICAoZmV0Y2ggYXMgamVzdC5Nb2NrKS5tb2NrQ2xlYXIoKTtcbiAgICAvLyBDbGVhciBhbGwgdGltZXJzIGJlZm9yZSBlYWNoIHRlc3RcbiAgICBqZXN0LmNsZWFyQWxsVGltZXJzKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgLy8gQ2xlYW4gdXAgdGltZXJzIGFmdGVyIGVhY2ggdGVzdFxuICAgIGplc3QucnVuT25seVBlbmRpbmdUaW1lcnMoKTtcbiAgICBqZXN0LnVzZVJlYWxUaW1lcnMoKTtcbiAgICBqZXN0LnVzZUZha2VUaW1lcnMoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0NvbXBvbmVudCBSZW5kZXJpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgUFdBIGZlYXR1cmVzIHdoZW4gaW5zdGFsbGF0aW9uIGlzIGF2YWlsYWJsZScsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBiYXNpYyBQV0EgZWxlbWVudHNcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ3B3YS1mZWF0dXJlcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnb2ZmbGluZS1mZWF0dXJlcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3QgcmVuZGVyIHdoZW4gUFdBIGlzIGFscmVhZHkgaW5zdGFsbGVkIGFuZCBubyBmZWF0dXJlcyBhdmFpbGFibGUnLCAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGFscmVhZHkgaW5zdGFsbGVkIHN0YXRlXG4gICAgICBjb25zdCB7IHVzZVBXQUluc3RhbGxhdGlvbiB9ID0gcmVxdWlyZSgnQC9saWIvc3RvcmVzJyk7XG4gICAgICB1c2VQV0FJbnN0YWxsYXRpb24ubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNJbnN0YWxsZWQ6IHRydWUsXG4gICAgICAgIGNhbkluc3RhbGw6IGZhbHNlLFxuICAgICAgICBpbnN0YWxsOiBqZXN0LmZuKCksXG4gICAgICAgIGlzSW5zdGFsbGluZzogZmFsc2UsXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgLy8gV2hlbiBQV0EgaXMgaW5zdGFsbGVkIGFuZCBubyBmZWF0dXJlcyBhdmFpbGFibGUsIGNvbXBvbmVudCByZXR1cm5zIG51bGxcbiAgICAgIGV4cGVjdChzY3JlZW4ucXVlcnlCeVRlc3RJZCgncHdhLWZlYXR1cmVzJykpLm5vdC50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZW5kZXIgd2l0aCBjdXN0b20gY2xhc3NOYW1lJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgY2xhc3NOYW1lPVwiY3VzdG9tLWNsYXNzXCIgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgY29udGFpbmVyID0gc2NyZWVuLmdldEJ5VGVzdElkKCdwd2EtZmVhdHVyZXMnKTtcbiAgICAgIGV4cGVjdChjb250YWluZXIpLnRvSGF2ZUNsYXNzKCdjdXN0b20tY2xhc3MnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ09mZmxpbmUgRmVhdHVyZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IG9mZmxpbmUgaW5kaWNhdG9yJywgKCkgPT4ge1xuICAgICAgLy8gTW9jayBvZmZsaW5lIHN0YXRlXG4gICAgICBjb25zdCB7IHVzZVBXQU9mZmxpbmUgfSA9IHJlcXVpcmUoJ0AvbGliL3N0b3JlcycpO1xuICAgICAgdXNlUFdBT2ZmbGluZS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc09ubGluZTogZmFsc2UsXG4gICAgICAgIG9mZmxpbmVEYXRhOiB7fSxcbiAgICAgICAgc3luY09mZmxpbmVEYXRhOiBqZXN0LmZuKCksXG4gICAgICAgIGNsZWFyT2ZmbGluZURhdGE6IGplc3QuZm4oKSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxQV0FGZWF0dXJlcyAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdvZmZsaW5lLWZlYXR1cmVzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgb2ZmbGluZSBwb2xscyB3aGVuIGNhY2hlZCBwYWdlcyBleGlzdCcsICgpID0+IHtcbiAgICAgIC8vIE1vY2sgb2ZmbGluZSBkYXRhIHdpdGggY2FjaGVkIHBhZ2VzXG4gICAgICBjb25zdCB7IHVzZVBXQU9mZmxpbmUgfSA9IHJlcXVpcmUoJ0AvbGliL3N0b3JlcycpO1xuICAgICAgdXNlUFdBT2ZmbGluZS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc09ubGluZTogZmFsc2UsXG4gICAgICAgIG9mZmxpbmVEYXRhOiB7XG4gICAgICAgICAgY2FjaGVkUGFnZXM6IFsncG9sbC0xJywgJ3BvbGwtMiddLFxuICAgICAgICAgIHF1ZXVlZEFjdGlvbnM6IFtdLFxuICAgICAgICB9LFxuICAgICAgICBzeW5jT2ZmbGluZURhdGE6IGplc3QuZm4oKSxcbiAgICAgICAgY2xlYXJPZmZsaW5lRGF0YTogamVzdC5mbigpLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ29mZmxpbmUtcG9sbHMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBvZmZsaW5lIHF1ZXVlIHdoZW4gcXVldWVkIGFjdGlvbnMgZXhpc3QnLCAoKSA9PiB7XG4gICAgICAvLyBNb2NrIG9mZmxpbmUgZGF0YSB3aXRoIHF1ZXVlZCBhY3Rpb25zXG4gICAgICBqZXN0LmRvTW9jaygnQC9mZWF0dXJlcy9wd2EvaG9va3MvdXNlT2ZmbGluZScsICgpID0+ICh7XG4gICAgICAgIHVzZU9mZmxpbmU6ICgpID0+ICh7XG4gICAgICAgICAgaXNPbmxpbmU6IGZhbHNlLFxuICAgICAgICAgIG9mZmxpbmVEYXRhOiB7XG4gICAgICAgICAgICBjYWNoZWRQYWdlczogW10sXG4gICAgICAgICAgICBxdWV1ZWRBY3Rpb25zOiBbJ2FjdGlvbi0xJywgJ2FjdGlvbi0yJ10sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzeW5jT2ZmbGluZURhdGE6IGplc3QuZm4oKSxcbiAgICAgICAgICBjbGVhck9mZmxpbmVEYXRhOiBqZXN0LmZuKCksXG4gICAgICAgIH0pLFxuICAgICAgfSkpO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxQV0FGZWF0dXJlcyAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLm9mZmxpbmVRdWV1ZSkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgb2ZmbGluZSBzeW5jIHdoZW4gY2FjaGVkIHBhZ2VzIGV4aXN0JywgKCkgPT4ge1xuICAgICAgLy8gTW9jayBvZmZsaW5lIGRhdGEgd2l0aCBjYWNoZWQgcGFnZXNcbiAgICAgIGplc3QuZG9Nb2NrKCdAL2ZlYXR1cmVzL3B3YS9ob29rcy91c2VPZmZsaW5lJywgKCkgPT4gKHtcbiAgICAgICAgdXNlT2ZmbGluZTogKCkgPT4gKHtcbiAgICAgICAgICBpc09ubGluZTogZmFsc2UsXG4gICAgICAgICAgb2ZmbGluZURhdGE6IHtcbiAgICAgICAgICAgIGNhY2hlZFBhZ2VzOiBbJ3BvbGwtMSddLFxuICAgICAgICAgICAgcXVldWVkQWN0aW9uczogW10sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzeW5jT2ZmbGluZURhdGE6IGplc3QuZm4oKSxcbiAgICAgICAgICBjbGVhck9mZmxpbmVEYXRhOiBqZXN0LmZuKCksXG4gICAgICAgIH0pLFxuICAgICAgfSkpO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxQV0FGZWF0dXJlcyAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLm9mZmxpbmVTeW5jKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ05vdGlmaWNhdGlvbiBGZWF0dXJlcycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgbm90aWZpY2F0aW9uIHBlcm1pc3Npb24gY29tcG9uZW50JywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5ub3RpZmljYXRpb25QZXJtaXNzaW9uKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgZGlzcGxheSBub3RpZmljYXRpb24gcHJlZmVyZW5jZXMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxQV0FGZWF0dXJlcyAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLm5vdGlmaWNhdGlvblByZWZlcmVuY2VzKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBkaWZmZXJlbnQgbm90aWZpY2F0aW9uIHR5cGVzIGZvciBkaWZmZXJlbnQgdXNlciByb2xlcycsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIFJlZ3VsYXIgdXNlciBub3RpZmljYXRpb25zXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLnJlZ3VsYXJVc2VyTm90aWZpY2F0aW9ucykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLnJlZ3VsYXJVc2VyTm90aWZpY2F0aW9ucykpLnRvSGF2ZVRleHRDb250ZW50KCdSZWd1bGFyIFVzZXIgTm90aWZpY2F0aW9ucycpO1xuICAgICAgXG4gICAgICAvLyBBZG1pbiB1c2VyIG5vdGlmaWNhdGlvbnNcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuYWRtaW5Vc2VyTm90aWZpY2F0aW9ucykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLmFkbWluVXNlck5vdGlmaWNhdGlvbnMpKS50b0hhdmVUZXh0Q29udGVudCgnQWRtaW4gVXNlciBOb3RpZmljYXRpb25zJyk7XG4gICAgICBcbiAgICAgIC8vIE1vYmlsZSBub3RpZmljYXRpb25zXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLm1vYmlsZU5vdGlmaWNhdGlvbnMpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5tb2JpbGVOb3RpZmljYXRpb25zKSkudG9IYXZlVGV4dENvbnRlbnQoJ01vYmlsZSBOb3RpZmljYXRpb25zJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQV0EgSW5zdGFsbGF0aW9uJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIFBXQSBpbnN0YWxsYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICBjb25zdCBtb2NrSW5zdGFsbCA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSh1bmRlZmluZWQpO1xuICAgICAgXG4gICAgICAvLyBNb2NrIGluc3RhbGxhdGlvbiBob29rXG4gICAgICAodXNlUFdBSW5zdGFsbGF0aW9uIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNJbnN0YWxsZWQ6IGZhbHNlLFxuICAgICAgICBjYW5JbnN0YWxsOiB0cnVlLFxuICAgICAgICBpbnN0YWxsOiBtb2NrSW5zdGFsbCxcbiAgICAgICAgaXNJbnN0YWxsaW5nOiBmYWxzZSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxQV0FGZWF0dXJlcyAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBpbnN0YWxsQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLmluc3RhbGxCdXR0b24pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhpbnN0YWxsQnV0dG9uKTtcbiAgICAgIFxuICAgICAgLy8gV2FpdCBmb3IgYXN5bmMgb3BlcmF0aW9uXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tJbnN0YWxsKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgICB9KTtcbiAgICB9LCA1MDAwKTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBpbnN0YWxsYXRpb24gcHJvZ3Jlc3MnLCAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGluc3RhbGxpbmcgc3RhdGVcbiAgICAgIGplc3QuZG9Nb2NrKCdAL2ZlYXR1cmVzL3B3YS9ob29rcy91c2VQV0FJbnN0YWxsYXRpb24nLCAoKSA9PiAoe1xuICAgICAgICB1c2VQV0FJbnN0YWxsYXRpb246ICgpID0+ICh7XG4gICAgICAgICAgaXNJbnN0YWxsZWQ6IGZhbHNlLFxuICAgICAgICAgIGNhbkluc3RhbGw6IHRydWUsXG4gICAgICAgICAgaW5zdGFsbDogamVzdC5mbigpLFxuICAgICAgICAgIGlzSW5zdGFsbGluZzogdHJ1ZSxcbiAgICAgICAgfSksXG4gICAgICB9KSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuaW5zdGFsbGluZ0luZGljYXRvcikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLmluc3RhbGxpbmdJbmRpY2F0b3IpKS50b0hhdmVUZXh0Q29udGVudCgnSW5zdGFsbGluZy4uLicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IGluc3RhbGxlZCBzdGF0ZSB3aGVuIFBXQSBpcyBpbnN0YWxsZWQnLCAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGluc3RhbGxlZCBzdGF0ZVxuICAgICAgamVzdC5kb01vY2soJ0AvZmVhdHVyZXMvcHdhL2hvb2tzL3VzZVBXQUluc3RhbGxhdGlvbicsICgpID0+ICh7XG4gICAgICAgIHVzZVBXQUluc3RhbGxhdGlvbjogKCkgPT4gKHtcbiAgICAgICAgICBpc0luc3RhbGxlZDogdHJ1ZSxcbiAgICAgICAgICBjYW5JbnN0YWxsOiBmYWxzZSxcbiAgICAgICAgICBpbnN0YWxsOiBqZXN0LmZuKCksXG4gICAgICAgICAgaXNJbnN0YWxsaW5nOiBmYWxzZSxcbiAgICAgICAgfSksXG4gICAgICB9KSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuaW5zdGFsbGVkSW5kaWNhdG9yKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuaW5zdGFsbGVkSW5kaWNhdG9yKSkudG9IYXZlVGV4dENvbnRlbnQoJ1BXQSBJbnN0YWxsZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ09mZmxpbmUgRGF0YSBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc3luYyBvZmZsaW5lIGRhdGEgd2hlbiBvbmxpbmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICBjb25zdCBtb2NrU3luY09mZmxpbmVEYXRhID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICBcbiAgICAgIC8vIE1vY2sgb2ZmbGluZSBob29rIHdpdGggc3luYyBmdW5jdGlvblxuICAgICAgKHVzZVBXQU9mZmxpbmUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc09ubGluZTogdHJ1ZSxcbiAgICAgICAgb2ZmbGluZURhdGE6IHtcbiAgICAgICAgICBjYWNoZWRQYWdlczogWydwb2xsLTEnXSxcbiAgICAgICAgICBxdWV1ZWRBY3Rpb25zOiBbJ2FjdGlvbi0xJ10sXG4gICAgICAgIH0sXG4gICAgICAgIHN5bmNPZmZsaW5lRGF0YTogbW9ja1N5bmNPZmZsaW5lRGF0YSxcbiAgICAgICAgY2xlYXJPZmZsaW5lRGF0YTogamVzdC5mbigpLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHN5bmNCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2Euc3luY0J1dHRvbik7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHN5bmNCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciBhc3luYyBvcGVyYXRpb25cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja1N5bmNPZmZsaW5lRGF0YSkudG9IYXZlQmVlbkNhbGxlZCgpO1xuICAgICAgfSk7XG4gICAgfSwgNTAwMCk7XG5cbiAgICBpdCgnc2hvdWxkIGNsZWFyIG9mZmxpbmUgZGF0YScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIGNvbnN0IG1vY2tDbGVhck9mZmxpbmVEYXRhID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICBcbiAgICAgIC8vIE1vY2sgb2ZmbGluZSBob29rIHdpdGggY2xlYXIgZnVuY3Rpb25cbiAgICAgICh1c2VQV0FPZmZsaW5lIGFzIGplc3QuTW9jaykubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNPbmxpbmU6IGZhbHNlLFxuICAgICAgICBvZmZsaW5lRGF0YToge1xuICAgICAgICAgIGNhY2hlZFBhZ2VzOiBbJ3BvbGwtMSddLFxuICAgICAgICAgIHF1ZXVlZEFjdGlvbnM6IFsnYWN0aW9uLTEnXSxcbiAgICAgICAgfSxcbiAgICAgICAgc3luY09mZmxpbmVEYXRhOiBqZXN0LmZuKCksXG4gICAgICAgIGNsZWFyT2ZmbGluZURhdGE6IG1vY2tDbGVhck9mZmxpbmVEYXRhLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGNsZWFyQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLmNsZWFyQnV0dG9uKTtcbiAgICAgIGF3YWl0IHVzZXIuY2xpY2soY2xlYXJCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciBhc3luYyBvcGVyYXRpb25cbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0NsZWFyT2ZmbGluZURhdGEpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0pO1xuICAgIH0sIDUwMDApO1xuICB9KTtcblxuICBkZXNjcmliZSgnTm90aWZpY2F0aW9uIE1hbmFnZW1lbnQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXF1ZXN0IG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgY29uc3QgbW9ja1JlcXVlc3RQZXJtaXNzaW9uID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKCdncmFudGVkJyk7XG4gICAgICBcbiAgICAgIC8vIE1vY2sgbm90aWZpY2F0aW9ucyBob29rXG4gICAgICBqZXN0LmRvTW9jaygnQC9mZWF0dXJlcy9wd2EvaG9va3MvdXNlTm90aWZpY2F0aW9ucycsICgpID0+ICh7XG4gICAgICAgIHVzZU5vdGlmaWNhdGlvbnM6ICgpID0+ICh7XG4gICAgICAgICAgcGVybWlzc2lvbjogJ2RlZmF1bHQnLFxuICAgICAgICAgIHJlcXVlc3RQZXJtaXNzaW9uOiBtb2NrUmVxdWVzdFBlcm1pc3Npb24sXG4gICAgICAgICAgc2hvd05vdGlmaWNhdGlvbjogamVzdC5mbigpLFxuICAgICAgICB9KSxcbiAgICAgIH0pKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgcmVxdWVzdEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5yZXF1ZXN0UGVybWlzc2lvbkJ1dHRvbik7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKHJlcXVlc3RCdXR0b24pO1xuICAgICAgXG4gICAgICBleHBlY3QobW9ja1JlcXVlc3RQZXJtaXNzaW9uKS50b0hhdmVCZWVuQ2FsbGVkKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgbm90aWZpY2F0aW9uIHdoZW4gcGVybWlzc2lvbiBpcyBncmFudGVkJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgY29uc3QgbW9ja1Nob3dOb3RpZmljYXRpb24gPSBqZXN0LmZuKCk7XG4gICAgICBcbiAgICAgIC8vIE1vY2sgbm90aWZpY2F0aW9ucyBob29rXG4gICAgICBqZXN0LmRvTW9jaygnQC9mZWF0dXJlcy9wd2EvaG9va3MvdXNlTm90aWZpY2F0aW9ucycsICgpID0+ICh7XG4gICAgICAgIHVzZU5vdGlmaWNhdGlvbnM6ICgpID0+ICh7XG4gICAgICAgICAgcGVybWlzc2lvbjogJ2dyYW50ZWQnLFxuICAgICAgICAgIHJlcXVlc3RQZXJtaXNzaW9uOiBqZXN0LmZuKCksXG4gICAgICAgICAgc2hvd05vdGlmaWNhdGlvbjogbW9ja1Nob3dOb3RpZmljYXRpb24sXG4gICAgICAgIH0pLFxuICAgICAgfSkpO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxQV0FGZWF0dXJlcyAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCB0ZXN0QnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLnRlc3ROb3RpZmljYXRpb25CdXR0b24pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayh0ZXN0QnV0dG9uKTtcbiAgICAgIFxuICAgICAgZXhwZWN0KG1vY2tTaG93Tm90aWZpY2F0aW9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHRpdGxlOiAnVGVzdCBOb3RpZmljYXRpb24nLFxuICAgICAgICBib2R5OiAnVGhpcyBpcyBhIHRlc3Qgbm90aWZpY2F0aW9uJyxcbiAgICAgICAgaWNvbjogJy9pY29uLTE5MngxOTIucG5nJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgaW5zdGFsbGF0aW9uIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIGNvbnN0IG1vY2tJbnN0YWxsID0gamVzdC5mbigpLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignSW5zdGFsbGF0aW9uIGZhaWxlZCcpKTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBpbnN0YWxsYXRpb24gaG9vayB3aXRoIGVycm9yXG4gICAgICBqZXN0LmRvTW9jaygnQC9mZWF0dXJlcy9wd2EvaG9va3MvdXNlUFdBSW5zdGFsbGF0aW9uJywgKCkgPT4gKHtcbiAgICAgICAgdXNlUFdBSW5zdGFsbGF0aW9uOiAoKSA9PiAoe1xuICAgICAgICAgIGlzSW5zdGFsbGVkOiBmYWxzZSxcbiAgICAgICAgICBjYW5JbnN0YWxsOiB0cnVlLFxuICAgICAgICAgIGluc3RhbGw6IG1vY2tJbnN0YWxsLFxuICAgICAgICAgIGlzSW5zdGFsbGluZzogZmFsc2UsXG4gICAgICAgIH0pLFxuICAgICAgfSkpO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxQV0FGZWF0dXJlcyAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBpbnN0YWxsQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLmluc3RhbGxCdXR0b24pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhpbnN0YWxsQnV0dG9uKTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIHNob3cgZXJyb3IgbWVzc2FnZVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuaW5zdGFsbEVycm9yKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5pbnN0YWxsRXJyb3IpKS50b0hhdmVUZXh0Q29udGVudCgnSW5zdGFsbGF0aW9uIGZhaWxlZCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzeW5jIGVycm9ycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIGNvbnN0IG1vY2tTeW5jT2ZmbGluZURhdGEgPSBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdTeW5jIGZhaWxlZCcpKTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBvZmZsaW5lIGhvb2sgd2l0aCBlcnJvclxuICAgICAgamVzdC5kb01vY2soJ0AvZmVhdHVyZXMvcHdhL2hvb2tzL3VzZU9mZmxpbmUnLCAoKSA9PiAoe1xuICAgICAgICB1c2VPZmZsaW5lOiAoKSA9PiAoe1xuICAgICAgICAgIGlzT25saW5lOiB0cnVlLFxuICAgICAgICAgIG9mZmxpbmVEYXRhOiB7XG4gICAgICAgICAgICBjYWNoZWRQYWdlczogWydwb2xsLTEnXSxcbiAgICAgICAgICAgIHF1ZXVlZEFjdGlvbnM6IFsnYWN0aW9uLTEnXSxcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN5bmNPZmZsaW5lRGF0YTogbW9ja1N5bmNPZmZsaW5lRGF0YSxcbiAgICAgICAgICBjbGVhck9mZmxpbmVEYXRhOiBqZXN0LmZuKCksXG4gICAgICAgIH0pLFxuICAgICAgfSkpO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxQV0FGZWF0dXJlcyAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBzeW5jQnV0dG9uID0gc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLnN5bmNCdXR0b24pO1xuICAgICAgYXdhaXQgdXNlci5jbGljayhzeW5jQnV0dG9uKTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIHNob3cgZXJyb3IgbWVzc2FnZVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2Euc3luY0Vycm9yKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5zeW5jRXJyb3IpKS50b0hhdmVUZXh0Q29udGVudCgnU3luYyBmYWlsZWQnKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGJlIGtleWJvYXJkIG5hdmlnYWJsZScsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIFRhYiB0aHJvdWdoIGVsZW1lbnRzXG4gICAgICBjb25zdCBmaXJzdEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuZmlyc3RGb2N1c2FibGUpO1xuICAgICAgZmlyc3RFbGVtZW50LmZvY3VzKCk7XG4gICAgICBleHBlY3QoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkudG9CZShmaXJzdEVsZW1lbnQpO1xuICAgICAgXG4gICAgICAvLyBUYWIgdG8gbmV4dCBlbGVtZW50XG4gICAgICBmaXJlRXZlbnQua2V5RG93bihmaXJzdEVsZW1lbnQsIHsga2V5OiAnVGFiJyB9KTtcbiAgICAgIGNvbnN0IHNlY29uZEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2Euc2Vjb25kRm9jdXNhYmxlKTtcbiAgICAgIGV4cGVjdChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS50b0JlKHNlY29uZEVsZW1lbnQpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBBUklBIGxhYmVscycsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBBUklBIGxhYmVsc1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5pbnN0YWxsQnV0dG9uKSkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0luc3RhbGwgUFdBJyk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLnN5bmNCdXR0b24pKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnU3luYyBvZmZsaW5lIGRhdGEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYW5ub3VuY2Ugc3RhdGUgY2hhbmdlcyB0byBzY3JlZW4gcmVhZGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIFxuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgLy8gVHJpZ2dlciBzdGF0ZSBjaGFuZ2VcbiAgICAgIGNvbnN0IGluc3RhbGxCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuaW5zdGFsbEJ1dHRvbik7XG4gICAgICBhd2FpdCB1c2VyLmNsaWNrKGluc3RhbGxCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgYW5ub3VuY2Ugc3RhdGUgY2hhbmdlXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5zdGF0ZUFubm91bmNlbWVudCkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIHdpdGhpbiBwZXJmb3JtYW5jZSBidWRnZXQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIFxuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCByZW5kZXIgd2l0aGluIDEwMG1zXG4gICAgICBleHBlY3QocmVuZGVyVGltZSkudG9CZUxlc3NUaGFuKDEwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIG5vdCBjYXVzZSBtZW1vcnkgbGVha3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHVubW91bnQgfSA9IHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIFVubW91bnQgY29tcG9uZW50XG4gICAgICB1bm1vdW50KCk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBub3QgbGVhdmUgYW55IGV2ZW50IGxpc3RlbmVycyBvciB0aW1lcnNcbiAgICAgIGV4cGVjdChqZXN0LmdldFRpbWVyQ291bnQoKSkudG9CZSgwKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcblxuXG5cblxuXG5cblxuXG5cblxuXG4iXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJCZWxsIiwiZGl2IiwiZGF0YS10ZXN0aWQiLCJCZWxsT2ZmIiwiQ2hlY2tDaXJjbGUiLCJBbGVydENpcmNsZSIsIldpZmkiLCJXaWZpT2ZmIiwiRG93bmxvYWQiLCJTZXR0aW5ncyIsIlJlZnJlc2hDdyIsIkRhdGFiYXNlIiwiQ2xvY2siLCJDaGVjayIsIlgiLCJ1c2VQV0FJbnN0YWxsYXRpb24iLCJmbiIsImlzSW5zdGFsbGVkIiwiY2FuSW5zdGFsbCIsImluc3RhbGwiLCJjaGVja0luc3RhbGxhdGlvblN0YXR1cyIsInVzZVBXQU9mZmxpbmUiLCJpc09ubGluZSIsIm9mZmxpbmVEYXRhIiwiY2FjaGVkUGFnZXMiLCJjYWNoZWRSZXNvdXJjZXMiLCJxdWV1ZWRBY3Rpb25zIiwic3luY09mZmxpbmVEYXRhIiwiY2xlYXJPZmZsaW5lRGF0YSIsInVzZVBXQU5vdGlmaWNhdGlvbnMiLCJwZXJtaXNzaW9uIiwicmVxdWVzdFBlcm1pc3Npb24iLCJzaG93Tm90aWZpY2F0aW9uIiwidXNlUFdBTG9hZGluZyIsInVzZVBXQUVycm9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJ3aW5kb3ciLCJ2YWx1ZSIsIm1vY2tJbXBsZW1lbnRhdGlvbiIsInF1ZXJ5IiwibWF0Y2hlcyIsIm1lZGlhIiwib25jaGFuZ2UiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXNwYXRjaEV2ZW50Iiwid3JpdGFibGUiLCJuYXZpZ2F0b3IiLCJyZWdpc3RlciIsInJlYWR5IiwiUHJvbWlzZSIsInJlc29sdmUiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwiZ2xvYmFsIiwiZmV0Y2giLCJvayIsImpzb24iLCJzdWNjZXNzIiwiZGVzY3JpYmUiLCJ1c2VGYWtlVGltZXJzIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrQ2xlYXIiLCJjbGVhckFsbFRpbWVycyIsImFmdGVyRWFjaCIsInJ1bk9ubHlQZW5kaW5nVGltZXJzIiwidXNlUmVhbFRpbWVycyIsIml0IiwicmVuZGVyIiwiQnJvd3NlclJvdXRlciIsIlBXQUZlYXR1cmVzIiwiZXhwZWN0Iiwic2NyZWVuIiwiZ2V0QnlUZXN0SWQiLCJ0b0JlSW5UaGVEb2N1bWVudCIsInJlcXVpcmUiLCJtb2NrUmV0dXJuVmFsdWUiLCJpc0luc3RhbGxpbmciLCJxdWVyeUJ5VGVzdElkIiwibm90IiwiY2xhc3NOYW1lIiwiY29udGFpbmVyIiwidG9IYXZlQ2xhc3MiLCJkb01vY2siLCJ1c2VPZmZsaW5lIiwiVCIsInB3YSIsIm9mZmxpbmVRdWV1ZSIsIm9mZmxpbmVTeW5jIiwibm90aWZpY2F0aW9uUGVybWlzc2lvbiIsIm5vdGlmaWNhdGlvblByZWZlcmVuY2VzIiwicmVndWxhclVzZXJOb3RpZmljYXRpb25zIiwidG9IYXZlVGV4dENvbnRlbnQiLCJhZG1pblVzZXJOb3RpZmljYXRpb25zIiwibW9iaWxlTm90aWZpY2F0aW9ucyIsInVzZXIiLCJ1c2VyRXZlbnQiLCJzZXR1cCIsIm1vY2tJbnN0YWxsIiwidW5kZWZpbmVkIiwiaW5zdGFsbEJ1dHRvbiIsImNsaWNrIiwid2FpdEZvciIsInRvSGF2ZUJlZW5DYWxsZWQiLCJpbnN0YWxsaW5nSW5kaWNhdG9yIiwiaW5zdGFsbGVkSW5kaWNhdG9yIiwibW9ja1N5bmNPZmZsaW5lRGF0YSIsInN5bmNCdXR0b24iLCJtb2NrQ2xlYXJPZmZsaW5lRGF0YSIsImNsZWFyQnV0dG9uIiwibW9ja1JlcXVlc3RQZXJtaXNzaW9uIiwidXNlTm90aWZpY2F0aW9ucyIsInJlcXVlc3RCdXR0b24iLCJyZXF1ZXN0UGVybWlzc2lvbkJ1dHRvbiIsIm1vY2tTaG93Tm90aWZpY2F0aW9uIiwidGVzdEJ1dHRvbiIsInRlc3ROb3RpZmljYXRpb25CdXR0b24iLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInRpdGxlIiwiYm9keSIsImljb24iLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwiaW5zdGFsbEVycm9yIiwic3luY0Vycm9yIiwiZmlyc3RFbGVtZW50IiwiZmlyc3RGb2N1c2FibGUiLCJmb2N1cyIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsInRvQmUiLCJmaXJlRXZlbnQiLCJrZXlEb3duIiwia2V5Iiwic2Vjb25kRWxlbWVudCIsInNlY29uZEZvY3VzYWJsZSIsInRvSGF2ZUF0dHJpYnV0ZSIsInN0YXRlQW5ub3VuY2VtZW50Iiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJlbmRUaW1lIiwicmVuZGVyVGltZSIsInRvQmVMZXNzVGhhbiIsInVubW91bnQiLCJnZXRUaW1lckNvdW50Il0sIm1hcHBpbmdzIjoiQUFBQTs7Q0FFQyxHQUVELDRDQUE0Qzs7QUE4QjVDLDBCQUEwQjtBQUMxQkEsS0FBS0MsSUFBSSxDQUFDLGdCQUFnQixJQUFPLENBQUE7UUFDL0JDLE1BQU0sa0JBQU0scUJBQUNDO2dCQUFJQyxlQUFZOztRQUM3QkMsU0FBUyxrQkFBTSxxQkFBQ0Y7Z0JBQUlDLGVBQVk7O1FBQ2hDRSxhQUFhLGtCQUFNLHFCQUFDSDtnQkFBSUMsZUFBWTs7UUFD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