9b79f0d665a5089626e1e01331a579aa
/**
 * User Store - Zustand Implementation
 * 
 * Centralized user state management including authentication, profile,
 * preferences, and settings. Consolidates AuthContext and user-related state.
 * 
 * Created: October 10, 2025
 * Status: âœ… ACTIVE
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    useBiometric: function() {
        return useBiometric;
    },
    useBiometricAvailable: function() {
        return useBiometricAvailable;
    },
    useBiometricCredentials: function() {
        return useBiometricCredentials;
    },
    useBiometricError: function() {
        return useBiometricError;
    },
    useBiometricRegistering: function() {
        return useBiometricRegistering;
    },
    useBiometricSuccess: function() {
        return useBiometricSuccess;
    },
    useBiometricSupported: function() {
        return useBiometricSupported;
    },
    useIsAuthenticated: function() {
        return useIsAuthenticated;
    },
    useSession: function() {
        return useSession;
    },
    useUser: function() {
        return useUser;
    },
    useUserActions: function() {
        return useUserActions;
    },
    useUserAddressLoading: function() {
        return useUserAddressLoading;
    },
    useUserAvatar: function() {
        return useUserAvatar;
    },
    useUserAvatarFile: function() {
        return useUserAvatarFile;
    },
    useUserAvatarPreview: function() {
        return useUserAvatarPreview;
    },
    useUserCurrentAddress: function() {
        return useUserCurrentAddress;
    },
    useUserCurrentState: function() {
        return useUserCurrentState;
    },
    useUserDisplayName: function() {
        return useUserDisplayName;
    },
    useUserError: function() {
        return useUserError;
    },
    useUserIsProfileEditing: function() {
        return useUserIsProfileEditing;
    },
    useUserIsUploadingAvatar: function() {
        return useUserIsUploadingAvatar;
    },
    useUserLoading: function() {
        return useUserLoading;
    },
    useUserNewAddress: function() {
        return useUserNewAddress;
    },
    useUserNotifications: function() {
        return useUserNotifications;
    },
    useUserPreferences: function() {
        return useUserPreferences;
    },
    useUserProfile: function() {
        return useUserProfile;
    },
    useUserProfileEditData: function() {
        return useUserProfileEditData;
    },
    useUserProfileEditErrors: function() {
        return useUserProfileEditErrors;
    },
    useUserRepresentatives: function() {
        return useUserRepresentatives;
    },
    useUserSavedSuccessfully: function() {
        return useUserSavedSuccessfully;
    },
    useUserSettings: function() {
        return useUserSettings;
    },
    useUserShowAddressForm: function() {
        return useUserShowAddressForm;
    },
    useUserStore: function() {
        return useUserStore;
    },
    useUserTheme: function() {
        return useUserTheme;
    },
    userStoreDebug: function() {
        return userStoreDebug;
    },
    userStoreSubscriptions: function() {
        return userStoreSubscriptions;
    },
    userStoreUtils: function() {
        return userStoreUtils;
    }
});
const _zustand = require("zustand");
const _middleware = require("zustand/middleware");
const _immer = require("zustand/middleware/immer");
const useUserStore = (0, _zustand.create)()((0, _middleware.devtools)((0, _middleware.persist)((0, _immer.immer)((set, _get)=>({
        // Initial state
        user: null,
        session: null,
        isAuthenticated: false,
        profile: null,
        // Profile editing state
        profileEditData: null,
        isProfileEditing: false,
        profileEditErrors: {},
        // Address and representatives
        currentAddress: "",
        currentState: "",
        representatives: [],
        showAddressForm: false,
        newAddress: "",
        addressLoading: false,
        savedSuccessfully: false,
        // Avatar editing
        avatarFile: null,
        avatarPreview: null,
        isUploadingAvatar: false,
        biometric: {
            isSupported: null,
            isAvailable: null,
            hasCredentials: null,
            isRegistering: false,
            error: null,
            success: false
        },
        isLoading: false,
        isProfileLoading: false,
        isUpdating: false,
        error: null,
        // Base store actions
        setLoading: (loading)=>set((state)=>{
                state.isLoading = loading;
            }),
        setError: (error)=>set((state)=>{
                state.error = error;
            }),
        clearError: ()=>set((state)=>{
                state.error = null;
            }),
        // Authentication actions - Fixed architecture to prevent infinite loops
        setUser: (user)=>set((state)=>{
                // Only update if the user is actually different
                if (state.user !== user) {
                    state.user = user;
                // Don't automatically set isAuthenticated here to prevent cascading updates
                // Let the calling code explicitly set authentication state
                }
            }),
        setSession: (session)=>set((state)=>{
                // Only update session if it's actually different
                if (state.session !== session) {
                    state.session = session;
                // Don't automatically update user/authentication to prevent cascading updates
                // Let the calling code explicitly manage these relationships
                }
            }),
        setAuthenticated: (authenticated)=>set((state)=>{
                // Only update if the authentication state is actually different
                if (state.isAuthenticated !== authenticated) {
                    state.isAuthenticated = authenticated;
                    if (!authenticated) {
                        state.user = null;
                        state.session = null;
                        state.profile = null;
                    }
                }
            }),
        // New method to safely set user and authentication together
        setUserAndAuth: (user, authenticated)=>set((state)=>{
                const userChanged = state.user !== user;
                const authChanged = state.isAuthenticated !== authenticated;
                if (userChanged || authChanged) {
                    state.user = user;
                    state.isAuthenticated = authenticated;
                    // Clear related state if not authenticated
                    if (!authenticated) {
                        state.session = null;
                        state.profile = null;
                    }
                }
            }),
        // New method to safely set session and derived state together
        setSessionAndDerived: (session)=>set((state)=>{
                if (state.session !== session) {
                    state.session = session;
                    // Only update derived state if session actually changed
                    const newUser = session?.user || null;
                    const newAuthenticated = !!newUser;
                    if (state.user !== newUser) {
                        state.user = newUser;
                    }
                    if (state.isAuthenticated !== newAuthenticated) {
                        state.isAuthenticated = newAuthenticated;
                    }
                }
            }),
        signOut: ()=>set((state)=>{
                state.user = null;
                state.session = null;
                state.profile = null;
                state.isAuthenticated = false;
                state.error = null;
            }),
        clearUser: ()=>set((state)=>{
                state.user = null;
                state.session = null;
                state.profile = null;
                state.isAuthenticated = false;
                state.error = null;
                state.isLoading = false;
                state.isProfileLoading = false;
                state.isUpdating = false;
            }),
        // Profile actions
        setProfile: (profile)=>set((state)=>{
                state.profile = profile;
                if (profile) {}
            }),
        updateProfile: (updates)=>set((state)=>{
                if (state.profile) {
                    state.profile = {
                        ...state.profile,
                        ...updates
                    };
                    state.profile.metadata.updatedAt = new Date().toISOString();
                }
            }),
        updatePreferences: (preferences)=>set((state)=>{
                if (state.profile) {
                    state.profile.preferences = {
                        ...state.profile.preferences,
                        ...preferences
                    };
                    state.profile.metadata.updatedAt = new Date().toISOString();
                }
            }),
        updateSettings: (settings)=>set((state)=>{
                if (state.profile) {
                    state.profile.settings = {
                        ...state.profile.settings,
                        ...settings
                    };
                    state.profile.metadata.updatedAt = new Date().toISOString();
                }
            }),
        updateMetadata: (metadata)=>set((state)=>{
                if (state.profile) {
                    state.profile.metadata = {
                        ...state.profile.metadata,
                        ...metadata
                    };
                }
            }),
        // Loading state actions
        setProfileLoading: (loading)=>set((state)=>{
                state.isProfileLoading = loading;
            }),
        setUpdating: (updating)=>set((state)=>{
                state.isUpdating = updating;
            }),
        // Biometric actions
        setBiometricSupported: (supported)=>set((state)=>{
                state.biometric.isSupported = supported;
            }),
        setBiometricAvailable: (available)=>set((state)=>{
                state.biometric.isAvailable = available;
            }),
        setBiometricCredentials: (hasCredentials)=>set((state)=>{
                state.biometric.hasCredentials = hasCredentials;
            }),
        setBiometricRegistering: (registering)=>set((state)=>{
                state.biometric.isRegistering = registering;
            }),
        setBiometricError: (error)=>set((state)=>{
                state.biometric.error = error;
            }),
        setBiometricSuccess: (success)=>set((state)=>{
                state.biometric.success = success;
            }),
        resetBiometric: ()=>set((state)=>{
                state.biometric = {
                    isSupported: null,
                    isAvailable: null,
                    hasCredentials: null,
                    isRegistering: false,
                    error: null,
                    success: false
                };
            }),
        // Profile editing actions
        setProfileEditData: (data)=>set((state)=>{
                state.profileEditData = data;
            }),
        updateProfileEditData: (updates)=>set((state)=>{
                if (state.profileEditData) {
                    state.profileEditData = {
                        ...state.profileEditData,
                        ...updates
                    };
                }
            }),
        updateProfileField: (field, value)=>set((state)=>{
                if (state.profileEditData) {
                    state.profileEditData[field] = value;
                }
            }),
        updateArrayField: (field, value)=>set((state)=>{
                if (state.profileEditData) {
                    const currentArray = state.profileEditData[field] || [];
                    const newArray = currentArray.includes(value) ? currentArray.filter((item)=>item !== value) : [
                        ...currentArray,
                        value
                    ];
                    state.profileEditData[field] = newArray;
                }
            }),
        updatePrivacySetting: (setting, value)=>set((state)=>{
                if (state.profileEditData) {
                    state.profileEditData.privacysettings[setting] = value;
                }
            }),
        setProfileEditing: (editing)=>set((state)=>{
                state.isProfileEditing = editing;
            }),
        setProfileEditError: (field, error)=>set((state)=>{
                state.profileEditErrors[field] = error;
            }),
        clearProfileEditError: (field)=>set((state)=>{
                delete state.profileEditErrors[field];
            }),
        clearAllProfileEditErrors: ()=>set((state)=>{
                state.profileEditErrors = {};
            }),
        // Address and representatives actions
        setCurrentAddress: (address)=>set((state)=>{
                state.currentAddress = address;
            }),
        setCurrentState: (stateValue)=>set((state)=>{
                state.currentState = stateValue;
            }),
        setRepresentatives: (representatives)=>set((state)=>{
                state.representatives = representatives;
            }),
        addRepresentative: (representative)=>set((state)=>{
                const existingIndex = state.representatives.findIndex((rep)=>rep.id === representative.id);
                if (existingIndex === -1) {
                    state.representatives.push(representative);
                }
            }),
        removeRepresentative: (id)=>set((state)=>{
                state.representatives = state.representatives.filter((rep)=>rep.id !== id);
            }),
        setShowAddressForm: (show)=>set((state)=>{
                state.showAddressForm = show;
            }),
        setNewAddress: (address)=>set((state)=>{
                state.newAddress = address;
            }),
        setAddressLoading: (loading)=>set((state)=>{
                state.addressLoading = loading;
            }),
        setSavedSuccessfully: (saved)=>set((state)=>{
                state.savedSuccessfully = saved;
            }),
        lookupAddress: async (address)=>{
            try {
                const response = await fetch(`/api/civics/by-address?address=${encodeURIComponent(address)}`);
                if (!response.ok) {
                    throw new Error("Address lookup failed");
                }
                const result = await response.json();
                return result.data || [];
            } catch (error) {
                console.error("Address lookup failed:", error);
                throw error;
            }
        },
        handleAddressUpdate: async (address)=>{
            const currentState = _get();
            set((state)=>{
                state.addressLoading = true;
            });
            try {
                const representatives = await currentState.lookupAddress(address);
                set((state)=>{
                    state.currentAddress = address;
                    state.representatives = representatives;
                    state.showAddressForm = false;
                    state.newAddress = "";
                    state.savedSuccessfully = true;
                    state.addressLoading = false;
                });
                // Clear success message after 3 seconds
                setTimeout(()=>{
                    set((state)=>{
                        state.savedSuccessfully = false;
                    });
                }, 3000);
            } catch (error) {
                console.error("Address update failed:", error);
                set((state)=>{
                    state.addressLoading = false;
                    state.savedSuccessfully = false;
                });
                throw error;
            }
        },
        // Avatar actions
        setAvatarFile: (file)=>set((state)=>{
                state.avatarFile = file;
            }),
        setAvatarPreview: (preview)=>set((state)=>{
                state.avatarPreview = preview;
            }),
        setUploadingAvatar: (uploading)=>set((state)=>{
                state.isUploadingAvatar = uploading;
            }),
        clearAvatar: ()=>set((state)=>{
                state.avatarFile = null;
                state.avatarPreview = null;
            }),
        // Error handling actions
        setUserError: (error)=>set((state)=>{
                state.error = error;
                if (error) {
                    console.error("User store error:", error);
                }
            }),
        clearUserError: ()=>set((state)=>{
                state.error = null;
            })
    })), {
    name: "user-store",
    partialize: (state)=>({
            profile: state.profile,
            isAuthenticated: state.isAuthenticated
        })
}), {
    name: "user-store"
}));
const useUser = ()=>useUserStore((state)=>state.user);
const useSession = ()=>useUserStore((state)=>state.session);
const useIsAuthenticated = ()=>useUserStore((state)=>state.isAuthenticated);
const useUserProfile = ()=>useUserStore((state)=>state.profile);
const useUserPreferences = ()=>useUserStore((state)=>state.profile?.preferences);
const useUserSettings = ()=>useUserStore((state)=>state.profile?.settings);
const useUserLoading = ()=>useUserStore((state)=>state.isLoading);
const useUserError = ()=>useUserStore((state)=>state.error);
const useBiometric = ()=>useUserStore((state)=>state.biometric);
const useBiometricSupported = ()=>useUserStore((state)=>state.biometric.isSupported);
const useBiometricAvailable = ()=>useUserStore((state)=>state.biometric.isAvailable);
const useBiometricCredentials = ()=>useUserStore((state)=>state.biometric.hasCredentials);
const useBiometricRegistering = ()=>useUserStore((state)=>state.biometric.isRegistering);
const useBiometricError = ()=>useUserStore((state)=>state.biometric.error);
const useBiometricSuccess = ()=>useUserStore((state)=>state.biometric.success);
const useUserActions = ()=>useUserStore((state)=>({
            setUser: state.setUser,
            setSession: state.setSession,
            setAuthenticated: state.setAuthenticated,
            signOut: state.signOut,
            clearUser: state.clearUser,
            setProfile: state.setProfile,
            updateProfile: state.updateProfile,
            updatePreferences: state.updatePreferences,
            updateSettings: state.updateSettings,
            updateMetadata: state.updateMetadata,
            setProfileLoading: state.setProfileLoading,
            setUpdating: state.setUpdating,
            setUserError: state.setUserError,
            clearUserError: state.clearUserError,
            setBiometricSupported: state.setBiometricSupported,
            setBiometricAvailable: state.setBiometricAvailable,
            setBiometricCredentials: state.setBiometricCredentials,
            setBiometricRegistering: state.setBiometricRegistering,
            setBiometricError: state.setBiometricError,
            setBiometricSuccess: state.setBiometricSuccess,
            resetBiometric: state.resetBiometric,
            // Profile editing actions
            setProfileEditData: state.setProfileEditData,
            updateProfileEditData: state.updateProfileEditData,
            updateProfileField: state.updateProfileField,
            updateArrayField: state.updateArrayField,
            updatePrivacySetting: state.updatePrivacySetting,
            setProfileEditing: state.setProfileEditing,
            setProfileEditError: state.setProfileEditError,
            clearProfileEditError: state.clearProfileEditError,
            clearAllProfileEditErrors: state.clearAllProfileEditErrors,
            // Address and representatives actions
            setCurrentAddress: state.setCurrentAddress,
            setCurrentState: state.setCurrentState,
            setRepresentatives: state.setRepresentatives,
            addRepresentative: state.addRepresentative,
            removeRepresentative: state.removeRepresentative,
            setShowAddressForm: state.setShowAddressForm,
            setNewAddress: state.setNewAddress,
            setAddressLoading: state.setAddressLoading,
            setSavedSuccessfully: state.setSavedSuccessfully,
            lookupAddress: state.lookupAddress,
            handleAddressUpdate: state.handleAddressUpdate,
            // Avatar actions
            setAvatarFile: state.setAvatarFile,
            setAvatarPreview: state.setAvatarPreview,
            setUploadingAvatar: state.setUploadingAvatar,
            clearAvatar: state.clearAvatar
        }));
const useUserDisplayName = ()=>useUserStore((state)=>{
        if (state.profile?.username) return state.profile.username;
        if (state.user?.user_metadata?.full_name) return state.user.user_metadata.full_name;
        if (state.user?.email) return state.user.email.split("@")[0];
        return "User";
    });
const useUserAvatar = ()=>useUserStore((state)=>{
        if (state.profile?.avatar) return state.profile.avatar;
        if (state.user?.user_metadata?.avatar_url) return state.user.user_metadata.avatar_url;
        return null;
    });
const useUserTheme = ()=>useUserStore((state)=>{
        return state.profile?.preferences?.theme || "system";
    });
const useUserNotifications = ()=>useUserStore((state)=>{
        return state.profile?.preferences?.notifications ?? true;
    });
const useUserProfileEditData = ()=>useUserStore((state)=>state.profileEditData);
const useUserIsProfileEditing = ()=>useUserStore((state)=>state.isProfileEditing);
const useUserProfileEditErrors = ()=>useUserStore((state)=>state.profileEditErrors);
const useUserCurrentAddress = ()=>useUserStore((state)=>state.currentAddress);
const useUserCurrentState = ()=>useUserStore((state)=>state.currentState);
const useUserRepresentatives = ()=>useUserStore((state)=>state.representatives);
const useUserShowAddressForm = ()=>useUserStore((state)=>state.showAddressForm);
const useUserNewAddress = ()=>useUserStore((state)=>state.newAddress);
const useUserAddressLoading = ()=>useUserStore((state)=>state.addressLoading);
const useUserSavedSuccessfully = ()=>useUserStore((state)=>state.savedSuccessfully);
const useUserAvatarFile = ()=>useUserStore((state)=>state.avatarFile);
const useUserAvatarPreview = ()=>useUserStore((state)=>state.avatarPreview);
const useUserIsUploadingAvatar = ()=>useUserStore((state)=>state.isUploadingAvatar);
const userStoreUtils = {
    /**
   * Check if user has specific preference
   */ hasPreference: (preference)=>{
        const state = useUserStore.getState();
        return state.profile?.preferences?.[preference] ?? false;
    },
    /**
   * Check if user has specific setting
   */ hasSetting: (setting)=>{
        const state = useUserStore.getState();
        return state.profile?.settings?.[setting] ?? false;
    },
    /**
   * Get user's full profile with computed fields
   */ getFullProfile: ()=>{
        const state = useUserStore.getState();
        if (!state.profile || !state.user) return null;
        return {
            ...state.profile,
            email: state.user.email,
            id: state.user.id,
            createdAt: state.user.created_at,
            lastSignIn: state.user.last_sign_in_at
        };
    },
    /**
   * Check if user is admin
   */ isAdmin: ()=>{
        const state = useUserStore.getState();
        return state.user?.user_metadata?.role === "admin";
    },
    /**
   * Get user's display information
   */ getDisplayInfo: ()=>{
        const state = useUserStore.getState();
        return {
            name: state.profile?.username || state.user?.email?.split("@")[0] || "User",
            avatar: state.profile?.avatar || state.user?.user_metadata?.avatar_url,
            email: state.user?.email,
            theme: state.profile?.preferences?.theme || "system",
            notifications: state.profile?.preferences?.notifications ?? true
        };
    }
};
const userStoreSubscriptions = {
    /**
   * Subscribe to authentication changes
   */ onAuthChange: (callback)=>{
        return useUserStore.subscribe((state, prevState)=>{
            const { isAuthenticated, user } = state;
            const { isAuthenticated: prevIsAuthenticated, user: prevUser } = prevState;
            if (isAuthenticated !== prevIsAuthenticated || user !== prevUser) {
                callback(isAuthenticated, user);
            }
        });
    },
    /**
   * Subscribe to profile changes
   */ onProfileChange: (callback)=>{
        return useUserStore.subscribe((state, prevState)=>{
            const { profile } = state;
            const { profile: prevProfile } = prevState;
            if (profile !== prevProfile) {
                callback(profile);
            }
        });
    },
    /**
   * Subscribe to preference changes
   */ onPreferenceChange: (callback)=>{
        return useUserStore.subscribe((state, prevState)=>{
            const preferences = state.profile?.preferences;
            const prevPreferences = prevState.profile?.preferences;
            if (preferences !== prevPreferences && preferences) {
                callback(preferences);
            }
        });
    }
};
const userStoreDebug = {
    /**
   * Log current user state
   */ logState: ()=>{
        const state = useUserStore.getState();
    // State logging removed for production
    },
    /**
   * Log user profile details
   */ logProfile: ()=>{
        const state = useUserStore.getState();
        if (state.profile) {
        // Profile logging removed for production
        }
    },
    /**
   * Reset store to initial state
   */ reset: ()=>{
        useUserStore.getState().clearUser();
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvc3RvcmVzL3VzZXJTdG9yZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFVzZXIgU3RvcmUgLSBadXN0YW5kIEltcGxlbWVudGF0aW9uXG4gKiBcbiAqIENlbnRyYWxpemVkIHVzZXIgc3RhdGUgbWFuYWdlbWVudCBpbmNsdWRpbmcgYXV0aGVudGljYXRpb24sIHByb2ZpbGUsXG4gKiBwcmVmZXJlbmNlcywgYW5kIHNldHRpbmdzLiBDb25zb2xpZGF0ZXMgQXV0aENvbnRleHQgYW5kIHVzZXItcmVsYXRlZCBzdGF0ZS5cbiAqIFxuICogQ3JlYXRlZDogT2N0b2JlciAxMCwgMjAyNVxuICogU3RhdHVzOiDinIUgQUNUSVZFXG4gKi9cblxuaW1wb3J0IHR5cGUgeyBVc2VyLCBTZXNzaW9uIH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnO1xuaW1wb3J0IHsgZGV2dG9vbHMgfSBmcm9tICd6dXN0YW5kL21pZGRsZXdhcmUnO1xuaW1wb3J0IHsgcGVyc2lzdCB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5pbXBvcnQgeyBpbW1lciB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZS9pbW1lcic7XG5cbmltcG9ydCB7IHdpdGhPcHRpb25hbCB9IGZyb20gJ0AvbGliL3V0aWxzL29iamVjdHMnO1xuXG5pbXBvcnQgdHlwZSB7IFVzZXJQcm9maWxlLCBCYXNlU3RvcmUgfSBmcm9tICcuL3R5cGVzJztcblxuLy8gUHJvZmlsZSBlZGl0aW5nIHR5cGVzXG5leHBvcnQgaW50ZXJmYWNlIFByb2ZpbGVVcGRhdGVEYXRhIHtcbiAgZGlzcGxheW5hbWU6IHN0cmluZztcbiAgYmlvOiBzdHJpbmc7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIHByaW1hcnljb25jZXJuczogc3RyaW5nW107XG4gIGNvbW11bml0eWZvY3VzOiBzdHJpbmdbXTtcbiAgcGFydGljaXBhdGlvbnN0eWxlOiAnb2JzZXJ2ZXInIHwgJ3BhcnRpY2lwYW50JyB8ICdsZWFkZXInIHwgJ29yZ2FuaXplcic7XG4gIHByaXZhY3lzZXR0aW5nczoge1xuICAgIHByb2ZpbGVfdmlzaWJpbGl0eTogJ3B1YmxpYycgfCAncHJpdmF0ZScgfCAnZnJpZW5kcyc7XG4gICAgc2hvd19lbWFpbDogYm9vbGVhbjtcbiAgICBzaG93X2FjdGl2aXR5OiBib29sZWFuO1xuICAgIGFsbG93X21lc3NhZ2VzOiBib29sZWFuO1xuICAgIHNoYXJlX2RlbW9ncmFwaGljczogYm9vbGVhbjtcbiAgICBhbGxvd19hbmFseXRpY3M6IGJvb2xlYW47XG4gIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVwcmVzZW50YXRpdmUge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIHBhcnR5OiBzdHJpbmc7XG4gIGRpc3RyaWN0OiBzdHJpbmc7XG4gIHN0YXRlOiBzdHJpbmc7XG4gIHBob25lPzogc3RyaW5nO1xuICBlbWFpbD86IHN0cmluZztcbiAgd2Vic2l0ZT86IHN0cmluZztcbiAgcGhvdG8/OiBzdHJpbmc7XG4gIHNvY2lhbE1lZGlhPzoge1xuICAgIHR3aXR0ZXI/OiBzdHJpbmc7XG4gICAgZmFjZWJvb2s/OiBzdHJpbmc7XG4gICAgaW5zdGFncmFtPzogc3RyaW5nO1xuICB9O1xufVxuXG4vLyBVc2VyIHN0b3JlIHN0YXRlIGludGVyZmFjZVxudHlwZSBVc2VyU3RvcmUgPSB7XG4gIC8vIEF1dGhlbnRpY2F0aW9uIHN0YXRlXG4gIHVzZXI6IFVzZXIgfCBudWxsO1xuICBzZXNzaW9uOiBTZXNzaW9uIHwgbnVsbDtcbiAgaXNBdXRoZW50aWNhdGVkOiBib29sZWFuO1xuICBcbiAgLy8gVXNlciBwcm9maWxlIGRhdGFcbiAgcHJvZmlsZTogVXNlclByb2ZpbGUgfCBudWxsO1xuICBcbiAgLy8gUHJvZmlsZSBlZGl0aW5nIHN0YXRlXG4gIHByb2ZpbGVFZGl0RGF0YTogUHJvZmlsZVVwZGF0ZURhdGEgfCBudWxsO1xuICBpc1Byb2ZpbGVFZGl0aW5nOiBib29sZWFuO1xuICBwcm9maWxlRWRpdEVycm9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgXG4gIC8vIEFkZHJlc3MgYW5kIHJlcHJlc2VudGF0aXZlc1xuICBjdXJyZW50QWRkcmVzczogc3RyaW5nO1xuICBjdXJyZW50U3RhdGU6IHN0cmluZztcbiAgcmVwcmVzZW50YXRpdmVzOiBSZXByZXNlbnRhdGl2ZVtdO1xuICBzaG93QWRkcmVzc0Zvcm06IGJvb2xlYW47XG4gIG5ld0FkZHJlc3M6IHN0cmluZztcbiAgYWRkcmVzc0xvYWRpbmc6IGJvb2xlYW47XG4gIHNhdmVkU3VjY2Vzc2Z1bGx5OiBib29sZWFuO1xuICBcbiAgLy8gQXZhdGFyIGVkaXRpbmdcbiAgYXZhdGFyRmlsZTogRmlsZSB8IG51bGw7XG4gIGF2YXRhclByZXZpZXc6IHN0cmluZyB8IG51bGw7XG4gIGlzVXBsb2FkaW5nQXZhdGFyOiBib29sZWFuO1xuICBcbiAgLy8gQmlvbWV0cmljIHN0YXRlXG4gIGJpb21ldHJpYzoge1xuICAgIGlzU3VwcG9ydGVkOiBib29sZWFuIHwgbnVsbDtcbiAgICBpc0F2YWlsYWJsZTogYm9vbGVhbiB8IG51bGw7XG4gICAgaGFzQ3JlZGVudGlhbHM6IGJvb2xlYW4gfCBudWxsO1xuICAgIGlzUmVnaXN0ZXJpbmc6IGJvb2xlYW47XG4gICAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gICAgc3VjY2VzczogYm9vbGVhbjtcbiAgfTtcbiAgXG4gIC8vIExvYWRpbmcgc3RhdGVzXG4gIGlzUHJvZmlsZUxvYWRpbmc6IGJvb2xlYW47XG4gIGlzVXBkYXRpbmc6IGJvb2xlYW47XG4gIFxuICAvLyBBY3Rpb25zIC0gQXV0aGVudGljYXRpb25cbiAgc2V0VXNlcjogKHVzZXI6IFVzZXIgfCBudWxsKSA9PiB2b2lkO1xuICBzZXRTZXNzaW9uOiAoc2Vzc2lvbjogU2Vzc2lvbiB8IG51bGwpID0+IHZvaWQ7XG4gIHNldEF1dGhlbnRpY2F0ZWQ6IChhdXRoZW50aWNhdGVkOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRVc2VyQW5kQXV0aDogKHVzZXI6IFVzZXIgfCBudWxsLCBhdXRoZW50aWNhdGVkOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRTZXNzaW9uQW5kRGVyaXZlZDogKHNlc3Npb246IFNlc3Npb24gfCBudWxsKSA9PiB2b2lkO1xuICBzaWduT3V0OiAoKSA9PiB2b2lkO1xuICBjbGVhclVzZXI6ICgpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gUHJvZmlsZSBFZGl0aW5nXG4gIHNldFByb2ZpbGVFZGl0RGF0YTogKGRhdGE6IFByb2ZpbGVVcGRhdGVEYXRhKSA9PiB2b2lkO1xuICB1cGRhdGVQcm9maWxlRWRpdERhdGE6ICh1cGRhdGVzOiBQYXJ0aWFsPFByb2ZpbGVVcGRhdGVEYXRhPikgPT4gdm9pZDtcbiAgdXBkYXRlUHJvZmlsZUZpZWxkOiAoZmllbGQ6IGtleW9mIFByb2ZpbGVVcGRhdGVEYXRhLCB2YWx1ZTogYW55KSA9PiB2b2lkO1xuICB1cGRhdGVBcnJheUZpZWxkOiAoZmllbGQ6ICdwcmltYXJ5Y29uY2VybnMnIHwgJ2NvbW11bml0eWZvY3VzJywgdmFsdWU6IHN0cmluZykgPT4gdm9pZDtcbiAgdXBkYXRlUHJpdmFjeVNldHRpbmc6IChzZXR0aW5nOiBrZXlvZiBQcm9maWxlVXBkYXRlRGF0YVsncHJpdmFjeXNldHRpbmdzJ10sIHZhbHVlOiBhbnkpID0+IHZvaWQ7XG4gIHNldFByb2ZpbGVFZGl0aW5nOiAoZWRpdGluZzogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0UHJvZmlsZUVkaXRFcnJvcjogKGZpZWxkOiBzdHJpbmcsIGVycm9yOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGNsZWFyUHJvZmlsZUVkaXRFcnJvcjogKGZpZWxkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGNsZWFyQWxsUHJvZmlsZUVkaXRFcnJvcnM6ICgpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gQWRkcmVzcyBhbmQgUmVwcmVzZW50YXRpdmVzXG4gIHNldEN1cnJlbnRBZGRyZXNzOiAoYWRkcmVzczogc3RyaW5nKSA9PiB2b2lkO1xuICBzZXRDdXJyZW50U3RhdGU6IChzdGF0ZTogc3RyaW5nKSA9PiB2b2lkO1xuICBzZXRSZXByZXNlbnRhdGl2ZXM6IChyZXByZXNlbnRhdGl2ZXM6IFJlcHJlc2VudGF0aXZlW10pID0+IHZvaWQ7XG4gIGFkZFJlcHJlc2VudGF0aXZlOiAocmVwcmVzZW50YXRpdmU6IFJlcHJlc2VudGF0aXZlKSA9PiB2b2lkO1xuICByZW1vdmVSZXByZXNlbnRhdGl2ZTogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHNldFNob3dBZGRyZXNzRm9ybTogKHNob3c6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldE5ld0FkZHJlc3M6IChhZGRyZXNzOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHNldEFkZHJlc3NMb2FkaW5nOiAobG9hZGluZzogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0U2F2ZWRTdWNjZXNzZnVsbHk6IChzYXZlZDogYm9vbGVhbikgPT4gdm9pZDtcbiAgbG9va3VwQWRkcmVzczogKGFkZHJlc3M6IHN0cmluZykgPT4gUHJvbWlzZTxSZXByZXNlbnRhdGl2ZVtdPjtcbiAgaGFuZGxlQWRkcmVzc1VwZGF0ZTogKGFkZHJlc3M6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgXG4gIC8vIEFjdGlvbnMgLSBBdmF0YXJcbiAgc2V0QXZhdGFyRmlsZTogKGZpbGU6IEZpbGUgfCBudWxsKSA9PiB2b2lkO1xuICBzZXRBdmF0YXJQcmV2aWV3OiAocHJldmlldzogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgc2V0VXBsb2FkaW5nQXZhdGFyOiAodXBsb2FkaW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBjbGVhckF2YXRhcjogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBQcm9maWxlXG4gIHNldFByb2ZpbGU6IChwcm9maWxlOiBVc2VyUHJvZmlsZSB8IG51bGwpID0+IHZvaWQ7XG4gIHVwZGF0ZVByb2ZpbGU6ICh1cGRhdGVzOiBQYXJ0aWFsPFVzZXJQcm9maWxlPikgPT4gdm9pZDtcbiAgdXBkYXRlUHJlZmVyZW5jZXM6IChwcmVmZXJlbmNlczogUGFydGlhbDxVc2VyUHJvZmlsZVsncHJlZmVyZW5jZXMnXT4pID0+IHZvaWQ7XG4gIHVwZGF0ZVNldHRpbmdzOiAoc2V0dGluZ3M6IFBhcnRpYWw8VXNlclByb2ZpbGVbJ3NldHRpbmdzJ10+KSA9PiB2b2lkO1xuICB1cGRhdGVNZXRhZGF0YTogKG1ldGFkYXRhOiBQYXJ0aWFsPFVzZXJQcm9maWxlWydtZXRhZGF0YSddPikgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBCaW9tZXRyaWNcbiAgc2V0QmlvbWV0cmljU3VwcG9ydGVkOiAoc3VwcG9ydGVkOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRCaW9tZXRyaWNBdmFpbGFibGU6IChhdmFpbGFibGU6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldEJpb21ldHJpY0NyZWRlbnRpYWxzOiAoaGFzQ3JlZGVudGlhbHM6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldEJpb21ldHJpY1JlZ2lzdGVyaW5nOiAocmVnaXN0ZXJpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldEJpb21ldHJpY0Vycm9yOiAoZXJyb3I6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIHNldEJpb21ldHJpY1N1Y2Nlc3M6IChzdWNjZXNzOiBib29sZWFuKSA9PiB2b2lkO1xuICByZXNldEJpb21ldHJpYzogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBMb2FkaW5nIHN0YXRlc1xuICBzZXRQcm9maWxlTG9hZGluZzogKGxvYWRpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldFVwZGF0aW5nOiAodXBkYXRpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gRXJyb3IgaGFuZGxpbmdcbiAgc2V0VXNlckVycm9yOiAoZXJyb3I6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIGNsZWFyVXNlckVycm9yOiAoKSA9PiB2b2lkO1xufSAmIEJhc2VTdG9yZVxuXG4vLyBDcmVhdGUgdXNlciBzdG9yZSB3aXRoIG1pZGRsZXdhcmVcbmV4cG9ydCBjb25zdCB1c2VVc2VyU3RvcmUgPSBjcmVhdGU8VXNlclN0b3JlPigpKFxuICBkZXZ0b29scyhcbiAgICBwZXJzaXN0KFxuICAgICAgaW1tZXIoKHNldCwgX2dldCkgPT4gKHtcbiAgICAgIC8vIEluaXRpYWwgc3RhdGVcbiAgICAgIHVzZXI6IG51bGwsXG4gICAgICBzZXNzaW9uOiBudWxsLFxuICAgICAgaXNBdXRoZW50aWNhdGVkOiBmYWxzZSxcbiAgICAgIHByb2ZpbGU6IG51bGwsXG4gICAgICBcbiAgICAgIC8vIFByb2ZpbGUgZWRpdGluZyBzdGF0ZVxuICAgICAgcHJvZmlsZUVkaXREYXRhOiBudWxsLFxuICAgICAgaXNQcm9maWxlRWRpdGluZzogZmFsc2UsXG4gICAgICBwcm9maWxlRWRpdEVycm9yczoge30sXG4gICAgICBcbiAgICAgIC8vIEFkZHJlc3MgYW5kIHJlcHJlc2VudGF0aXZlc1xuICAgICAgY3VycmVudEFkZHJlc3M6ICcnLFxuICAgICAgY3VycmVudFN0YXRlOiAnJyxcbiAgICAgIHJlcHJlc2VudGF0aXZlczogW10sXG4gICAgICBzaG93QWRkcmVzc0Zvcm06IGZhbHNlLFxuICAgICAgbmV3QWRkcmVzczogJycsXG4gICAgICBhZGRyZXNzTG9hZGluZzogZmFsc2UsXG4gICAgICBzYXZlZFN1Y2Nlc3NmdWxseTogZmFsc2UsXG4gICAgICBcbiAgICAgIC8vIEF2YXRhciBlZGl0aW5nXG4gICAgICBhdmF0YXJGaWxlOiBudWxsLFxuICAgICAgYXZhdGFyUHJldmlldzogbnVsbCxcbiAgICAgIGlzVXBsb2FkaW5nQXZhdGFyOiBmYWxzZSxcbiAgICAgIFxuICAgICAgYmlvbWV0cmljOiB7XG4gICAgICAgIGlzU3VwcG9ydGVkOiBudWxsLFxuICAgICAgICBpc0F2YWlsYWJsZTogbnVsbCxcbiAgICAgICAgaGFzQ3JlZGVudGlhbHM6IG51bGwsXG4gICAgICAgIGlzUmVnaXN0ZXJpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICB9LFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGlzUHJvZmlsZUxvYWRpbmc6IGZhbHNlLFxuICAgICAgaXNVcGRhdGluZzogZmFsc2UsXG4gICAgICBlcnJvcjogbnVsbCxcbiAgICAgIFxuICAgICAgLy8gQmFzZSBzdG9yZSBhY3Rpb25zXG4gICAgICBzZXRMb2FkaW5nOiAobG9hZGluZykgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBsb2FkaW5nO1xuICAgICAgfSksXG4gICAgICBcbiAgICAgIHNldEVycm9yOiAoZXJyb3IpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBlcnJvcjtcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICBjbGVhckVycm9yOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLmVycm9yID0gbnVsbDtcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICAvLyBBdXRoZW50aWNhdGlvbiBhY3Rpb25zIC0gRml4ZWQgYXJjaGl0ZWN0dXJlIHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHNcbiAgICAgIHNldFVzZXI6ICh1c2VyKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIC8vIE9ubHkgdXBkYXRlIGlmIHRoZSB1c2VyIGlzIGFjdHVhbGx5IGRpZmZlcmVudFxuICAgICAgICBpZiAoc3RhdGUudXNlciAhPT0gdXNlcikge1xuICAgICAgICAgIHN0YXRlLnVzZXIgPSB1c2VyO1xuICAgICAgICAgIC8vIERvbid0IGF1dG9tYXRpY2FsbHkgc2V0IGlzQXV0aGVudGljYXRlZCBoZXJlIHRvIHByZXZlbnQgY2FzY2FkaW5nIHVwZGF0ZXNcbiAgICAgICAgICAvLyBMZXQgdGhlIGNhbGxpbmcgY29kZSBleHBsaWNpdGx5IHNldCBhdXRoZW50aWNhdGlvbiBzdGF0ZVxuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgc2V0U2Vzc2lvbjogKHNlc3Npb24pID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgLy8gT25seSB1cGRhdGUgc2Vzc2lvbiBpZiBpdCdzIGFjdHVhbGx5IGRpZmZlcmVudFxuICAgICAgICBpZiAoc3RhdGUuc2Vzc2lvbiAhPT0gc2Vzc2lvbikge1xuICAgICAgICAgIHN0YXRlLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICAgIC8vIERvbid0IGF1dG9tYXRpY2FsbHkgdXBkYXRlIHVzZXIvYXV0aGVudGljYXRpb24gdG8gcHJldmVudCBjYXNjYWRpbmcgdXBkYXRlc1xuICAgICAgICAgIC8vIExldCB0aGUgY2FsbGluZyBjb2RlIGV4cGxpY2l0bHkgbWFuYWdlIHRoZXNlIHJlbGF0aW9uc2hpcHNcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBcbiAgICAgIHNldEF1dGhlbnRpY2F0ZWQ6IChhdXRoZW50aWNhdGVkKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIC8vIE9ubHkgdXBkYXRlIGlmIHRoZSBhdXRoZW50aWNhdGlvbiBzdGF0ZSBpcyBhY3R1YWxseSBkaWZmZXJlbnRcbiAgICAgICAgaWYgKHN0YXRlLmlzQXV0aGVudGljYXRlZCAhPT0gYXV0aGVudGljYXRlZCkge1xuICAgICAgICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IGF1dGhlbnRpY2F0ZWQ7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKCFhdXRoZW50aWNhdGVkKSB7XG4gICAgICAgICAgICBzdGF0ZS51c2VyID0gbnVsbDtcbiAgICAgICAgICAgIHN0YXRlLnNlc3Npb24gPSBudWxsO1xuICAgICAgICAgICAgc3RhdGUucHJvZmlsZSA9IG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgLy8gTmV3IG1ldGhvZCB0byBzYWZlbHkgc2V0IHVzZXIgYW5kIGF1dGhlbnRpY2F0aW9uIHRvZ2V0aGVyXG4gICAgICBzZXRVc2VyQW5kQXV0aDogKHVzZXIsIGF1dGhlbnRpY2F0ZWQpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgY29uc3QgdXNlckNoYW5nZWQgPSBzdGF0ZS51c2VyICE9PSB1c2VyO1xuICAgICAgICBjb25zdCBhdXRoQ2hhbmdlZCA9IHN0YXRlLmlzQXV0aGVudGljYXRlZCAhPT0gYXV0aGVudGljYXRlZDtcbiAgICAgICAgXG4gICAgICAgIGlmICh1c2VyQ2hhbmdlZCB8fCBhdXRoQ2hhbmdlZCkge1xuICAgICAgICAgIHN0YXRlLnVzZXIgPSB1c2VyO1xuICAgICAgICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IGF1dGhlbnRpY2F0ZWQ7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2xlYXIgcmVsYXRlZCBzdGF0ZSBpZiBub3QgYXV0aGVudGljYXRlZFxuICAgICAgICAgIGlmICghYXV0aGVudGljYXRlZCkge1xuICAgICAgICAgICAgc3RhdGUuc2Vzc2lvbiA9IG51bGw7XG4gICAgICAgICAgICBzdGF0ZS5wcm9maWxlID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgXG4gICAgICAvLyBOZXcgbWV0aG9kIHRvIHNhZmVseSBzZXQgc2Vzc2lvbiBhbmQgZGVyaXZlZCBzdGF0ZSB0b2dldGhlclxuICAgICAgc2V0U2Vzc2lvbkFuZERlcml2ZWQ6IChzZXNzaW9uKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5zZXNzaW9uICE9PSBzZXNzaW9uKSB7XG4gICAgICAgICAgc3RhdGUuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gT25seSB1cGRhdGUgZGVyaXZlZCBzdGF0ZSBpZiBzZXNzaW9uIGFjdHVhbGx5IGNoYW5nZWRcbiAgICAgICAgICBjb25zdCBuZXdVc2VyID0gc2Vzc2lvbj8udXNlciB8fCBudWxsO1xuICAgICAgICAgIGNvbnN0IG5ld0F1dGhlbnRpY2F0ZWQgPSAhIW5ld1VzZXI7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHN0YXRlLnVzZXIgIT09IG5ld1VzZXIpIHtcbiAgICAgICAgICAgIHN0YXRlLnVzZXIgPSBuZXdVc2VyO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoc3RhdGUuaXNBdXRoZW50aWNhdGVkICE9PSBuZXdBdXRoZW50aWNhdGVkKSB7XG4gICAgICAgICAgICBzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQgPSBuZXdBdXRoZW50aWNhdGVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBcbiAgICAgIHNpZ25PdXQ6ICgpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgc3RhdGUudXNlciA9IG51bGw7XG4gICAgICAgIHN0YXRlLnNlc3Npb24gPSBudWxsO1xuICAgICAgICBzdGF0ZS5wcm9maWxlID0gbnVsbDtcbiAgICAgICAgc3RhdGUuaXNBdXRoZW50aWNhdGVkID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmVycm9yID0gbnVsbDtcbiAgICAgICAgXG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgY2xlYXJVc2VyOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLnVzZXIgPSBudWxsO1xuICAgICAgICBzdGF0ZS5zZXNzaW9uID0gbnVsbDtcbiAgICAgICAgc3RhdGUucHJvZmlsZSA9IG51bGw7XG4gICAgICAgIHN0YXRlLmlzQXV0aGVudGljYXRlZCA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5lcnJvciA9IG51bGw7XG4gICAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICBzdGF0ZS5pc1Byb2ZpbGVMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmlzVXBkYXRpbmcgPSBmYWxzZTtcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICAvLyBQcm9maWxlIGFjdGlvbnNcbiAgICAgIHNldFByb2ZpbGU6IChwcm9maWxlKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLnByb2ZpbGUgPSBwcm9maWxlO1xuICAgICAgICBcbiAgICAgICAgaWYgKHByb2ZpbGUpIHtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBcbiAgICAgIHVwZGF0ZVByb2ZpbGU6ICh1cGRhdGVzKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5wcm9maWxlKSB7XG4gICAgICAgICAgc3RhdGUucHJvZmlsZSA9IHsgLi4uc3RhdGUucHJvZmlsZSwgLi4udXBkYXRlcyB9O1xuICAgICAgICAgIHN0YXRlLnByb2ZpbGUubWV0YWRhdGEudXBkYXRlZEF0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgdXBkYXRlUHJlZmVyZW5jZXM6IChwcmVmZXJlbmNlcykgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBpZiAoc3RhdGUucHJvZmlsZSkge1xuICAgICAgICAgIHN0YXRlLnByb2ZpbGUucHJlZmVyZW5jZXMgPSB7IC4uLnN0YXRlLnByb2ZpbGUucHJlZmVyZW5jZXMsIC4uLnByZWZlcmVuY2VzIH07XG4gICAgICAgICAgc3RhdGUucHJvZmlsZS5tZXRhZGF0YS51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgXG4gICAgICB1cGRhdGVTZXR0aW5nczogKHNldHRpbmdzKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5wcm9maWxlKSB7XG4gICAgICAgICAgc3RhdGUucHJvZmlsZS5zZXR0aW5ncyA9IHsgLi4uc3RhdGUucHJvZmlsZS5zZXR0aW5ncywgLi4uc2V0dGluZ3MgfTtcbiAgICAgICAgICBzdGF0ZS5wcm9maWxlLm1ldGFkYXRhLnVwZGF0ZWRBdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBcbiAgICAgIHVwZGF0ZU1ldGFkYXRhOiAobWV0YWRhdGEpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgaWYgKHN0YXRlLnByb2ZpbGUpIHtcbiAgICAgICAgICBzdGF0ZS5wcm9maWxlLm1ldGFkYXRhID0geyAuLi5zdGF0ZS5wcm9maWxlLm1ldGFkYXRhLCAuLi5tZXRhZGF0YSB9O1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgLy8gTG9hZGluZyBzdGF0ZSBhY3Rpb25zXG4gICAgICBzZXRQcm9maWxlTG9hZGluZzogKGxvYWRpbmcpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgc3RhdGUuaXNQcm9maWxlTG9hZGluZyA9IGxvYWRpbmc7XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgc2V0VXBkYXRpbmc6ICh1cGRhdGluZykgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBzdGF0ZS5pc1VwZGF0aW5nID0gdXBkYXRpbmc7XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgLy8gQmlvbWV0cmljIGFjdGlvbnNcbiAgICAgIHNldEJpb21ldHJpY1N1cHBvcnRlZDogKHN1cHBvcnRlZCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBzdGF0ZS5iaW9tZXRyaWMuaXNTdXBwb3J0ZWQgPSBzdXBwb3J0ZWQ7XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgc2V0QmlvbWV0cmljQXZhaWxhYmxlOiAoYXZhaWxhYmxlKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLmJpb21ldHJpYy5pc0F2YWlsYWJsZSA9IGF2YWlsYWJsZTtcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICBzZXRCaW9tZXRyaWNDcmVkZW50aWFsczogKGhhc0NyZWRlbnRpYWxzKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLmJpb21ldHJpYy5oYXNDcmVkZW50aWFscyA9IGhhc0NyZWRlbnRpYWxzO1xuICAgICAgfSksXG4gICAgICBcbiAgICAgIHNldEJpb21ldHJpY1JlZ2lzdGVyaW5nOiAocmVnaXN0ZXJpbmcpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgc3RhdGUuYmlvbWV0cmljLmlzUmVnaXN0ZXJpbmcgPSByZWdpc3RlcmluZztcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICBzZXRCaW9tZXRyaWNFcnJvcjogKGVycm9yKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLmJpb21ldHJpYy5lcnJvciA9IGVycm9yO1xuICAgICAgfSksXG4gICAgICBcbiAgICAgIHNldEJpb21ldHJpY1N1Y2Nlc3M6IChzdWNjZXNzKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLmJpb21ldHJpYy5zdWNjZXNzID0gc3VjY2VzcztcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICByZXNldEJpb21ldHJpYzogKCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBzdGF0ZS5iaW9tZXRyaWMgPSB7XG4gICAgICAgICAgaXNTdXBwb3J0ZWQ6IG51bGwsXG4gICAgICAgICAgaXNBdmFpbGFibGU6IG51bGwsXG4gICAgICAgICAgaGFzQ3JlZGVudGlhbHM6IG51bGwsXG4gICAgICAgICAgaXNSZWdpc3RlcmluZzogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIH07XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgLy8gUHJvZmlsZSBlZGl0aW5nIGFjdGlvbnNcbiAgICAgIHNldFByb2ZpbGVFZGl0RGF0YTogKGRhdGEpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgc3RhdGUucHJvZmlsZUVkaXREYXRhID0gZGF0YTtcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICB1cGRhdGVQcm9maWxlRWRpdERhdGE6ICh1cGRhdGVzKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5wcm9maWxlRWRpdERhdGEpIHtcbiAgICAgICAgICBzdGF0ZS5wcm9maWxlRWRpdERhdGEgPSB7IC4uLnN0YXRlLnByb2ZpbGVFZGl0RGF0YSwgLi4udXBkYXRlcyB9O1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgdXBkYXRlUHJvZmlsZUZpZWxkOiAoZmllbGQsIHZhbHVlKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5wcm9maWxlRWRpdERhdGEpIHtcbiAgICAgICAgICBzdGF0ZS5wcm9maWxlRWRpdERhdGFbZmllbGRdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgXG4gICAgICB1cGRhdGVBcnJheUZpZWxkOiAoZmllbGQsIHZhbHVlKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5wcm9maWxlRWRpdERhdGEpIHtcbiAgICAgICAgICBjb25zdCBjdXJyZW50QXJyYXkgPSBzdGF0ZS5wcm9maWxlRWRpdERhdGFbZmllbGRdIHx8IFtdO1xuICAgICAgICAgIGNvbnN0IG5ld0FycmF5ID0gY3VycmVudEFycmF5LmluY2x1ZGVzKHZhbHVlKVxuICAgICAgICAgICAgPyBjdXJyZW50QXJyYXkuZmlsdGVyKGl0ZW0gPT4gaXRlbSAhPT0gdmFsdWUpXG4gICAgICAgICAgICA6IFsuLi5jdXJyZW50QXJyYXksIHZhbHVlXTtcbiAgICAgICAgICBzdGF0ZS5wcm9maWxlRWRpdERhdGFbZmllbGRdID0gbmV3QXJyYXk7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgXG4gICAgICB1cGRhdGVQcml2YWN5U2V0dGluZzogKHNldHRpbmcsIHZhbHVlKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIGlmIChzdGF0ZS5wcm9maWxlRWRpdERhdGEpIHtcbiAgICAgICAgICAoc3RhdGUucHJvZmlsZUVkaXREYXRhLnByaXZhY3lzZXR0aW5ncyBhcyBhbnkpW3NldHRpbmddID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgXG4gICAgICBzZXRQcm9maWxlRWRpdGluZzogKGVkaXRpbmcpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgc3RhdGUuaXNQcm9maWxlRWRpdGluZyA9IGVkaXRpbmc7XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgc2V0UHJvZmlsZUVkaXRFcnJvcjogKGZpZWxkLCBlcnJvcikgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBzdGF0ZS5wcm9maWxlRWRpdEVycm9yc1tmaWVsZF0gPSBlcnJvcjtcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICBjbGVhclByb2ZpbGVFZGl0RXJyb3I6IChmaWVsZCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBkZWxldGUgc3RhdGUucHJvZmlsZUVkaXRFcnJvcnNbZmllbGRdO1xuICAgICAgfSksXG4gICAgICBcbiAgICAgIGNsZWFyQWxsUHJvZmlsZUVkaXRFcnJvcnM6ICgpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgc3RhdGUucHJvZmlsZUVkaXRFcnJvcnMgPSB7fTtcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICAvLyBBZGRyZXNzIGFuZCByZXByZXNlbnRhdGl2ZXMgYWN0aW9uc1xuICAgICAgc2V0Q3VycmVudEFkZHJlc3M6IChhZGRyZXNzKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLmN1cnJlbnRBZGRyZXNzID0gYWRkcmVzcztcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICBzZXRDdXJyZW50U3RhdGU6IChzdGF0ZVZhbHVlKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLmN1cnJlbnRTdGF0ZSA9IHN0YXRlVmFsdWU7XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgc2V0UmVwcmVzZW50YXRpdmVzOiAocmVwcmVzZW50YXRpdmVzKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLnJlcHJlc2VudGF0aXZlcyA9IHJlcHJlc2VudGF0aXZlcztcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICBhZGRSZXByZXNlbnRhdGl2ZTogKHJlcHJlc2VudGF0aXZlKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IGV4aXN0aW5nSW5kZXggPSBzdGF0ZS5yZXByZXNlbnRhdGl2ZXMuZmluZEluZGV4KHJlcCA9PiByZXAuaWQgPT09IHJlcHJlc2VudGF0aXZlLmlkKTtcbiAgICAgICAgaWYgKGV4aXN0aW5nSW5kZXggPT09IC0xKSB7XG4gICAgICAgICAgc3RhdGUucmVwcmVzZW50YXRpdmVzLnB1c2gocmVwcmVzZW50YXRpdmUpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgcmVtb3ZlUmVwcmVzZW50YXRpdmU6IChpZCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBzdGF0ZS5yZXByZXNlbnRhdGl2ZXMgPSBzdGF0ZS5yZXByZXNlbnRhdGl2ZXMuZmlsdGVyKHJlcCA9PiByZXAuaWQgIT09IGlkKTtcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICBzZXRTaG93QWRkcmVzc0Zvcm06IChzaG93KSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLnNob3dBZGRyZXNzRm9ybSA9IHNob3c7XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgc2V0TmV3QWRkcmVzczogKGFkZHJlc3MpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgc3RhdGUubmV3QWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgc2V0QWRkcmVzc0xvYWRpbmc6IChsb2FkaW5nKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLmFkZHJlc3NMb2FkaW5nID0gbG9hZGluZztcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICBzZXRTYXZlZFN1Y2Nlc3NmdWxseTogKHNhdmVkKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLnNhdmVkU3VjY2Vzc2Z1bGx5ID0gc2F2ZWQ7XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgbG9va3VwQWRkcmVzczogYXN5bmMgKGFkZHJlc3MpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL2Npdmljcy9ieS1hZGRyZXNzP2FkZHJlc3M9JHtlbmNvZGVVUklDb21wb25lbnQoYWRkcmVzcyl9YCk7XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBZGRyZXNzIGxvb2t1cCBmYWlsZWQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YSB8fCBbXTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBZGRyZXNzIGxvb2t1cCBmYWlsZWQ6JywgZXJyb3IpO1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXG4gICAgICBoYW5kbGVBZGRyZXNzVXBkYXRlOiBhc3luYyAoYWRkcmVzcykgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBfZ2V0KCk7XG4gICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5hZGRyZXNzTG9hZGluZyA9IHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByZXByZXNlbnRhdGl2ZXMgPSBhd2FpdCBjdXJyZW50U3RhdGUubG9va3VwQWRkcmVzcyhhZGRyZXNzKTtcbiAgICAgICAgICBcbiAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5jdXJyZW50QWRkcmVzcyA9IGFkZHJlc3M7XG4gICAgICAgICAgICBzdGF0ZS5yZXByZXNlbnRhdGl2ZXMgPSByZXByZXNlbnRhdGl2ZXM7XG4gICAgICAgICAgICBzdGF0ZS5zaG93QWRkcmVzc0Zvcm0gPSBmYWxzZTtcbiAgICAgICAgICAgIHN0YXRlLm5ld0FkZHJlc3MgPSAnJztcbiAgICAgICAgICAgIHN0YXRlLnNhdmVkU3VjY2Vzc2Z1bGx5ID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0YXRlLmFkZHJlc3NMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2xlYXIgc3VjY2VzcyBtZXNzYWdlIGFmdGVyIDMgc2Vjb25kc1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICBzdGF0ZS5zYXZlZFN1Y2Nlc3NmdWxseSA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgMzAwMCk7XG4gICAgICAgICAgXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQWRkcmVzcyB1cGRhdGUgZmFpbGVkOicsIGVycm9yKTtcbiAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5hZGRyZXNzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgc3RhdGUuc2F2ZWRTdWNjZXNzZnVsbHkgPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFxuICAgICAgLy8gQXZhdGFyIGFjdGlvbnNcbiAgICAgIHNldEF2YXRhckZpbGU6IChmaWxlKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLmF2YXRhckZpbGUgPSBmaWxlO1xuICAgICAgfSksXG4gICAgICBcbiAgICAgIHNldEF2YXRhclByZXZpZXc6IChwcmV2aWV3KSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgIHN0YXRlLmF2YXRhclByZXZpZXcgPSBwcmV2aWV3O1xuICAgICAgfSksXG4gICAgICBcbiAgICAgIHNldFVwbG9hZGluZ0F2YXRhcjogKHVwbG9hZGluZykgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBzdGF0ZS5pc1VwbG9hZGluZ0F2YXRhciA9IHVwbG9hZGluZztcbiAgICAgIH0pLFxuICAgICAgXG4gICAgICBjbGVhckF2YXRhcjogKCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICBzdGF0ZS5hdmF0YXJGaWxlID0gbnVsbDtcbiAgICAgICAgc3RhdGUuYXZhdGFyUHJldmlldyA9IG51bGw7XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgLy8gRXJyb3IgaGFuZGxpbmcgYWN0aW9uc1xuICAgICAgc2V0VXNlckVycm9yOiAoZXJyb3IpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgXG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1VzZXIgc3RvcmUgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KSxcbiAgICAgIFxuICAgICAgY2xlYXJVc2VyRXJyb3I6ICgpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgc3RhdGUuZXJyb3IgPSBudWxsO1xuICAgICAgfSksXG4gICAgfSkpLFxuICAgIHtcbiAgICAgIG5hbWU6ICd1c2VyLXN0b3JlJyxcbiAgICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gKHtcbiAgICAgICAgcHJvZmlsZTogc3RhdGUucHJvZmlsZSxcbiAgICAgICAgaXNBdXRoZW50aWNhdGVkOiBzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQsXG4gICAgICB9KSxcbiAgICB9XG4gICksXG4gIHsgbmFtZTogJ3VzZXItc3RvcmUnIH1cbikpO1xuXG4vLyBTdG9yZSBzZWxlY3RvcnMgZm9yIG9wdGltaXplZCByZS1yZW5kZXJzXG5leHBvcnQgY29uc3QgdXNlVXNlciA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS51c2VyKTtcbmV4cG9ydCBjb25zdCB1c2VTZXNzaW9uID0gKCkgPT4gdXNlVXNlclN0b3JlKHN0YXRlID0+IHN0YXRlLnNlc3Npb24pO1xuZXhwb3J0IGNvbnN0IHVzZUlzQXV0aGVudGljYXRlZCA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc0F1dGhlbnRpY2F0ZWQpO1xuZXhwb3J0IGNvbnN0IHVzZVVzZXJQcm9maWxlID0gKCkgPT4gdXNlVXNlclN0b3JlKHN0YXRlID0+IHN0YXRlLnByb2ZpbGUpO1xuZXhwb3J0IGNvbnN0IHVzZVVzZXJQcmVmZXJlbmNlcyA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS5wcm9maWxlPy5wcmVmZXJlbmNlcyk7XG5leHBvcnQgY29uc3QgdXNlVXNlclNldHRpbmdzID0gKCkgPT4gdXNlVXNlclN0b3JlKHN0YXRlID0+IHN0YXRlLnByb2ZpbGU/LnNldHRpbmdzKTtcbmV4cG9ydCBjb25zdCB1c2VVc2VyTG9hZGluZyA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc0xvYWRpbmcpO1xuZXhwb3J0IGNvbnN0IHVzZVVzZXJFcnJvciA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS5lcnJvcik7XG5cbi8vIEJpb21ldHJpYyBzZWxlY3RvcnNcbmV4cG9ydCBjb25zdCB1c2VCaW9tZXRyaWMgPSAoKSA9PiB1c2VVc2VyU3RvcmUoc3RhdGUgPT4gc3RhdGUuYmlvbWV0cmljKTtcbmV4cG9ydCBjb25zdCB1c2VCaW9tZXRyaWNTdXBwb3J0ZWQgPSAoKSA9PiB1c2VVc2VyU3RvcmUoc3RhdGUgPT4gc3RhdGUuYmlvbWV0cmljLmlzU3VwcG9ydGVkKTtcbmV4cG9ydCBjb25zdCB1c2VCaW9tZXRyaWNBdmFpbGFibGUgPSAoKSA9PiB1c2VVc2VyU3RvcmUoc3RhdGUgPT4gc3RhdGUuYmlvbWV0cmljLmlzQXZhaWxhYmxlKTtcbmV4cG9ydCBjb25zdCB1c2VCaW9tZXRyaWNDcmVkZW50aWFscyA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS5iaW9tZXRyaWMuaGFzQ3JlZGVudGlhbHMpO1xuZXhwb3J0IGNvbnN0IHVzZUJpb21ldHJpY1JlZ2lzdGVyaW5nID0gKCkgPT4gdXNlVXNlclN0b3JlKHN0YXRlID0+IHN0YXRlLmJpb21ldHJpYy5pc1JlZ2lzdGVyaW5nKTtcbmV4cG9ydCBjb25zdCB1c2VCaW9tZXRyaWNFcnJvciA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS5iaW9tZXRyaWMuZXJyb3IpO1xuZXhwb3J0IGNvbnN0IHVzZUJpb21ldHJpY1N1Y2Nlc3MgPSAoKSA9PiB1c2VVc2VyU3RvcmUoc3RhdGUgPT4gc3RhdGUuYmlvbWV0cmljLnN1Y2Nlc3MpO1xuXG4vLyBBY3Rpb24gc2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlVXNlckFjdGlvbnMgPSAoKSA9PiB1c2VVc2VyU3RvcmUoc3RhdGUgPT4gKHtcbiAgc2V0VXNlcjogc3RhdGUuc2V0VXNlcixcbiAgc2V0U2Vzc2lvbjogc3RhdGUuc2V0U2Vzc2lvbixcbiAgc2V0QXV0aGVudGljYXRlZDogc3RhdGUuc2V0QXV0aGVudGljYXRlZCxcbiAgc2lnbk91dDogc3RhdGUuc2lnbk91dCxcbiAgY2xlYXJVc2VyOiBzdGF0ZS5jbGVhclVzZXIsXG4gIHNldFByb2ZpbGU6IHN0YXRlLnNldFByb2ZpbGUsXG4gIHVwZGF0ZVByb2ZpbGU6IHN0YXRlLnVwZGF0ZVByb2ZpbGUsXG4gIHVwZGF0ZVByZWZlcmVuY2VzOiBzdGF0ZS51cGRhdGVQcmVmZXJlbmNlcyxcbiAgdXBkYXRlU2V0dGluZ3M6IHN0YXRlLnVwZGF0ZVNldHRpbmdzLFxuICB1cGRhdGVNZXRhZGF0YTogc3RhdGUudXBkYXRlTWV0YWRhdGEsXG4gIHNldFByb2ZpbGVMb2FkaW5nOiBzdGF0ZS5zZXRQcm9maWxlTG9hZGluZyxcbiAgc2V0VXBkYXRpbmc6IHN0YXRlLnNldFVwZGF0aW5nLFxuICBzZXRVc2VyRXJyb3I6IHN0YXRlLnNldFVzZXJFcnJvcixcbiAgY2xlYXJVc2VyRXJyb3I6IHN0YXRlLmNsZWFyVXNlckVycm9yLFxuICBzZXRCaW9tZXRyaWNTdXBwb3J0ZWQ6IHN0YXRlLnNldEJpb21ldHJpY1N1cHBvcnRlZCxcbiAgc2V0QmlvbWV0cmljQXZhaWxhYmxlOiBzdGF0ZS5zZXRCaW9tZXRyaWNBdmFpbGFibGUsXG4gIHNldEJpb21ldHJpY0NyZWRlbnRpYWxzOiBzdGF0ZS5zZXRCaW9tZXRyaWNDcmVkZW50aWFscyxcbiAgc2V0QmlvbWV0cmljUmVnaXN0ZXJpbmc6IHN0YXRlLnNldEJpb21ldHJpY1JlZ2lzdGVyaW5nLFxuICBzZXRCaW9tZXRyaWNFcnJvcjogc3RhdGUuc2V0QmlvbWV0cmljRXJyb3IsXG4gIHNldEJpb21ldHJpY1N1Y2Nlc3M6IHN0YXRlLnNldEJpb21ldHJpY1N1Y2Nlc3MsXG4gIHJlc2V0QmlvbWV0cmljOiBzdGF0ZS5yZXNldEJpb21ldHJpYyxcbiAgLy8gUHJvZmlsZSBlZGl0aW5nIGFjdGlvbnNcbiAgc2V0UHJvZmlsZUVkaXREYXRhOiBzdGF0ZS5zZXRQcm9maWxlRWRpdERhdGEsXG4gIHVwZGF0ZVByb2ZpbGVFZGl0RGF0YTogc3RhdGUudXBkYXRlUHJvZmlsZUVkaXREYXRhLFxuICB1cGRhdGVQcm9maWxlRmllbGQ6IHN0YXRlLnVwZGF0ZVByb2ZpbGVGaWVsZCxcbiAgdXBkYXRlQXJyYXlGaWVsZDogc3RhdGUudXBkYXRlQXJyYXlGaWVsZCxcbiAgdXBkYXRlUHJpdmFjeVNldHRpbmc6IHN0YXRlLnVwZGF0ZVByaXZhY3lTZXR0aW5nLFxuICBzZXRQcm9maWxlRWRpdGluZzogc3RhdGUuc2V0UHJvZmlsZUVkaXRpbmcsXG4gIHNldFByb2ZpbGVFZGl0RXJyb3I6IHN0YXRlLnNldFByb2ZpbGVFZGl0RXJyb3IsXG4gIGNsZWFyUHJvZmlsZUVkaXRFcnJvcjogc3RhdGUuY2xlYXJQcm9maWxlRWRpdEVycm9yLFxuICBjbGVhckFsbFByb2ZpbGVFZGl0RXJyb3JzOiBzdGF0ZS5jbGVhckFsbFByb2ZpbGVFZGl0RXJyb3JzLFxuICAvLyBBZGRyZXNzIGFuZCByZXByZXNlbnRhdGl2ZXMgYWN0aW9uc1xuICBzZXRDdXJyZW50QWRkcmVzczogc3RhdGUuc2V0Q3VycmVudEFkZHJlc3MsXG4gIHNldEN1cnJlbnRTdGF0ZTogc3RhdGUuc2V0Q3VycmVudFN0YXRlLFxuICBzZXRSZXByZXNlbnRhdGl2ZXM6IHN0YXRlLnNldFJlcHJlc2VudGF0aXZlcyxcbiAgYWRkUmVwcmVzZW50YXRpdmU6IHN0YXRlLmFkZFJlcHJlc2VudGF0aXZlLFxuICByZW1vdmVSZXByZXNlbnRhdGl2ZTogc3RhdGUucmVtb3ZlUmVwcmVzZW50YXRpdmUsXG4gIHNldFNob3dBZGRyZXNzRm9ybTogc3RhdGUuc2V0U2hvd0FkZHJlc3NGb3JtLFxuICBzZXROZXdBZGRyZXNzOiBzdGF0ZS5zZXROZXdBZGRyZXNzLFxuICBzZXRBZGRyZXNzTG9hZGluZzogc3RhdGUuc2V0QWRkcmVzc0xvYWRpbmcsXG4gIHNldFNhdmVkU3VjY2Vzc2Z1bGx5OiBzdGF0ZS5zZXRTYXZlZFN1Y2Nlc3NmdWxseSxcbiAgbG9va3VwQWRkcmVzczogc3RhdGUubG9va3VwQWRkcmVzcyxcbiAgaGFuZGxlQWRkcmVzc1VwZGF0ZTogc3RhdGUuaGFuZGxlQWRkcmVzc1VwZGF0ZSxcbiAgLy8gQXZhdGFyIGFjdGlvbnNcbiAgc2V0QXZhdGFyRmlsZTogc3RhdGUuc2V0QXZhdGFyRmlsZSxcbiAgc2V0QXZhdGFyUHJldmlldzogc3RhdGUuc2V0QXZhdGFyUHJldmlldyxcbiAgc2V0VXBsb2FkaW5nQXZhdGFyOiBzdGF0ZS5zZXRVcGxvYWRpbmdBdmF0YXIsXG4gIGNsZWFyQXZhdGFyOiBzdGF0ZS5jbGVhckF2YXRhcixcbn0pKTtcblxuLy8gQ29tcHV0ZWQgc2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlVXNlckRpc3BsYXlOYW1lID0gKCkgPT4gdXNlVXNlclN0b3JlKHN0YXRlID0+IHtcbiAgaWYgKHN0YXRlLnByb2ZpbGU/LnVzZXJuYW1lKSByZXR1cm4gc3RhdGUucHJvZmlsZS51c2VybmFtZTtcbiAgaWYgKHN0YXRlLnVzZXI/LnVzZXJfbWV0YWRhdGE/LmZ1bGxfbmFtZSkgcmV0dXJuIHN0YXRlLnVzZXIudXNlcl9tZXRhZGF0YS5mdWxsX25hbWU7XG4gIGlmIChzdGF0ZS51c2VyPy5lbWFpbCkgcmV0dXJuIHN0YXRlLnVzZXIuZW1haWwuc3BsaXQoJ0AnKVswXTtcbiAgcmV0dXJuICdVc2VyJztcbn0pO1xuXG5leHBvcnQgY29uc3QgdXNlVXNlckF2YXRhciA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiB7XG4gIGlmIChzdGF0ZS5wcm9maWxlPy5hdmF0YXIpIHJldHVybiBzdGF0ZS5wcm9maWxlLmF2YXRhcjtcbiAgaWYgKHN0YXRlLnVzZXI/LnVzZXJfbWV0YWRhdGE/LmF2YXRhcl91cmwpIHJldHVybiBzdGF0ZS51c2VyLnVzZXJfbWV0YWRhdGEuYXZhdGFyX3VybDtcbiAgcmV0dXJuIG51bGw7XG59KTtcblxuZXhwb3J0IGNvbnN0IHVzZVVzZXJUaGVtZSA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiB7XG4gIHJldHVybiBzdGF0ZS5wcm9maWxlPy5wcmVmZXJlbmNlcz8udGhlbWUgfHwgJ3N5c3RlbSc7XG59KTtcblxuZXhwb3J0IGNvbnN0IHVzZVVzZXJOb3RpZmljYXRpb25zID0gKCkgPT4gdXNlVXNlclN0b3JlKHN0YXRlID0+IHtcbiAgcmV0dXJuIHN0YXRlLnByb2ZpbGU/LnByZWZlcmVuY2VzPy5ub3RpZmljYXRpb25zID8/IHRydWU7XG59KTtcblxuLy8gUHJvZmlsZSBlZGl0aW5nIHNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IHVzZVVzZXJQcm9maWxlRWRpdERhdGEgPSAoKSA9PiB1c2VVc2VyU3RvcmUoc3RhdGUgPT4gc3RhdGUucHJvZmlsZUVkaXREYXRhKTtcbmV4cG9ydCBjb25zdCB1c2VVc2VySXNQcm9maWxlRWRpdGluZyA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc1Byb2ZpbGVFZGl0aW5nKTtcbmV4cG9ydCBjb25zdCB1c2VVc2VyUHJvZmlsZUVkaXRFcnJvcnMgPSAoKSA9PiB1c2VVc2VyU3RvcmUoc3RhdGUgPT4gc3RhdGUucHJvZmlsZUVkaXRFcnJvcnMpO1xuXG4vLyBBZGRyZXNzIGFuZCByZXByZXNlbnRhdGl2ZXMgc2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlVXNlckN1cnJlbnRBZGRyZXNzID0gKCkgPT4gdXNlVXNlclN0b3JlKHN0YXRlID0+IHN0YXRlLmN1cnJlbnRBZGRyZXNzKTtcbmV4cG9ydCBjb25zdCB1c2VVc2VyQ3VycmVudFN0YXRlID0gKCkgPT4gdXNlVXNlclN0b3JlKHN0YXRlID0+IHN0YXRlLmN1cnJlbnRTdGF0ZSk7XG5leHBvcnQgY29uc3QgdXNlVXNlclJlcHJlc2VudGF0aXZlcyA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS5yZXByZXNlbnRhdGl2ZXMpO1xuZXhwb3J0IGNvbnN0IHVzZVVzZXJTaG93QWRkcmVzc0Zvcm0gPSAoKSA9PiB1c2VVc2VyU3RvcmUoc3RhdGUgPT4gc3RhdGUuc2hvd0FkZHJlc3NGb3JtKTtcbmV4cG9ydCBjb25zdCB1c2VVc2VyTmV3QWRkcmVzcyA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS5uZXdBZGRyZXNzKTtcbmV4cG9ydCBjb25zdCB1c2VVc2VyQWRkcmVzc0xvYWRpbmcgPSAoKSA9PiB1c2VVc2VyU3RvcmUoc3RhdGUgPT4gc3RhdGUuYWRkcmVzc0xvYWRpbmcpO1xuZXhwb3J0IGNvbnN0IHVzZVVzZXJTYXZlZFN1Y2Nlc3NmdWxseSA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS5zYXZlZFN1Y2Nlc3NmdWxseSk7XG5cbi8vIEF2YXRhciBzZWxlY3RvcnNcbmV4cG9ydCBjb25zdCB1c2VVc2VyQXZhdGFyRmlsZSA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS5hdmF0YXJGaWxlKTtcbmV4cG9ydCBjb25zdCB1c2VVc2VyQXZhdGFyUHJldmlldyA9ICgpID0+IHVzZVVzZXJTdG9yZShzdGF0ZSA9PiBzdGF0ZS5hdmF0YXJQcmV2aWV3KTtcbmV4cG9ydCBjb25zdCB1c2VVc2VySXNVcGxvYWRpbmdBdmF0YXIgPSAoKSA9PiB1c2VVc2VyU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNVcGxvYWRpbmdBdmF0YXIpO1xuXG4vLyBTdG9yZSB1dGlsaXRpZXNcbmV4cG9ydCBjb25zdCB1c2VyU3RvcmVVdGlscyA9IHtcbiAgLyoqXG4gICAqIENoZWNrIGlmIHVzZXIgaGFzIHNwZWNpZmljIHByZWZlcmVuY2VcbiAgICovXG4gIGhhc1ByZWZlcmVuY2U6IChwcmVmZXJlbmNlOiBrZXlvZiBVc2VyUHJvZmlsZVsncHJlZmVyZW5jZXMnXSkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlVXNlclN0b3JlLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHN0YXRlLnByb2ZpbGU/LnByZWZlcmVuY2VzPy5bcHJlZmVyZW5jZV0gPz8gZmFsc2U7XG4gIH0sXG4gIFxuICAvKipcbiAgICogQ2hlY2sgaWYgdXNlciBoYXMgc3BlY2lmaWMgc2V0dGluZ1xuICAgKi9cbiAgaGFzU2V0dGluZzogKHNldHRpbmc6IGtleW9mIFVzZXJQcm9maWxlWydzZXR0aW5ncyddKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VVc2VyU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gc3RhdGUucHJvZmlsZT8uc2V0dGluZ3M/LltzZXR0aW5nXSA/PyBmYWxzZTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBHZXQgdXNlcidzIGZ1bGwgcHJvZmlsZSB3aXRoIGNvbXB1dGVkIGZpZWxkc1xuICAgKi9cbiAgZ2V0RnVsbFByb2ZpbGU6ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZVVzZXJTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGlmICghc3RhdGUucHJvZmlsZSB8fCAhc3RhdGUudXNlcikgcmV0dXJuIG51bGw7XG4gICAgXG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLnN0YXRlLnByb2ZpbGUsXG4gICAgICBlbWFpbDogc3RhdGUudXNlci5lbWFpbCxcbiAgICAgIGlkOiBzdGF0ZS51c2VyLmlkLFxuICAgICAgY3JlYXRlZEF0OiBzdGF0ZS51c2VyLmNyZWF0ZWRfYXQsXG4gICAgICBsYXN0U2lnbkluOiBzdGF0ZS51c2VyLmxhc3Rfc2lnbl9pbl9hdCxcbiAgICB9O1xuICB9LFxuICBcbiAgLyoqXG4gICAqIENoZWNrIGlmIHVzZXIgaXMgYWRtaW5cbiAgICovXG4gIGlzQWRtaW46ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZVVzZXJTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiBzdGF0ZS51c2VyPy51c2VyX21ldGFkYXRhPy5yb2xlID09PSAnYWRtaW4nO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIEdldCB1c2VyJ3MgZGlzcGxheSBpbmZvcm1hdGlvblxuICAgKi9cbiAgZ2V0RGlzcGxheUluZm86ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZVVzZXJTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiBzdGF0ZS5wcm9maWxlPy51c2VybmFtZSB8fCBzdGF0ZS51c2VyPy5lbWFpbD8uc3BsaXQoJ0AnKVswXSB8fCAnVXNlcicsXG4gICAgICBhdmF0YXI6IHN0YXRlLnByb2ZpbGU/LmF2YXRhciB8fCBzdGF0ZS51c2VyPy51c2VyX21ldGFkYXRhPy5hdmF0YXJfdXJsLFxuICAgICAgZW1haWw6IHN0YXRlLnVzZXI/LmVtYWlsLFxuICAgICAgdGhlbWU6IHN0YXRlLnByb2ZpbGU/LnByZWZlcmVuY2VzPy50aGVtZSB8fCAnc3lzdGVtJyxcbiAgICAgIG5vdGlmaWNhdGlvbnM6IHN0YXRlLnByb2ZpbGU/LnByZWZlcmVuY2VzPy5ub3RpZmljYXRpb25zID8/IHRydWUsXG4gICAgfTtcbiAgfVxufTtcblxuLy8gU3RvcmUgc3Vic2NyaXB0aW9ucyBmb3IgZXh0ZXJuYWwgaW50ZWdyYXRpb25zXG5leHBvcnQgY29uc3QgdXNlclN0b3JlU3Vic2NyaXB0aW9ucyA9IHtcbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byBhdXRoZW50aWNhdGlvbiBjaGFuZ2VzXG4gICAqL1xuICBvbkF1dGhDaGFuZ2U6IChjYWxsYmFjazogKGlzQXV0aGVudGljYXRlZDogYm9vbGVhbiwgdXNlcjogVXNlciB8IG51bGwpID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gdXNlVXNlclN0b3JlLnN1YnNjcmliZShcbiAgICAgIChzdGF0ZSwgcHJldlN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHsgaXNBdXRoZW50aWNhdGVkLCB1c2VyIH0gPSBzdGF0ZTtcbiAgICAgICAgY29uc3QgeyBpc0F1dGhlbnRpY2F0ZWQ6IHByZXZJc0F1dGhlbnRpY2F0ZWQsIHVzZXI6IHByZXZVc2VyIH0gPSBwcmV2U3RhdGU7XG4gICAgICAgIGlmIChpc0F1dGhlbnRpY2F0ZWQgIT09IHByZXZJc0F1dGhlbnRpY2F0ZWQgfHwgdXNlciAhPT0gcHJldlVzZXIpIHtcbiAgICAgICAgICBjYWxsYmFjayhpc0F1dGhlbnRpY2F0ZWQsIHVzZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gcHJvZmlsZSBjaGFuZ2VzXG4gICAqL1xuICBvblByb2ZpbGVDaGFuZ2U6IChjYWxsYmFjazogKHByb2ZpbGU6IFVzZXJQcm9maWxlIHwgbnVsbCkgPT4gdm9pZCkgPT4ge1xuICAgIHJldHVybiB1c2VVc2VyU3RvcmUuc3Vic2NyaWJlKFxuICAgICAgKHN0YXRlLCBwcmV2U3RhdGUpID0+IHtcbiAgICAgICAgY29uc3QgeyBwcm9maWxlIH0gPSBzdGF0ZTtcbiAgICAgICAgY29uc3QgeyBwcm9maWxlOiBwcmV2UHJvZmlsZSB9ID0gcHJldlN0YXRlO1xuICAgICAgICBpZiAocHJvZmlsZSAhPT0gcHJldlByb2ZpbGUpIHtcbiAgICAgICAgICBjYWxsYmFjayhwcm9maWxlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHByZWZlcmVuY2UgY2hhbmdlc1xuICAgKi9cbiAgb25QcmVmZXJlbmNlQ2hhbmdlOiAoY2FsbGJhY2s6IChwcmVmZXJlbmNlczogVXNlclByb2ZpbGVbJ3ByZWZlcmVuY2VzJ10pID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gdXNlVXNlclN0b3JlLnN1YnNjcmliZShcbiAgICAgIChzdGF0ZSwgcHJldlN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZWZlcmVuY2VzID0gc3RhdGUucHJvZmlsZT8ucHJlZmVyZW5jZXM7XG4gICAgICAgIGNvbnN0IHByZXZQcmVmZXJlbmNlcyA9IHByZXZTdGF0ZS5wcm9maWxlPy5wcmVmZXJlbmNlcztcbiAgICAgICAgaWYgKHByZWZlcmVuY2VzICE9PSBwcmV2UHJlZmVyZW5jZXMgJiYgcHJlZmVyZW5jZXMpIHtcbiAgICAgICAgICBjYWxsYmFjayhwcmVmZXJlbmNlcyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9XG59O1xuXG4vLyBTdG9yZSBkZWJ1Z2dpbmcgdXRpbGl0aWVzXG5leHBvcnQgY29uc3QgdXNlclN0b3JlRGVidWcgPSB7XG4gIC8qKlxuICAgKiBMb2cgY3VycmVudCB1c2VyIHN0YXRlXG4gICAqL1xuICBsb2dTdGF0ZTogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlVXNlclN0b3JlLmdldFN0YXRlKCk7XG4gICAgLy8gU3RhdGUgbG9nZ2luZyByZW1vdmVkIGZvciBwcm9kdWN0aW9uXG4gIH0sXG4gIFxuICAvKipcbiAgICogTG9nIHVzZXIgcHJvZmlsZSBkZXRhaWxzXG4gICAqL1xuICBsb2dQcm9maWxlOiAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VVc2VyU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBpZiAoc3RhdGUucHJvZmlsZSkge1xuICAgICAgLy8gUHJvZmlsZSBsb2dnaW5nIHJlbW92ZWQgZm9yIHByb2R1Y3Rpb25cbiAgICB9XG4gIH0sXG4gIFxuICAvKipcbiAgICogUmVzZXQgc3RvcmUgdG8gaW5pdGlhbCBzdGF0ZVxuICAgKi9cbiAgcmVzZXQ6ICgpID0+IHtcbiAgICB1c2VVc2VyU3RvcmUuZ2V0U3RhdGUoKS5jbGVhclVzZXIoKTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJ1c2VCaW9tZXRyaWMiLCJ1c2VCaW9tZXRyaWNBdmFpbGFibGUiLCJ1c2VCaW9tZXRyaWNDcmVkZW50aWFscyIsInVzZUJpb21ldHJpY0Vycm9yIiwidXNlQmlvbWV0cmljUmVnaXN0ZXJpbmciLCJ1c2VCaW9tZXRyaWNTdWNjZXNzIiwidXNlQmlvbWV0cmljU3VwcG9ydGVkIiwidXNlSXNBdXRoZW50aWNhdGVkIiwidXNlU2Vzc2lvbiIsInVzZVVzZXIiLCJ1c2VVc2VyQWN0aW9ucyIsInVzZVVzZXJBZGRyZXNzTG9hZGluZyIsInVzZVVzZXJBdmF0YXIiLCJ1c2VVc2VyQXZhdGFyRmlsZSIsInVzZVVzZXJBdmF0YXJQcmV2aWV3IiwidXNlVXNlckN1cnJlbnRBZGRyZXNzIiwidXNlVXNlckN1cnJlbnRTdGF0ZSIsInVzZVVzZXJEaXNwbGF5TmFtZSIsInVzZVVzZXJFcnJvciIsInVzZVVzZXJJc1Byb2ZpbGVFZGl0aW5nIiwidXNlVXNlcklzVXBsb2FkaW5nQXZhdGFyIiwidXNlVXNlckxvYWRpbmciLCJ1c2VVc2VyTmV3QWRkcmVzcyIsInVzZVVzZXJOb3RpZmljYXRpb25zIiwidXNlVXNlclByZWZlcmVuY2VzIiwidXNlVXNlclByb2ZpbGUiLCJ1c2VVc2VyUHJvZmlsZUVkaXREYXRhIiwidXNlVXNlclByb2ZpbGVFZGl0RXJyb3JzIiwidXNlVXNlclJlcHJlc2VudGF0aXZlcyIsInVzZVVzZXJTYXZlZFN1Y2Nlc3NmdWxseSIsInVzZVVzZXJTZXR0aW5ncyIsInVzZVVzZXJTaG93QWRkcmVzc0Zvcm0iLCJ1c2VVc2VyU3RvcmUiLCJ1c2VVc2VyVGhlbWUiLCJ1c2VyU3RvcmVEZWJ1ZyIsInVzZXJTdG9yZVN1YnNjcmlwdGlvbnMiLCJ1c2VyU3RvcmVVdGlscyIsImNyZWF0ZSIsImRldnRvb2xzIiwicGVyc2lzdCIsImltbWVyIiwic2V0IiwiX2dldCIsInVzZXIiLCJzZXNzaW9uIiwiaXNBdXRoZW50aWNhdGVkIiwicHJvZmlsZSIsInByb2ZpbGVFZGl0RGF0YSIsImlzUHJvZmlsZUVkaXRpbmciLCJwcm9maWxlRWRpdEVycm9ycyIsImN1cnJlbnRBZGRyZXNzIiwiY3VycmVudFN0YXRlIiwicmVwcmVzZW50YXRpdmVzIiwic2hvd0FkZHJlc3NGb3JtIiwibmV3QWRkcmVzcyIsImFkZHJlc3NMb2FkaW5nIiwic2F2ZWRTdWNjZXNzZnVsbHkiLCJhdmF0YXJGaWxlIiwiYXZhdGFyUHJldmlldyIsImlzVXBsb2FkaW5nQXZhdGFyIiwiYmlvbWV0cmljIiwiaXNTdXBwb3J0ZWQiLCJpc0F2YWlsYWJsZSIsImhhc0NyZWRlbnRpYWxzIiwiaXNSZWdpc3RlcmluZyIsImVycm9yIiwic3VjY2VzcyIsImlzTG9hZGluZyIsImlzUHJvZmlsZUxvYWRpbmciLCJpc1VwZGF0aW5nIiwic2V0TG9hZGluZyIsImxvYWRpbmciLCJzdGF0ZSIsInNldEVycm9yIiwiY2xlYXJFcnJvciIsInNldFVzZXIiLCJzZXRTZXNzaW9uIiwic2V0QXV0aGVudGljYXRlZCIsImF1dGhlbnRpY2F0ZWQiLCJzZXRVc2VyQW5kQXV0aCIsInVzZXJDaGFuZ2VkIiwiYXV0aENoYW5nZWQiLCJzZXRTZXNzaW9uQW5kRGVyaXZlZCIsIm5ld1VzZXIiLCJuZXdBdXRoZW50aWNhdGVkIiwic2lnbk91dCIsImNsZWFyVXNlciIsInNldFByb2ZpbGUiLCJ1cGRhdGVQcm9maWxlIiwidXBkYXRlcyIsIm1ldGFkYXRhIiwidXBkYXRlZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwidXBkYXRlUHJlZmVyZW5jZXMiLCJwcmVmZXJlbmNlcyIsInVwZGF0ZVNldHRpbmdzIiwic2V0dGluZ3MiLCJ1cGRhdGVNZXRhZGF0YSIsInNldFByb2ZpbGVMb2FkaW5nIiwic2V0VXBkYXRpbmciLCJ1cGRhdGluZyIsInNldEJpb21ldHJpY1N1cHBvcnRlZCIsInN1cHBvcnRlZCIsInNldEJpb21ldHJpY0F2YWlsYWJsZSIsImF2YWlsYWJsZSIsInNldEJpb21ldHJpY0NyZWRlbnRpYWxzIiwic2V0QmlvbWV0cmljUmVnaXN0ZXJpbmciLCJyZWdpc3RlcmluZyIsInNldEJpb21ldHJpY0Vycm9yIiwic2V0QmlvbWV0cmljU3VjY2VzcyIsInJlc2V0QmlvbWV0cmljIiwic2V0UHJvZmlsZUVkaXREYXRhIiwiZGF0YSIsInVwZGF0ZVByb2ZpbGVFZGl0RGF0YSIsInVwZGF0ZVByb2ZpbGVGaWVsZCIsImZpZWxkIiwidmFsdWUiLCJ1cGRhdGVBcnJheUZpZWxkIiwiY3VycmVudEFycmF5IiwibmV3QXJyYXkiLCJpbmNsdWRlcyIsImZpbHRlciIsIml0ZW0iLCJ1cGRhdGVQcml2YWN5U2V0dGluZyIsInNldHRpbmciLCJwcml2YWN5c2V0dGluZ3MiLCJzZXRQcm9maWxlRWRpdGluZyIsImVkaXRpbmciLCJzZXRQcm9maWxlRWRpdEVycm9yIiwiY2xlYXJQcm9maWxlRWRpdEVycm9yIiwiY2xlYXJBbGxQcm9maWxlRWRpdEVycm9ycyIsInNldEN1cnJlbnRBZGRyZXNzIiwiYWRkcmVzcyIsInNldEN1cnJlbnRTdGF0ZSIsInN0YXRlVmFsdWUiLCJzZXRSZXByZXNlbnRhdGl2ZXMiLCJhZGRSZXByZXNlbnRhdGl2ZSIsInJlcHJlc2VudGF0aXZlIiwiZXhpc3RpbmdJbmRleCIsImZpbmRJbmRleCIsInJlcCIsImlkIiwicHVzaCIsInJlbW92ZVJlcHJlc2VudGF0aXZlIiwic2V0U2hvd0FkZHJlc3NGb3JtIiwic2hvdyIsInNldE5ld0FkZHJlc3MiLCJzZXRBZGRyZXNzTG9hZGluZyIsInNldFNhdmVkU3VjY2Vzc2Z1bGx5Iiwic2F2ZWQiLCJsb29rdXBBZGRyZXNzIiwicmVzcG9uc2UiLCJmZXRjaCIsImVuY29kZVVSSUNvbXBvbmVudCIsIm9rIiwiRXJyb3IiLCJyZXN1bHQiLCJqc29uIiwiY29uc29sZSIsImhhbmRsZUFkZHJlc3NVcGRhdGUiLCJzZXRUaW1lb3V0Iiwic2V0QXZhdGFyRmlsZSIsImZpbGUiLCJzZXRBdmF0YXJQcmV2aWV3IiwicHJldmlldyIsInNldFVwbG9hZGluZ0F2YXRhciIsInVwbG9hZGluZyIsImNsZWFyQXZhdGFyIiwic2V0VXNlckVycm9yIiwiY2xlYXJVc2VyRXJyb3IiLCJuYW1lIiwicGFydGlhbGl6ZSIsInVzZXJuYW1lIiwidXNlcl9tZXRhZGF0YSIsImZ1bGxfbmFtZSIsImVtYWlsIiwic3BsaXQiLCJhdmF0YXIiLCJhdmF0YXJfdXJsIiwidGhlbWUiLCJub3RpZmljYXRpb25zIiwiaGFzUHJlZmVyZW5jZSIsInByZWZlcmVuY2UiLCJnZXRTdGF0ZSIsImhhc1NldHRpbmciLCJnZXRGdWxsUHJvZmlsZSIsImNyZWF0ZWRBdCIsImNyZWF0ZWRfYXQiLCJsYXN0U2lnbkluIiwibGFzdF9zaWduX2luX2F0IiwiaXNBZG1pbiIsInJvbGUiLCJnZXREaXNwbGF5SW5mbyIsIm9uQXV0aENoYW5nZSIsImNhbGxiYWNrIiwic3Vic2NyaWJlIiwicHJldlN0YXRlIiwicHJldklzQXV0aGVudGljYXRlZCIsInByZXZVc2VyIiwib25Qcm9maWxlQ2hhbmdlIiwicHJldlByb2ZpbGUiLCJvblByZWZlcmVuY2VDaGFuZ2UiLCJwcmV2UHJlZmVyZW5jZXMiLCJsb2dTdGF0ZSIsImxvZ1Byb2ZpbGUiLCJyZXNldCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0NBUUM7Ozs7Ozs7Ozs7O0lBeWpCWUEsWUFBWTtlQUFaQTs7SUFFQUMscUJBQXFCO2VBQXJCQTs7SUFDQUMsdUJBQXVCO2VBQXZCQTs7SUFFQUMsaUJBQWlCO2VBQWpCQTs7SUFEQUMsdUJBQXVCO2VBQXZCQTs7SUFFQUMsbUJBQW1CO2VBQW5CQTs7SUFMQUMscUJBQXFCO2VBQXJCQTs7SUFUQUMsa0JB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