{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/api/debug-polls-api.test.ts"],"sourcesContent":["/**\n * Debug Polls API Test\n * \n * This test helps debug why the polls API is returning 500 errors.\n */\n\nimport { describe, it, expect } from '@jest/globals';\nimport { NextRequest } from 'next/server';\nimport { GET } from '@/app/api/polls/route';\n\ndescribe('Debug Polls API', () => {\n  it('should debug the polls API error', async () => {\n    console.log('Environment variables:');\n    console.log('NEXT_PUBLIC_SUPABASE_URL:', process.env.NEXT_PUBLIC_SUPABASE_URL);\n    console.log('NEXT_PUBLIC_SUPABASE_ANON_KEY:', process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);\n    console.log('SUPABASE_SECRET_KEY:', process.env.SUPABASE_SECRET_KEY);\n    \n    const request = new NextRequest('http://localhost:3000/api/polls');\n    \n    try {\n      const response = await GET(request);\n      const responseData = await response.json();\n      \n      console.log('Response status:', response.status);\n      console.log('Response data:', responseData);\n      \n      // For now, just log the response to debug\n      expect(response.status).toBeDefined();\n    } catch (error) {\n      console.log('Error caught:', error);\n      throw error;\n    }\n  });\n});\n"],"names":["describe","it","console","log","process","env","NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY","SUPABASE_SECRET_KEY","request","NextRequest","response","GET","responseData","json","status","expect","toBeDefined","error"],"mappings":"AAAA;;;;CAIC;;;;yBAEoC;wBACT;uBACR;AAEpBA,IAAAA,iBAAQ,EAAC,mBAAmB;IAC1BC,IAAAA,WAAE,EAAC,oCAAoC;QACrCC,QAAQC,GAAG,CAAC;QACZD,QAAQC,GAAG,CAAC,6BAA6BC,QAAQC,GAAG,CAACC,wBAAwB;QAC7EJ,QAAQC,GAAG,CAAC,kCAAkCC,QAAQC,GAAG,CAACE,6BAA6B;QACvFL,QAAQC,GAAG,CAAC,wBAAwBC,QAAQC,GAAG,CAACG,mBAAmB;QAEnE,MAAMC,UAAU,IAAIC,mBAAW,CAAC;QAEhC,IAAI;YACF,MAAMC,WAAW,MAAMC,IAAAA,UAAG,EAACH;YAC3B,MAAMI,eAAe,MAAMF,SAASG,IAAI;YAExCZ,QAAQC,GAAG,CAAC,oBAAoBQ,SAASI,MAAM;YAC/Cb,QAAQC,GAAG,CAAC,kBAAkBU;YAE9B,0CAA0C;YAC1CG,IAAAA,eAAM,EAACL,SAASI,MAAM,EAAEE,WAAW;QACrC,EAAE,OAAOC,OAAO;YACdhB,QAAQC,GAAG,CAAC,iBAAiBe;YAC7B,MAAMA;QACR;IACF;AACF"}