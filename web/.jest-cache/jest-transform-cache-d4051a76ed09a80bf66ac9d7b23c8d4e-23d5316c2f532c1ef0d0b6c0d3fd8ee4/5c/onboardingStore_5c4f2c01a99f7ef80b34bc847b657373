43a80aa339c2da8245b97049e6dbf9d1
/**
 * Onboarding Store - Zustand Implementation
 * 
 * Comprehensive onboarding state management including step navigation,
 * form data persistence, and progress tracking. Integrates with UserStore
 * for profile data and AppStore for user preferences.
 * 
 * Created: October 10, 2025
 * Status: âœ… ACTIVE
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    onboardingStoreDebug: function() {
        return onboardingStoreDebug;
    },
    onboardingStoreSubscriptions: function() {
        return onboardingStoreSubscriptions;
    },
    onboardingStoreUtils: function() {
        return onboardingStoreUtils;
    },
    useCurrentStepData: function() {
        return useCurrentStepData;
    },
    useOnboardingActions: function() {
        return useOnboardingActions;
    },
    useOnboardingActive: function() {
        return useOnboardingActive;
    },
    useOnboardingCompleted: function() {
        return useOnboardingCompleted;
    },
    useOnboardingData: function() {
        return useOnboardingData;
    },
    useOnboardingError: function() {
        return useOnboardingError;
    },
    useOnboardingLoading: function() {
        return useOnboardingLoading;
    },
    useOnboardingProgress: function() {
        return useOnboardingProgress;
    },
    useOnboardingSkipped: function() {
        return useOnboardingSkipped;
    },
    useOnboardingStats: function() {
        return useOnboardingStats;
    },
    useOnboardingStep: function() {
        return useOnboardingStep;
    },
    useOnboardingStore: function() {
        return useOnboardingStore;
    },
    useStepValidation: function() {
        return useStepValidation;
    }
});
const _zustand = require("zustand");
const _middleware = require("zustand/middleware");
const _shallow = require("zustand/shallow");
const _logger = require("../utils/logger");
const _objects = require("../utils/objects");
// Default onboarding steps
const defaultSteps = [
    {
        id: 0,
        title: "Welcome",
        description: "Get started with your civic engagement journey",
        component: "WelcomeStep",
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 1,
        title: "Authentication",
        description: "Set up your account and security",
        component: "AuthSetupStep",
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 2,
        title: "Profile Setup",
        description: "Tell us about yourself",
        component: "ProfileSetupStep",
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 3,
        title: "Values & Interests",
        description: "Help us personalize your experience",
        component: "ValuesStep",
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 4,
        title: "Privacy & Data",
        description: "Control your data and privacy settings",
        component: "DataUsageStepLite",
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 5,
        title: "Complete",
        description: "You're all set! Welcome to Choices",
        component: "CompleteStep",
        required: true,
        completed: false,
        skipped: false
    }
];
const useOnboardingStore = (0, _zustand.create)()((0, _middleware.devtools)((0, _middleware.persist)((set, get)=>({
        // Initial state
        currentStep: 0,
        totalSteps: 6,
        isCompleted: false,
        isSkipped: false,
        isActive: false,
        authData: {},
        profileData: {},
        valuesData: {},
        preferencesData: {},
        progress: 0,
        completedSteps: [],
        skippedSteps: [],
        stepData: {},
        steps: defaultSteps,
        isLoading: false,
        isSaving: false,
        isSubmitting: false,
        error: null,
        // Navigation actions
        setCurrentStep: (step)=>set((state)=>{
                const newStep = Math.max(0, Math.min(step, state.totalSteps - 1));
                const progress = newStep / state.totalSteps * 100;
                _logger.logger.info("Onboarding step changed", {
                    from: state.currentStep,
                    to: newStep,
                    progress: Math.round(progress)
                });
                return {
                    ...state,
                    currentStep: newStep,
                    progress
                };
            }),
        nextStep: ()=>set((state)=>{
                const nextStep = Math.min(state.currentStep + 1, state.totalSteps - 1);
                const progress = nextStep / state.totalSteps * 100;
                _logger.logger.info("Onboarding next step", {
                    currentStep: nextStep,
                    progress: Math.round(progress)
                });
                return {
                    ...state,
                    currentStep: nextStep,
                    progress
                };
            }),
        previousStep: ()=>set((state)=>{
                const prevStep = Math.max(state.currentStep - 1, 0);
                const progress = prevStep / state.totalSteps * 100;
                _logger.logger.info("Onboarding previous step", {
                    currentStep: prevStep,
                    progress: Math.round(progress)
                });
                return {
                    ...state,
                    currentStep: prevStep,
                    progress
                };
            }),
        goToStep: (step)=>{
            const { setCurrentStep } = get();
            setCurrentStep(step);
        },
        completeOnboarding: ()=>set((state)=>{
                _logger.logger.info("Onboarding completed", {
                    totalSteps: state.totalSteps,
                    completedSteps: state.completedSteps.length + 1
                });
                return {
                    ...state,
                    isCompleted: true,
                    isActive: false,
                    progress: 100,
                    completedSteps: [
                        ...state.completedSteps,
                        state.currentStep
                    ]
                };
            }),
        skipOnboarding: ()=>set({
                isSkipped: true,
                isActive: false,
                progress: 100
            }),
        restartOnboarding: ()=>set({
                currentStep: 0,
                isCompleted: false,
                isSkipped: false,
                isActive: true,
                progress: 0,
                completedSteps: [],
                skippedSteps: [],
                stepData: {},
                authData: {},
                profileData: {},
                valuesData: {},
                preferencesData: {},
                error: null
            }),
        // Data management actions
        updateFormData: (step, data)=>set((state)=>({
                    stepData: (0, _objects.withOptional)(state.stepData, {
                        [step]: (0, _objects.withOptional)(state.stepData[step] || {}, data)
                    })
                })),
        updateAuthData: (data)=>set((state)=>({
                    authData: (0, _objects.withOptional)(state.authData, data)
                })),
        updateProfileData: (data)=>set((state)=>({
                    profileData: (0, _objects.withOptional)(state.profileData, data)
                })),
        updateValuesData: (data)=>set((state)=>({
                    valuesData: (0, _objects.withOptional)(state.valuesData, data)
                })),
        updatePreferencesData: (data)=>set((state)=>({
                    preferencesData: (0, _objects.withOptional)(state.preferencesData, data)
                })),
        clearStepData: (step)=>set((state)=>({
                    stepData: (0, _objects.withOptional)(state.stepData, {
                        [step]: {}
                    })
                })),
        clearAllData: ()=>set({
                stepData: {},
                authData: {},
                profileData: {},
                valuesData: {},
                preferencesData: {}
            }),
        // Step management actions
        markStepCompleted: (step)=>set((state)=>({
                    completedSteps: [
                        ...state.completedSteps,
                        step
                    ],
                    steps: state.steps.map((s)=>s.id === step ? (0, _objects.withOptional)(s, {
                            completed: true
                        }) : s)
                })),
        markStepSkipped: (step)=>set((state)=>({
                    skippedSteps: [
                        ...state.skippedSteps,
                        step
                    ],
                    steps: state.steps.map((s)=>s.id === step ? (0, _objects.withOptional)(s, {
                            skipped: true
                        }) : s)
                })),
        markStepIncomplete: (step)=>set((state)=>({
                    completedSteps: state.completedSteps.filter((s)=>s !== step),
                    steps: state.steps.map((s)=>s.id === step ? (0, _objects.withOptional)(s, {
                            completed: false
                        }) : s)
                })),
        canProceedToNextStep: (step)=>{
            const state = get();
            const currentStepData = state.stepData[step];
            const stepConfig = state.steps.find((s)=>s.id === step);
            if (!stepConfig?.required) return true;
            // Add validation logic here based on step requirements
            switch(step){
                case 0:
                    return true;
                case 1:
                    return !!(currentStepData?.email && currentStepData?.password);
                case 2:
                    return !!(currentStepData?.firstName && currentStepData?.lastName);
                case 3:
                    return !!(currentStepData?.primaryInterests?.length > 0);
                case 4:
                    return !!currentStepData?.privacyAccepted;
                case 5:
                    return true;
                default:
                    return true;
            }
        },
        getStepValidationErrors: (step)=>{
            const state = get();
            const currentStepData = state.stepData[step];
            const errors = [];
            switch(step){
                case 1:
                    if (!currentStepData?.email) errors.push("Email is required");
                    if (!currentStepData?.password) errors.push("Password is required");
                    if (currentStepData?.password !== currentStepData?.confirmPassword) {
                        errors.push("Passwords do not match");
                    }
                    break;
                case 2:
                    if (!currentStepData?.firstName) errors.push("First name is required");
                    if (!currentStepData?.lastName) errors.push("Last name is required");
                    break;
                case 3:
                    if (!currentStepData?.primaryInterests?.length) {
                        errors.push("Please select at least one interest");
                    }
                    break;
                case 4:
                    if (!currentStepData?.privacyAccepted) {
                        errors.push("You must accept the privacy policy");
                    }
                    break;
            }
            return errors;
        },
        // Loading state actions
        setLoading: (loading)=>set({
                isLoading: loading
            }),
        setSaving: (saving)=>set({
                isSaving: saving
            }),
        setSubmitting: (submitting)=>set({
                isSubmitting: submitting
            }),
        setError: (error)=>set({
                error
            }),
        clearError: ()=>set({
                error: null
            }),
        // Data operations
        saveProgress: async ()=>{
            const { setSaving, setError } = get();
            try {
                setSaving(true);
                setError(null);
                const state = get();
                const response = await fetch("/api/onboarding/progress", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        currentStep: state.currentStep,
                        progress: state.progress,
                        stepData: state.stepData,
                        authData: state.authData,
                        profileData: state.profileData,
                        valuesData: state.valuesData,
                        preferencesData: state.preferencesData
                    })
                });
                if (!response.ok) {
                    throw new Error("Failed to save onboarding progress");
                }
                _logger.logger.info("Onboarding progress saved", {
                    currentStep: state.currentStep,
                    progress: state.progress
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to save onboarding progress", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setSaving(false);
            }
        },
        loadProgress: async ()=>{
            const { setLoading, setError } = get();
            try {
                setLoading(true);
                setError(null);
                const response = await fetch("/api/onboarding/progress");
                if (!response.ok) {
                    throw new Error("Failed to load onboarding progress");
                }
                const data = await response.json();
                set({
                    currentStep: data.currentStep || 0,
                    progress: data.progress || 0,
                    stepData: data.stepData || {},
                    authData: data.authData || {},
                    profileData: data.profileData || {},
                    valuesData: data.valuesData || {},
                    preferencesData: data.preferencesData || {}
                });
                _logger.logger.info("Onboarding progress loaded", {
                    currentStep: data.currentStep,
                    progress: data.progress
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to load onboarding progress", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setLoading(false);
            }
        },
        submitOnboarding: async ()=>{
            const { setSubmitting, setError, completeOnboarding } = get();
            try {
                setSubmitting(true);
                setError(null);
                const state = get();
                const response = await fetch("/api/onboarding/complete", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        authData: state.authData,
                        profileData: state.profileData,
                        valuesData: state.valuesData,
                        preferencesData: state.preferencesData
                    })
                });
                if (!response.ok) {
                    throw new Error("Failed to complete onboarding");
                }
                completeOnboarding();
                _logger.logger.info("Onboarding submitted successfully");
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to submit onboarding", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setSubmitting(false);
            }
        },
        validateStep: (step)=>{
            const { getStepValidationErrors } = get();
            const errors = getStepValidationErrors(step);
            return errors.length === 0;
        },
        validateAllSteps: ()=>{
            const { validateStep, totalSteps } = get();
            return Array.from({
                length: totalSteps
            }, (_, i)=>i).every((step)=>validateStep(step));
        }
    }), {
    name: "onboarding-store",
    partialize: (state)=>({
            currentStep: state.currentStep,
            progress: state.progress,
            stepData: state.stepData,
            authData: state.authData,
            profileData: state.profileData,
            valuesData: state.valuesData,
            preferencesData: state.preferencesData,
            completedSteps: state.completedSteps,
            skippedSteps: state.skippedSteps
        })
}), {
    name: "onboarding-store"
}));
const useOnboardingStep = ()=>useOnboardingStore((state)=>state.currentStep);
const useOnboardingProgress = ()=>useOnboardingStore((state)=>state.progress);
const useOnboardingCompleted = ()=>useOnboardingStore((state)=>state.isCompleted);
const useOnboardingSkipped = ()=>useOnboardingStore((state)=>state.isSkipped);
const useOnboardingActive = ()=>useOnboardingStore((state)=>state.isActive);
const useOnboardingData = ()=>useOnboardingStore((state)=>({
            currentStep: state.currentStep,
            progress: state.progress,
            isCompleted: state.isCompleted,
            authData: state.authData,
            profileData: state.profileData,
            valuesData: state.valuesData,
            preferencesData: state.preferencesData
        }), _shallow.shallow);
const useOnboardingLoading = ()=>useOnboardingStore((state)=>state.isLoading);
const useOnboardingError = ()=>useOnboardingStore((state)=>state.error);
const useOnboardingActions = ()=>useOnboardingStore((state)=>({
            setCurrentStep: state.setCurrentStep,
            nextStep: state.nextStep,
            previousStep: state.previousStep,
            goToStep: state.goToStep,
            completeOnboarding: state.completeOnboarding,
            skipOnboarding: state.skipOnboarding,
            restartOnboarding: state.restartOnboarding,
            updateFormData: state.updateFormData,
            updateAuthData: state.updateAuthData,
            updateProfileData: state.updateProfileData,
            updateValuesData: state.updateValuesData,
            updatePreferencesData: state.updatePreferencesData,
            clearStepData: state.clearStepData,
            clearAllData: state.clearAllData,
            markStepCompleted: state.markStepCompleted,
            markStepSkipped: state.markStepSkipped,
            markStepIncomplete: state.markStepIncomplete,
            canProceedToNextStep: state.canProceedToNextStep,
            getStepValidationErrors: state.getStepValidationErrors,
            setLoading: state.setLoading,
            setSaving: state.setSaving,
            setSubmitting: state.setSubmitting,
            setError: state.setError,
            clearError: state.clearError,
            saveProgress: state.saveProgress,
            loadProgress: state.loadProgress,
            submitOnboarding: state.submitOnboarding,
            validateStep: state.validateStep,
            validateAllSteps: state.validateAllSteps
        }), _shallow.shallow);
const useOnboardingStats = ()=>useOnboardingStore((state)=>({
            totalSteps: state.totalSteps,
            currentStep: state.currentStep,
            completedSteps: state.completedSteps.length,
            skippedSteps: state.skippedSteps.length,
            progress: state.progress,
            isCompleted: state.isCompleted,
            isSkipped: state.isSkipped
        }), _shallow.shallow);
const useCurrentStepData = ()=>useOnboardingStore((state)=>state.stepData[state.currentStep] || {});
const useStepValidation = (step)=>useOnboardingStore((state)=>({
            canProceed: state.canProceedToNextStep(step),
            errors: state.getStepValidationErrors(step),
            isValid: state.validateStep(step)
        }));
const onboardingStoreUtils = {
    /**
   * Get onboarding summary
   */ getOnboardingSummary: ()=>{
        const state = useOnboardingStore.getState();
        return {
            currentStep: state.currentStep,
            totalSteps: state.totalSteps,
            progress: state.progress,
            isCompleted: state.isCompleted,
            isSkipped: state.isSkipped,
            completedSteps: state.completedSteps,
            skippedSteps: state.skippedSteps
        };
    },
    /**
   * Get step data for specific step
   */ getStepData: (step)=>{
        const state = useOnboardingStore.getState();
        return state.stepData[step] || {};
    },
    /**
   * Check if onboarding can be completed
   */ canCompleteOnboarding: ()=>{
        const state = useOnboardingStore.getState();
        return state.validateAllSteps() && state.currentStep === state.totalSteps - 1;
    },
    /**
   * Get onboarding progress percentage
   */ getProgressPercentage: ()=>{
        const state = useOnboardingStore.getState();
        return Math.round(state.progress);
    },
    /**
   * Get next incomplete step
   */ getNextIncompleteStep: ()=>{
        const state = useOnboardingStore.getState();
        const incompleteSteps = state.steps.filter((step)=>!step.completed && !step.skipped);
        return incompleteSteps[0] || null;
    }
};
const onboardingStoreSubscriptions = {
    /**
   * Subscribe to onboarding progress changes
   */ onProgressChange: (callback)=>{
        return useOnboardingStore.subscribe((state)=>{
            callback(state.progress);
        });
    },
    /**
   * Subscribe to step changes
   */ onStepChange: (callback)=>{
        return useOnboardingStore.subscribe((state)=>{
            callback(state.currentStep);
        });
    },
    /**
   * Subscribe to completion status
   */ onCompletionChange: (callback)=>{
        return useOnboardingStore.subscribe((state)=>{
            callback(state.isCompleted);
        });
    }
};
const onboardingStoreDebug = {
    /**
   * Log current onboarding state
   */ logState: ()=>{
        const state = useOnboardingStore.getState();
        _logger.logger.debug("Onboarding Store State", {
            currentStep: state.currentStep,
            totalSteps: state.totalSteps,
            progress: state.progress,
            isCompleted: state.isCompleted,
            isSkipped: state.isSkipped,
            completedSteps: state.completedSteps,
            skippedSteps: state.skippedSteps,
            isLoading: state.isLoading,
            error: state.error
        });
    },
    /**
   * Log onboarding summary
   */ logSummary: ()=>{
        const summary = onboardingStoreUtils.getOnboardingSummary();
        _logger.logger.debug("Onboarding Summary", summary);
    },
    /**
   * Log step data
   */ logStepData: (step)=>{
        const stepData = onboardingStoreUtils.getStepData(step);
        _logger.logger.debug("Step Data", {
            step,
            stepData
        });
    },
    /**
   * Reset onboarding store
   */ reset: ()=>{
        useOnboardingStore.getState().restartOnboarding();
        _logger.logger.info("Onboarding store reset");
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvc3RvcmVzL29uYm9hcmRpbmdTdG9yZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE9uYm9hcmRpbmcgU3RvcmUgLSBadXN0YW5kIEltcGxlbWVudGF0aW9uXG4gKiBcbiAqIENvbXByZWhlbnNpdmUgb25ib2FyZGluZyBzdGF0ZSBtYW5hZ2VtZW50IGluY2x1ZGluZyBzdGVwIG5hdmlnYXRpb24sXG4gKiBmb3JtIGRhdGEgcGVyc2lzdGVuY2UsIGFuZCBwcm9ncmVzcyB0cmFja2luZy4gSW50ZWdyYXRlcyB3aXRoIFVzZXJTdG9yZVxuICogZm9yIHByb2ZpbGUgZGF0YSBhbmQgQXBwU3RvcmUgZm9yIHVzZXIgcHJlZmVyZW5jZXMuXG4gKiBcbiAqIENyZWF0ZWQ6IE9jdG9iZXIgMTAsIDIwMjVcbiAqIFN0YXR1czog4pyFIEFDVElWRVxuICovXG5cbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnO1xuaW1wb3J0IHsgZGV2dG9vbHMgfSBmcm9tICd6dXN0YW5kL21pZGRsZXdhcmUnO1xuaW1wb3J0IHsgcGVyc2lzdCB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5pbXBvcnQgeyBzaGFsbG93IH0gZnJvbSAnenVzdGFuZC9zaGFsbG93JztcblxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQC9saWIvdXRpbHMvbG9nZ2VyJztcbmltcG9ydCB7IHdpdGhPcHRpb25hbCB9IGZyb20gJ0AvbGliL3V0aWxzL29iamVjdHMnO1xuXG4vLyBPbmJvYXJkaW5nIGRhdGEgdHlwZXNcbmludGVyZmFjZSBBdXRoRGF0YSB7XG4gIG1ldGhvZD86ICdlbWFpbCcgfCAnZ29vZ2xlJyB8ICdhcHBsZScgfCAncGhvbmUnO1xuICBlbWFpbD86IHN0cmluZztcbiAgcGhvbmU/OiBzdHJpbmc7XG4gIHBhc3N3b3JkPzogc3RyaW5nO1xuICBjb25maXJtUGFzc3dvcmQ/OiBzdHJpbmc7XG4gIHRlcm1zQWNjZXB0ZWQ/OiBib29sZWFuO1xuICBwcml2YWN5QWNjZXB0ZWQ/OiBib29sZWFuO1xuICBtYXJrZXRpbmdPcHRJbj86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBQcm9maWxlRGF0YSB7XG4gIGZpcnN0TmFtZT86IHN0cmluZztcbiAgbGFzdE5hbWU/OiBzdHJpbmc7XG4gIHVzZXJuYW1lPzogc3RyaW5nO1xuICBhdmF0YXI/OiBzdHJpbmc7XG4gIGJpbz86IHN0cmluZztcbiAgbG9jYXRpb24/OiBzdHJpbmc7XG4gIHN0YXRlPzogc3RyaW5nO1xuICB6aXBDb2RlPzogc3RyaW5nO1xuICBkYXRlT2ZCaXJ0aD86IHN0cmluZztcbiAgZ2VuZGVyPzogc3RyaW5nO1xuICBwaG9uZT86IHN0cmluZztcbiAgd2Vic2l0ZT86IHN0cmluZztcbn1cblxuaW50ZXJmYWNlIFZhbHVlc0RhdGEge1xuICBwb2xpdGljYWxBZmZpbGlhdGlvbj86IHN0cmluZztcbiAgcHJpbWFyeUludGVyZXN0cz86IHN0cmluZ1tdO1xuICBzZWNvbmRhcnlJbnRlcmVzdHM/OiBzdHJpbmdbXTtcbiAgdmFsdWVzPzogc3RyaW5nW107XG4gIHByaW9yaXRpZXM/OiBzdHJpbmdbXTtcbiAgZW5nYWdlbWVudExldmVsPzogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJztcbiAgbm90aWZpY2F0aW9uUHJlZmVyZW5jZXM/OiB7XG4gICAgZW1haWw6IGJvb2xlYW47XG4gICAgcHVzaDogYm9vbGVhbjtcbiAgICBzbXM6IGJvb2xlYW47XG4gIH07XG59XG5cbmludGVyZmFjZSBQcmVmZXJlbmNlc0RhdGEge1xuICB0aGVtZT86ICdsaWdodCcgfCAnZGFyaycgfCAnc3lzdGVtJztcbiAgbGFuZ3VhZ2U/OiBzdHJpbmc7XG4gIHRpbWV6b25lPzogc3RyaW5nO1xuICBub3RpZmljYXRpb25zPzogYm9vbGVhbjtcbiAgcHJpdmFjeT86ICdwdWJsaWMnIHwgJ3ByaXZhdGUnIHwgJ2ZyaWVuZHMnO1xuICBkYXRhU2hhcmluZz86IGJvb2xlYW47XG4gIGFuYWx5dGljcz86IGJvb2xlYW47XG4gIG1hcmtldGluZz86IGJvb2xlYW47XG59XG5cbmludGVyZmFjZSBPbmJvYXJkaW5nU3RlcCB7XG4gIGlkOiBudW1iZXI7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGNvbXBvbmVudDogc3RyaW5nO1xuICByZXF1aXJlZDogYm9vbGVhbjtcbiAgY29tcGxldGVkOiBib29sZWFuO1xuICBza2lwcGVkOiBib29sZWFuO1xuICBkYXRhPzogYW55O1xufVxuXG4vLyBPbmJvYXJkaW5nIHN0b3JlIHN0YXRlIGludGVyZmFjZVxuaW50ZXJmYWNlIE9uYm9hcmRpbmdTdG9yZSB7XG4gIC8vIE9uYm9hcmRpbmcgc3RhdGVcbiAgY3VycmVudFN0ZXA6IG51bWJlcjtcbiAgdG90YWxTdGVwczogbnVtYmVyO1xuICBpc0NvbXBsZXRlZDogYm9vbGVhbjtcbiAgaXNTa2lwcGVkOiBib29sZWFuO1xuICBpc0FjdGl2ZTogYm9vbGVhbjtcbiAgXG4gIC8vIEZvcm0gZGF0YVxuICBhdXRoRGF0YTogQXV0aERhdGE7XG4gIHByb2ZpbGVEYXRhOiBQcm9maWxlRGF0YTtcbiAgdmFsdWVzRGF0YTogVmFsdWVzRGF0YTtcbiAgcHJlZmVyZW5jZXNEYXRhOiBQcmVmZXJlbmNlc0RhdGE7XG4gIFxuICAvLyBQcm9ncmVzcyB0cmFja2luZ1xuICBwcm9ncmVzczogbnVtYmVyO1xuICBjb21wbGV0ZWRTdGVwczogbnVtYmVyW107XG4gIHNraXBwZWRTdGVwczogbnVtYmVyW107XG4gIHN0ZXBEYXRhOiBSZWNvcmQ8bnVtYmVyLCBhbnk+O1xuICBcbiAgLy8gU3RlcHMgY29uZmlndXJhdGlvblxuICBzdGVwczogT25ib2FyZGluZ1N0ZXBbXTtcbiAgXG4gIC8vIExvYWRpbmcgc3RhdGVzXG4gIGlzTG9hZGluZzogYm9vbGVhbjtcbiAgaXNTYXZpbmc6IGJvb2xlYW47XG4gIGlzU3VibWl0dGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIFxuICAvLyBBY3Rpb25zIC0gTmF2aWdhdGlvblxuICBzZXRDdXJyZW50U3RlcDogKHN0ZXA6IG51bWJlcikgPT4gdm9pZDtcbiAgbmV4dFN0ZXA6ICgpID0+IHZvaWQ7XG4gIHByZXZpb3VzU3RlcDogKCkgPT4gdm9pZDtcbiAgZ29Ub1N0ZXA6IChzdGVwOiBudW1iZXIpID0+IHZvaWQ7XG4gIGNvbXBsZXRlT25ib2FyZGluZzogKCkgPT4gdm9pZDtcbiAgc2tpcE9uYm9hcmRpbmc6ICgpID0+IHZvaWQ7XG4gIHJlc3RhcnRPbmJvYXJkaW5nOiAoKSA9PiB2b2lkO1xuICBcbiAgLy8gQWN0aW9ucyAtIERhdGEgbWFuYWdlbWVudFxuICB1cGRhdGVGb3JtRGF0YTogKHN0ZXA6IG51bWJlciwgZGF0YTogYW55KSA9PiB2b2lkO1xuICB1cGRhdGVBdXRoRGF0YTogKGRhdGE6IFBhcnRpYWw8QXV0aERhdGE+KSA9PiB2b2lkO1xuICB1cGRhdGVQcm9maWxlRGF0YTogKGRhdGE6IFBhcnRpYWw8UHJvZmlsZURhdGE+KSA9PiB2b2lkO1xuICB1cGRhdGVWYWx1ZXNEYXRhOiAoZGF0YTogUGFydGlhbDxWYWx1ZXNEYXRhPikgPT4gdm9pZDtcbiAgdXBkYXRlUHJlZmVyZW5jZXNEYXRhOiAoZGF0YTogUGFydGlhbDxQcmVmZXJlbmNlc0RhdGE+KSA9PiB2b2lkO1xuICBjbGVhclN0ZXBEYXRhOiAoc3RlcDogbnVtYmVyKSA9PiB2b2lkO1xuICBjbGVhckFsbERhdGE6ICgpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gU3RlcCBtYW5hZ2VtZW50XG4gIG1hcmtTdGVwQ29tcGxldGVkOiAoc3RlcDogbnVtYmVyKSA9PiB2b2lkO1xuICBtYXJrU3RlcFNraXBwZWQ6IChzdGVwOiBudW1iZXIpID0+IHZvaWQ7XG4gIG1hcmtTdGVwSW5jb21wbGV0ZTogKHN0ZXA6IG51bWJlcikgPT4gdm9pZDtcbiAgY2FuUHJvY2VlZFRvTmV4dFN0ZXA6IChzdGVwOiBudW1iZXIpID0+IGJvb2xlYW47XG4gIGdldFN0ZXBWYWxpZGF0aW9uRXJyb3JzOiAoc3RlcDogbnVtYmVyKSA9PiBzdHJpbmdbXTtcbiAgXG4gIC8vIEFjdGlvbnMgLSBMb2FkaW5nIHN0YXRlc1xuICBzZXRMb2FkaW5nOiAobG9hZGluZzogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0U2F2aW5nOiAoc2F2aW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRTdWJtaXR0aW5nOiAoc3VibWl0dGluZzogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0RXJyb3I6IChlcnJvcjogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgY2xlYXJFcnJvcjogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBEYXRhIG9wZXJhdGlvbnNcbiAgc2F2ZVByb2dyZXNzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBsb2FkUHJvZ3Jlc3M6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHN1Ym1pdE9uYm9hcmRpbmc6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHZhbGlkYXRlU3RlcDogKHN0ZXA6IG51bWJlcikgPT4gYm9vbGVhbjtcbiAgdmFsaWRhdGVBbGxTdGVwczogKCkgPT4gYm9vbGVhbjtcbn1cblxuLy8gRGVmYXVsdCBvbmJvYXJkaW5nIHN0ZXBzXG5jb25zdCBkZWZhdWx0U3RlcHM6IE9uYm9hcmRpbmdTdGVwW10gPSBbXG4gIHtcbiAgICBpZDogMCxcbiAgICB0aXRsZTogJ1dlbGNvbWUnLFxuICAgIGRlc2NyaXB0aW9uOiAnR2V0IHN0YXJ0ZWQgd2l0aCB5b3VyIGNpdmljIGVuZ2FnZW1lbnQgam91cm5leScsXG4gICAgY29tcG9uZW50OiAnV2VsY29tZVN0ZXAnLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgc2tpcHBlZDogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICBpZDogMSxcbiAgICB0aXRsZTogJ0F1dGhlbnRpY2F0aW9uJyxcbiAgICBkZXNjcmlwdGlvbjogJ1NldCB1cCB5b3VyIGFjY291bnQgYW5kIHNlY3VyaXR5JyxcbiAgICBjb21wb25lbnQ6ICdBdXRoU2V0dXBTdGVwJyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgIHNraXBwZWQ6IGZhbHNlLFxuICB9LFxuICB7XG4gICAgaWQ6IDIsXG4gICAgdGl0bGU6ICdQcm9maWxlIFNldHVwJyxcbiAgICBkZXNjcmlwdGlvbjogJ1RlbGwgdXMgYWJvdXQgeW91cnNlbGYnLFxuICAgIGNvbXBvbmVudDogJ1Byb2ZpbGVTZXR1cFN0ZXAnLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgc2tpcHBlZDogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICBpZDogMyxcbiAgICB0aXRsZTogJ1ZhbHVlcyAmIEludGVyZXN0cycsXG4gICAgZGVzY3JpcHRpb246ICdIZWxwIHVzIHBlcnNvbmFsaXplIHlvdXIgZXhwZXJpZW5jZScsXG4gICAgY29tcG9uZW50OiAnVmFsdWVzU3RlcCcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICBza2lwcGVkOiBmYWxzZSxcbiAgfSxcbiAge1xuICAgIGlkOiA0LFxuICAgIHRpdGxlOiAnUHJpdmFjeSAmIERhdGEnLFxuICAgIGRlc2NyaXB0aW9uOiAnQ29udHJvbCB5b3VyIGRhdGEgYW5kIHByaXZhY3kgc2V0dGluZ3MnLFxuICAgIGNvbXBvbmVudDogJ0RhdGFVc2FnZVN0ZXBMaXRlJyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgIHNraXBwZWQ6IGZhbHNlLFxuICB9LFxuICB7XG4gICAgaWQ6IDUsXG4gICAgdGl0bGU6ICdDb21wbGV0ZScsXG4gICAgZGVzY3JpcHRpb246ICdZb3VcXCdyZSBhbGwgc2V0ISBXZWxjb21lIHRvIENob2ljZXMnLFxuICAgIGNvbXBvbmVudDogJ0NvbXBsZXRlU3RlcCcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICBza2lwcGVkOiBmYWxzZSxcbiAgfSxcbl07XG5cbi8vIENyZWF0ZSBvbmJvYXJkaW5nIHN0b3JlIHdpdGggbWlkZGxld2FyZVxuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdTdG9yZSA9IGNyZWF0ZTxPbmJvYXJkaW5nU3RvcmU+KCkoXG4gIGRldnRvb2xzKFxuICAgIHBlcnNpc3QoXG4gICAgICAoc2V0LCBnZXQpID0+ICh7XG4gICAgICAgIC8vIEluaXRpYWwgc3RhdGVcbiAgICAgICAgY3VycmVudFN0ZXA6IDAsXG4gICAgICAgIHRvdGFsU3RlcHM6IDYsXG4gICAgICAgIGlzQ29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgaXNTa2lwcGVkOiBmYWxzZSxcbiAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxuICAgICAgICBhdXRoRGF0YToge30sXG4gICAgICAgIHByb2ZpbGVEYXRhOiB7fSxcbiAgICAgICAgdmFsdWVzRGF0YToge30sXG4gICAgICAgIHByZWZlcmVuY2VzRGF0YToge30sXG4gICAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgICBjb21wbGV0ZWRTdGVwczogW10sXG4gICAgICAgIHNraXBwZWRTdGVwczogW10sXG4gICAgICAgIHN0ZXBEYXRhOiB7fSxcbiAgICAgICAgc3RlcHM6IGRlZmF1bHRTdGVwcyxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgaXNTYXZpbmc6IGZhbHNlLFxuICAgICAgICBpc1N1Ym1pdHRpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgXG4gICAgICAgIC8vIE5hdmlnYXRpb24gYWN0aW9uc1xuICAgICAgICBzZXRDdXJyZW50U3RlcDogKHN0ZXApID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdTdGVwID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oc3RlcCwgc3RhdGUudG90YWxTdGVwcyAtIDEpKTtcbiAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IChuZXdTdGVwIC8gc3RhdGUudG90YWxTdGVwcykgKiAxMDA7XG4gICAgICAgICAgXG4gICAgICAgICAgbG9nZ2VyLmluZm8oJ09uYm9hcmRpbmcgc3RlcCBjaGFuZ2VkJywge1xuICAgICAgICAgICAgZnJvbTogc3RhdGUuY3VycmVudFN0ZXAsXG4gICAgICAgICAgICB0bzogbmV3U3RlcCxcbiAgICAgICAgICAgIHByb2dyZXNzOiBNYXRoLnJvdW5kKHByb2dyZXNzKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgIGN1cnJlbnRTdGVwOiBuZXdTdGVwLFxuICAgICAgICAgICAgcHJvZ3Jlc3NcbiAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIG5leHRTdGVwOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgY29uc3QgbmV4dFN0ZXAgPSBNYXRoLm1pbihzdGF0ZS5jdXJyZW50U3RlcCArIDEsIHN0YXRlLnRvdGFsU3RlcHMgLSAxKTtcbiAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IChuZXh0U3RlcCAvIHN0YXRlLnRvdGFsU3RlcHMpICogMTAwO1xuICAgICAgICAgIFxuICAgICAgICAgIGxvZ2dlci5pbmZvKCdPbmJvYXJkaW5nIG5leHQgc3RlcCcsIHtcbiAgICAgICAgICAgIGN1cnJlbnRTdGVwOiBuZXh0U3RlcCxcbiAgICAgICAgICAgIHByb2dyZXNzOiBNYXRoLnJvdW5kKHByb2dyZXNzKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zdGF0ZSxcbiAgICAgICAgICAgIGN1cnJlbnRTdGVwOiBuZXh0U3RlcCxcbiAgICAgICAgICAgIHByb2dyZXNzXG4gICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBwcmV2aW91c1N0ZXA6ICgpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBwcmV2U3RlcCA9IE1hdGgubWF4KHN0YXRlLmN1cnJlbnRTdGVwIC0gMSwgMCk7XG4gICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSAocHJldlN0ZXAgLyBzdGF0ZS50b3RhbFN0ZXBzKSAqIDEwMDtcbiAgICAgICAgICBcbiAgICAgICAgICBsb2dnZXIuaW5mbygnT25ib2FyZGluZyBwcmV2aW91cyBzdGVwJywge1xuICAgICAgICAgICAgY3VycmVudFN0ZXA6IHByZXZTdGVwLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IE1hdGgucm91bmQocHJvZ3Jlc3MpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgY3VycmVudFN0ZXA6IHByZXZTdGVwLFxuICAgICAgICAgICAgcHJvZ3Jlc3NcbiAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIGdvVG9TdGVwOiAoc3RlcCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0Q3VycmVudFN0ZXAgfSA9IGdldCgpO1xuICAgICAgICAgIHNldEN1cnJlbnRTdGVwKHN0ZXApO1xuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgY29tcGxldGVPbmJvYXJkaW5nOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgbG9nZ2VyLmluZm8oJ09uYm9hcmRpbmcgY29tcGxldGVkJywge1xuICAgICAgICAgICAgdG90YWxTdGVwczogc3RhdGUudG90YWxTdGVwcyxcbiAgICAgICAgICAgIGNvbXBsZXRlZFN0ZXBzOiBzdGF0ZS5jb21wbGV0ZWRTdGVwcy5sZW5ndGggKyAxXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgaXNDb21wbGV0ZWQ6IHRydWUsXG4gICAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgICBwcm9ncmVzczogMTAwLFxuICAgICAgICAgICAgY29tcGxldGVkU3RlcHM6IFsuLi5zdGF0ZS5jb21wbGV0ZWRTdGVwcywgc3RhdGUuY3VycmVudFN0ZXBdXG4gICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBza2lwT25ib2FyZGluZzogKCkgPT4gc2V0KHtcbiAgICAgICAgICBpc1NraXBwZWQ6IHRydWUsXG4gICAgICAgICAgaXNBY3RpdmU6IGZhbHNlLFxuICAgICAgICAgIHByb2dyZXNzOiAxMDBcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICByZXN0YXJ0T25ib2FyZGluZzogKCkgPT4gc2V0KHtcbiAgICAgICAgICBjdXJyZW50U3RlcDogMCxcbiAgICAgICAgICBpc0NvbXBsZXRlZDogZmFsc2UsXG4gICAgICAgICAgaXNTa2lwcGVkOiBmYWxzZSxcbiAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICBwcm9ncmVzczogMCxcbiAgICAgICAgICBjb21wbGV0ZWRTdGVwczogW10sXG4gICAgICAgICAgc2tpcHBlZFN0ZXBzOiBbXSxcbiAgICAgICAgICBzdGVwRGF0YToge30sXG4gICAgICAgICAgYXV0aERhdGE6IHt9LFxuICAgICAgICAgIHByb2ZpbGVEYXRhOiB7fSxcbiAgICAgICAgICB2YWx1ZXNEYXRhOiB7fSxcbiAgICAgICAgICBwcmVmZXJlbmNlc0RhdGE6IHt9LFxuICAgICAgICAgIGVycm9yOiBudWxsXG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgLy8gRGF0YSBtYW5hZ2VtZW50IGFjdGlvbnNcbiAgICAgICAgdXBkYXRlRm9ybURhdGE6IChzdGVwLCBkYXRhKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHN0ZXBEYXRhOiB3aXRoT3B0aW9uYWwoc3RhdGUuc3RlcERhdGEsIHtcbiAgICAgICAgICAgIFtzdGVwXTogd2l0aE9wdGlvbmFsKHN0YXRlLnN0ZXBEYXRhW3N0ZXBdIHx8IHt9LCBkYXRhKVxuICAgICAgICAgIH0pXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZUF1dGhEYXRhOiAoZGF0YSkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBhdXRoRGF0YTogd2l0aE9wdGlvbmFsKHN0YXRlLmF1dGhEYXRhLCBkYXRhKVxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICB1cGRhdGVQcm9maWxlRGF0YTogKGRhdGEpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgcHJvZmlsZURhdGE6IHdpdGhPcHRpb25hbChzdGF0ZS5wcm9maWxlRGF0YSwgZGF0YSlcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgdXBkYXRlVmFsdWVzRGF0YTogKGRhdGEpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgdmFsdWVzRGF0YTogd2l0aE9wdGlvbmFsKHN0YXRlLnZhbHVlc0RhdGEsIGRhdGEpXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZVByZWZlcmVuY2VzRGF0YTogKGRhdGEpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgcHJlZmVyZW5jZXNEYXRhOiB3aXRoT3B0aW9uYWwoc3RhdGUucHJlZmVyZW5jZXNEYXRhLCBkYXRhKVxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICBjbGVhclN0ZXBEYXRhOiAoc3RlcCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBzdGVwRGF0YTogd2l0aE9wdGlvbmFsKHN0YXRlLnN0ZXBEYXRhLCB7XG4gICAgICAgICAgICBbc3RlcF06IHt9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgY2xlYXJBbGxEYXRhOiAoKSA9PiBzZXQoe1xuICAgICAgICAgIHN0ZXBEYXRhOiB7fSxcbiAgICAgICAgICBhdXRoRGF0YToge30sXG4gICAgICAgICAgcHJvZmlsZURhdGE6IHt9LFxuICAgICAgICAgIHZhbHVlc0RhdGE6IHt9LFxuICAgICAgICAgIHByZWZlcmVuY2VzRGF0YToge31cbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBTdGVwIG1hbmFnZW1lbnQgYWN0aW9uc1xuICAgICAgICBtYXJrU3RlcENvbXBsZXRlZDogKHN0ZXApID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgY29tcGxldGVkU3RlcHM6IFsuLi5zdGF0ZS5jb21wbGV0ZWRTdGVwcywgc3RlcF0sXG4gICAgICAgICAgc3RlcHM6IHN0YXRlLnN0ZXBzLm1hcChzID0+IFxuICAgICAgICAgICAgcy5pZCA9PT0gc3RlcCA/IHdpdGhPcHRpb25hbChzLCB7IGNvbXBsZXRlZDogdHJ1ZSB9KSA6IHNcbiAgICAgICAgICApXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIG1hcmtTdGVwU2tpcHBlZDogKHN0ZXApID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgc2tpcHBlZFN0ZXBzOiBbLi4uc3RhdGUuc2tpcHBlZFN0ZXBzLCBzdGVwXSxcbiAgICAgICAgICBzdGVwczogc3RhdGUuc3RlcHMubWFwKHMgPT4gXG4gICAgICAgICAgICBzLmlkID09PSBzdGVwID8gd2l0aE9wdGlvbmFsKHMsIHsgc2tpcHBlZDogdHJ1ZSB9KSA6IHNcbiAgICAgICAgICApXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIG1hcmtTdGVwSW5jb21wbGV0ZTogKHN0ZXApID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgY29tcGxldGVkU3RlcHM6IHN0YXRlLmNvbXBsZXRlZFN0ZXBzLmZpbHRlcihzID0+IHMgIT09IHN0ZXApLFxuICAgICAgICAgIHN0ZXBzOiBzdGF0ZS5zdGVwcy5tYXAocyA9PiBcbiAgICAgICAgICAgIHMuaWQgPT09IHN0ZXAgPyB3aXRoT3B0aW9uYWwocywgeyBjb21wbGV0ZWQ6IGZhbHNlIH0pIDogc1xuICAgICAgICAgIClcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgY2FuUHJvY2VlZFRvTmV4dFN0ZXA6IChzdGVwKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXQoKTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50U3RlcERhdGEgPSBzdGF0ZS5zdGVwRGF0YVtzdGVwXTtcbiAgICAgICAgICBjb25zdCBzdGVwQ29uZmlnID0gc3RhdGUuc3RlcHMuZmluZChzID0+IHMuaWQgPT09IHN0ZXApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghc3RlcENvbmZpZz8ucmVxdWlyZWQpIHJldHVybiB0cnVlO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCB2YWxpZGF0aW9uIGxvZ2ljIGhlcmUgYmFzZWQgb24gc3RlcCByZXF1aXJlbWVudHNcbiAgICAgICAgICBzd2l0Y2ggKHN0ZXApIHtcbiAgICAgICAgICAgIGNhc2UgMDogLy8gV2VsY29tZSBzdGVwXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY2FzZSAxOiAvLyBBdXRoIHN0ZXBcbiAgICAgICAgICAgICAgcmV0dXJuICEhKGN1cnJlbnRTdGVwRGF0YT8uZW1haWwgJiYgY3VycmVudFN0ZXBEYXRhPy5wYXNzd29yZCk7XG4gICAgICAgICAgICBjYXNlIDI6IC8vIFByb2ZpbGUgc3RlcFxuICAgICAgICAgICAgICByZXR1cm4gISEoY3VycmVudFN0ZXBEYXRhPy5maXJzdE5hbWUgJiYgY3VycmVudFN0ZXBEYXRhPy5sYXN0TmFtZSk7XG4gICAgICAgICAgICBjYXNlIDM6IC8vIFZhbHVlcyBzdGVwXG4gICAgICAgICAgICAgIHJldHVybiAhIShjdXJyZW50U3RlcERhdGE/LnByaW1hcnlJbnRlcmVzdHM/Lmxlbmd0aCA+IDApO1xuICAgICAgICAgICAgY2FzZSA0OiAvLyBQcml2YWN5IHN0ZXBcbiAgICAgICAgICAgICAgcmV0dXJuICEhKGN1cnJlbnRTdGVwRGF0YT8ucHJpdmFjeUFjY2VwdGVkKTtcbiAgICAgICAgICAgIGNhc2UgNTogLy8gQ29tcGxldGUgc3RlcFxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGdldFN0ZXBWYWxpZGF0aW9uRXJyb3JzOiAoc3RlcCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0KCk7XG4gICAgICAgICAgY29uc3QgY3VycmVudFN0ZXBEYXRhID0gc3RhdGUuc3RlcERhdGFbc3RlcF07XG4gICAgICAgICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgIFxuICAgICAgICAgIHN3aXRjaCAoc3RlcCkge1xuICAgICAgICAgICAgY2FzZSAxOiAvLyBBdXRoIHN0ZXBcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50U3RlcERhdGE/LmVtYWlsKSBlcnJvcnMucHVzaCgnRW1haWwgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50U3RlcERhdGE/LnBhc3N3b3JkKSBlcnJvcnMucHVzaCgnUGFzc3dvcmQgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGVwRGF0YT8ucGFzc3dvcmQgIT09IGN1cnJlbnRTdGVwRGF0YT8uY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjogLy8gUHJvZmlsZSBzdGVwXG4gICAgICAgICAgICAgIGlmICghY3VycmVudFN0ZXBEYXRhPy5maXJzdE5hbWUpIGVycm9ycy5wdXNoKCdGaXJzdCBuYW1lIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgICAgICAgIGlmICghY3VycmVudFN0ZXBEYXRhPy5sYXN0TmFtZSkgZXJyb3JzLnB1c2goJ0xhc3QgbmFtZSBpcyByZXF1aXJlZCcpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzogLy8gVmFsdWVzIHN0ZXBcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50U3RlcERhdGE/LnByaW1hcnlJbnRlcmVzdHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBpbnRlcmVzdCcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OiAvLyBQcml2YWN5IHN0ZXBcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50U3RlcERhdGE/LnByaXZhY3lBY2NlcHRlZCkge1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdZb3UgbXVzdCBhY2NlcHQgdGhlIHByaXZhY3kgcG9saWN5Jyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiBlcnJvcnM7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvLyBMb2FkaW5nIHN0YXRlIGFjdGlvbnNcbiAgICAgICAgc2V0TG9hZGluZzogKGxvYWRpbmcpID0+IHNldCh7IGlzTG9hZGluZzogbG9hZGluZyB9KSxcbiAgICAgICAgc2V0U2F2aW5nOiAoc2F2aW5nKSA9PiBzZXQoeyBpc1NhdmluZzogc2F2aW5nIH0pLFxuICAgICAgICBzZXRTdWJtaXR0aW5nOiAoc3VibWl0dGluZykgPT4gc2V0KHsgaXNTdWJtaXR0aW5nOiBzdWJtaXR0aW5nIH0pLFxuICAgICAgICBzZXRFcnJvcjogKGVycm9yKSA9PiBzZXQoeyBlcnJvciB9KSxcbiAgICAgICAgY2xlYXJFcnJvcjogKCkgPT4gc2V0KHsgZXJyb3I6IG51bGwgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBEYXRhIG9wZXJhdGlvbnNcbiAgICAgICAgc2F2ZVByb2dyZXNzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBzZXRTYXZpbmcsIHNldEVycm9yIH0gPSBnZXQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0U2F2aW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0KCk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL29uYm9hcmRpbmcvcHJvZ3Jlc3MnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTdGVwOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgICBwcm9ncmVzczogc3RhdGUucHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgc3RlcERhdGE6IHN0YXRlLnN0ZXBEYXRhLFxuICAgICAgICAgICAgICAgIGF1dGhEYXRhOiBzdGF0ZS5hdXRoRGF0YSxcbiAgICAgICAgICAgICAgICBwcm9maWxlRGF0YTogc3RhdGUucHJvZmlsZURhdGEsXG4gICAgICAgICAgICAgICAgdmFsdWVzRGF0YTogc3RhdGUudmFsdWVzRGF0YSxcbiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlc0RhdGE6IHN0YXRlLnByZWZlcmVuY2VzRGF0YSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzYXZlIG9uYm9hcmRpbmcgcHJvZ3Jlc3MnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ09uYm9hcmRpbmcgcHJvZ3Jlc3Mgc2F2ZWQnLCB7XG4gICAgICAgICAgICAgIGN1cnJlbnRTdGVwOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHN0YXRlLnByb2dyZXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBvbmJvYXJkaW5nIHByb2dyZXNzJywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGxvYWRQcm9ncmVzczogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0TG9hZGluZywgc2V0RXJyb3IgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvb25ib2FyZGluZy9wcm9ncmVzcycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgb25ib2FyZGluZyBwcm9ncmVzcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXQoe1xuICAgICAgICAgICAgICBjdXJyZW50U3RlcDogZGF0YS5jdXJyZW50U3RlcCB8fCAwLFxuICAgICAgICAgICAgICBwcm9ncmVzczogZGF0YS5wcm9ncmVzcyB8fCAwLFxuICAgICAgICAgICAgICBzdGVwRGF0YTogZGF0YS5zdGVwRGF0YSB8fCB7fSxcbiAgICAgICAgICAgICAgYXV0aERhdGE6IGRhdGEuYXV0aERhdGEgfHwge30sXG4gICAgICAgICAgICAgIHByb2ZpbGVEYXRhOiBkYXRhLnByb2ZpbGVEYXRhIHx8IHt9LFxuICAgICAgICAgICAgICB2YWx1ZXNEYXRhOiBkYXRhLnZhbHVlc0RhdGEgfHwge30sXG4gICAgICAgICAgICAgIHByZWZlcmVuY2VzRGF0YTogZGF0YS5wcmVmZXJlbmNlc0RhdGEgfHwge30sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ09uYm9hcmRpbmcgcHJvZ3Jlc3MgbG9hZGVkJywge1xuICAgICAgICAgICAgICBjdXJyZW50U3RlcDogZGF0YS5jdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IGRhdGEucHJvZ3Jlc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIG9uYm9hcmRpbmcgcHJvZ3Jlc3MnLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHN1Ym1pdE9uYm9hcmRpbmc6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldFN1Ym1pdHRpbmcsIHNldEVycm9yLCBjb21wbGV0ZU9uYm9hcmRpbmcgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRTdWJtaXR0aW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0KCk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL29uYm9hcmRpbmcvY29tcGxldGUnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGF1dGhEYXRhOiBzdGF0ZS5hdXRoRGF0YSxcbiAgICAgICAgICAgICAgICBwcm9maWxlRGF0YTogc3RhdGUucHJvZmlsZURhdGEsXG4gICAgICAgICAgICAgICAgdmFsdWVzRGF0YTogc3RhdGUudmFsdWVzRGF0YSxcbiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlc0RhdGE6IHN0YXRlLnByZWZlcmVuY2VzRGF0YSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb21wbGV0ZSBvbmJvYXJkaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbXBsZXRlT25ib2FyZGluZygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnT25ib2FyZGluZyBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHN1Ym1pdCBvbmJvYXJkaW5nJywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICB2YWxpZGF0ZVN0ZXA6IChzdGVwKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBnZXRTdGVwVmFsaWRhdGlvbkVycm9ycyB9ID0gZ2V0KCk7XG4gICAgICAgICAgY29uc3QgZXJyb3JzID0gZ2V0U3RlcFZhbGlkYXRpb25FcnJvcnMoc3RlcCk7XG4gICAgICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICB2YWxpZGF0ZUFsbFN0ZXBzOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyB2YWxpZGF0ZVN0ZXAsIHRvdGFsU3RlcHMgfSA9IGdldCgpO1xuICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiB0b3RhbFN0ZXBzIH0sIChfLCBpKSA9PiBpKVxuICAgICAgICAgICAgLmV2ZXJ5KHN0ZXAgPT4gdmFsaWRhdGVTdGVwKHN0ZXApKTtcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBuYW1lOiAnb25ib2FyZGluZy1zdG9yZScsXG4gICAgICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBjdXJyZW50U3RlcDogc3RhdGUuY3VycmVudFN0ZXAsXG4gICAgICAgICAgcHJvZ3Jlc3M6IHN0YXRlLnByb2dyZXNzLFxuICAgICAgICAgIHN0ZXBEYXRhOiBzdGF0ZS5zdGVwRGF0YSxcbiAgICAgICAgICBhdXRoRGF0YTogc3RhdGUuYXV0aERhdGEsXG4gICAgICAgICAgcHJvZmlsZURhdGE6IHN0YXRlLnByb2ZpbGVEYXRhLFxuICAgICAgICAgIHZhbHVlc0RhdGE6IHN0YXRlLnZhbHVlc0RhdGEsXG4gICAgICAgICAgcHJlZmVyZW5jZXNEYXRhOiBzdGF0ZS5wcmVmZXJlbmNlc0RhdGEsXG4gICAgICAgICAgY29tcGxldGVkU3RlcHM6IHN0YXRlLmNvbXBsZXRlZFN0ZXBzLFxuICAgICAgICAgIHNraXBwZWRTdGVwczogc3RhdGUuc2tpcHBlZFN0ZXBzLFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICApLFxuICAgIHsgbmFtZTogJ29uYm9hcmRpbmctc3RvcmUnIH1cbiAgKVxuKTtcblxuLy8gU3RvcmUgc2VsZWN0b3JzIGZvciBvcHRpbWl6ZWQgcmUtcmVuZGVyc1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdTdGVwID0gKCkgPT4gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmN1cnJlbnRTdGVwKTtcbmV4cG9ydCBjb25zdCB1c2VPbmJvYXJkaW5nUHJvZ3Jlc3MgPSAoKSA9PiB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUucHJvZ3Jlc3MpO1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdDb21wbGV0ZWQgPSAoKSA9PiB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNDb21wbGV0ZWQpO1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdTa2lwcGVkID0gKCkgPT4gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmlzU2tpcHBlZCk7XG5leHBvcnQgY29uc3QgdXNlT25ib2FyZGluZ0FjdGl2ZSA9ICgpID0+IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc0FjdGl2ZSk7XG5leHBvcnQgY29uc3QgdXNlT25ib2FyZGluZ0RhdGEgPSAoKSA9PiB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gKHtcbiAgY3VycmVudFN0ZXA6IHN0YXRlLmN1cnJlbnRTdGVwLFxuICBwcm9ncmVzczogc3RhdGUucHJvZ3Jlc3MsXG4gIGlzQ29tcGxldGVkOiBzdGF0ZS5pc0NvbXBsZXRlZCxcbiAgYXV0aERhdGE6IHN0YXRlLmF1dGhEYXRhLFxuICBwcm9maWxlRGF0YTogc3RhdGUucHJvZmlsZURhdGEsXG4gIHZhbHVlc0RhdGE6IHN0YXRlLnZhbHVlc0RhdGEsXG4gIHByZWZlcmVuY2VzRGF0YTogc3RhdGUucHJlZmVyZW5jZXNEYXRhLFxufSksIHNoYWxsb3cpO1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdMb2FkaW5nID0gKCkgPT4gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmlzTG9hZGluZyk7XG5leHBvcnQgY29uc3QgdXNlT25ib2FyZGluZ0Vycm9yID0gKCkgPT4gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmVycm9yKTtcblxuLy8gQWN0aW9uIHNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdBY3Rpb25zID0gKCkgPT4gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+ICh7XG4gIHNldEN1cnJlbnRTdGVwOiBzdGF0ZS5zZXRDdXJyZW50U3RlcCxcbiAgbmV4dFN0ZXA6IHN0YXRlLm5leHRTdGVwLFxuICBwcmV2aW91c1N0ZXA6IHN0YXRlLnByZXZpb3VzU3RlcCxcbiAgZ29Ub1N0ZXA6IHN0YXRlLmdvVG9TdGVwLFxuICBjb21wbGV0ZU9uYm9hcmRpbmc6IHN0YXRlLmNvbXBsZXRlT25ib2FyZGluZyxcbiAgc2tpcE9uYm9hcmRpbmc6IHN0YXRlLnNraXBPbmJvYXJkaW5nLFxuICByZXN0YXJ0T25ib2FyZGluZzogc3RhdGUucmVzdGFydE9uYm9hcmRpbmcsXG4gIHVwZGF0ZUZvcm1EYXRhOiBzdGF0ZS51cGRhdGVGb3JtRGF0YSxcbiAgdXBkYXRlQXV0aERhdGE6IHN0YXRlLnVwZGF0ZUF1dGhEYXRhLFxuICB1cGRhdGVQcm9maWxlRGF0YTogc3RhdGUudXBkYXRlUHJvZmlsZURhdGEsXG4gIHVwZGF0ZVZhbHVlc0RhdGE6IHN0YXRlLnVwZGF0ZVZhbHVlc0RhdGEsXG4gIHVwZGF0ZVByZWZlcmVuY2VzRGF0YTogc3RhdGUudXBkYXRlUHJlZmVyZW5jZXNEYXRhLFxuICBjbGVhclN0ZXBEYXRhOiBzdGF0ZS5jbGVhclN0ZXBEYXRhLFxuICBjbGVhckFsbERhdGE6IHN0YXRlLmNsZWFyQWxsRGF0YSxcbiAgbWFya1N0ZXBDb21wbGV0ZWQ6IHN0YXRlLm1hcmtTdGVwQ29tcGxldGVkLFxuICBtYXJrU3RlcFNraXBwZWQ6IHN0YXRlLm1hcmtTdGVwU2tpcHBlZCxcbiAgbWFya1N0ZXBJbmNvbXBsZXRlOiBzdGF0ZS5tYXJrU3RlcEluY29tcGxldGUsXG4gIGNhblByb2NlZWRUb05leHRTdGVwOiBzdGF0ZS5jYW5Qcm9jZWVkVG9OZXh0U3RlcCxcbiAgZ2V0U3RlcFZhbGlkYXRpb25FcnJvcnM6IHN0YXRlLmdldFN0ZXBWYWxpZGF0aW9uRXJyb3JzLFxuICBzZXRMb2FkaW5nOiBzdGF0ZS5zZXRMb2FkaW5nLFxuICBzZXRTYXZpbmc6IHN0YXRlLnNldFNhdmluZyxcbiAgc2V0U3VibWl0dGluZzogc3RhdGUuc2V0U3VibWl0dGluZyxcbiAgc2V0RXJyb3I6IHN0YXRlLnNldEVycm9yLFxuICBjbGVhckVycm9yOiBzdGF0ZS5jbGVhckVycm9yLFxuICBzYXZlUHJvZ3Jlc3M6IHN0YXRlLnNhdmVQcm9ncmVzcyxcbiAgbG9hZFByb2dyZXNzOiBzdGF0ZS5sb2FkUHJvZ3Jlc3MsXG4gIHN1Ym1pdE9uYm9hcmRpbmc6IHN0YXRlLnN1Ym1pdE9uYm9hcmRpbmcsXG4gIHZhbGlkYXRlU3RlcDogc3RhdGUudmFsaWRhdGVTdGVwLFxuICB2YWxpZGF0ZUFsbFN0ZXBzOiBzdGF0ZS52YWxpZGF0ZUFsbFN0ZXBzLFxufSksIHNoYWxsb3cpO1xuXG4vLyBDb21wdXRlZCBzZWxlY3RvcnNcbmV4cG9ydCBjb25zdCB1c2VPbmJvYXJkaW5nU3RhdHMgPSAoKSA9PiB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gKHtcbiAgdG90YWxTdGVwczogc3RhdGUudG90YWxTdGVwcyxcbiAgY3VycmVudFN0ZXA6IHN0YXRlLmN1cnJlbnRTdGVwLFxuICBjb21wbGV0ZWRTdGVwczogc3RhdGUuY29tcGxldGVkU3RlcHMubGVuZ3RoLFxuICBza2lwcGVkU3RlcHM6IHN0YXRlLnNraXBwZWRTdGVwcy5sZW5ndGgsXG4gIHByb2dyZXNzOiBzdGF0ZS5wcm9ncmVzcyxcbiAgaXNDb21wbGV0ZWQ6IHN0YXRlLmlzQ29tcGxldGVkLFxuICBpc1NraXBwZWQ6IHN0YXRlLmlzU2tpcHBlZCxcbn0pLCBzaGFsbG93KTtcblxuZXhwb3J0IGNvbnN0IHVzZUN1cnJlbnRTdGVwRGF0YSA9ICgpID0+IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBcbiAgc3RhdGUuc3RlcERhdGFbc3RhdGUuY3VycmVudFN0ZXBdIHx8IHt9XG4pO1xuXG5leHBvcnQgY29uc3QgdXNlU3RlcFZhbGlkYXRpb24gPSAoc3RlcDogbnVtYmVyKSA9PiB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gKHtcbiAgY2FuUHJvY2VlZDogc3RhdGUuY2FuUHJvY2VlZFRvTmV4dFN0ZXAoc3RlcCksXG4gIGVycm9yczogc3RhdGUuZ2V0U3RlcFZhbGlkYXRpb25FcnJvcnMoc3RlcCksXG4gIGlzVmFsaWQ6IHN0YXRlLnZhbGlkYXRlU3RlcChzdGVwKSxcbn0pKTtcblxuLy8gU3RvcmUgdXRpbGl0aWVzXG5leHBvcnQgY29uc3Qgb25ib2FyZGluZ1N0b3JlVXRpbHMgPSB7XG4gIC8qKlxuICAgKiBHZXQgb25ib2FyZGluZyBzdW1tYXJ5XG4gICAqL1xuICBnZXRPbmJvYXJkaW5nU3VtbWFyeTogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlT25ib2FyZGluZ1N0b3JlLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnRTdGVwOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgIHRvdGFsU3RlcHM6IHN0YXRlLnRvdGFsU3RlcHMsXG4gICAgICBwcm9ncmVzczogc3RhdGUucHJvZ3Jlc3MsXG4gICAgICBpc0NvbXBsZXRlZDogc3RhdGUuaXNDb21wbGV0ZWQsXG4gICAgICBpc1NraXBwZWQ6IHN0YXRlLmlzU2tpcHBlZCxcbiAgICAgIGNvbXBsZXRlZFN0ZXBzOiBzdGF0ZS5jb21wbGV0ZWRTdGVwcyxcbiAgICAgIHNraXBwZWRTdGVwczogc3RhdGUuc2tpcHBlZFN0ZXBzLFxuICAgIH07XG4gIH0sXG4gIFxuICAvKipcbiAgICogR2V0IHN0ZXAgZGF0YSBmb3Igc3BlY2lmaWMgc3RlcFxuICAgKi9cbiAgZ2V0U3RlcERhdGE6IChzdGVwOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZU9uYm9hcmRpbmdTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiBzdGF0ZS5zdGVwRGF0YVtzdGVwXSB8fCB7fTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBDaGVjayBpZiBvbmJvYXJkaW5nIGNhbiBiZSBjb21wbGV0ZWRcbiAgICovXG4gIGNhbkNvbXBsZXRlT25ib2FyZGluZzogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlT25ib2FyZGluZ1N0b3JlLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHN0YXRlLnZhbGlkYXRlQWxsU3RlcHMoKSAmJiBzdGF0ZS5jdXJyZW50U3RlcCA9PT0gc3RhdGUudG90YWxTdGVwcyAtIDE7XG4gIH0sXG4gIFxuICAvKipcbiAgICogR2V0IG9uYm9hcmRpbmcgcHJvZ3Jlc3MgcGVyY2VudGFnZVxuICAgKi9cbiAgZ2V0UHJvZ3Jlc3NQZXJjZW50YWdlOiAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VPbmJvYXJkaW5nU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChzdGF0ZS5wcm9ncmVzcyk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogR2V0IG5leHQgaW5jb21wbGV0ZSBzdGVwXG4gICAqL1xuICBnZXROZXh0SW5jb21wbGV0ZVN0ZXA6ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZU9uYm9hcmRpbmdTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGluY29tcGxldGVTdGVwcyA9IHN0YXRlLnN0ZXBzLmZpbHRlcihzdGVwID0+ICFzdGVwLmNvbXBsZXRlZCAmJiAhc3RlcC5za2lwcGVkKTtcbiAgICByZXR1cm4gaW5jb21wbGV0ZVN0ZXBzWzBdIHx8IG51bGw7XG4gIH1cbn07XG5cbi8vIFN0b3JlIHN1YnNjcmlwdGlvbnMgZm9yIGV4dGVybmFsIGludGVncmF0aW9uc1xuZXhwb3J0IGNvbnN0IG9uYm9hcmRpbmdTdG9yZVN1YnNjcmlwdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gb25ib2FyZGluZyBwcm9ncmVzcyBjaGFuZ2VzXG4gICAqL1xuICBvblByb2dyZXNzQ2hhbmdlOiAoY2FsbGJhY2s6IChwcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkKSA9PiB7XG4gICAgcmV0dXJuIHVzZU9uYm9hcmRpbmdTdG9yZS5zdWJzY3JpYmUoXG4gICAgICAoc3RhdGUpID0+IHtcbiAgICAgICAgY2FsbGJhY2soc3RhdGUucHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgICk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHN0ZXAgY2hhbmdlc1xuICAgKi9cbiAgb25TdGVwQ2hhbmdlOiAoY2FsbGJhY2s6IChzdGVwOiBudW1iZXIpID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gdXNlT25ib2FyZGluZ1N0b3JlLnN1YnNjcmliZShcbiAgICAgIChzdGF0ZSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhzdGF0ZS5jdXJyZW50U3RlcCk7XG4gICAgICB9XG4gICAgKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gY29tcGxldGlvbiBzdGF0dXNcbiAgICovXG4gIG9uQ29tcGxldGlvbkNoYW5nZTogKGNhbGxiYWNrOiAoaXNDb21wbGV0ZWQ6IGJvb2xlYW4pID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gdXNlT25ib2FyZGluZ1N0b3JlLnN1YnNjcmliZShcbiAgICAgIChzdGF0ZSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhzdGF0ZS5pc0NvbXBsZXRlZCk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxufTtcblxuLy8gU3RvcmUgZGVidWdnaW5nIHV0aWxpdGllc1xuZXhwb3J0IGNvbnN0IG9uYm9hcmRpbmdTdG9yZURlYnVnID0ge1xuICAvKipcbiAgICogTG9nIGN1cnJlbnQgb25ib2FyZGluZyBzdGF0ZVxuICAgKi9cbiAgbG9nU3RhdGU6ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZU9uYm9hcmRpbmdTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGxvZ2dlci5kZWJ1ZygnT25ib2FyZGluZyBTdG9yZSBTdGF0ZScsIHtcbiAgICAgIGN1cnJlbnRTdGVwOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgIHRvdGFsU3RlcHM6IHN0YXRlLnRvdGFsU3RlcHMsXG4gICAgICBwcm9ncmVzczogc3RhdGUucHJvZ3Jlc3MsXG4gICAgICBpc0NvbXBsZXRlZDogc3RhdGUuaXNDb21wbGV0ZWQsXG4gICAgICBpc1NraXBwZWQ6IHN0YXRlLmlzU2tpcHBlZCxcbiAgICAgIGNvbXBsZXRlZFN0ZXBzOiBzdGF0ZS5jb21wbGV0ZWRTdGVwcyxcbiAgICAgIHNraXBwZWRTdGVwczogc3RhdGUuc2tpcHBlZFN0ZXBzLFxuICAgICAgaXNMb2FkaW5nOiBzdGF0ZS5pc0xvYWRpbmcsXG4gICAgICBlcnJvcjogc3RhdGUuZXJyb3JcbiAgICB9KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBMb2cgb25ib2FyZGluZyBzdW1tYXJ5XG4gICAqL1xuICBsb2dTdW1tYXJ5OiAoKSA9PiB7XG4gICAgY29uc3Qgc3VtbWFyeSA9IG9uYm9hcmRpbmdTdG9yZVV0aWxzLmdldE9uYm9hcmRpbmdTdW1tYXJ5KCk7XG4gICAgbG9nZ2VyLmRlYnVnKCdPbmJvYXJkaW5nIFN1bW1hcnknLCBzdW1tYXJ5KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBMb2cgc3RlcCBkYXRhXG4gICAqL1xuICBsb2dTdGVwRGF0YTogKHN0ZXA6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHN0ZXBEYXRhID0gb25ib2FyZGluZ1N0b3JlVXRpbHMuZ2V0U3RlcERhdGEoc3RlcCk7XG4gICAgbG9nZ2VyLmRlYnVnKCdTdGVwIERhdGEnLCB7IHN0ZXAsIHN0ZXBEYXRhIH0pO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIFJlc2V0IG9uYm9hcmRpbmcgc3RvcmVcbiAgICovXG4gIHJlc2V0OiAoKSA9PiB7XG4gICAgdXNlT25ib2FyZGluZ1N0b3JlLmdldFN0YXRlKCkucmVzdGFydE9uYm9hcmRpbmcoKTtcbiAgICBsb2dnZXIuaW5mbygnT25ib2FyZGluZyBzdG9yZSByZXNldCcpO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIm9uYm9hcmRpbmdTdG9yZURlYnVnIiwib25ib2FyZGluZ1N0b3JlU3Vic2NyaXB0aW9ucyIsIm9uYm9hcmRpbmdTdG9yZVV0aWxzIiwidXNlQ3VycmVudFN0ZXBEYXRhIiwidXNlT25ib2FyZGluZ0FjdGlvbnMiLCJ1c2VPbmJvYXJkaW5nQWN0aXZlIiwidXNlT25ib2FyZGluZ0NvbXBsZXRlZCIsInVzZU9uYm9hcmRpbmdEYXRhIiwidXNlT25ib2FyZGluZ0Vycm9yIiwidXNlT25ib2FyZGluZ0xvYWRpbmciLCJ1c2VPbmJvYXJkaW5nUHJvZ3Jlc3MiLCJ1c2VPbmJvYXJkaW5nU2tpcHBlZCIsInVzZU9uYm9hcmRpbmdTdGF0cyIsInVzZU9uYm9hcmRpbmdTdGVwIiwidXNlT25ib2FyZGluZ1N0b3JlIiwidXNlU3RlcFZhbGlkYXRpb24iLCJkZWZhdWx0U3RlcHMiLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJjb21wb25lbnQiLCJyZXF1aXJlZCIsImNvbXBsZXRlZCIsInNraXBwZWQiLCJjcmVhdGUiLCJkZXZ0b29scyIsInBlcnNpc3QiLCJzZXQiLCJnZXQiLCJjdXJyZW50U3RlcCIsInRvdGFsU3RlcHMiLCJpc0NvbXBsZXRlZCIsImlzU2tpcHBlZCIsImlzQWN0aXZlIiwiYXV0aERhdGEiLCJwcm9maWxlRGF0YSIsInZhbHVlc0RhdGEiLCJwcmVmZXJlbmNlc0RhdGEiLCJwcm9ncmVzcyIsImNvbXBsZXRlZFN0ZXBzIiwic2tpcHBlZFN0ZXBzIiwic3RlcERhdGEiLCJzdGVwcyIsImlzTG9hZGluZyIsImlzU2F2aW5nIiwiaXNTdWJtaXR0aW5nIiwiZXJyb3IiLCJzZXRDdXJyZW50U3RlcCIsInN0ZXAiLCJzdGF0ZSIsIm5ld1N0ZXAiLCJNYXRoIiwibWF4IiwibWluIiwibG9nZ2VyIiwiaW5mbyIsImZyb20iLCJ0byIsInJvdW5kIiwibmV4dFN0ZXAiLCJwcmV2aW91c1N0ZXAiLCJwcmV2U3RlcCIsImdvVG9TdGVwIiwiY29tcGxldGVPbmJvYXJkaW5nIiwibGVuZ3RoIiwic2tpcE9uYm9hcmRpbmciLCJyZXN0YXJ0T25ib2FyZGluZyIsInVwZGF0ZUZvcm1EYXRhIiwiZGF0YSIsIndpdGhPcHRpb25hbCIsInVwZGF0ZUF1dGhEYXRhIiwidXBkYXRlUHJvZmlsZURhdGEiLCJ1cGRhdGVWYWx1ZXNEYXRhIiwidXBkYXRlUHJlZmVyZW5jZXNEYXRhIiwiY2xlYXJTdGVwRGF0YSIsImNsZWFyQWxsRGF0YSIsIm1hcmtTdGVwQ29tcGxldGVkIiwibWFwIiwicyIsIm1hcmtTdGVwU2tpcHBlZCIsIm1hcmtTdGVwSW5jb21wbGV0ZSIsImZpbHRlciIsImNhblByb2NlZWRUb05leHRTdGVwIiwiY3VycmVudFN0ZXBEYXRhIiwic3RlcENvbmZpZyIsImZpbmQiLCJlbWFpbCIsInBhc3N3b3JkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJwcmltYXJ5SW50ZXJlc3RzIiwicHJpdmFjeUFjY2VwdGVkIiwiZ2V0U3RlcFZhbGlkYXRpb25FcnJvcnMiLCJlcnJvcnMiLCJwdXNoIiwiY29uZmlybVBhc3N3b3JkIiwic2V0TG9hZGluZyIsImxvYWRpbmciLCJzZXRTYXZpbmciLCJzYXZpbmciLCJzZXRTdWJtaXR0aW5nIiwic3VibWl0dGluZyIsInNldEVycm9yIiwiY2xlYXJFcnJvciIsInNhdmVQcm9ncmVzcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsIkVycm9yIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImxvYWRQcm9ncmVzcyIsImpzb24iLCJzdWJtaXRPbmJvYXJkaW5nIiwidmFsaWRhdGVTdGVwIiwidmFsaWRhdGVBbGxTdGVwcyIsIkFycmF5IiwiXyIsImkiLCJldmVyeSIsIm5hbWUiLCJwYXJ0aWFsaXplIiwic2hhbGxvdyIsImNhblByb2NlZWQiLCJpc1ZhbGlkIiwiZ2V0T25ib2FyZGluZ1N1bW1hcnkiLCJnZXRTdGF0ZSIsImdldFN0ZXBEYXRhIiwiY2FuQ29tcGxldGVPbmJvYXJkaW5nIiwiZ2V0UHJvZ3Jlc3NQZXJjZW50YWdlIiwiZ2V0TmV4dEluY29tcGxldGVTdGVwIiwiaW5jb21wbGV0ZVN0ZXBzIiwib25Qcm9ncmVzc0NoYW5nZSIsImNhbGxiYWNrIiwic3Vic2NyaWJlIiwib25TdGVwQ2hhbmdlIiwib25Db21wbGV0aW9uQ2hhbmdlIiwibG9nU3RhdGUiLCJkZWJ1ZyIsImxvZ1N1bW1hcnkiLCJzdW1tYXJ5IiwibG9nU3RlcERhdGEiLCJyZXNldCJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7OztDQVNDOzs7Ozs7Ozs7OztJQTJ1QllBLG9CQUFvQjtlQUFwQkE7O0lBcENBQyw0QkFBNEI7ZUFBNUJBOztJQXBEQUMsb0JBQW9CO2VBQXBCQTs7SUFYQUMsa0JBQWtCO2VBQWxCQTs7SUEzQ0FDLG9CQUFvQjtlQUFwQkE7O0lBZEFDLG1CQUFtQjtlQUFuQkE7O0lBRkFDLHNCQUFzQjtlQUF0QkE7O0lBR0FDLGlCQUFpQjtlQUFqQkE7O0lBVUFDLGtCQUFrQjtlQUFsQkE7O0lBREFDLG9CQUFvQjtlQUFwQkE7O0lBYkFDLHFCQUFxQjtlQUFyQkE7O0lBRUFDLG9CQUFvQjtlQUFwQkE7O0lBZ0RBQyxrQkFBa0I7ZUFBbEJBOztJQW5EQUMsaUJBQWlCO2VBQWpCQTs7SUFqWUFDLGtCQUFrQjtlQUFsQkE7O0lBa2NBQyxpQkFBaUI7ZUFBakJBOzs7eUJBMW9CVTs0QkFDRTt5QkFFRDt3QkFFRDt5QkFDTTtBQXVJN0IsMkJBQTJCO0FBQzNCLE1BQU1DLGVBQWlDO0lBQ3JDO1FBQ0VDLElBQUk7UUFDSkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLFdBQVc7UUFDWEMsVUFBVTtRQUNWQyxXQUFXO1FBQ1hDLFNBQVM7SUFDWDtJQUNBO1FBQ0VOLElBQUk7UUFDSkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLFdBQVc7UUFDWEMsVUFBVTtRQUNWQyxXQUFXO1FBQ1hDLFNBQVM7SUFDWDtJQUNBO1FBQ0VOLElBQUk7UUFDSkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLFdBQVc7UUFDWEMsVUFBVTtRQUNWQyxXQUFXO1FBQ1hDLFNBQVM7SUFDWDtJQUNBO1FBQ0VOLElBQUk7UUFDSkMsT0FBTztRQUNQQyxhQUFhO1FBQ2JDLFdBQVc7UUFDWEMsVUFBVTtRQUNWQyxXQUFXO1FBQ1hDLFNBQVM7SUFDWDtJQUNBO1FBQ0VOLElBQUk7UUFDSkMsT0FBTztRQUNQQyxhQUFhO1FB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