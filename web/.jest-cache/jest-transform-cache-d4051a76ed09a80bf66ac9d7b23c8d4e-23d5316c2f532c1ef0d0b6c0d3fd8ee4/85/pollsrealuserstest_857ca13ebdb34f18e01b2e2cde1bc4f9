ded9d14918dff249dabaa9d31d3e0aaa
/**
 * Polls API Tests - Real Users
 * 
 * This test uses REAL test users from the database.
 * No mocks, no polyfills, just real authentication and real data.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _globals = require("@jest/globals");
const _supabasejs = require("@supabase/supabase-js");
const _server = require("next/server");
const _route = require("../../../../app/api/polls/route");
// Use real Supabase client with real credentials
// This will fail if real credentials are not set up
let supabase;
try {
    supabase = (0, _supabasejs.createClient)(process.env.NEXT_PUBLIC_SUPABASE_URL, process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY);
} catch (error) {
    console.warn("Real Supabase credentials not set up. This test requires real credentials.");
    console.warn("Please set NEXT_PUBLIC_SUPABASE_URL and NEXT_PUBLIC_SUPABASE_ANON_KEY environment variables.");
}
(0, _globals.describe)("Polls API - Real Users", ()=>{
    let testUser;
    let testPollId = null;
    (0, _globals.beforeAll)(async ()=>{
        if (!supabase) {
            console.warn("Skipping tests - Real Supabase credentials not set up");
            return;
        }
        // Login with real test user
        console.log("Logging in with real test user...");
        const { data, error } = await supabase.auth.signInWithPassword({
            email: "test@example.com",
            password: "testpassword"
        });
        if (error) {
            console.error("Failed to login with test user:", error);
            throw new Error(`Failed to login with test user: ${error.message}`);
        }
        testUser = data.user;
        console.log("Successfully logged in with test user:", testUser.email);
    });
    (0, _globals.afterAll)(async ()=>{
        if (!supabase) return;
        // Clean up test data
        if (testPollId) {
            console.log("Cleaning up test poll:", testPollId);
            await supabase.from("polls").delete().eq("id", testPollId);
        }
        // Sign out
        await supabase.auth.signOut();
    });
    (0, _globals.beforeEach)(()=>{
        // Reset test poll ID
        testPollId = null;
    });
    (0, _globals.afterEach)(async ()=>{
        if (!supabase) return;
        // Clean up any test data created during the test
        if (testPollId) {
            await supabase.from("polls").delete().eq("id", testPollId);
            testPollId = null;
        }
    });
    (0, _globals.describe)("GET /api/polls - List Polls", ()=>{
        (0, _globals.it)("should return list of polls from real database", async ()=>{
            if (!supabase) {
                console.warn("Skipping test - Real Supabase credentials not set up");
                return;
            }
            const request = new _server.NextRequest("http://localhost:3000/api/polls");
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            console.log("Real database response status:", response.status);
            console.log("Real database response data:", responseData);
            // Should return 200 status
            (0, _globals.expect)(response.status).toBe(200);
            // Should have the expected structure
            (0, _globals.expect)(responseData).toHaveProperty("success");
            (0, _globals.expect)(responseData).toHaveProperty("polls");
            (0, _globals.expect)(responseData).toHaveProperty("count");
            (0, _globals.expect)(responseData).toHaveProperty("message");
            // Should have correct data types
            (0, _globals.expect)(typeof responseData.success).toBe("boolean");
            (0, _globals.expect)(Array.isArray(responseData.polls)).toBe(true);
            (0, _globals.expect)(typeof responseData.count).toBe("number");
            (0, _globals.expect)(typeof responseData.message).toBe("string");
        });
        (0, _globals.it)("should handle pagination with real database", async ()=>{
            if (!supabase) {
                console.warn("Skipping test - Real Supabase credentials not set up");
                return;
            }
            const request = new _server.NextRequest("http://localhost:3000/api/polls?limit=5");
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            console.log("Pagination response:", responseData);
            (0, _globals.expect)(response.status).toBe(200);
            (0, _globals.expect)(responseData.success).toBe(true);
            (0, _globals.expect)(Array.isArray(responseData.polls)).toBe(true);
            (0, _globals.expect)(responseData.polls.length).toBeLessThanOrEqual(5);
        });
    });
    (0, _globals.describe)("POST /api/polls - Create Poll", ()=>{
        (0, _globals.it)("should create a new poll with real user authentication", async ()=>{
            if (!supabase) {
                console.warn("Skipping test - Real Supabase credentials not set up");
                return;
            }
            // First, we need to mock the authentication middleware
            // Since we can't easily mock the middleware in this test,
            // we'll test the database operation directly
            const pollData = {
                title: "Real Test Poll",
                options: [
                    {
                        text: "Real Option 1"
                    },
                    {
                        text: "Real Option 2"
                    }
                ],
                created_by: testUser.id
            };
            // Test direct database operation
            const { data, error } = await supabase.from("polls").insert(pollData).select().single();
            console.log("Direct database insert result:", {
                data,
                error
            });
            (0, _globals.expect)(error).toBeNull();
            (0, _globals.expect)(data).toBeDefined();
            (0, _globals.expect)(data.title).toBe("Real Test Poll");
            (0, _globals.expect)(data.created_by).toBe(testUser.id);
            // Store for cleanup
            testPollId = data.id;
        });
        (0, _globals.it)("should handle poll creation with real user data", async ()=>{
            if (!supabase) {
                console.warn("Skipping test - Real Supabase credentials not set up");
                return;
            }
            const pollData = {
                title: "Another Real Test Poll",
                options: [
                    {
                        text: "Option A"
                    },
                    {
                        text: "Option B"
                    },
                    {
                        text: "Option C"
                    }
                ],
                created_by: testUser.id
            };
            const { data, error } = await supabase.from("polls").insert(pollData).select().single();
            (0, _globals.expect)(error).toBeNull();
            (0, _globals.expect)(data).toBeDefined();
            (0, _globals.expect)(data.title).toBe("Another Real Test Poll");
            (0, _globals.expect)(data.options).toHaveLength(3);
            // Store for cleanup
            testPollId = data.id;
        });
    });
    (0, _globals.describe)("Real Database Integration", ()=>{
        (0, _globals.it)("should connect to real database successfully", async ()=>{
            if (!supabase) {
                console.warn("Skipping test - Real Supabase credentials not set up");
                return;
            }
            // Test basic database connection
            const { data, error } = await supabase.from("polls").select("id, title, status").limit(1);
            console.log("Database connection test - Data:", data);
            console.log("Database connection test - Error:", error);
            // Should not have an error
            (0, _globals.expect)(error).toBeNull();
            (0, _globals.expect)(Array.isArray(data)).toBe(true);
        });
        (0, _globals.it)("should handle database errors gracefully", async ()=>{
            if (!supabase) {
                console.warn("Skipping test - Real Supabase credentials not set up");
                return;
            }
            // Test error handling with invalid table
            const { data, error } = await supabase.from("nonexistent_table").select("*").limit(1);
            console.log("Error handling test - Data:", data);
            console.log("Error handling test - Error:", error);
            // Should have an error for nonexistent table
            (0, _globals.expect)(error).not.toBeNull();
            (0, _globals.expect)(error.message).toContain('relation "nonexistent_table" does not exist');
        });
    });
    (0, _globals.describe)("Real User Authentication", ()=>{
        (0, _globals.it)("should authenticate real user successfully", async ()=>{
            if (!supabase) {
                console.warn("Skipping test - Real Supabase credentials not set up");
                return;
            }
            (0, _globals.expect)(testUser).toBeDefined();
            (0, _globals.expect)(testUser.email).toBe("test@example.com");
            (0, _globals.expect)(testUser.id).toBeDefined();
        });
        (0, _globals.it)("should have access to user profile", async ()=>{
            if (!supabase) {
                console.warn("Skipping test - Real Supabase credentials not set up");
                return;
            }
            const { data, error } = await supabase.from("user_profiles").select("*").eq("user_id", testUser.id).single();
            console.log("User profile data:", data);
            console.log("User profile error:", error);
            // Should have user profile or be able to create one
            if (error && error.code === "PGRST116") {
                // No profile exists, which is fine for testing
                (0, _globals.expect)(error.message).toContain("No rows returned");
            } else {
                (0, _globals.expect)(error).toBeNull();
                (0, _globals.expect)(data).toBeDefined();
            }
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L3VuaXQvYXBpL3BvbGxzLXJlYWwtdXNlcnMudGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFBvbGxzIEFQSSBUZXN0cyAtIFJlYWwgVXNlcnNcbiAqIFxuICogVGhpcyB0ZXN0IHVzZXMgUkVBTCB0ZXN0IHVzZXJzIGZyb20gdGhlIGRhdGFiYXNlLlxuICogTm8gbW9ja3MsIG5vIHBvbHlmaWxscywganVzdCByZWFsIGF1dGhlbnRpY2F0aW9uIGFuZCByZWFsIGRhdGEuXG4gKi9cblxuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUFsbCwgYWZ0ZXJBbGwsIGJlZm9yZUVhY2gsIGFmdGVyRWFjaCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJztcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgR0VULCBQT1NUIH0gZnJvbSAnQC9hcHAvYXBpL3BvbGxzL3JvdXRlJztcblxuLy8gVXNlIHJlYWwgU3VwYWJhc2UgY2xpZW50IHdpdGggcmVhbCBjcmVkZW50aWFsc1xuLy8gVGhpcyB3aWxsIGZhaWwgaWYgcmVhbCBjcmVkZW50aWFscyBhcmUgbm90IHNldCB1cFxubGV0IHN1cGFiYXNlOiBhbnk7XG5cbnRyeSB7XG4gIHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhXG4gICk7XG59IGNhdGNoIChlcnJvcikge1xuICBjb25zb2xlLndhcm4oJ1JlYWwgU3VwYWJhc2UgY3JlZGVudGlhbHMgbm90IHNldCB1cC4gVGhpcyB0ZXN0IHJlcXVpcmVzIHJlYWwgY3JlZGVudGlhbHMuJyk7XG4gIGNvbnNvbGUud2FybignUGxlYXNlIHNldCBORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgYW5kIE5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIGVudmlyb25tZW50IHZhcmlhYmxlcy4nKTtcbn1cblxuZGVzY3JpYmUoJ1BvbGxzIEFQSSAtIFJlYWwgVXNlcnMnLCAoKSA9PiB7XG4gIGxldCB0ZXN0VXNlcjogYW55O1xuICBsZXQgdGVzdFBvbGxJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cbiAgYmVmb3JlQWxsKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ1NraXBwaW5nIHRlc3RzIC0gUmVhbCBTdXBhYmFzZSBjcmVkZW50aWFscyBub3Qgc2V0IHVwJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gTG9naW4gd2l0aCByZWFsIHRlc3QgdXNlclxuICAgIGNvbnNvbGUubG9nKCdMb2dnaW5nIGluIHdpdGggcmVhbCB0ZXN0IHVzZXIuLi4nKTtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7XG4gICAgICBlbWFpbDogJ3Rlc3RAZXhhbXBsZS5jb20nLFxuICAgICAgcGFzc3dvcmQ6ICd0ZXN0cGFzc3dvcmQnXG4gICAgfSk7XG5cbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBsb2dpbiB3aXRoIHRlc3QgdXNlcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2dpbiB3aXRoIHRlc3QgdXNlcjogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgIH1cblxuICAgIHRlc3RVc2VyID0gZGF0YS51c2VyO1xuICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgbG9nZ2VkIGluIHdpdGggdGVzdCB1c2VyOicsIHRlc3RVc2VyLmVtYWlsKTtcbiAgfSk7XG5cbiAgYWZ0ZXJBbGwoYXN5bmMgKCkgPT4ge1xuICAgIGlmICghc3VwYWJhc2UpIHJldHVybjtcblxuICAgIC8vIENsZWFuIHVwIHRlc3QgZGF0YVxuICAgIGlmICh0ZXN0UG9sbElkKSB7XG4gICAgICBjb25zb2xlLmxvZygnQ2xlYW5pbmcgdXAgdGVzdCBwb2xsOicsIHRlc3RQb2xsSWQpO1xuICAgICAgYXdhaXQgc3VwYWJhc2UuZnJvbSgncG9sbHMnKS5kZWxldGUoKS5lcSgnaWQnLCB0ZXN0UG9sbElkKTtcbiAgICB9XG5cbiAgICAvLyBTaWduIG91dFxuICAgIGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbk91dCgpO1xuICB9KTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAvLyBSZXNldCB0ZXN0IHBvbGwgSURcbiAgICB0ZXN0UG9sbElkID0gbnVsbDtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKGFzeW5jICgpID0+IHtcbiAgICBpZiAoIXN1cGFiYXNlKSByZXR1cm47XG5cbiAgICAvLyBDbGVhbiB1cCBhbnkgdGVzdCBkYXRhIGNyZWF0ZWQgZHVyaW5nIHRoZSB0ZXN0XG4gICAgaWYgKHRlc3RQb2xsSWQpIHtcbiAgICAgIGF3YWl0IHN1cGFiYXNlLmZyb20oJ3BvbGxzJykuZGVsZXRlKCkuZXEoJ2lkJywgdGVzdFBvbGxJZCk7XG4gICAgICB0ZXN0UG9sbElkID0gbnVsbDtcbiAgICB9XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdHRVQgL2FwaS9wb2xscyAtIExpc3QgUG9sbHMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCByZXR1cm4gbGlzdCBvZiBwb2xscyBmcm9tIHJlYWwgZGF0YWJhc2UnLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignU2tpcHBpbmcgdGVzdCAtIFJlYWwgU3VwYWJhc2UgY3JlZGVudGlhbHMgbm90IHNldCB1cCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcG9sbHMnKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdSZWFsIGRhdGFiYXNlIHJlc3BvbnNlIHN0YXR1czonLCByZXNwb25zZS5zdGF0dXMpO1xuICAgICAgY29uc29sZS5sb2coJ1JlYWwgZGF0YWJhc2UgcmVzcG9uc2UgZGF0YTonLCByZXNwb25zZURhdGEpO1xuXG4gICAgICAvLyBTaG91bGQgcmV0dXJuIDIwMCBzdGF0dXNcbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGhhdmUgdGhlIGV4cGVjdGVkIHN0cnVjdHVyZVxuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9IYXZlUHJvcGVydHkoJ3N1Y2Nlc3MnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEpLnRvSGF2ZVByb3BlcnR5KCdwb2xscycpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YSkudG9IYXZlUHJvcGVydHkoJ2NvdW50Jyk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhKS50b0hhdmVQcm9wZXJ0eSgnbWVzc2FnZScpO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgaGF2ZSBjb3JyZWN0IGRhdGEgdHlwZXNcbiAgICAgIGV4cGVjdCh0eXBlb2YgcmVzcG9uc2VEYXRhLnN1Y2Nlc3MpLnRvQmUoJ2Jvb2xlYW4nKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3BvbnNlRGF0YS5wb2xscykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3BvbnNlRGF0YS5jb3VudCkudG9CZSgnbnVtYmVyJyk7XG4gICAgICBleHBlY3QodHlwZW9mIHJlc3BvbnNlRGF0YS5tZXNzYWdlKS50b0JlKCdzdHJpbmcnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHBhZ2luYXRpb24gd2l0aCByZWFsIGRhdGFiYXNlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1NraXBwaW5nIHRlc3QgLSBSZWFsIFN1cGFiYXNlIGNyZWRlbnRpYWxzIG5vdCBzZXQgdXAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BvbGxzP2xpbWl0PTUnKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdQYWdpbmF0aW9uIHJlc3BvbnNlOicsIHJlc3BvbnNlRGF0YSk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoMjAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuc3VjY2VzcykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChBcnJheS5pc0FycmF5KHJlc3BvbnNlRGF0YS5wb2xscykpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLnBvbGxzLmxlbmd0aCkudG9CZUxlc3NUaGFuT3JFcXVhbCg1KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BPU1QgL2FwaS9wb2xscyAtIENyZWF0ZSBQb2xsJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgY3JlYXRlIGEgbmV3IHBvbGwgd2l0aCByZWFsIHVzZXIgYXV0aGVudGljYXRpb24nLCBhc3luYyAoKSA9PiB7XG4gICAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignU2tpcHBpbmcgdGVzdCAtIFJlYWwgU3VwYWJhc2UgY3JlZGVudGlhbHMgbm90IHNldCB1cCcpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEZpcnN0LCB3ZSBuZWVkIHRvIG1vY2sgdGhlIGF1dGhlbnRpY2F0aW9uIG1pZGRsZXdhcmVcbiAgICAgIC8vIFNpbmNlIHdlIGNhbid0IGVhc2lseSBtb2NrIHRoZSBtaWRkbGV3YXJlIGluIHRoaXMgdGVzdCxcbiAgICAgIC8vIHdlJ2xsIHRlc3QgdGhlIGRhdGFiYXNlIG9wZXJhdGlvbiBkaXJlY3RseVxuICAgICAgXG4gICAgICBjb25zdCBwb2xsRGF0YSA9IHtcbiAgICAgICAgdGl0bGU6ICdSZWFsIFRlc3QgUG9sbCcsXG4gICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICB7IHRleHQ6ICdSZWFsIE9wdGlvbiAxJyB9LFxuICAgICAgICAgIHsgdGV4dDogJ1JlYWwgT3B0aW9uIDInIH1cbiAgICAgICAgXSxcbiAgICAgICAgY3JlYXRlZF9ieTogdGVzdFVzZXIuaWRcbiAgICAgIH07XG5cbiAgICAgIC8vIFRlc3QgZGlyZWN0IGRhdGFiYXNlIG9wZXJhdGlvblxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3BvbGxzJylcbiAgICAgICAgLmluc2VydChwb2xsRGF0YSlcbiAgICAgICAgLnNlbGVjdCgpXG4gICAgICAgIC5zaW5nbGUoKTtcblxuICAgICAgY29uc29sZS5sb2coJ0RpcmVjdCBkYXRhYmFzZSBpbnNlcnQgcmVzdWx0OicsIHsgZGF0YSwgZXJyb3IgfSk7XG5cbiAgICAgIGV4cGVjdChlcnJvcikudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChkYXRhKS50b0JlRGVmaW5lZCgpO1xuICAgICAgZXhwZWN0KGRhdGEudGl0bGUpLnRvQmUoJ1JlYWwgVGVzdCBQb2xsJyk7XG4gICAgICBleHBlY3QoZGF0YS5jcmVhdGVkX2J5KS50b0JlKHRlc3RVc2VyLmlkKTtcblxuICAgICAgLy8gU3RvcmUgZm9yIGNsZWFudXBcbiAgICAgIHRlc3RQb2xsSWQgPSBkYXRhLmlkO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcG9sbCBjcmVhdGlvbiB3aXRoIHJlYWwgdXNlciBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1NraXBwaW5nIHRlc3QgLSBSZWFsIFN1cGFiYXNlIGNyZWRlbnRpYWxzIG5vdCBzZXQgdXAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwb2xsRGF0YSA9IHtcbiAgICAgICAgdGl0bGU6ICdBbm90aGVyIFJlYWwgVGVzdCBQb2xsJyxcbiAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgIHsgdGV4dDogJ09wdGlvbiBBJyB9LFxuICAgICAgICAgIHsgdGV4dDogJ09wdGlvbiBCJyB9LFxuICAgICAgICAgIHsgdGV4dDogJ09wdGlvbiBDJyB9XG4gICAgICAgIF0sXG4gICAgICAgIGNyZWF0ZWRfYnk6IHRlc3RVc2VyLmlkXG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgncG9sbHMnKVxuICAgICAgICAuaW5zZXJ0KHBvbGxEYXRhKVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBleHBlY3QoZXJyb3IpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QoZGF0YSkudG9CZURlZmluZWQoKTtcbiAgICAgIGV4cGVjdChkYXRhLnRpdGxlKS50b0JlKCdBbm90aGVyIFJlYWwgVGVzdCBQb2xsJyk7XG4gICAgICBleHBlY3QoZGF0YS5vcHRpb25zKS50b0hhdmVMZW5ndGgoMyk7XG5cbiAgICAgIC8vIFN0b3JlIGZvciBjbGVhbnVwXG4gICAgICB0ZXN0UG9sbElkID0gZGF0YS5pZDtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlYWwgRGF0YWJhc2UgSW50ZWdyYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBjb25uZWN0IHRvIHJlYWwgZGF0YWJhc2Ugc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1NraXBwaW5nIHRlc3QgLSBSZWFsIFN1cGFiYXNlIGNyZWRlbnRpYWxzIG5vdCBzZXQgdXAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUZXN0IGJhc2ljIGRhdGFiYXNlIGNvbm5lY3Rpb25cbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdwb2xscycpXG4gICAgICAgIC5zZWxlY3QoJ2lkLCB0aXRsZSwgc3RhdHVzJylcbiAgICAgICAgLmxpbWl0KDEpO1xuXG4gICAgICBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiB0ZXN0IC0gRGF0YTonLCBkYXRhKTtcbiAgICAgIGNvbnNvbGUubG9nKCdEYXRhYmFzZSBjb25uZWN0aW9uIHRlc3QgLSBFcnJvcjonLCBlcnJvcik7XG5cbiAgICAgIC8vIFNob3VsZCBub3QgaGF2ZSBhbiBlcnJvclxuICAgICAgZXhwZWN0KGVycm9yKS50b0JlTnVsbCgpO1xuICAgICAgZXhwZWN0KEFycmF5LmlzQXJyYXkoZGF0YSkpLnRvQmUodHJ1ZSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBkYXRhYmFzZSBlcnJvcnMgZ3JhY2VmdWxseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdTa2lwcGluZyB0ZXN0IC0gUmVhbCBTdXBhYmFzZSBjcmVkZW50aWFscyBub3Qgc2V0IHVwJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGVzdCBlcnJvciBoYW5kbGluZyB3aXRoIGludmFsaWQgdGFibGVcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdub25leGlzdGVudF90YWJsZScpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAubGltaXQoMSk7XG5cbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBoYW5kbGluZyB0ZXN0IC0gRGF0YTonLCBkYXRhKTtcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBoYW5kbGluZyB0ZXN0IC0gRXJyb3I6JywgZXJyb3IpO1xuXG4gICAgICAvLyBTaG91bGQgaGF2ZSBhbiBlcnJvciBmb3Igbm9uZXhpc3RlbnQgdGFibGVcbiAgICAgIGV4cGVjdChlcnJvcikubm90LnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QoZXJyb3IubWVzc2FnZSkudG9Db250YWluKCdyZWxhdGlvbiBcIm5vbmV4aXN0ZW50X3RhYmxlXCIgZG9lcyBub3QgZXhpc3QnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1JlYWwgVXNlciBBdXRoZW50aWNhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGF1dGhlbnRpY2F0ZSByZWFsIHVzZXIgc3VjY2Vzc2Z1bGx5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1NraXBwaW5nIHRlc3QgLSBSZWFsIFN1cGFiYXNlIGNyZWRlbnRpYWxzIG5vdCBzZXQgdXAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBleHBlY3QodGVzdFVzZXIpLnRvQmVEZWZpbmVkKCk7XG4gICAgICBleHBlY3QodGVzdFVzZXIuZW1haWwpLnRvQmUoJ3Rlc3RAZXhhbXBsZS5jb20nKTtcbiAgICAgIGV4cGVjdCh0ZXN0VXNlci5pZCkudG9CZURlZmluZWQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBhY2Nlc3MgdG8gdXNlciBwcm9maWxlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1NraXBwaW5nIHRlc3QgLSBSZWFsIFN1cGFiYXNlIGNyZWRlbnRpYWxzIG5vdCBzZXQgdXAnKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXG4gICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB0ZXN0VXNlci5pZClcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBjb25zb2xlLmxvZygnVXNlciBwcm9maWxlIGRhdGE6JywgZGF0YSk7XG4gICAgICBjb25zb2xlLmxvZygnVXNlciBwcm9maWxlIGVycm9yOicsIGVycm9yKTtcblxuICAgICAgLy8gU2hvdWxkIGhhdmUgdXNlciBwcm9maWxlIG9yIGJlIGFibGUgdG8gY3JlYXRlIG9uZVxuICAgICAgaWYgKGVycm9yICYmIGVycm9yLmNvZGUgPT09ICdQR1JTVDExNicpIHtcbiAgICAgICAgLy8gTm8gcHJvZmlsZSBleGlzdHMsIHdoaWNoIGlzIGZpbmUgZm9yIHRlc3RpbmdcbiAgICAgICAgZXhwZWN0KGVycm9yLm1lc3NhZ2UpLnRvQ29udGFpbignTm8gcm93cyByZXR1cm5lZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZXhwZWN0KGVycm9yKS50b0JlTnVsbCgpO1xuICAgICAgICBleHBlY3QoZGF0YSkudG9CZURlZmluZWQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJzdXBhYmFzZSIsImNyZWF0ZUNsaWVudCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwiLCJORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJkZXNjcmliZSIsInRlc3RVc2VyIiwidGVzdFBvbGxJZCIsImJlZm9yZUFsbCIsImxvZyIsImRhdGEiLCJhdXRoIiwic2lnbkluV2l0aFBhc3N3b3JkIiwiZW1haWwiLCJwYXNzd29yZCIsIkVycm9yIiwibWVzc2FnZSIsInVzZXIiLCJhZnRlckFsbCIsImZyb20iLCJkZWxldGUiLCJlcSIsInNpZ25PdXQiLCJiZWZvcmVFYWNoIiwiYWZ0ZXJFYWNoIiwiaXQiLCJyZXF1ZXN0IiwiTmV4dFJlcXVlc3QiLCJyZXNwb25zZSIsIkdFVCIsInJlc3BvbnNlRGF0YSIsImpzb24iLCJzdGF0dXMiLCJleHBlY3QiLCJ0b0JlIiwidG9IYXZlUHJvcGVydHkiLCJzdWNjZXNzIiwiQXJyYXkiLCJpc0FycmF5IiwicG9sbHMiLCJjb3VudCIsImxlbmd0aCIsInRvQmVMZXNzVGhhbk9yRXF1YWwiLCJwb2xsRGF0YSIsInRpdGxlIiwib3B0aW9ucyIsInRleHQiLCJjcmVhdGVkX2J5IiwiaWQiLCJpbnNlcnQiLCJzZWxlY3QiLCJzaW5nbGUiLCJ0b0JlTnVsbCIsInRvQmVEZWZpbmVkIiwidG9IYXZlTGVuZ3RoIiwibGltaXQiLCJub3QiLCJ0b0NvbnRhaW4iLCJjb2RlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Q0FLQzs7Ozt5QkFFZ0Y7NEJBQ3BEO3dCQUNEO3VCQUNGO0FBRTFCLGlEQUFpRDtBQUNqRCxvREFBb0Q7QUFDcEQsSUFBSUE7QUFFSixJQUFJO0lBQ0ZBLFdBQVdDLElBQUFBLHdCQUFZLEVBQ3JCQyxRQUFRQyxHQUFHLENBQUNDLHdCQUF3QixFQUNwQ0YsUUFBUUMsR0FBRyxDQUFDRSw2QkFBNkI7QUFFN0MsRUFBRSxPQUFPQyxPQUFPO0lBQ2RDLFFBQVFDLElBQUksQ0FBQztJQUNiRCxRQUFRQyxJQUFJLENBQUM7QUFDZjtBQUVBQyxJQUFBQSxpQkFBUSxFQUFDLDBCQUEwQjtJQUNqQyxJQUFJQztJQUNKLElBQUlDLGFBQTRCO0lBRWhDQyxJQUFBQSxr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