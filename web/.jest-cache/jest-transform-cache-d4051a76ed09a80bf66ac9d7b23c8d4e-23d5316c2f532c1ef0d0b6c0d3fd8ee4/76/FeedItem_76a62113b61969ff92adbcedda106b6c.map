{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/features/feeds/components/FeedItem.tsx"],"sourcesContent":["/**\n * Enhanced Feed Item Component\n * \n * Individual feed item with Instagram-like interactions\n * Features:\n * - Touch gesture support\n * - Progressive disclosure\n * - Engagement metrics\n * - Accessibility compliance\n * - Performance optimizations\n */\n\n'use client';\n\nimport { \n  HeartIcon, \n  ChatBubbleLeftIcon, \n  ShareIcon, \n  BookmarkIcon,\n  EllipsisHorizontalIcon,\n  CalendarIcon,\n  MapPinIcon\n} from '@heroicons/react/24/outline';\nimport { \n  HeartIcon as HeartSolidIcon,\n  BookmarkIcon as BookmarkSolidIcon\n} from '@heroicons/react/24/solid';\nimport Image from 'next/image';\nimport React, { useState, useRef, useCallback } from 'react';\n\nimport type { FeedItemData } from '../types';\n\ninterface FeedItemProps {\n  item: FeedItemData;\n  onLike?: (itemId: string) => void;\n  onShare?: (itemId: string) => void;\n  onBookmark?: (itemId: string) => void;\n  onComment?: (itemId: string) => void;\n  onViewDetails?: (itemId: string) => void;\n  isLiked?: boolean;\n  isBookmarked?: boolean;\n  showEngagement?: boolean;\n  enableHaptics?: boolean;\n  className?: string;\n}\n\nexport default function FeedItem({\n  item,\n  onLike,\n  onShare,\n  onBookmark,\n  onComment,\n  onViewDetails,\n  isLiked = false,\n  isBookmarked = false,\n  showEngagement = true,\n  enableHaptics = false,\n  className = ''\n}: FeedItemProps) {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [showActions, setShowActions] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  \n  const itemRef = useRef<HTMLDivElement>(null);\n  const touchStartRef = useRef<{ x: number; y: number; time: number } | null>(null);\n  const longPressTimerRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Touch gesture handling\n  const handleTouchStart = useCallback((e: React.TouchEvent) => {\n    const touch = e.touches[0];\n    if (touch) {\n      touchStartRef.current = {\n        x: touch.clientX,\n        y: touch.clientY,\n        time: Date.now()\n      };\n    }\n\n    // Long press detection\n    longPressTimerRef.current = setTimeout(() => {\n      if (enableHaptics && 'vibrate' in navigator) {\n        navigator.vibrate(50); // Short haptic feedback\n      }\n      setShowActions(true);\n    }, 500);\n  }, [enableHaptics]);\n\n  const handleTouchMove = useCallback((_e: React.TouchEvent) => {\n    if (longPressTimerRef.current) {\n      clearTimeout(longPressTimerRef.current);\n      longPressTimerRef.current = null;\n    }\n  }, []);\n\n  // Engagement handlers\n  const handleLike = useCallback(() => {\n    if (isLoading) return;\n    \n    setIsLoading(true);\n    if (enableHaptics && 'vibrate' in navigator) {\n      navigator.vibrate(25); // Light haptic feedback\n    }\n    onLike?.(item.id);\n    setTimeout(() => setIsLoading(false), 200);\n  }, [item.id, onLike, enableHaptics, isLoading]);\n\n  const handleShare = useCallback(() => {\n    if (isLoading) return;\n    \n    setIsLoading(true);\n    if (enableHaptics && 'vibrate' in navigator) {\n      navigator.vibrate(25);\n    }\n    onShare?.(item.id);\n    setTimeout(() => setIsLoading(false), 200);\n  }, [item.id, onShare, enableHaptics, isLoading]);\n\n  const handleBookmark = useCallback(() => {\n    if (isLoading) return;\n    \n    setIsLoading(true);\n    if (enableHaptics && 'vibrate' in navigator) {\n      navigator.vibrate(25);\n    }\n    onBookmark?.(item.id);\n    setTimeout(() => setIsLoading(false), 200);\n  }, [item.id, onBookmark, enableHaptics, isLoading]);\n\n  const handleComment = useCallback(() => {\n    if (isLoading) return;\n    \n    setIsLoading(true);\n    if (enableHaptics && 'vibrate' in navigator) {\n      navigator.vibrate(25);\n    }\n    onComment?.(item.id);\n    setTimeout(() => setIsLoading(false), 200);\n  }, [item.id, onComment, enableHaptics, isLoading]);\n\n  const handleTouchEnd = useCallback((e: React.TouchEvent) => {\n    if (longPressTimerRef.current) {\n      clearTimeout(longPressTimerRef.current);\n      longPressTimerRef.current = null;\n    }\n\n    if (!touchStartRef.current) return;\n\n    const touch = e.changedTouches[0];\n    if (touch) {\n      const deltaX = touch.clientX - touchStartRef.current.x;\n      const deltaY = touch.clientY - touchStartRef.current.y;\n      const deltaTime = Date.now() - touchStartRef.current.time;\n\n      // Swipe detection\n      if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > 50 && deltaTime < 300) {\n        if (deltaX > 0) {\n          // Swipe right - like\n          handleLike();\n        } else {\n          // Swipe left - share\n          handleShare();\n        }\n      } else if (deltaTime < 200) {\n        // Quick tap - toggle expansion\n        setIsExpanded(!isExpanded);\n      }\n    }\n\n    touchStartRef.current = null;\n  }, [isExpanded, handleLike, handleShare]);\n\n  // Format date - handle both Date objects and date strings with null safety\n  const formatDate = (date: Date | string | null | undefined) => {\n    if (!date) return 'Unknown date';\n    \n    const now = new Date();\n    const dateObj = typeof date === 'string' ? new Date(date) : date;\n    \n    // Check if dateObj is valid\n    if (!dateObj || isNaN(dateObj.getTime())) {\n      return 'Invalid date';\n    }\n    \n    const diffInHours = Math.floor((now.getTime() - dateObj.getTime()) / (1000 * 60 * 60));\n    \n    if (diffInHours < 1) return 'Just now';\n    if (diffInHours < 24) return `${diffInHours}h ago`;\n    if (diffInHours < 48) return 'Yesterday';\n    return new Date(date).toLocaleDateString();\n  };\n\n  // Get content type icon\n  const getContentTypeIcon = (type: string) => {\n    const iconClass = \"w-5 h-5\";\n    \n    switch (type) {\n      case 'vote':\n        return <div className={`${iconClass} bg-green-100 rounded-full flex items-center justify-center`}>\n          <span className=\"text-green-600 text-xs font-bold\">V</span>\n        </div>;\n      case 'bill':\n        return <div className={`${iconClass} bg-blue-100 rounded-full flex items-center justify-center`}>\n          <span className=\"text-blue-600 text-xs font-bold\">B</span>\n        </div>;\n      case 'statement':\n        return <div className={`${iconClass} bg-purple-100 rounded-full flex items-center justify-center`}>\n          <span className=\"text-purple-600 text-xs font-bold\">S</span>\n        </div>;\n      case 'social_media':\n        return <div className={`${iconClass} bg-pink-100 rounded-full flex items-center justify-center`}>\n          <span className=\"text-pink-600 text-xs font-bold\">@</span>\n        </div>;\n      case 'photo':\n        return <div className={`${iconClass} bg-gray-100 rounded-full flex items-center justify-center`}>\n          <span className=\"text-gray-600 text-xs font-bold\">ðŸ“·</span>\n        </div>;\n      default:\n        return <div className={`${iconClass} bg-gray-100 rounded-full flex items-center justify-center`}>\n          <span className=\"text-gray-600 text-xs font-bold\">?</span>\n        </div>;\n    }\n  };\n\n  // Get party color\n  const getPartyColor = (party: string) => {\n    const partyColors: Record<string, string> = {\n      'Republican': 'text-red-600 bg-red-50 border-red-200',\n      'Democrat': 'text-blue-600 bg-blue-50 border-blue-200',\n      'Independent': 'text-gray-600 bg-gray-50 border-gray-200',\n      'Green': 'text-green-600 bg-green-50 border-green-200',\n      'Libertarian': 'text-yellow-600 bg-yellow-50 border-yellow-200'\n    };\n    \n    return partyColors[party] ?? 'text-gray-600 bg-gray-50 border-gray-200';\n  };\n\n  return (\n    <div \n      ref={itemRef}\n      className={`bg-white rounded-2xl shadow-sm border border-gray-200 overflow-hidden transition-all duration-200 hover:shadow-md ${className}`}\n      onTouchStart={handleTouchStart}\n      onTouchMove={handleTouchMove}\n      onTouchEnd={handleTouchEnd}\n    >\n      {/* Header */}\n      <div className=\"p-4 border-b border-gray-100\">\n        <div className=\"flex items-center space-x-3\">\n          <div className=\"relative\">\n            <Image\n              src={item.representativePhoto}\n              alt={item.representativeName}\n              width={40}\n              height={40}\n              className=\"rounded-full object-cover\"\n            />\n            <div className=\"absolute -bottom-1 -right-1\">\n              {getContentTypeIcon(item.contentType)}\n            </div>\n          </div>\n          \n          <div className=\"flex-1\">\n            <div className=\"flex items-center space-x-2\">\n              <h3 className=\"font-semibold text-gray-900\">{item.representativeName}</h3>\n              <span className={`px-2 py-1 rounded-full text-xs font-medium border ${getPartyColor(item.representativeParty)}`}>\n                {item.representativeParty}\n              </span>\n            </div>\n            <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\n              <MapPinIcon className=\"w-4 h-4\" />\n              <span>{item.representativeOffice}</span>\n            </div>\n          </div>\n          \n          <div className=\"text-right\">\n            <div className=\"flex items-center space-x-2 text-sm text-gray-500\">\n              <CalendarIcon className=\"w-4 h-4\" />\n              <span>{formatDate(item.date)}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"p-4\">\n        <h4 className=\"font-semibold text-gray-900 mb-2\">{item.title}</h4>\n        {item.description && (\n          <div className=\"text-gray-600 mb-4\">\n            {isExpanded ? (\n              <p>{item.description}</p>\n            ) : (\n              <p className=\"line-clamp-3\">{item.description}</p>\n            )}\n            {item.description.length > 100 && (\n              <button\n                onClick={() => setIsExpanded(!isExpanded)}\n                className=\"text-blue-500 text-sm font-medium mt-2 hover:text-blue-600\"\n              >\n                {isExpanded ? 'Show less' : 'Show more'}\n              </button>\n            )}\n          </div>\n        )}\n        \n        {item.imageUrl && (\n          <div className=\"relative mb-4\">\n            <Image\n              src={item.imageUrl}\n              alt={item.title}\n              width={400}\n              height={300}\n              className=\"w-full h-64 object-cover rounded-lg\"\n            />\n          </div>\n        )}\n      </div>\n\n      {/* Engagement */}\n      {showEngagement && (\n        <div className=\"px-4 py-3 border-t border-gray-100\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-6\">\n              <button\n                onClick={handleLike}\n                disabled={isLoading}\n                className={`flex items-center space-x-2 transition-colors ${\n                  isLiked \n                    ? 'text-red-500' \n                    : 'text-gray-500 hover:text-red-500'\n                } ${isLoading ? 'opacity-50 cursor-not-allowed' : ''}`}\n                aria-label={`${isLiked ? 'Unlike' : 'Like'} this post`}\n              >\n                {isLiked ? (\n                  <HeartSolidIcon className=\"w-5 h-5\" />\n                ) : (\n                  <HeartIcon className=\"w-5 h-5\" />\n                )}\n                <span className=\"text-sm font-medium\">\n                  {item.engagementMetrics?.likes ?? 0}\n                </span>\n              </button>\n              \n              <button\n                onClick={handleComment}\n                disabled={isLoading}\n                className={`flex items-center space-x-2 text-gray-500 hover:text-blue-500 transition-colors ${\n                  isLoading ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n                aria-label=\"Comment on this post\"\n              >\n                <ChatBubbleLeftIcon className=\"w-5 h-5\" />\n                <span className=\"text-sm font-medium\">\n                  {item.engagementMetrics?.comments ?? 0}\n                </span>\n              </button>\n              \n              <button\n                onClick={handleShare}\n                disabled={isLoading}\n                className={`flex items-center space-x-2 text-gray-500 hover:text-green-500 transition-colors ${\n                  isLoading ? 'opacity-50 cursor-not-allowed' : ''\n                }`}\n                aria-label=\"Share this post\"\n              >\n                <ShareIcon className=\"w-5 h-5\" />\n                <span className=\"text-sm font-medium\">\n                  {item.engagementMetrics?.shares ?? 0}\n                </span>\n              </button>\n            </div>\n            \n            <div className=\"flex items-center space-x-2\">\n              <button\n                onClick={handleBookmark}\n                disabled={isLoading}\n                className={`transition-colors ${\n                  isBookmarked \n                    ? 'text-blue-500' \n                    : 'text-gray-500 hover:text-blue-500'\n                } ${isLoading ? 'opacity-50 cursor-not-allowed' : ''}`}\n                aria-label={`${isBookmarked ? 'Remove from' : 'Add to'} bookmarks`}\n              >\n                {isBookmarked ? (\n                  <BookmarkSolidIcon className=\"w-5 h-5\" />\n                ) : (\n                  <BookmarkIcon className=\"w-5 h-5\" />\n                )}\n              </button>\n              \n              <button\n                onClick={() => setShowActions(!showActions)}\n                className=\"text-gray-500 hover:text-gray-700 transition-colors\"\n                aria-label=\"More options\"\n              >\n                <EllipsisHorizontalIcon className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Action Menu */}\n      {showActions && (\n        <div className=\"px-4 py-2 border-t border-gray-100 bg-gray-50\">\n          <div className=\"flex items-center space-x-4\">\n            <button\n              onClick={() => {\n                onViewDetails?.(item.id);\n                setShowActions(false);\n              }}\n              className=\"text-sm text-blue-600 hover:text-blue-700 font-medium\"\n            >\n              View Details\n            </button>\n            <button\n              onClick={() => {\n                handleShare();\n                setShowActions(false);\n              }}\n              className=\"text-sm text-green-600 hover:text-green-700 font-medium\"\n            >\n              Share\n            </button>\n            <button\n              onClick={() => setShowActions(false)}\n              className=\"text-sm text-gray-600 hover:text-gray-700 font-medium\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":["FeedItem","item","onLike","onShare","onBookmark","onComment","onViewDetails","isLiked","isBookmarked","showEngagement","enableHaptics","className","isExpanded","setIsExpanded","useState","showActions","setShowActions","isLoading","setIsLoading","itemRef","useRef","touchStartRef","longPressTimerRef","handleTouchStart","useCallback","e","touch","touches","current","x","clientX","y","clientY","time","Date","now","setTimeout","navigator","vibrate","handleTouchMove","_e","clearTimeout","handleLike","id","handleShare","handleBookmark","handleComment","handleTouchEnd","changedTouches","deltaX","deltaY","deltaTime","Math","abs","formatDate","date","dateObj","isNaN","getTime","diffInHours","floor","toLocaleDateString","getContentTypeIcon","type","iconClass","div","span","getPartyColor","party","partyColors","ref","onTouchStart","onTouchMove","onTouchEnd","Image","src","representativePhoto","alt","representativeName","width","height","contentType","h3","representativeParty","MapPinIcon","representativeOffice","CalendarIcon","h4","title","description","p","length","button","onClick","imageUrl","disabled","aria-label","HeartSolidIcon","HeartIcon","engagementMetrics","likes","ChatBubbleLeftIcon","comments","ShareIcon","shares","BookmarkSolidIcon","BookmarkIcon","EllipsisHorizontalIcon"],"mappings":"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"}