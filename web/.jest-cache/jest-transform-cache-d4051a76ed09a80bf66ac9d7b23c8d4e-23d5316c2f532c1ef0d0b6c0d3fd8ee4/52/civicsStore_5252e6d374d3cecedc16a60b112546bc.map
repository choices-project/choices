{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/lib/stores/civicsStore.ts"],"sourcesContent":["/**\n * Civics Store - Zustand Implementation\n * \n * Comprehensive civic engagement state management including representative data,\n * geographic services, civic actions, and civic preferences. Consolidates civic\n * state management and representative information.\n * \n * Created: October 10, 2025\n * Status: âœ… ACTIVE\n */\n\nimport { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\nimport { persist } from 'zustand/middleware';\n\nimport { logger } from '@/lib/utils/logger';\nimport { withOptional } from '@/lib/utils/objects';\n\n// Civic data types\ninterface Representative {\n  id: string;\n  name: string;\n  title: string;\n  party: string;\n  district: string;\n  state: string;\n  chamber: 'house' | 'senate' | 'local';\n  photo?: string;\n  contact: {\n    email?: string;\n    phone?: string;\n    website?: string;\n    socialMedia?: Record<string, string>;\n  };\n  committees: string[];\n  votingRecord: {\n    totalVotes: number;\n    partyUnity: number;\n    ideologyScore: number;\n  };\n  campaignFinance: {\n    totalRaised: number;\n    totalSpent: number;\n    independenceScore: number;\n  };\n  bio: string;\n  lastUpdated: string;\n}\n\ninterface District {\n  id: string;\n  name: string;\n  type: 'congressional' | 'state_house' | 'state_senate' | 'local';\n  state: string;\n  boundaries: {\n    coordinates: number[][];\n    center: { lat: number; lng: number };\n  };\n  demographics: {\n    population: number;\n    medianIncome: number;\n    educationLevel: number;\n    diversityIndex: number;\n  };\n  redistrictingStatus: 'current' | 'pending' | 'disputed';\n  lastUpdated: string;\n}\n\ninterface CivicAction {\n  id: string;\n  type: 'contact' | 'petition' | 'event' | 'donation' | 'volunteer';\n  title: string;\n  description: string;\n  target: {\n    representativeId?: string;\n    organization?: string;\n    issue?: string;\n  };\n  status: 'active' | 'completed' | 'cancelled';\n  priority: 'low' | 'medium' | 'high';\n  dueDate?: string;\n  completedAt?: string;\n  metadata: Record<string, any>;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface UserCivicProfile {\n  userId: string;\n  address: {\n    street?: string;\n    city: string;\n    state: string;\n    zipCode: string;\n    country: string;\n  };\n  representatives: string[]; // Representative IDs\n  districts: string[]; // District IDs\n  interests: string[];\n  engagementLevel: 'low' | 'medium' | 'high';\n  preferences: {\n    notifications: boolean;\n    emailUpdates: boolean;\n    smsUpdates: boolean;\n    privacyLevel: 'public' | 'private' | 'anonymous';\n  };\n  lastUpdated: string;\n}\n\ninterface CivicPreferences {\n  showPartyAffiliation: boolean;\n  showVotingRecord: boolean;\n  showCampaignFinance: boolean;\n  showCommittees: boolean;\n  showContactInfo: boolean;\n  showSocialMedia: boolean;\n  defaultView: 'list' | 'grid' | 'map';\n  sortBy: 'name' | 'party' | 'district' | 'lastUpdated';\n  filterBy: {\n    party?: string[];\n    chamber?: string[];\n    state?: string[];\n  };\n  privacySettings: {\n    shareLocation: boolean;\n    shareInterests: boolean;\n    shareActions: boolean;\n  };\n}\n\n// Civics store state interface\ninterface CivicsStore {\n  // Civic data\n  representatives: Representative[];\n  districts: District[];\n  civicActions: CivicAction[];\n  userCivicProfile: UserCivicProfile | null;\n  \n  // UI state\n  selectedRepresentative: Representative | null;\n  selectedDistrict: District | null;\n  searchQuery: string;\n  filters: {\n    party?: string[];\n    chamber?: string[];\n    state?: string[];\n    district?: string[];\n  };\n  \n  // Preferences\n  preferences: CivicPreferences;\n  \n  // Loading states\n  isLoading: boolean;\n  isSearching: boolean;\n  isUpdating: boolean;\n  error: string | null;\n  \n  // Actions - Representatives\n  setRepresentatives: (representatives: Representative[]) => void;\n  addRepresentative: (representative: Representative) => void;\n  updateRepresentative: (id: string, updates: Partial<Representative>) => void;\n  removeRepresentative: (id: string) => void;\n  setSelectedRepresentative: (representative: Representative | null) => void;\n  searchRepresentatives: (query: string) => void;\n  \n  // Actions - Districts\n  setDistricts: (districts: District[]) => void;\n  addDistrict: (district: District) => void;\n  updateDistrict: (id: string, updates: Partial<District>) => void;\n  removeDistrict: (id: string) => void;\n  setSelectedDistrict: (district: District | null) => void;\n  \n  // Actions - Civic Actions\n  setCivicActions: (actions: CivicAction[]) => void;\n  addCivicAction: (action: Omit<CivicAction, 'id' | 'createdAt' | 'updatedAt'>) => void;\n  updateCivicAction: (id: string, updates: Partial<CivicAction>) => void;\n  completeCivicAction: (id: string) => void;\n  removeCivicAction: (id: string) => void;\n  \n  // Actions - User Profile\n  setUserCivicProfile: (profile: UserCivicProfile) => void;\n  updateUserCivicProfile: (updates: Partial<UserCivicProfile>) => void;\n  clearUserCivicProfile: () => void;\n  \n  // Actions - Preferences\n  updatePreferences: (preferences: Partial<CivicPreferences>) => void;\n  resetPreferences: () => void;\n  \n  // Actions - Search and Filters\n  setSearchQuery: (query: string) => void;\n  setFilters: (filters: Partial<CivicsStore['filters']>) => void;\n  clearFilters: () => void;\n  \n  // Actions - Data operations\n  loadRepresentatives: (address: string) => Promise<void>;\n  loadDistricts: (address: string) => Promise<void>;\n  loadCivicActions: () => Promise<void>;\n  saveCivicAction: (action: CivicAction) => Promise<void>;\n  \n  // Actions - Loading states\n  setLoading: (loading: boolean) => void;\n  setSearching: (searching: boolean) => void;\n  setUpdating: (updating: boolean) => void;\n  setError: (error: string | null) => void;\n  clearError: () => void;\n}\n\n// Default civic preferences\nconst defaultPreferences: CivicPreferences = {\n  showPartyAffiliation: true,\n  showVotingRecord: true,\n  showCampaignFinance: true,\n  showCommittees: true,\n  showContactInfo: true,\n  showSocialMedia: true,\n  defaultView: 'list',\n  sortBy: 'name',\n  filterBy: {},\n  privacySettings: {\n    shareLocation: false,\n    shareInterests: true,\n    shareActions: false,\n  },\n};\n\n// Create civics store with middleware\nexport const useCivicsStore = create<CivicsStore>()(\n  devtools(\n    persist(\n      (set, get) => ({\n        // Initial state\n        representatives: [],\n        districts: [],\n        civicActions: [],\n        userCivicProfile: null,\n        selectedRepresentative: null,\n        selectedDistrict: null,\n        searchQuery: '',\n        filters: {},\n        preferences: defaultPreferences,\n        isLoading: false,\n        isSearching: false,\n        isUpdating: false,\n        error: null,\n        \n        // Representative actions\n        setRepresentatives: (representatives) => set({ representatives }),\n        \n        addRepresentative: (representative) => set((state) => ({\n          representatives: [...state.representatives, representative]\n        })),\n        \n        updateRepresentative: (id, updates) => set((state) => ({\n          representatives: state.representatives.map(rep =>\n            rep.id === id ? withOptional(rep, updates) : rep\n          )\n        })),\n        \n        removeRepresentative: (id) => set((state) => ({\n          representatives: state.representatives.filter(rep => rep.id !== id)\n        })),\n        \n        setSelectedRepresentative: (representative) => set({ selectedRepresentative: representative }),\n        \n        searchRepresentatives: (query) => set((state) => {\n          set({ searchQuery: query, isSearching: true });\n          \n          // Filter representatives based on search query\n          const filtered = state.representatives.filter(rep =>\n            rep.name.toLowerCase().includes(query.toLowerCase()) ||\n            rep.title.toLowerCase().includes(query.toLowerCase()) ||\n            rep.district.toLowerCase().includes(query.toLowerCase()) ||\n            rep.state.toLowerCase().includes(query.toLowerCase())\n          );\n          \n          logger.info('Representatives searched', {\n            query,\n            results: filtered.length,\n            total: state.representatives.length\n          });\n          \n          return { representatives: filtered, isSearching: false };\n        }),\n        \n        // District actions\n        setDistricts: (districts) => set({ districts }),\n        \n        addDistrict: (district) => set((state) => ({\n          districts: [...state.districts, district]\n        })),\n        \n        updateDistrict: (id, updates) => set((state) => ({\n          districts: state.districts.map(district =>\n            district.id === id ? withOptional(district, updates) : district\n          )\n        })),\n        \n        removeDistrict: (id) => set((state) => ({\n          districts: state.districts.filter(district => district.id !== id)\n        })),\n        \n        setSelectedDistrict: (district) => set({ selectedDistrict: district }),\n        \n        // Civic action actions\n        setCivicActions: (actions) => set({ civicActions: actions }),\n        \n        addCivicAction: (action) => set((state) => ({\n          civicActions: [\n            ...state.civicActions,\n            withOptional(action, {\n              id: `action_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,\n              createdAt: new Date().toISOString(),\n              updatedAt: new Date().toISOString(),\n            }) as CivicAction\n          ]\n        })),\n        \n        updateCivicAction: (id, updates) => set((state) => ({\n          civicActions: state.civicActions.map(action =>\n            action.id === id \n              ? withOptional(action, withOptional(updates, { updatedAt: new Date().toISOString() }))\n              : action\n          )\n        })),\n        \n        completeCivicAction: (id) => set((state) => ({\n          civicActions: state.civicActions.map(action =>\n            action.id === id \n              ? withOptional(action, { \n                  status: 'completed' as const,\n                  completedAt: new Date().toISOString(),\n                  updatedAt: new Date().toISOString()\n                })\n              : action\n          )\n        })),\n        \n        removeCivicAction: (id) => set((state) => ({\n          civicActions: state.civicActions.filter(action => action.id !== id)\n        })),\n        \n        // User profile actions\n        setUserCivicProfile: (profile) => set({ userCivicProfile: profile }),\n        \n        updateUserCivicProfile: (updates) => set((state) => ({\n          userCivicProfile: state.userCivicProfile \n            ? withOptional(state.userCivicProfile, withOptional(updates, { lastUpdated: new Date().toISOString() }))\n            : null\n        })),\n        \n        clearUserCivicProfile: () => set({ userCivicProfile: null }),\n        \n        // Preferences actions\n        updatePreferences: (preferences) => set((state) => ({\n          preferences: withOptional(state.preferences, preferences)\n        })),\n        \n        resetPreferences: () => set({ preferences: defaultPreferences }),\n        \n        // Search and filter actions\n        setSearchQuery: (query) => set({ searchQuery: query }),\n        \n        setFilters: (filters) => set((state) => ({\n          filters: withOptional(state.filters, filters)\n        })),\n        \n        clearFilters: () => set({ filters: {} }),\n        \n        // Data operations\n        loadRepresentatives: async (address) => {\n          const { setLoading, setError } = get();\n          \n          try {\n            setLoading(true);\n            setError(null);\n            \n            const response = await fetch('/api/civics/representatives', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ address }),\n            });\n            \n            if (!response.ok) {\n              throw new Error('Failed to load representatives');\n            }\n            \n            const representatives = await response.json();\n            set({ representatives });\n            \n            logger.info('Representatives loaded', {\n              address,\n              count: representatives.length\n            });\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n            setError(errorMessage);\n            logger.error('Failed to load representatives:', error instanceof Error ? error : new Error(errorMessage));\n          } finally {\n            setLoading(false);\n          }\n        },\n        \n        loadDistricts: async (address) => {\n          const { setLoading, setError } = get();\n          \n          try {\n            setLoading(true);\n            setError(null);\n            \n            const response = await fetch('/api/civics/districts', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify({ address }),\n            });\n            \n            if (!response.ok) {\n              throw new Error('Failed to load districts');\n            }\n            \n            const districts = await response.json();\n            set({ districts });\n            \n            logger.info('Districts loaded', {\n              address,\n              count: districts.length\n            });\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n            setError(errorMessage);\n            logger.error('Failed to load districts:', error instanceof Error ? error : new Error(errorMessage));\n          } finally {\n            setLoading(false);\n          }\n        },\n        \n        loadCivicActions: async () => {\n          const { setLoading, setError } = get();\n          \n          try {\n            setLoading(true);\n            setError(null);\n            \n            const response = await fetch('/api/civics/actions');\n            \n            if (!response.ok) {\n              throw new Error('Failed to load civic actions');\n            }\n            \n            const actions = await response.json();\n            set({ civicActions: actions });\n            \n            logger.info('Civic actions loaded', {\n              count: actions.length\n            });\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n            setError(errorMessage);\n            logger.error('Failed to load civic actions:', error instanceof Error ? error : new Error(errorMessage));\n          } finally {\n            setLoading(false);\n          }\n        },\n        \n        saveCivicAction: async (action) => {\n          const { setUpdating, setError } = get();\n          \n          try {\n            setUpdating(true);\n            setError(null);\n            \n            const response = await fetch('/api/civics/actions', {\n              method: 'POST',\n              headers: { 'Content-Type': 'application/json' },\n              body: JSON.stringify(action),\n            });\n            \n            if (!response.ok) {\n              throw new Error('Failed to save civic action');\n            }\n            \n            logger.info('Civic action saved', {\n              actionId: action.id,\n              type: action.type\n            });\n          } catch (error) {\n            const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n            setError(errorMessage);\n            logger.error('Failed to save civic action:', error instanceof Error ? error : new Error(errorMessage));\n          } finally {\n            setUpdating(false);\n          }\n        },\n        \n        // Loading state actions\n        setLoading: (loading) => set({ isLoading: loading }),\n        setSearching: (searching) => set({ isSearching: searching }),\n        setUpdating: (updating) => set({ isUpdating: updating }),\n        setError: (error) => set({ error }),\n        clearError: () => set({ error: null }),\n      }),\n      {\n        name: 'civics-store',\n        partialize: (state) => ({\n          representatives: state.representatives,\n          districts: state.districts,\n          civicActions: state.civicActions,\n          userCivicProfile: state.userCivicProfile,\n          preferences: state.preferences,\n        }),\n      }\n    ),\n    { name: 'civics-store' }\n  )\n);\n\n// Store selectors for optimized re-renders\nexport const useRepresentatives = () => useCivicsStore(state => state.representatives);\nexport const useDistricts = () => useCivicsStore(state => state.districts);\nexport const useCivicActions = () => useCivicsStore(state => state.civicActions);\nexport const useUserCivicProfile = () => useCivicsStore(state => state.userCivicProfile);\nexport const useSelectedRepresentative = () => useCivicsStore(state => state.selectedRepresentative);\nexport const useSelectedDistrict = () => useCivicsStore(state => state.selectedDistrict);\nexport const useCivicsPreferences = () => useCivicsStore(state => state.preferences);\nexport const useCivicsLoading = () => useCivicsStore(state => state.isLoading);\nexport const useCivicsError = () => useCivicsStore(state => state.error);\n\n// Action selectors\nexport const useCivicsActions = () => useCivicsStore(state => ({\n  setRepresentatives: state.setRepresentatives,\n  addRepresentative: state.addRepresentative,\n  updateRepresentative: state.updateRepresentative,\n  removeRepresentative: state.removeRepresentative,\n  setSelectedRepresentative: state.setSelectedRepresentative,\n  searchRepresentatives: state.searchRepresentatives,\n  setDistricts: state.setDistricts,\n  addDistrict: state.addDistrict,\n  updateDistrict: state.updateDistrict,\n  removeDistrict: state.removeDistrict,\n  setSelectedDistrict: state.setSelectedDistrict,\n  setCivicActions: state.setCivicActions,\n  addCivicAction: state.addCivicAction,\n  updateCivicAction: state.updateCivicAction,\n  completeCivicAction: state.completeCivicAction,\n  removeCivicAction: state.removeCivicAction,\n  setUserCivicProfile: state.setUserCivicProfile,\n  updateUserCivicProfile: state.updateUserCivicProfile,\n  clearUserCivicProfile: state.clearUserCivicProfile,\n  updatePreferences: state.updatePreferences,\n  resetPreferences: state.resetPreferences,\n  setSearchQuery: state.setSearchQuery,\n  setFilters: state.setFilters,\n  clearFilters: state.clearFilters,\n  loadRepresentatives: state.loadRepresentatives,\n  loadDistricts: state.loadDistricts,\n  loadCivicActions: state.loadCivicActions,\n  saveCivicAction: state.saveCivicAction,\n  setLoading: state.setLoading,\n  setSearching: state.setSearching,\n  setUpdating: state.setUpdating,\n  setError: state.setError,\n  clearError: state.clearError,\n}));\n\n// Computed selectors\nexport const useCivicsStats = () => useCivicsStore(state => ({\n  totalRepresentatives: state.representatives.length,\n  totalDistricts: state.districts.length,\n  totalCivicActions: state.civicActions.length,\n  activeCivicActions: state.civicActions.filter(action => action.status === 'active').length,\n  completedCivicActions: state.civicActions.filter(action => action.status === 'completed').length,\n  hasUserProfile: !!state.userCivicProfile,\n  isLoading: state.isLoading,\n  error: state.error,\n}));\n\nexport const useFilteredRepresentatives = () => useCivicsStore(state => {\n  let filtered = state.representatives;\n  \n  // Apply search query\n  if (state.searchQuery) {\n    const query = state.searchQuery.toLowerCase();\n    filtered = filtered.filter(rep =>\n      rep.name.toLowerCase().includes(query) ||\n      rep.title.toLowerCase().includes(query) ||\n      rep.district.toLowerCase().includes(query) ||\n      rep.state.toLowerCase().includes(query)\n    );\n  }\n  \n  // Apply filters\n  if (state.filters.party?.length) {\n    filtered = filtered.filter(rep => state.filters.party!.includes(rep.party));\n  }\n  \n  if (state.filters.chamber?.length) {\n    filtered = filtered.filter(rep => state.filters.chamber!.includes(rep.chamber));\n  }\n  \n  if (state.filters.state?.length) {\n    filtered = filtered.filter(rep => state.filters.state!.includes(rep.state));\n  }\n  \n  return filtered;\n});\n\n// Store utilities\nexport const civicsStoreUtils = {\n  /**\n   * Get civics summary\n   */\n  getCivicsSummary: () => {\n    const state = useCivicsStore.getState();\n    return {\n      representatives: state.representatives.length,\n      districts: state.districts.length,\n      civicActions: state.civicActions.length,\n      userProfile: state.userCivicProfile ? 'loaded' : 'none',\n      preferences: state.preferences,\n    };\n  },\n  \n  /**\n   * Get representatives by party\n   */\n  getRepresentativesByParty: (party: string) => {\n    const state = useCivicsStore.getState();\n    return state.representatives.filter(rep => rep.party === party);\n  },\n  \n  /**\n   * Get representatives by chamber\n   */\n  getRepresentativesByChamber: (chamber: string) => {\n    const state = useCivicsStore.getState();\n    return state.representatives.filter(rep => rep.chamber === chamber);\n  },\n  \n  /**\n   * Get active civic actions\n   */\n  getActiveCivicActions: () => {\n    const state = useCivicsStore.getState();\n    return state.civicActions.filter(action => action.status === 'active');\n  },\n  \n  /**\n   * Get civic actions by type\n   */\n  getCivicActionsByType: (type: string) => {\n    const state = useCivicsStore.getState();\n    return state.civicActions.filter(action => action.type === type);\n  },\n  \n  /**\n   * Get user's representatives\n   */\n  getUserRepresentatives: () => {\n    const state = useCivicsStore.getState();\n    if (!state.userCivicProfile?.representatives) return [];\n    \n    return state.representatives.filter(rep => \n      state.userCivicProfile!.representatives.includes(rep.id)\n    );\n  }\n};\n\n// Store subscriptions for external integrations\nexport const civicsStoreSubscriptions = {\n  /**\n   * Subscribe to representatives changes\n   */\n  onRepresentativesChange: (callback: (representatives: Representative[]) => void) => {\n    let prevRepresentatives: Representative[] | null = null;\n    return useCivicsStore.subscribe(\n      (state) => {\n        const representatives = state.representatives;\n        if (representatives !== prevRepresentatives) {\n          callback(representatives);\n        }\n        prevRepresentatives = representatives;\n        return representatives;\n      }\n    );\n  },\n  \n  /**\n   * Subscribe to civic actions changes\n   */\n  onCivicActionsChange: (callback: (actions: CivicAction[]) => void) => {\n    let prevActions: CivicAction[] | null = null;\n    return useCivicsStore.subscribe(\n      (state) => {\n        const actions = state.civicActions;\n        if (actions !== prevActions) {\n          callback(actions);\n        }\n        prevActions = actions;\n        return actions;\n      }\n    );\n  },\n  \n  /**\n   * Subscribe to user profile changes\n   */\n  onUserProfileChange: (callback: (profile: UserCivicProfile | null) => void) => {\n    let prevProfile: UserCivicProfile | null = null;\n    return useCivicsStore.subscribe(\n      (state) => {\n        const profile = state.userCivicProfile;\n        if (profile !== prevProfile) {\n          callback(profile);\n        }\n        prevProfile = profile;\n        return profile;\n      }\n    );\n  }\n};\n\n// Store debugging utilities\nexport const civicsStoreDebug = {\n  /**\n   * Log current civics state\n   */\n  logState: () => {\n    const state = useCivicsStore.getState();\n    logger.debug('Civics Store State', {\n      representatives: state.representatives.length,\n      districts: state.districts.length,\n      civicActions: state.civicActions.length,\n      userProfile: state.userCivicProfile ? 'loaded' : 'none',\n      selectedRepresentative: state.selectedRepresentative?.name || 'none',\n      selectedDistrict: state.selectedDistrict?.name || 'none',\n      isLoading: state.isLoading,\n      error: state.error\n    });\n  },\n  \n  /**\n   * Log civics summary\n   */\n  logSummary: () => {\n    const summary = civicsStoreUtils.getCivicsSummary();\n    logger.debug('Civics Summary', summary);\n  },\n  \n  /**\n   * Log representatives by party\n   */\n  logRepresentativesByParty: () => {\n    const state = useCivicsStore.getState();\n    const byParty = state.representatives.reduce((acc, rep) => {\n      acc[rep.party] = (acc[rep.party] || 0) + 1;\n      return acc;\n    }, {} as Record<string, number>);\n    logger.debug('Representatives by Party', byParty);\n  },\n  \n  /**\n   * Reset civics store\n   */\n  reset: () => {\n    useCivicsStore.getState().clearUserCivicProfile();\n    useCivicsStore.getState().resetPreferences();\n    logger.info('Civics store reset');\n  }\n};\n"],"names":["civicsStoreDebug","civicsStoreSubscriptions","civicsStoreUtils","useCivicActions","useCivicsActions","useCivicsError","useCivicsLoading","useCivicsPreferences","useCivicsStats","useCivicsStore","useDistricts","useFilteredRepresentatives","useRepresentatives","useSelectedDistrict","useSelectedRepresentative","useUserCivicProfile","defaultPreferences","showPartyAffiliation","showVotingRecord","showCampaignFinance","showCommittees","showContactInfo","showSocialMedia","defaultView","sortBy","filterBy","privacySettings","shareLocation","shareInterests","shareActions","create","devtools","persist","set","get","representatives","districts","civicActions","userCivicProfile","selectedRepresentative","selectedDistrict","searchQuery","filters","preferences","isLoading","isSearching","isUpdating","error","setRepresentatives","addRepresentative","representative","state","updateRepresentative","id","updates","map","rep","withOptional","removeRepresentative","filter","setSelectedRepresentative","searchRepresentatives","query","filtered","name","toLowerCase","includes","title","district","logger","info","results","length","total","setDistricts","addDistrict","updateDistrict","removeDistrict","setSelectedDistrict","setCivicActions","actions","addCivicAction","action","Date","now","Math","random","toString","substr","createdAt","toISOString","updatedAt","updateCivicAction","completeCivicAction","status","completedAt","removeCivicAction","setUserCivicProfile","profile","updateUserCivicProfile","lastUpdated","clearUserCivicProfile","updatePreferences","resetPreferences","setSearchQuery","setFilters","clearFilters","loadRepresentatives","address","setLoading","setError","response","fetch","method","headers","body","JSON","stringify","ok","Error","json","count","errorMessage","message","loadDistricts","loadCivicActions","saveCivicAction","setUpdating","actionId","type","loading","setSearching","searching","updating","clearError","partialize","totalRepresentatives","totalDistricts","totalCivicActions","activeCivicActions","completedCivicActions","hasUserProfile","party","chamber","getCivicsSummary","getState","userProfile","getRepresentativesByParty","getRepresentativesByChamber","getActiveCivicActions","getCivicActionsByType","getUserRepresentatives","onRepresentativesChange","callback","prevRepresentatives","subscribe","onCivicActionsChange","prevActions","onUserProfileChange","prevProfile","logState","debug","logSummary","summary","logRepresentativesByParty","byParty","reduce","acc","reset"],"mappings":"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"}