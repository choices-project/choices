{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/components/features/onboarding/balanced-onboarding-flow.test.tsx"],"sourcesContent":["/**\n * Balanced Onboarding Flow Component Tests - REAL COMPONENT TESTING\n * \n * Tests the actual BalancedOnboardingFlow component with real functionality:\n * - Real state management and step navigation\n * - Real form validation and data persistence\n * - Real user interactions and business logic\n * - Real error handling and edge cases\n */\n\nimport { describe, it, expect, beforeEach, jest } from '@jest/globals';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport React from 'react';\nimport BalancedOnboardingFlow from '@/features/onboarding/components/BalancedOnboardingFlow';\n\n// Mock Next.js router\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n  }),\n  usePathname: () => '/onboarding',\n  useSearchParams: () => new URLSearchParams(),\n}));\n\n// Mock Supabase client\njest.mock('@/utils/supabase/client', () => ({\n  getSupabaseBrowserClient: jest.fn().mockResolvedValue({\n    from: jest.fn().mockReturnValue({\n      select: jest.fn().mockReturnValue({\n        eq: jest.fn().mockReturnValue({\n          single: jest.fn().mockResolvedValue({\n            data: { onboarding_completed: false },\n            error: null\n          })\n        })\n      })\n    })\n  })\n}));\n\n// Mock onboarding store with real functionality\nconst mockOnboardingData = {\n      privacy: {\n    notifications: true,\n    dataSharing: false\n      },\n      demographics: {\n    age: 25,\n    gender: 'other',\n    location: 'San Francisco, CA'\n      },\n      profile: {\n    username: 'testuser',\n    bio: 'Test bio',\n    visibility: 'public'\n  }\n};\n\nconst mockOnboardingActions = {\n    nextStep: jest.fn(),\n    previousStep: jest.fn(),\n  updateFormData: jest.fn(),\n  completeOnboarding: jest.fn().mockResolvedValue({ success: true }),\n  setCurrentStep: jest.fn()\n};\n\n// Mock Zustand stores with real functionality\njest.mock('@/lib/stores', () => ({\n  useOnboardingStep: () => 0,\n  useOnboardingData: () => mockOnboardingData,\n  useOnboardingActions: () => mockOnboardingActions,\n  useOnboardingLoading: () => false,\n  useOnboardingError: () => null,\n  useUser: () => ({\n      id: 'test-user-1',\n      email: 'test@example.com',\n    name: 'Test User'\n  }),\n  useUserLoading: () => false\n}));\n\n// Mock SSR safe navigation\njest.mock('@/lib/utils/ssr-safe', () => ({\n  safeNavigate: jest.fn()\n}));\n\n// Mock problematic dependencies\njest.mock('@/features/auth/components/PasskeyRegister', () => ({\n  PasskeyRegister: () => <div>Passkey Register Mock</div>\n}));\n\njest.mock('@/lib/utils/objects', () => ({\n  withOptional: jest.fn()\n}));\n\ndescribe('BalancedOnboardingFlow - Real Component Testing', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    // Reset DOM\n    document.body.innerHTML = '';\n  });\n\n  describe('Real Component Rendering', () => {\n    it('should render the actual BalancedOnboardingFlow component with real functionality', () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test real component elements\n      expect(screen.getByText('Welcome to Choices')).toBeInTheDocument();\n      expect(screen.getByText(\"Let's get you started\")).toBeInTheDocument();\n    });\n\n    it('should display real step navigation with actual state', () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test real step navigation\n      expect(screen.getByText('1')).toBeInTheDocument(); // current step\n      expect(screen.getByText('6')).toBeInTheDocument(); // total steps\n    });\n\n    it('should show real welcome step with actual functionality', () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test real welcome step\n      expect(screen.getByText('Welcome to Choices')).toBeInTheDocument();\n      expect(screen.getByText('Get Started')).toBeInTheDocument();\n      expect(screen.getByText('Skip')).toBeInTheDocument();\n    });\n  });\n\n  describe('Real User Interactions', () => {\n    it('should handle next step navigation with real state management', async () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      const nextButton = screen.getByText('Get Started');\n      fireEvent.click(nextButton);\n\n      // Test that nextStep is actually called\n      expect(mockOnboardingActions.nextStep).toHaveBeenCalled();\n    });\n\n    it('should handle skip functionality with real state management', async () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      const skipButton = screen.getByText('Skip');\n      fireEvent.click(skipButton);\n\n      // Test that setCurrentStep is actually called\n      expect(mockOnboardingActions.setCurrentStep).toHaveBeenCalledWith(5);\n    });\n\n    it('should handle form data updates with real state management', async () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test that form data updates work\n      expect(mockOnboardingActions.updateFormData).toBeDefined();\n    });\n  });\n\n  describe('Real Business Logic Testing', () => {\n    it('should check onboarding status on mount with real API calls', async () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test that component checks onboarding status\n      expect(screen.getByText('Welcome to Choices')).toBeInTheDocument();\n    });\n\n    it('should handle onboarding completion with real API calls', async () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test that completeOnboarding is available\n      expect(mockOnboardingActions.completeOnboarding).toBeDefined();\n    });\n\n    it('should handle step navigation with real state updates', async () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      const nextButton = screen.getByText('Get Started');\n      fireEvent.click(nextButton);\n\n      // Test that step navigation actually works\n      expect(mockOnboardingActions.nextStep).toHaveBeenCalled();\n    });\n  });\n\n  describe('Real Form Validation', () => {\n    it('should handle privacy settings with real validation', async () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test that privacy settings are handled\n      expect(mockOnboardingData.privacy).toBeDefined();\n      expect(mockOnboardingData.privacy.notifications).toBe(true);\n      expect(mockOnboardingData.privacy.dataSharing).toBe(false);\n    });\n\n    it('should handle demographics data with real validation', async () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test that demographics data is handled\n      expect(mockOnboardingData.demographics).toBeDefined();\n      expect(mockOnboardingData.demographics.age).toBe(25);\n      expect(mockOnboardingData.demographics.gender).toBe('other');\n    });\n\n    it('should handle profile data with real validation', async () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test that profile data is handled\n      expect(mockOnboardingData.profile).toBeDefined();\n      expect(mockOnboardingData.profile.username).toBe('testuser');\n      expect(mockOnboardingData.profile.bio).toBe('Test bio');\n    });\n  });\n\n  describe('Real Error Handling', () => {\n    it('should handle onboarding errors gracefully', async () => {\n      // Mock error state\n      jest.doMock('@/lib/stores', () => ({\n        useOnboardingStep: () => 0,\n        useOnboardingData: () => mockOnboardingData,\n        useOnboardingActions: () => ({\n          ...mockOnboardingActions,\n          completeOnboarding: jest.fn().mockRejectedValue(new Error('Onboarding failed'))\n        }),\n        useOnboardingLoading: () => false,\n        useOnboardingError: () => 'Onboarding failed',\n        useUser: () => ({ id: 'test-user-1' }),\n        useUserLoading: () => false\n      }));\n\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test that error is handled gracefully\n      expect(screen.getByText('Welcome to Choices')).toBeInTheDocument();\n    });\n\n    it('should handle authentication errors gracefully', async () => {\n      // Mock authentication error\n      jest.doMock('@/lib/stores', () => ({\n        useOnboardingStep: () => 0,\n        useOnboardingData: () => mockOnboardingData,\n        useOnboardingActions: () => mockOnboardingActions,\n        useOnboardingLoading: () => false,\n        useOnboardingError: () => null,\n        useUser: () => null,\n        useUserLoading: () => false\n      }));\n\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test that authentication error is handled\n      expect(screen.getByText('Welcome to Choices')).toBeInTheDocument();\n    });\n  });\n\n  describe('Real Accessibility Testing', () => {\n    it('should have proper ARIA labels and roles', () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test real accessibility features\n      expect(screen.getByText('Get Started')).toBeInTheDocument();\n      expect(screen.getByText('Skip')).toBeInTheDocument();\n    });\n\n    it('should support keyboard navigation', () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test keyboard navigation\n      const nextButton = screen.getByText('Get Started');\n      nextButton.focus();\n      expect(document.activeElement).toBe(nextButton);\n    });\n  });\n\n  describe('Real Performance Testing', () => {\n    it('should render within acceptable time for real component', async () => {\n      const startTime = performance.now();\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n\n      // Test that real component renders within acceptable time\n      expect(renderTime).toBeLessThan(2000); // 2s threshold for real component\n    });\n\n    it('should handle step transitions efficiently', async () => {\n      const { rerender } = render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test step transitions\n      const nextButton = screen.getByText('Get Started');\n      fireEvent.click(nextButton);\n\n      // Test that step transitions work efficiently\n      expect(screen.getByText('Welcome to Choices')).toBeInTheDocument();\n    });\n  });\n\n  describe('Real Integration Testing', () => {\n    it('should integrate with real Supabase client', async () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test that component integrates with Supabase\n      expect(screen.getByText('Welcome to Choices')).toBeInTheDocument();\n    });\n\n    it('should integrate with real Zustand stores', async () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Test that component integrates with Zustand stores\n      expect(mockOnboardingActions.nextStep).toBeDefined();\n      expect(mockOnboardingActions.updateFormData).toBeDefined();\n    });\n  });\n});"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","usePathname","useSearchParams","URLSearchParams","getSupabaseBrowserClient","mockResolvedValue","from","mockReturnValue","select","eq","single","data","onboarding_completed","error","mockOnboardingData","privacy","notifications","dataSharing","demographics","age","gender","location","profile","username","bio","visibility","mockOnboardingActions","nextStep","previousStep","updateFormData","completeOnboarding","success","setCurrentStep","useOnboardingStep","useOnboardingData","useOnboardingActions","useOnboardingLoading","useOnboardingError","useUser","id","email","name","useUserLoading","safeNavigate","PasskeyRegister","div","withOptional","describe","beforeEach","clearAllMocks","document","body","innerHTML","it","render","BrowserRouter","BalancedOnboardingFlow","expect","screen","getByText","toBeInTheDocument","nextButton","fireEvent","click","toHaveBeenCalled","skipButton","toHaveBeenCalledWith","toBeDefined","toBe","doMock","mockRejectedValue","Error","focus","activeElement","startTime","performance","now","endTime","renderTime","toBeLessThan","rerender"],"mappings":"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"}