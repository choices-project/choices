7fb4b73233c763a745aa10879488cfe0
/**
 * @jest-environment jsdom
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    PerformanceProfiler: function() {
        return PerformanceProfiler;
    },
    performanceProfiler: function() {
        return performanceProfiler;
    }
});
const _logger = require("../../../../lib/utils/logger");
class PerformanceProfiler {
    /**
   * Start profiling a component
   */ startProfiling(componentName) {
        this.isProfiling = true;
        this.startTime = performance.now();
        this.startMemory = performance.memory?.usedJSHeapSize || 0;
        _logger.logger.info(`üîç Starting performance profiling for: ${componentName}`);
    }
    /**
   * Stop profiling and record metrics
   */ stopProfiling(componentName, renderCount = 1) {
        if (!this.isProfiling) {
            throw new Error("Profiling not started. Call startProfiling() first.");
        }
        const endTime = performance.now();
        const endMemory = performance.memory?.usedJSHeapSize || 0;
        const totalRenderTime = endTime - this.startTime;
        const averageRenderTime = totalRenderTime / renderCount;
        const memoryUsed = (endMemory - this.startMemory) / (1024 * 1024);
        const metrics = {
            componentName,
            renderCount,
            totalRenderTime,
            averageRenderTime,
            maxRenderTime: totalRenderTime,
            minRenderTime: totalRenderTime,
            memoryPeak: memoryUsed,
            memoryAverage: memoryUsed,
            reRenderTriggers: this.analyzeReRenderTriggers(componentName),
            performanceBottlenecks: this.analyzeBottlenecks(totalRenderTime, memoryUsed),
            optimizationScore: this.calculateOptimizationScore(totalRenderTime, memoryUsed, renderCount),
            recommendations: this.generateRecommendations(totalRenderTime, memoryUsed, renderCount),
            timestamp: new Date()
        };
        this.metrics.push(metrics);
        this.isProfiling = false;
        _logger.logger.info(`‚úÖ Performance profiling completed for: ${componentName}`);
        _logger.logger.info(`- Render Time: ${totalRenderTime.toFixed(2)}ms`);
        _logger.logger.info(`- Memory Used: ${memoryUsed.toFixed(2)}MB`);
        _logger.logger.info(`- Optimization Score: ${metrics.optimizationScore}/100`);
        return metrics;
    }
    /**
   * Analyze re-render triggers
   */ analyzeReRenderTriggers(componentName) {
        const triggers = [];
        // Analyze actual re-render triggers based on component behavior
        const renderCount = this.metrics.filter((m)=>m.componentName === componentName).length;
        const recentMetrics = this.metrics.filter((m)=>m.componentName === componentName).slice(-3);
        // Check for excessive re-renders
        if (renderCount > 5) {
            triggers.push("Excessive re-renders detected");
        }
        // Check for render time patterns
        if (recentMetrics.length > 1) {
            const avgRenderTime = recentMetrics.reduce((sum, m)=>sum + m.averageRenderTime, 0) / recentMetrics.length;
            if (avgRenderTime > 100) {
                triggers.push("Slow render times");
            }
        }
        // Check for memory patterns
        if (recentMetrics.length > 1) {
            const memoryTrend = recentMetrics.map((m)=>m.memoryPeak);
            const isIncreasing = memoryTrend.every((val, i)=>i === 0 || val >= memoryTrend[i - 1]);
            if (isIncreasing && memoryTrend[memoryTrend.length - 1] > 5) {
                triggers.push("Increasing memory usage pattern");
            }
        }
        // Check for performance degradation
        if (recentMetrics.length > 2) {
            const scores = recentMetrics.map((m)=>m.optimizationScore);
            const isDegrading = scores.every((score, i)=>i === 0 || score <= scores[i - 1]);
            if (isDegrading && scores[scores.length - 1] < 70) {
                triggers.push("Performance degradation detected");
            }
        }
        // Component-specific triggers
        if (componentName.includes("Feed") || componentName.includes("Mobile")) {
            triggers.push("Large component with complex state management");
        }
        if (componentName.includes("Store") || componentName.includes("Zustand")) {
            triggers.push("State management updates");
        }
        return triggers;
    }
    /**
   * Analyze performance bottlenecks
   */ analyzeBottlenecks(renderTime, memoryUsage) {
        const bottlenecks = [];
        if (renderTime > 200) {
            bottlenecks.push("Slow render time (>200ms)");
        }
        if (memoryUsage > 10) {
            bottlenecks.push("High memory usage (>10MB)");
        }
        if (renderTime > 100 && memoryUsage > 5) {
            bottlenecks.push("Combined performance issues");
        }
        return bottlenecks;
    }
    /**
   * Calculate optimization score (0-100)
   */ calculateOptimizationScore(renderTime, memoryUsage, renderCount) {
        let score = 100;
        // Deduct points for slow render times
        if (renderTime > 300) score -= 40;
        else if (renderTime > 200) score -= 30;
        else if (renderTime > 100) score -= 20;
        else if (renderTime > 50) score -= 10;
        // Deduct points for high memory usage
        if (memoryUsage > 20) score -= 40;
        else if (memoryUsage > 10) score -= 30;
        else if (memoryUsage > 5) score -= 20;
        else if (memoryUsage > 2) score -= 10;
        // Deduct points for excessive re-renders
        if (renderCount > 10) score -= 20;
        else if (renderCount > 5) score -= 10;
        return Math.max(0, score);
    }
    /**
   * Generate optimization recommendations
   */ generateRecommendations(renderTime, memoryUsage, renderCount) {
        const recommendations = [];
        if (renderTime > 200) {
            recommendations.push("‚ö° Implement React.memo for expensive components");
            recommendations.push("‚ö° Use useMemo/useCallback for expensive calculations");
            recommendations.push("‚ö° Consider lazy loading for heavy components");
        }
        if (memoryUsage > 10) {
            recommendations.push("\uD83E\uDDE0 Implement proper cleanup in useEffect hooks");
            recommendations.push("\uD83E\uDDE0 Review memory leaks in event listeners");
            recommendations.push("\uD83E\uDDE0 Consider component unmounting strategies");
        }
        if (renderCount > 5) {
            recommendations.push("\uD83D\uDD04 Optimize useEffect dependencies");
            recommendations.push("\uD83D\uDD04 Consider state management optimization");
            recommendations.push("\uD83D\uDD04 Review component re-render patterns");
        }
        if (recommendations.length === 0) {
            recommendations.push("‚úÖ Component is well optimized!");
        }
        return recommendations;
    }
    /**
   * Create component profile
   */ createComponentProfile(name, metrics) {
        const profile = {
            name,
            metrics,
            children: [],
            depth: 0,
            isOptimized: metrics.optimizationScore > 80,
            optimizationPotential: this.calculateOptimizationPotential(metrics.optimizationScore)
        };
        this.profiles.set(name, profile);
        return profile;
    }
    /**
   * Calculate optimization potential
   */ calculateOptimizationPotential(score) {
        if (score < 50) return "HIGH";
        if (score < 80) return "MEDIUM";
        return "LOW";
    }
    /**
   * Generate comprehensive performance analysis
   */ generatePerformanceAnalysis() {
        const allMetrics = this.metrics;
        const totalTests = allMetrics.length;
        if (totalTests === 0) {
            return {
                overallScore: 0,
                criticalIssues: [
                    "No performance data available"
                ],
                optimizationOpportunities: [],
                memoryLeaks: [],
                renderOptimizations: [],
                networkOptimizations: [],
                accessibilityOptimizations: [],
                recommendations: [
                    "Run performance tests to generate analysis"
                ],
                estimatedImprovement: 0
            };
        }
        const averageScore = allMetrics.reduce((sum, m)=>sum + m.optimizationScore, 0) / totalTests;
        const criticalIssues = this.identifyCriticalIssues(allMetrics);
        const optimizationOpportunities = this.identifyOptimizationOpportunities(allMetrics);
        const memoryLeaks = this.identifyMemoryLeaks(allMetrics);
        const renderOptimizations = this.identifyRenderOptimizations(allMetrics);
        const networkOptimizations = this.identifyNetworkOptimizations(allMetrics);
        const accessibilityOptimizations = this.identifyAccessibilityOptimizations(allMetrics);
        const recommendations = this.generateComprehensiveRecommendations(criticalIssues, optimizationOpportunities, memoryLeaks, renderOptimizations, networkOptimizations, accessibilityOptimizations);
        const estimatedImprovement = this.calculateEstimatedImprovement(allMetrics);
        return {
            overallScore: averageScore,
            criticalIssues,
            optimizationOpportunities,
            memoryLeaks,
            renderOptimizations,
            networkOptimizations,
            accessibilityOptimizations,
            recommendations,
            estimatedImprovement
        };
    }
    /**
   * Identify critical performance issues
   */ identifyCriticalIssues(metrics) {
        const issues = [];
        const slowComponents = metrics.filter((m)=>m.averageRenderTime > 200);
        const highMemoryComponents = metrics.filter((m)=>m.memoryPeak > 10);
        const lowScoreComponents = metrics.filter((m)=>m.optimizationScore < 50);
        if (slowComponents.length > 0) {
            issues.push(`üêå ${slowComponents.length} components with slow render times (>200ms)`);
        }
        if (highMemoryComponents.length > 0) {
            issues.push(`üß† ${highMemoryComponents.length} components with high memory usage (>10MB)`);
        }
        if (lowScoreComponents.length > 0) {
            issues.push(`‚ö†Ô∏è ${lowScoreComponents.length} components with poor optimization scores (<50)`);
        }
        return issues;
    }
    /**
   * Identify optimization opportunities
   */ identifyOptimizationOpportunities(metrics) {
        const opportunities = [];
        const mediumScoreComponents = metrics.filter((m)=>m.optimizationScore >= 50 && m.optimizationScore < 80);
        const highRenderCountComponents = metrics.filter((m)=>m.renderCount > 5);
        if (mediumScoreComponents.length > 0) {
            opportunities.push(`üìà ${mediumScoreComponents.length} components with medium optimization potential`);
        }
        if (highRenderCountComponents.length > 0) {
            opportunities.push(`üîÑ ${highRenderCountComponents.length} components with excessive re-renders`);
        }
        return opportunities;
    }
    /**
   * Identify memory leaks
   */ identifyMemoryLeaks(metrics) {
        const leaks = [];
        const highMemoryComponents = metrics.filter((m)=>m.memoryPeak > 10);
        const increasingMemoryComponents = metrics.filter((m)=>m.memoryPeak > m.memoryAverage * 2);
        if (highMemoryComponents.length > 0) {
            leaks.push(`üß† ${highMemoryComponents.length} components with high memory usage`);
        }
        if (increasingMemoryComponents.length > 0) {
            leaks.push(`üìà ${increasingMemoryComponents.length} components with increasing memory usage`);
        }
        return leaks;
    }
    /**
   * Identify render optimizations
   */ identifyRenderOptimizations(metrics) {
        const optimizations = [];
        const slowRenderComponents = metrics.filter((m)=>m.averageRenderTime > 100);
        const highRenderCountComponents = metrics.filter((m)=>m.renderCount > 3);
        if (slowRenderComponents.length > 0) {
            optimizations.push(`‚ö° ${slowRenderComponents.length} components need render optimization`);
        }
        if (highRenderCountComponents.length > 0) {
            optimizations.push(`‚ö° ${highRenderCountComponents.length} components need re-render optimization`);
        }
        return optimizations;
    }
    /**
   * Identify network optimizations
   */ identifyNetworkOptimizations(metrics) {
        const optimizations = [];
        // Analyze network-related performance metrics
        const networkMetrics = metrics.filter((m)=>m.networkTime && m.networkTime > 0);
        const highNetworkTime = metrics.filter((m)=>m.networkTime && m.networkTime > 300);
        const apiMetrics = metrics.filter((m)=>m.apiTime && m.apiTime > 0);
        const highApiTime = metrics.filter((m)=>m.apiTime && m.apiTime > 200);
        // Network performance analysis
        if (networkMetrics.length > 0) {
            const avgNetworkTime = networkMetrics.reduce((sum, m)=>sum + (m.networkTime || 0), 0) / networkMetrics.length;
            if (avgNetworkTime > 200) {
                optimizations.push("\uD83C\uDF10 High network latency detected - consider CDN implementation");
            }
            if (avgNetworkTime > 500) {
                optimizations.push("\uD83C\uDF10 Critical network performance issues - optimize API endpoints");
            }
        }
        // API performance analysis
        if (apiMetrics.length > 0) {
            const avgApiTime = apiMetrics.reduce((sum, m)=>sum + (m.apiTime || 0), 0) / apiMetrics.length;
            if (avgApiTime > 150) {
                optimizations.push("\uD83D\uDD0C API response times are slow - implement caching strategies");
            }
            if (avgApiTime > 300) {
                optimizations.push("\uD83D\uDD0C Critical API performance issues - optimize database queries");
            }
        }
        // Network optimization recommendations based on patterns
        if (highNetworkTime.length > 0) {
            optimizations.push("\uD83C\uDF10 Implement request batching for multiple API calls");
            optimizations.push("\uD83C\uDF10 Add request deduplication to prevent duplicate calls");
        }
        if (highApiTime.length > 0) {
            optimizations.push("\uD83D\uDD0C Implement API response caching with TTL");
            optimizations.push("\uD83D\uDD0C Add database query optimization");
        }
        // General network optimizations
        if (networkMetrics.length > 2) {
            optimizations.push("\uD83C\uDF10 Consider implementing service worker for offline caching");
            optimizations.push("\uD83C\uDF10 Add request compression for large payloads");
        }
        return optimizations;
    }
    /**
   * Identify accessibility optimizations
   */ identifyAccessibilityOptimizations(metrics) {
        const optimizations = [];
        // Analyze accessibility-related performance metrics
        const accessibilityMetrics = metrics.filter((m)=>m.accessibilityTime && m.accessibilityTime > 0);
        const highAccessibilityTime = metrics.filter((m)=>m.accessibilityTime && m.accessibilityTime > 50);
        const slowComponents = metrics.filter((m)=>m.averageRenderTime > 100);
        const memoryIntensiveComponents = metrics.filter((m)=>m.memoryPeak > 5);
        // Accessibility performance analysis
        if (accessibilityMetrics.length > 0) {
            const avgAccessibilityTime = accessibilityMetrics.reduce((sum, m)=>sum + (m.accessibilityTime || 0), 0) / accessibilityMetrics.length;
            if (avgAccessibilityTime > 30) {
                optimizations.push("‚ôø Screen reader performance is slow - optimize ARIA announcements");
            }
            if (avgAccessibilityTime > 75) {
                optimizations.push("‚ôø Critical accessibility performance issues - review screen reader implementation");
            }
        }
        // Screen reader optimization recommendations
        if (highAccessibilityTime.length > 0) {
            optimizations.push("‚ôø Implement efficient live region management for screen readers");
            optimizations.push("‚ôø Optimize ARIA attribute rendering performance");
            optimizations.push("‚ôø Add debouncing for screen reader announcements");
        }
        // Keyboard navigation optimization
        if (slowComponents.length > 0) {
            optimizations.push("‚ôø Optimize keyboard navigation for slow-rendering components");
            optimizations.push("‚ôø Implement focus management optimization");
            optimizations.push("‚ôø Add keyboard shortcut performance improvements");
        }
        // Memory optimization for accessibility
        if (memoryIntensiveComponents.length > 0) {
            optimizations.push("‚ôø Optimize accessibility features for memory-intensive components");
            optimizations.push("‚ôø Implement efficient accessibility state management");
        }
        // General accessibility optimizations
        if (metrics.length > 2) {
            optimizations.push("‚ôø Consider implementing accessibility performance monitoring");
            optimizations.push("‚ôø Add accessibility feature lazy loading");
            optimizations.push("‚ôø Optimize accessibility testing performance");
        }
        return optimizations;
    }
    /**
   * Generate comprehensive recommendations
   */ generateComprehensiveRecommendations(criticalIssues, optimizationOpportunities, memoryLeaks, renderOptimizations, networkOptimizations, accessibilityOptimizations) {
        const recommendations = [];
        if (criticalIssues.length > 0) {
            recommendations.push("\uD83D\uDEA8 PRIORITY: Address critical performance issues");
            recommendations.push(...criticalIssues);
        }
        if (memoryLeaks.length > 0) {
            recommendations.push("\uD83E\uDDE0 PRIORITY: Fix memory leaks");
            recommendations.push(...memoryLeaks);
        }
        if (renderOptimizations.length > 0) {
            recommendations.push("‚ö° HIGH: Optimize render performance");
            recommendations.push(...renderOptimizations);
        }
        if (optimizationOpportunities.length > 0) {
            recommendations.push("\uD83D\uDCC8 MEDIUM: Implement optimization opportunities");
            recommendations.push(...optimizationOpportunities);
        }
        if (networkOptimizations.length > 0) {
            recommendations.push("\uD83C\uDF10 MEDIUM: Optimize network performance");
            recommendations.push(...networkOptimizations);
        }
        if (accessibilityOptimizations.length > 0) {
            recommendations.push("‚ôø LOW: Optimize accessibility performance");
            recommendations.push(...accessibilityOptimizations);
        }
        if (recommendations.length === 0) {
            recommendations.push("\uD83C\uDF89 Excellent performance! No optimizations needed.");
        }
        return recommendations;
    }
    /**
   * Calculate estimated improvement percentage
   */ calculateEstimatedImprovement(metrics) {
        const averageScore = metrics.reduce((sum, m)=>sum + m.optimizationScore, 0) / metrics.length;
        const maxPossibleScore = 100;
        const improvement = maxPossibleScore - averageScore;
        return Math.max(0, improvement);
    }
    /**
   * Get all component profiles
   */ getComponentProfiles() {
        return Array.from(this.profiles.values());
    }
    /**
   * Get metrics for a specific component
   */ getComponentMetrics(componentName) {
        return this.metrics.find((m)=>m.componentName === componentName);
    }
    /**
   * Get all alerts
   */ getAlerts() {
        return this.alerts;
    }
    /**
   * Clear all profiling data
   */ clear() {
        this.profiles.clear();
        this.metrics = [];
        this.alerts = [];
        this.isProfiling = false;
    }
    /**
   * Record test metrics
   */ recordMetrics(metrics) {
        const fullMetrics = {
            ...metrics,
            timestamp: new Date()
        };
        this.metrics.push(fullMetrics);
        // Check for performance alerts
        this.checkPerformanceAlerts(fullMetrics);
    }
    /**
   * Check for performance alerts
   */ checkPerformanceAlerts(metrics) {
        const alerts = [];
        // Render time alerts
        if (metrics.renderTime && metrics.renderTime > 200) {
            alerts.push(`‚ö†Ô∏è SLOW RENDER: ${metrics.componentName} took ${metrics.renderTime.toFixed(2)}ms (budget: 200ms)`);
        }
        // Memory usage alerts
        if (metrics.memoryPeak > 10) {
            alerts.push(`‚ö†Ô∏è HIGH MEMORY: ${metrics.componentName} used ${metrics.memoryPeak.toFixed(2)}MB (budget: 10MB)`);
        }
        // Performance grade alerts
        if (metrics.performanceGrade === "D" || metrics.performanceGrade === "F") {
            alerts.push(`üö® POOR PERFORMANCE: ${metrics.componentName} received grade ${metrics.performanceGrade}`);
        }
        // Network time alerts
        if (metrics.networkTime && metrics.networkTime > 500) {
            alerts.push(`‚ö†Ô∏è SLOW NETWORK: ${metrics.componentName} network took ${metrics.networkTime.toFixed(2)}ms (budget: 500ms)`);
        }
        this.alerts.push(...alerts);
    }
    /**
   * Export profiling data
   */ exportProfilingData() {
        return JSON.stringify({
            profiles: Array.from(this.profiles.entries()),
            metrics: this.metrics,
            analysis: this.generatePerformanceAnalysis(),
            insights: this.getPerformanceInsights(),
            patterns: this.analyzePerformancePatterns()
        }, null, 2);
    }
    /**
   * Get performance insights and recommendations
   */ getPerformanceInsights() {
        const topPerformers = [];
        const needsAttention = [];
        const optimizationOpportunities = [];
        const criticalIssues = [];
        this.metrics.forEach((metric)=>{
            // Use optimizationScore if available, otherwise convert performanceGrade to score
            const score = metric.optimizationScore || this.convertGradeToScore(metric.performanceGrade || "C");
            if (score >= 90) {
                topPerformers.push(`${metric.componentName}: ${score}/100 (EXCELLENT)`);
            } else if (score >= 70) {
                optimizationOpportunities.push(`${metric.componentName}: ${score}/100 (GOOD - room for improvement)`);
            } else if (score >= 50) {
                needsAttention.push(`${metric.componentName}: ${score}/100 (NEEDS ATTENTION)`);
            } else {
                criticalIssues.push(`${metric.componentName}: ${score}/100 (CRITICAL)`);
            }
        });
        return {
            topPerformers,
            needsAttention,
            optimizationOpportunities,
            criticalIssues
        };
    }
    /**
   * Track component lifecycle events
   */ trackComponentLifecycle(componentName, event, duration) {
        _logger.logger.info(`üîÑ Component Lifecycle: ${componentName} ${event} took ${duration}ms`);
        // Record lifecycle metrics
        this.recordMetrics({
            componentName,
            renderCount: 1,
            totalRenderTime: duration,
            averageRenderTime: duration,
            maxRenderTime: duration,
            minRenderTime: duration,
            memoryPeak: 0,
            memoryAverage: 0,
            reRenderTriggers: [],
            performanceBottlenecks: [],
            optimizationScore: this.calculateOptimizationScore(duration, 0, 1),
            recommendations: [],
            renderTime: duration,
            performanceGrade: this.calculatePerformanceGrade(duration)
        });
    }
    /**
   * Analyze performance patterns across multiple runs
   */ analyzePerformancePatterns() {
        const trendingUp = [];
        const trendingDown = [];
        const stable = [];
        const volatile = [];
        // Group metrics by component
        const componentMetrics = new Map();
        this.metrics.forEach((metric)=>{
            if (!componentMetrics.has(metric.componentName)) {
                componentMetrics.set(metric.componentName, []);
            }
            componentMetrics.get(metric.componentName).push(metric);
        });
        // Analyze patterns for each component
        componentMetrics.forEach((metrics, componentName)=>{
            if (metrics.length < 3) {
                stable.push(`${componentName}: insufficient data`);
                return;
            }
            const renderTimes = metrics.map((m)=>m.averageRenderTime);
            const trend = this.calculateTrend(renderTimes);
            const volatility = this.calculateVolatility(renderTimes);
            if (trend > 0.1) {
                trendingUp.push(`${componentName}: +${(trend * 100).toFixed(1)}% trend`);
            } else if (trend < -0.1) {
                trendingDown.push(`${componentName}: ${(trend * 100).toFixed(1)}% trend`);
            } else if (volatility > 0.3) {
                volatile.push(`${componentName}: ${(volatility * 100).toFixed(1)}% volatility`);
            } else {
                stable.push(`${componentName}: stable performance`);
            }
        });
        return {
            trendingUp,
            trendingDown,
            stable,
            volatile
        };
    }
    /**
   * Calculate trend from array of values
   */ calculateTrend(values) {
        if (values.length < 2) return 0;
        const firstHalf = values.slice(0, Math.floor(values.length / 2));
        const secondHalf = values.slice(Math.floor(values.length / 2));
        const firstAvg = firstHalf.reduce((sum, val)=>sum + val, 0) / firstHalf.length;
        const secondAvg = secondHalf.reduce((sum, val)=>sum + val, 0) / secondHalf.length;
        return (secondAvg - firstAvg) / firstAvg;
    }
    /**
   * Calculate volatility (standard deviation / mean)
   */ calculateVolatility(values) {
        if (values.length < 2) return 0;
        const mean = values.reduce((sum, val)=>sum + val, 0) / values.length;
        const variance = values.reduce((sum, val)=>sum + Math.pow(val - mean, 2), 0) / values.length;
        const stdDev = Math.sqrt(variance);
        return stdDev / mean;
    }
    /**
   * Calculate performance grade based on render time
   */ calculatePerformanceGrade(renderTime) {
        if (renderTime <= 50) return "A+";
        if (renderTime <= 100) return "A";
        if (renderTime <= 150) return "B";
        if (renderTime <= 200) return "C";
        if (renderTime <= 300) return "D";
        return "F";
    }
    /**
   * Convert performance grade to numeric score
   */ convertGradeToScore(grade) {
        switch(grade){
            case "A+":
                return 95;
            case "A":
                return 90;
            case "B":
                return 80;
            case "C":
                return 70;
            case "D":
                return 60;
            case "F":
                return 30;
            default:
                return 50;
        }
    }
    constructor(){
        this.profiles = new Map();
        this.metrics = [];
        this.alerts = [];
        this.isProfiling = false;
        this.startTime = 0;
        this.startMemory = 0;
    }
}
const performanceProfiler = new PerformanceProfiler();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L3VuaXQvcGVyZm9ybWFuY2UvcGVyZm9ybWFuY2UtcHJvZmlsZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAamVzdC1lbnZpcm9ubWVudCBqc2RvbVxuICovXG5cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0AvbGliL3V0aWxzL2xvZ2dlcic7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvZmlsZXJNZXRyaWNzIHtcbiAgY29tcG9uZW50TmFtZTogc3RyaW5nO1xuICByZW5kZXJDb3VudDogbnVtYmVyO1xuICB0b3RhbFJlbmRlclRpbWU6IG51bWJlcjtcbiAgYXZlcmFnZVJlbmRlclRpbWU6IG51bWJlcjtcbiAgbWF4UmVuZGVyVGltZTogbnVtYmVyO1xuICBtaW5SZW5kZXJUaW1lOiBudW1iZXI7XG4gIG1lbW9yeVBlYWs6IG51bWJlcjtcbiAgbWVtb3J5QXZlcmFnZTogbnVtYmVyO1xuICByZVJlbmRlclRyaWdnZXJzOiBzdHJpbmdbXTtcbiAgcGVyZm9ybWFuY2VCb3R0bGVuZWNrczogc3RyaW5nW107XG4gIG9wdGltaXphdGlvblNjb3JlOiBudW1iZXI7XG4gIHJlY29tbWVuZGF0aW9uczogc3RyaW5nW107XG4gIHRpbWVzdGFtcDogRGF0ZTtcbiAgdGVzdFN1aXRlPzogc3RyaW5nO1xuICBkdXJhdGlvbj86IG51bWJlcjtcbiAgbWVtb3J5VXNhZ2U/OiBudW1iZXI7XG4gIHJlbmRlclRpbWU/OiBudW1iZXI7XG4gIG5ldHdvcmtUaW1lPzogbnVtYmVyO1xuICBhcGlUaW1lPzogbnVtYmVyO1xuICBhY2Nlc3NpYmlsaXR5VGltZT86IG51bWJlcjtcbiAgcGVyZm9ybWFuY2VHcmFkZT86ICdBKycgfCAnQScgfCAnQicgfCAnQycgfCAnRCcgfCAnRic7XG4gIHN0YXR1cz86ICdQQVNTJyB8ICdGQUlMJztcbiAgZXJyb3JNZXNzYWdlPzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbXBvbmVudFByb2ZpbGUge1xuICBuYW1lOiBzdHJpbmc7XG4gIG1ldHJpY3M6IFByb2ZpbGVyTWV0cmljcztcbiAgY2hpbGRyZW46IENvbXBvbmVudFByb2ZpbGVbXTtcbiAgcGFyZW50PzogQ29tcG9uZW50UHJvZmlsZTtcbiAgZGVwdGg6IG51bWJlcjtcbiAgaXNPcHRpbWl6ZWQ6IGJvb2xlYW47XG4gIG9wdGltaXphdGlvblBvdGVudGlhbDogJ0hJR0gnIHwgJ01FRElVTScgfCAnTE9XJztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJmb3JtYW5jZUFuYWx5c2lzIHtcbiAgb3ZlcmFsbFNjb3JlOiBudW1iZXI7XG4gIGNyaXRpY2FsSXNzdWVzOiBzdHJpbmdbXTtcbiAgb3B0aW1pemF0aW9uT3Bwb3J0dW5pdGllczogc3RyaW5nW107XG4gIG1lbW9yeUxlYWtzOiBzdHJpbmdbXTtcbiAgcmVuZGVyT3B0aW1pemF0aW9uczogc3RyaW5nW107XG4gIG5ldHdvcmtPcHRpbWl6YXRpb25zOiBzdHJpbmdbXTtcbiAgYWNjZXNzaWJpbGl0eU9wdGltaXphdGlvbnM6IHN0cmluZ1tdO1xuICByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdO1xuICBlc3RpbWF0ZWRJbXByb3ZlbWVudDogbnVtYmVyOyAvLyBwZXJjZW50YWdlXG59XG5cbmV4cG9ydCBjbGFzcyBQZXJmb3JtYW5jZVByb2ZpbGVyIHtcbiAgcHJpdmF0ZSBwcm9maWxlczogTWFwPHN0cmluZywgQ29tcG9uZW50UHJvZmlsZT4gPSBuZXcgTWFwKCk7XG4gIHByaXZhdGUgbWV0cmljczogUHJvZmlsZXJNZXRyaWNzW10gPSBbXTtcbiAgcHJpdmF0ZSBhbGVydHM6IHN0cmluZ1tdID0gW107XG4gIHByaXZhdGUgaXNQcm9maWxpbmc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgcHJpdmF0ZSBzdGFydFRpbWU6IG51bWJlciA9IDA7XG4gIHByaXZhdGUgc3RhcnRNZW1vcnk6IG51bWJlciA9IDA7XG5cbiAgLyoqXG4gICAqIFN0YXJ0IHByb2ZpbGluZyBhIGNvbXBvbmVudFxuICAgKi9cbiAgc3RhcnRQcm9maWxpbmcoY29tcG9uZW50TmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5pc1Byb2ZpbGluZyA9IHRydWU7XG4gICAgdGhpcy5zdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICB0aGlzLnN0YXJ0TWVtb3J5ID0gcGVyZm9ybWFuY2UubWVtb3J5Py51c2VkSlNIZWFwU2l6ZSB8fCAwO1xuICAgIFxuICAgIGxvZ2dlci5pbmZvKGDwn5SNIFN0YXJ0aW5nIHBlcmZvcm1hbmNlIHByb2ZpbGluZyBmb3I6ICR7Y29tcG9uZW50TmFtZX1gKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIHByb2ZpbGluZyBhbmQgcmVjb3JkIG1ldHJpY3NcbiAgICovXG4gIHN0b3BQcm9maWxpbmcoY29tcG9uZW50TmFtZTogc3RyaW5nLCByZW5kZXJDb3VudDogbnVtYmVyID0gMSk6IFByb2ZpbGVyTWV0cmljcyB7XG4gICAgaWYgKCF0aGlzLmlzUHJvZmlsaW5nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Byb2ZpbGluZyBub3Qgc3RhcnRlZC4gQ2FsbCBzdGFydFByb2ZpbGluZygpIGZpcnN0LicpO1xuICAgIH1cblxuICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICBjb25zdCBlbmRNZW1vcnkgPSBwZXJmb3JtYW5jZS5tZW1vcnk/LnVzZWRKU0hlYXBTaXplIHx8IDA7XG4gICAgXG4gICAgY29uc3QgdG90YWxSZW5kZXJUaW1lID0gZW5kVGltZSAtIHRoaXMuc3RhcnRUaW1lO1xuICAgIGNvbnN0IGF2ZXJhZ2VSZW5kZXJUaW1lID0gdG90YWxSZW5kZXJUaW1lIC8gcmVuZGVyQ291bnQ7XG4gICAgY29uc3QgbWVtb3J5VXNlZCA9IChlbmRNZW1vcnkgLSB0aGlzLnN0YXJ0TWVtb3J5KSAvICgxMDI0ICogMTAyNCk7XG4gICAgXG4gICAgY29uc3QgbWV0cmljczogUHJvZmlsZXJNZXRyaWNzID0ge1xuICAgICAgY29tcG9uZW50TmFtZSxcbiAgICAgIHJlbmRlckNvdW50LFxuICAgICAgdG90YWxSZW5kZXJUaW1lLFxuICAgICAgYXZlcmFnZVJlbmRlclRpbWUsXG4gICAgICBtYXhSZW5kZXJUaW1lOiB0b3RhbFJlbmRlclRpbWUsXG4gICAgICBtaW5SZW5kZXJUaW1lOiB0b3RhbFJlbmRlclRpbWUsXG4gICAgICBtZW1vcnlQZWFrOiBtZW1vcnlVc2VkLFxuICAgICAgbWVtb3J5QXZlcmFnZTogbWVtb3J5VXNlZCxcbiAgICAgIHJlUmVuZGVyVHJpZ2dlcnM6IHRoaXMuYW5hbHl6ZVJlUmVuZGVyVHJpZ2dlcnMoY29tcG9uZW50TmFtZSksXG4gICAgICBwZXJmb3JtYW5jZUJvdHRsZW5lY2tzOiB0aGlzLmFuYWx5emVCb3R0bGVuZWNrcyh0b3RhbFJlbmRlclRpbWUsIG1lbW9yeVVzZWQpLFxuICAgICAgb3B0aW1pemF0aW9uU2NvcmU6IHRoaXMuY2FsY3VsYXRlT3B0aW1pemF0aW9uU2NvcmUodG90YWxSZW5kZXJUaW1lLCBtZW1vcnlVc2VkLCByZW5kZXJDb3VudCksXG4gICAgICByZWNvbW1lbmRhdGlvbnM6IHRoaXMuZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnModG90YWxSZW5kZXJUaW1lLCBtZW1vcnlVc2VkLCByZW5kZXJDb3VudCksXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgfTtcblxuICAgIHRoaXMubWV0cmljcy5wdXNoKG1ldHJpY3MpO1xuICAgIHRoaXMuaXNQcm9maWxpbmcgPSBmYWxzZTtcbiAgICBcbiAgICBsb2dnZXIuaW5mbyhg4pyFIFBlcmZvcm1hbmNlIHByb2ZpbGluZyBjb21wbGV0ZWQgZm9yOiAke2NvbXBvbmVudE5hbWV9YCk7XG4gICAgbG9nZ2VyLmluZm8oYC0gUmVuZGVyIFRpbWU6ICR7dG90YWxSZW5kZXJUaW1lLnRvRml4ZWQoMil9bXNgKTtcbiAgICBsb2dnZXIuaW5mbyhgLSBNZW1vcnkgVXNlZDogJHttZW1vcnlVc2VkLnRvRml4ZWQoMil9TUJgKTtcbiAgICBsb2dnZXIuaW5mbyhgLSBPcHRpbWl6YXRpb24gU2NvcmU6ICR7bWV0cmljcy5vcHRpbWl6YXRpb25TY29yZX0vMTAwYCk7XG4gICAgXG4gICAgcmV0dXJuIG1ldHJpY3M7XG4gIH1cblxuICAvKipcbiAgICogQW5hbHl6ZSByZS1yZW5kZXIgdHJpZ2dlcnNcbiAgICovXG4gIHByaXZhdGUgYW5hbHl6ZVJlUmVuZGVyVHJpZ2dlcnMoY29tcG9uZW50TmFtZTogc3RyaW5nKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHRyaWdnZXJzOiBzdHJpbmdbXSA9IFtdO1xuICAgIFxuICAgIC8vIEFuYWx5emUgYWN0dWFsIHJlLXJlbmRlciB0cmlnZ2VycyBiYXNlZCBvbiBjb21wb25lbnQgYmVoYXZpb3JcbiAgICBjb25zdCByZW5kZXJDb3VudCA9IHRoaXMubWV0cmljcy5maWx0ZXIobSA9PiBtLmNvbXBvbmVudE5hbWUgPT09IGNvbXBvbmVudE5hbWUpLmxlbmd0aDtcbiAgICBjb25zdCByZWNlbnRNZXRyaWNzID0gdGhpcy5tZXRyaWNzLmZpbHRlcihtID0+IG0uY29tcG9uZW50TmFtZSA9PT0gY29tcG9uZW50TmFtZSkuc2xpY2UoLTMpO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBleGNlc3NpdmUgcmUtcmVuZGVyc1xuICAgIGlmIChyZW5kZXJDb3VudCA+IDUpIHtcbiAgICAgIHRyaWdnZXJzLnB1c2goJ0V4Y2Vzc2l2ZSByZS1yZW5kZXJzIGRldGVjdGVkJyk7XG4gICAgfVxuICAgIFxuICAgIC8vIENoZWNrIGZvciByZW5kZXIgdGltZSBwYXR0ZXJuc1xuICAgIGlmIChyZWNlbnRNZXRyaWNzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IGF2Z1JlbmRlclRpbWUgPSByZWNlbnRNZXRyaWNzLnJlZHVjZSgoc3VtLCBtKSA9PiBzdW0gKyBtLmF2ZXJhZ2VSZW5kZXJUaW1lLCAwKSAvIHJlY2VudE1ldHJpY3MubGVuZ3RoO1xuICAgICAgaWYgKGF2Z1JlbmRlclRpbWUgPiAxMDApIHtcbiAgICAgICAgdHJpZ2dlcnMucHVzaCgnU2xvdyByZW5kZXIgdGltZXMnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIG1lbW9yeSBwYXR0ZXJuc1xuICAgIGlmIChyZWNlbnRNZXRyaWNzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IG1lbW9yeVRyZW5kID0gcmVjZW50TWV0cmljcy5tYXAobSA9PiBtLm1lbW9yeVBlYWspO1xuICAgICAgY29uc3QgaXNJbmNyZWFzaW5nID0gbWVtb3J5VHJlbmQuZXZlcnkoKHZhbCwgaSkgPT4gaSA9PT0gMCB8fCB2YWwgPj0gbWVtb3J5VHJlbmRbaSAtIDFdKTtcbiAgICAgIGlmIChpc0luY3JlYXNpbmcgJiYgbWVtb3J5VHJlbmRbbWVtb3J5VHJlbmQubGVuZ3RoIC0gMV0gPiA1KSB7XG4gICAgICAgIHRyaWdnZXJzLnB1c2goJ0luY3JlYXNpbmcgbWVtb3J5IHVzYWdlIHBhdHRlcm4nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIHBlcmZvcm1hbmNlIGRlZ3JhZGF0aW9uXG4gICAgaWYgKHJlY2VudE1ldHJpY3MubGVuZ3RoID4gMikge1xuICAgICAgY29uc3Qgc2NvcmVzID0gcmVjZW50TWV0cmljcy5tYXAobSA9PiBtLm9wdGltaXphdGlvblNjb3JlKTtcbiAgICAgIGNvbnN0IGlzRGVncmFkaW5nID0gc2NvcmVzLmV2ZXJ5KChzY29yZSwgaSkgPT4gaSA9PT0gMCB8fCBzY29yZSA8PSBzY29yZXNbaSAtIDFdKTtcbiAgICAgIGlmIChpc0RlZ3JhZGluZyAmJiBzY29yZXNbc2NvcmVzLmxlbmd0aCAtIDFdIDwgNzApIHtcbiAgICAgICAgdHJpZ2dlcnMucHVzaCgnUGVyZm9ybWFuY2UgZGVncmFkYXRpb24gZGV0ZWN0ZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQ29tcG9uZW50LXNwZWNpZmljIHRyaWdnZXJzXG4gICAgaWYgKGNvbXBvbmVudE5hbWUuaW5jbHVkZXMoJ0ZlZWQnKSB8fCBjb21wb25lbnROYW1lLmluY2x1ZGVzKCdNb2JpbGUnKSkge1xuICAgICAgdHJpZ2dlcnMucHVzaCgnTGFyZ2UgY29tcG9uZW50IHdpdGggY29tcGxleCBzdGF0ZSBtYW5hZ2VtZW50Jyk7XG4gICAgfVxuICAgIFxuICAgIGlmIChjb21wb25lbnROYW1lLmluY2x1ZGVzKCdTdG9yZScpIHx8IGNvbXBvbmVudE5hbWUuaW5jbHVkZXMoJ1p1c3RhbmQnKSkge1xuICAgICAgdHJpZ2dlcnMucHVzaCgnU3RhdGUgbWFuYWdlbWVudCB1cGRhdGVzJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0cmlnZ2VycztcbiAgfVxuXG4gIC8qKlxuICAgKiBBbmFseXplIHBlcmZvcm1hbmNlIGJvdHRsZW5lY2tzXG4gICAqL1xuICBwcml2YXRlIGFuYWx5emVCb3R0bGVuZWNrcyhyZW5kZXJUaW1lOiBudW1iZXIsIG1lbW9yeVVzYWdlOiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgYm90dGxlbmVja3M6IHN0cmluZ1tdID0gW107XG4gICAgXG4gICAgaWYgKHJlbmRlclRpbWUgPiAyMDApIHtcbiAgICAgIGJvdHRsZW5lY2tzLnB1c2goJ1Nsb3cgcmVuZGVyIHRpbWUgKD4yMDBtcyknKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKG1lbW9yeVVzYWdlID4gMTApIHtcbiAgICAgIGJvdHRsZW5lY2tzLnB1c2goJ0hpZ2ggbWVtb3J5IHVzYWdlICg+MTBNQiknKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHJlbmRlclRpbWUgPiAxMDAgJiYgbWVtb3J5VXNhZ2UgPiA1KSB7XG4gICAgICBib3R0bGVuZWNrcy5wdXNoKCdDb21iaW5lZCBwZXJmb3JtYW5jZSBpc3N1ZXMnKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGJvdHRsZW5lY2tzO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBvcHRpbWl6YXRpb24gc2NvcmUgKDAtMTAwKVxuICAgKi9cbiAgcHJpdmF0ZSBjYWxjdWxhdGVPcHRpbWl6YXRpb25TY29yZShyZW5kZXJUaW1lOiBudW1iZXIsIG1lbW9yeVVzYWdlOiBudW1iZXIsIHJlbmRlckNvdW50OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGxldCBzY29yZSA9IDEwMDtcbiAgICBcbiAgICAvLyBEZWR1Y3QgcG9pbnRzIGZvciBzbG93IHJlbmRlciB0aW1lc1xuICAgIGlmIChyZW5kZXJUaW1lID4gMzAwKSBzY29yZSAtPSA0MDtcbiAgICBlbHNlIGlmIChyZW5kZXJUaW1lID4gMjAwKSBzY29yZSAtPSAzMDtcbiAgICBlbHNlIGlmIChyZW5kZXJUaW1lID4gMTAwKSBzY29yZSAtPSAyMDtcbiAgICBlbHNlIGlmIChyZW5kZXJUaW1lID4gNTApIHNjb3JlIC09IDEwO1xuICAgIFxuICAgIC8vIERlZHVjdCBwb2ludHMgZm9yIGhpZ2ggbWVtb3J5IHVzYWdlXG4gICAgaWYgKG1lbW9yeVVzYWdlID4gMjApIHNjb3JlIC09IDQwO1xuICAgIGVsc2UgaWYgKG1lbW9yeVVzYWdlID4gMTApIHNjb3JlIC09IDMwO1xuICAgIGVsc2UgaWYgKG1lbW9yeVVzYWdlID4gNSkgc2NvcmUgLT0gMjA7XG4gICAgZWxzZSBpZiAobWVtb3J5VXNhZ2UgPiAyKSBzY29yZSAtPSAxMDtcbiAgICBcbiAgICAvLyBEZWR1Y3QgcG9pbnRzIGZvciBleGNlc3NpdmUgcmUtcmVuZGVyc1xuICAgIGlmIChyZW5kZXJDb3VudCA+IDEwKSBzY29yZSAtPSAyMDtcbiAgICBlbHNlIGlmIChyZW5kZXJDb3VudCA+IDUpIHNjb3JlIC09IDEwO1xuICAgIFxuICAgIHJldHVybiBNYXRoLm1heCgwLCBzY29yZSk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgb3B0aW1pemF0aW9uIHJlY29tbWVuZGF0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyhyZW5kZXJUaW1lOiBudW1iZXIsIG1lbW9yeVVzYWdlOiBudW1iZXIsIHJlbmRlckNvdW50OiBudW1iZXIpOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXSA9IFtdO1xuICAgIFxuICAgIGlmIChyZW5kZXJUaW1lID4gMjAwKSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgn4pqhIEltcGxlbWVudCBSZWFjdC5tZW1vIGZvciBleHBlbnNpdmUgY29tcG9uZW50cycpO1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ+KaoSBVc2UgdXNlTWVtby91c2VDYWxsYmFjayBmb3IgZXhwZW5zaXZlIGNhbGN1bGF0aW9ucycpO1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ+KaoSBDb25zaWRlciBsYXp5IGxvYWRpbmcgZm9yIGhlYXZ5IGNvbXBvbmVudHMnKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKG1lbW9yeVVzYWdlID4gMTApIHtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCfwn6egIEltcGxlbWVudCBwcm9wZXIgY2xlYW51cCBpbiB1c2VFZmZlY3QgaG9va3MnKTtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCfwn6egIFJldmlldyBtZW1vcnkgbGVha3MgaW4gZXZlbnQgbGlzdGVuZXJzJyk7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgn8J+noCBDb25zaWRlciBjb21wb25lbnQgdW5tb3VudGluZyBzdHJhdGVnaWVzJyk7XG4gICAgfVxuICAgIFxuICAgIGlmIChyZW5kZXJDb3VudCA+IDUpIHtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCfwn5SEIE9wdGltaXplIHVzZUVmZmVjdCBkZXBlbmRlbmNpZXMnKTtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCfwn5SEIENvbnNpZGVyIHN0YXRlIG1hbmFnZW1lbnQgb3B0aW1pemF0aW9uJyk7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgn8J+UhCBSZXZpZXcgY29tcG9uZW50IHJlLXJlbmRlciBwYXR0ZXJucycpO1xuICAgIH1cbiAgICBcbiAgICBpZiAocmVjb21tZW5kYXRpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ+KchSBDb21wb25lbnQgaXMgd2VsbCBvcHRpbWl6ZWQhJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlIGNvbXBvbmVudCBwcm9maWxlXG4gICAqL1xuICBjcmVhdGVDb21wb25lbnRQcm9maWxlKG5hbWU6IHN0cmluZywgbWV0cmljczogUHJvZmlsZXJNZXRyaWNzKTogQ29tcG9uZW50UHJvZmlsZSB7XG4gICAgY29uc3QgcHJvZmlsZTogQ29tcG9uZW50UHJvZmlsZSA9IHtcbiAgICAgIG5hbWUsXG4gICAgICBtZXRyaWNzLFxuICAgICAgY2hpbGRyZW46IFtdLFxuICAgICAgZGVwdGg6IDAsXG4gICAgICBpc09wdGltaXplZDogbWV0cmljcy5vcHRpbWl6YXRpb25TY29yZSA+IDgwLFxuICAgICAgb3B0aW1pemF0aW9uUG90ZW50aWFsOiB0aGlzLmNhbGN1bGF0ZU9wdGltaXphdGlvblBvdGVudGlhbChtZXRyaWNzLm9wdGltaXphdGlvblNjb3JlKSxcbiAgICB9O1xuICAgIFxuICAgIHRoaXMucHJvZmlsZXMuc2V0KG5hbWUsIHByb2ZpbGUpO1xuICAgIHJldHVybiBwcm9maWxlO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBvcHRpbWl6YXRpb24gcG90ZW50aWFsXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZU9wdGltaXphdGlvblBvdGVudGlhbChzY29yZTogbnVtYmVyKTogJ0hJR0gnIHwgJ01FRElVTScgfCAnTE9XJyB7XG4gICAgaWYgKHNjb3JlIDwgNTApIHJldHVybiAnSElHSCc7XG4gICAgaWYgKHNjb3JlIDwgODApIHJldHVybiAnTUVESVVNJztcbiAgICByZXR1cm4gJ0xPVyc7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgY29tcHJlaGVuc2l2ZSBwZXJmb3JtYW5jZSBhbmFseXNpc1xuICAgKi9cbiAgZ2VuZXJhdGVQZXJmb3JtYW5jZUFuYWx5c2lzKCk6IFBlcmZvcm1hbmNlQW5hbHlzaXMge1xuICAgIGNvbnN0IGFsbE1ldHJpY3MgPSB0aGlzLm1ldHJpY3M7XG4gICAgY29uc3QgdG90YWxUZXN0cyA9IGFsbE1ldHJpY3MubGVuZ3RoO1xuICAgIFxuICAgIGlmICh0b3RhbFRlc3RzID09PSAwKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBvdmVyYWxsU2NvcmU6IDAsXG4gICAgICAgIGNyaXRpY2FsSXNzdWVzOiBbJ05vIHBlcmZvcm1hbmNlIGRhdGEgYXZhaWxhYmxlJ10sXG4gICAgICAgIG9wdGltaXphdGlvbk9wcG9ydHVuaXRpZXM6IFtdLFxuICAgICAgICBtZW1vcnlMZWFrczogW10sXG4gICAgICAgIHJlbmRlck9wdGltaXphdGlvbnM6IFtdLFxuICAgICAgICBuZXR3b3JrT3B0aW1pemF0aW9uczogW10sXG4gICAgICAgIGFjY2Vzc2liaWxpdHlPcHRpbWl6YXRpb25zOiBbXSxcbiAgICAgICAgcmVjb21tZW5kYXRpb25zOiBbJ1J1biBwZXJmb3JtYW5jZSB0ZXN0cyB0byBnZW5lcmF0ZSBhbmFseXNpcyddLFxuICAgICAgICBlc3RpbWF0ZWRJbXByb3ZlbWVudDogMCxcbiAgICAgIH07XG4gICAgfVxuICAgIFxuICAgIGNvbnN0IGF2ZXJhZ2VTY29yZSA9IGFsbE1ldHJpY3MucmVkdWNlKChzdW0sIG0pID0+IHN1bSArIG0ub3B0aW1pemF0aW9uU2NvcmUsIDApIC8gdG90YWxUZXN0cztcbiAgICBjb25zdCBjcml0aWNhbElzc3VlcyA9IHRoaXMuaWRlbnRpZnlDcml0aWNhbElzc3VlcyhhbGxNZXRyaWNzKTtcbiAgICBjb25zdCBvcHRpbWl6YXRpb25PcHBvcnR1bml0aWVzID0gdGhpcy5pZGVudGlmeU9wdGltaXphdGlvbk9wcG9ydHVuaXRpZXMoYWxsTWV0cmljcyk7XG4gICAgY29uc3QgbWVtb3J5TGVha3MgPSB0aGlzLmlkZW50aWZ5TWVtb3J5TGVha3MoYWxsTWV0cmljcyk7XG4gICAgY29uc3QgcmVuZGVyT3B0aW1pemF0aW9ucyA9IHRoaXMuaWRlbnRpZnlSZW5kZXJPcHRpbWl6YXRpb25zKGFsbE1ldHJpY3MpO1xuICAgIGNvbnN0IG5ldHdvcmtPcHRpbWl6YXRpb25zID0gdGhpcy5pZGVudGlmeU5ldHdvcmtPcHRpbWl6YXRpb25zKGFsbE1ldHJpY3MpO1xuICAgIGNvbnN0IGFjY2Vzc2liaWxpdHlPcHRpbWl6YXRpb25zID0gdGhpcy5pZGVudGlmeUFjY2Vzc2liaWxpdHlPcHRpbWl6YXRpb25zKGFsbE1ldHJpY3MpO1xuICAgIFxuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IHRoaXMuZ2VuZXJhdGVDb21wcmVoZW5zaXZlUmVjb21tZW5kYXRpb25zKFxuICAgICAgY3JpdGljYWxJc3N1ZXMsXG4gICAgICBvcHRpbWl6YXRpb25PcHBvcnR1bml0aWVzLFxuICAgICAgbWVtb3J5TGVha3MsXG4gICAgICByZW5kZXJPcHRpbWl6YXRpb25zLFxuICAgICAgbmV0d29ya09wdGltaXphdGlvbnMsXG4gICAgICBhY2Nlc3NpYmlsaXR5T3B0aW1pemF0aW9uc1xuICAgICk7XG4gICAgXG4gICAgY29uc3QgZXN0aW1hdGVkSW1wcm92ZW1lbnQgPSB0aGlzLmNhbGN1bGF0ZUVzdGltYXRlZEltcHJvdmVtZW50KGFsbE1ldHJpY3MpO1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBvdmVyYWxsU2NvcmU6IGF2ZXJhZ2VTY29yZSxcbiAgICAgIGNyaXRpY2FsSXNzdWVzLFxuICAgICAgb3B0aW1pemF0aW9uT3Bwb3J0dW5pdGllcyxcbiAgICAgIG1lbW9yeUxlYWtzLFxuICAgICAgcmVuZGVyT3B0aW1pemF0aW9ucyxcbiAgICAgIG5ldHdvcmtPcHRpbWl6YXRpb25zLFxuICAgICAgYWNjZXNzaWJpbGl0eU9wdGltaXphdGlvbnMsXG4gICAgICByZWNvbW1lbmRhdGlvbnMsXG4gICAgICBlc3RpbWF0ZWRJbXByb3ZlbWVudCxcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIElkZW50aWZ5IGNyaXRpY2FsIHBlcmZvcm1hbmNlIGlzc3Vlc1xuICAgKi9cbiAgcHJpdmF0ZSBpZGVudGlmeUNyaXRpY2FsSXNzdWVzKG1ldHJpY3M6IFByb2ZpbGVyTWV0cmljc1tdKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IGlzc3Vlczogc3RyaW5nW10gPSBbXTtcbiAgICBcbiAgICBjb25zdCBzbG93Q29tcG9uZW50cyA9IG1ldHJpY3MuZmlsdGVyKG0gPT4gbS5hdmVyYWdlUmVuZGVyVGltZSA+IDIwMCk7XG4gICAgY29uc3QgaGlnaE1lbW9yeUNvbXBvbmVudHMgPSBtZXRyaWNzLmZpbHRlcihtID0+IG0ubWVtb3J5UGVhayA+IDEwKTtcbiAgICBjb25zdCBsb3dTY29yZUNvbXBvbmVudHMgPSBtZXRyaWNzLmZpbHRlcihtID0+IG0ub3B0aW1pemF0aW9uU2NvcmUgPCA1MCk7XG4gICAgXG4gICAgaWYgKHNsb3dDb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlzc3Vlcy5wdXNoKGDwn5CMICR7c2xvd0NvbXBvbmVudHMubGVuZ3RofSBjb21wb25lbnRzIHdpdGggc2xvdyByZW5kZXIgdGltZXMgKD4yMDBtcylgKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGhpZ2hNZW1vcnlDb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlzc3Vlcy5wdXNoKGDwn6egICR7aGlnaE1lbW9yeUNvbXBvbmVudHMubGVuZ3RofSBjb21wb25lbnRzIHdpdGggaGlnaCBtZW1vcnkgdXNhZ2UgKD4xME1CKWApO1xuICAgIH1cbiAgICBcbiAgICBpZiAobG93U2NvcmVDb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlzc3Vlcy5wdXNoKGDimqDvuI8gJHtsb3dTY29yZUNvbXBvbmVudHMubGVuZ3RofSBjb21wb25lbnRzIHdpdGggcG9vciBvcHRpbWl6YXRpb24gc2NvcmVzICg8NTApYCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBpc3N1ZXM7XG4gIH1cblxuICAvKipcbiAgICogSWRlbnRpZnkgb3B0aW1pemF0aW9uIG9wcG9ydHVuaXRpZXNcbiAgICovXG4gIHByaXZhdGUgaWRlbnRpZnlPcHRpbWl6YXRpb25PcHBvcnR1bml0aWVzKG1ldHJpY3M6IFByb2ZpbGVyTWV0cmljc1tdKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IG9wcG9ydHVuaXRpZXM6IHN0cmluZ1tdID0gW107XG4gICAgXG4gICAgY29uc3QgbWVkaXVtU2NvcmVDb21wb25lbnRzID0gbWV0cmljcy5maWx0ZXIobSA9PiBtLm9wdGltaXphdGlvblNjb3JlID49IDUwICYmIG0ub3B0aW1pemF0aW9uU2NvcmUgPCA4MCk7XG4gICAgY29uc3QgaGlnaFJlbmRlckNvdW50Q29tcG9uZW50cyA9IG1ldHJpY3MuZmlsdGVyKG0gPT4gbS5yZW5kZXJDb3VudCA+IDUpO1xuICAgIFxuICAgIGlmIChtZWRpdW1TY29yZUNvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgb3Bwb3J0dW5pdGllcy5wdXNoKGDwn5OIICR7bWVkaXVtU2NvcmVDb21wb25lbnRzLmxlbmd0aH0gY29tcG9uZW50cyB3aXRoIG1lZGl1bSBvcHRpbWl6YXRpb24gcG90ZW50aWFsYCk7XG4gICAgfVxuICAgIFxuICAgIGlmIChoaWdoUmVuZGVyQ291bnRDb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIG9wcG9ydHVuaXRpZXMucHVzaChg8J+UhCAke2hpZ2hSZW5kZXJDb3VudENvbXBvbmVudHMubGVuZ3RofSBjb21wb25lbnRzIHdpdGggZXhjZXNzaXZlIHJlLXJlbmRlcnNgKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG9wcG9ydHVuaXRpZXM7XG4gIH1cblxuICAvKipcbiAgICogSWRlbnRpZnkgbWVtb3J5IGxlYWtzXG4gICAqL1xuICBwcml2YXRlIGlkZW50aWZ5TWVtb3J5TGVha3MobWV0cmljczogUHJvZmlsZXJNZXRyaWNzW10pOiBzdHJpbmdbXSB7XG4gICAgY29uc3QgbGVha3M6IHN0cmluZ1tdID0gW107XG4gICAgXG4gICAgY29uc3QgaGlnaE1lbW9yeUNvbXBvbmVudHMgPSBtZXRyaWNzLmZpbHRlcihtID0+IG0ubWVtb3J5UGVhayA+IDEwKTtcbiAgICBjb25zdCBpbmNyZWFzaW5nTWVtb3J5Q29tcG9uZW50cyA9IG1ldHJpY3MuZmlsdGVyKG0gPT4gbS5tZW1vcnlQZWFrID4gbS5tZW1vcnlBdmVyYWdlICogMik7XG4gICAgXG4gICAgaWYgKGhpZ2hNZW1vcnlDb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGxlYWtzLnB1c2goYPCfp6AgJHtoaWdoTWVtb3J5Q29tcG9uZW50cy5sZW5ndGh9IGNvbXBvbmVudHMgd2l0aCBoaWdoIG1lbW9yeSB1c2FnZWApO1xuICAgIH1cbiAgICBcbiAgICBpZiAoaW5jcmVhc2luZ01lbW9yeUNvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgbGVha3MucHVzaChg8J+TiCAke2luY3JlYXNpbmdNZW1vcnlDb21wb25lbnRzLmxlbmd0aH0gY29tcG9uZW50cyB3aXRoIGluY3JlYXNpbmcgbWVtb3J5IHVzYWdlYCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBsZWFrcztcbiAgfVxuXG4gIC8qKlxuICAgKiBJZGVudGlmeSByZW5kZXIgb3B0aW1pemF0aW9uc1xuICAgKi9cbiAgcHJpdmF0ZSBpZGVudGlmeVJlbmRlck9wdGltaXphdGlvbnMobWV0cmljczogUHJvZmlsZXJNZXRyaWNzW10pOiBzdHJpbmdbXSB7XG4gICAgY29uc3Qgb3B0aW1pemF0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgICBcbiAgICBjb25zdCBzbG93UmVuZGVyQ29tcG9uZW50cyA9IG1ldHJpY3MuZmlsdGVyKG0gPT4gbS5hdmVyYWdlUmVuZGVyVGltZSA+IDEwMCk7XG4gICAgY29uc3QgaGlnaFJlbmRlckNvdW50Q29tcG9uZW50cyA9IG1ldHJpY3MuZmlsdGVyKG0gPT4gbS5yZW5kZXJDb3VudCA+IDMpO1xuICAgIFxuICAgIGlmIChzbG93UmVuZGVyQ29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBvcHRpbWl6YXRpb25zLnB1c2goYOKaoSAke3Nsb3dSZW5kZXJDb21wb25lbnRzLmxlbmd0aH0gY29tcG9uZW50cyBuZWVkIHJlbmRlciBvcHRpbWl6YXRpb25gKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKGhpZ2hSZW5kZXJDb3VudENvbXBvbmVudHMubGVuZ3RoID4gMCkge1xuICAgICAgb3B0aW1pemF0aW9ucy5wdXNoKGDimqEgJHtoaWdoUmVuZGVyQ291bnRDb21wb25lbnRzLmxlbmd0aH0gY29tcG9uZW50cyBuZWVkIHJlLXJlbmRlciBvcHRpbWl6YXRpb25gKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG9wdGltaXphdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogSWRlbnRpZnkgbmV0d29yayBvcHRpbWl6YXRpb25zXG4gICAqL1xuICBwcml2YXRlIGlkZW50aWZ5TmV0d29ya09wdGltaXphdGlvbnMobWV0cmljczogUHJvZmlsZXJNZXRyaWNzW10pOiBzdHJpbmdbXSB7XG4gICAgY29uc3Qgb3B0aW1pemF0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgICBcbiAgICAvLyBBbmFseXplIG5ldHdvcmstcmVsYXRlZCBwZXJmb3JtYW5jZSBtZXRyaWNzXG4gICAgY29uc3QgbmV0d29ya01ldHJpY3MgPSBtZXRyaWNzLmZpbHRlcihtID0+IG0ubmV0d29ya1RpbWUgJiYgbS5uZXR3b3JrVGltZSA+IDApO1xuICAgIGNvbnN0IGhpZ2hOZXR3b3JrVGltZSA9IG1ldHJpY3MuZmlsdGVyKG0gPT4gbS5uZXR3b3JrVGltZSAmJiBtLm5ldHdvcmtUaW1lID4gMzAwKTtcbiAgICBjb25zdCBhcGlNZXRyaWNzID0gbWV0cmljcy5maWx0ZXIobSA9PiBtLmFwaVRpbWUgJiYgbS5hcGlUaW1lID4gMCk7XG4gICAgY29uc3QgaGlnaEFwaVRpbWUgPSBtZXRyaWNzLmZpbHRlcihtID0+IG0uYXBpVGltZSAmJiBtLmFwaVRpbWUgPiAyMDApO1xuICAgIFxuICAgIC8vIE5ldHdvcmsgcGVyZm9ybWFuY2UgYW5hbHlzaXNcbiAgICBpZiAobmV0d29ya01ldHJpY3MubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgYXZnTmV0d29ya1RpbWUgPSBuZXR3b3JrTWV0cmljcy5yZWR1Y2UoKHN1bSwgbSkgPT4gc3VtICsgKG0ubmV0d29ya1RpbWUgfHwgMCksIDApIC8gbmV0d29ya01ldHJpY3MubGVuZ3RoO1xuICAgICAgaWYgKGF2Z05ldHdvcmtUaW1lID4gMjAwKSB7XG4gICAgICAgIG9wdGltaXphdGlvbnMucHVzaCgn8J+MkCBIaWdoIG5ldHdvcmsgbGF0ZW5jeSBkZXRlY3RlZCAtIGNvbnNpZGVyIENETiBpbXBsZW1lbnRhdGlvbicpO1xuICAgICAgfVxuICAgICAgaWYgKGF2Z05ldHdvcmtUaW1lID4gNTAwKSB7XG4gICAgICAgIG9wdGltaXphdGlvbnMucHVzaCgn8J+MkCBDcml0aWNhbCBuZXR3b3JrIHBlcmZvcm1hbmNlIGlzc3VlcyAtIG9wdGltaXplIEFQSSBlbmRwb2ludHMnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQVBJIHBlcmZvcm1hbmNlIGFuYWx5c2lzXG4gICAgaWYgKGFwaU1ldHJpY3MubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3QgYXZnQXBpVGltZSA9IGFwaU1ldHJpY3MucmVkdWNlKChzdW0sIG0pID0+IHN1bSArIChtLmFwaVRpbWUgfHwgMCksIDApIC8gYXBpTWV0cmljcy5sZW5ndGg7XG4gICAgICBpZiAoYXZnQXBpVGltZSA+IDE1MCkge1xuICAgICAgICBvcHRpbWl6YXRpb25zLnB1c2goJ/CflIwgQVBJIHJlc3BvbnNlIHRpbWVzIGFyZSBzbG93IC0gaW1wbGVtZW50IGNhY2hpbmcgc3RyYXRlZ2llcycpO1xuICAgICAgfVxuICAgICAgaWYgKGF2Z0FwaVRpbWUgPiAzMDApIHtcbiAgICAgICAgb3B0aW1pemF0aW9ucy5wdXNoKCfwn5SMIENyaXRpY2FsIEFQSSBwZXJmb3JtYW5jZSBpc3N1ZXMgLSBvcHRpbWl6ZSBkYXRhYmFzZSBxdWVyaWVzJyk7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIE5ldHdvcmsgb3B0aW1pemF0aW9uIHJlY29tbWVuZGF0aW9ucyBiYXNlZCBvbiBwYXR0ZXJuc1xuICAgIGlmIChoaWdoTmV0d29ya1RpbWUubGVuZ3RoID4gMCkge1xuICAgICAgb3B0aW1pemF0aW9ucy5wdXNoKCfwn4yQIEltcGxlbWVudCByZXF1ZXN0IGJhdGNoaW5nIGZvciBtdWx0aXBsZSBBUEkgY2FsbHMnKTtcbiAgICAgIG9wdGltaXphdGlvbnMucHVzaCgn8J+MkCBBZGQgcmVxdWVzdCBkZWR1cGxpY2F0aW9uIHRvIHByZXZlbnQgZHVwbGljYXRlIGNhbGxzJyk7XG4gICAgfVxuICAgIFxuICAgIGlmIChoaWdoQXBpVGltZS5sZW5ndGggPiAwKSB7XG4gICAgICBvcHRpbWl6YXRpb25zLnB1c2goJ/CflIwgSW1wbGVtZW50IEFQSSByZXNwb25zZSBjYWNoaW5nIHdpdGggVFRMJyk7XG4gICAgICBvcHRpbWl6YXRpb25zLnB1c2goJ/CflIwgQWRkIGRhdGFiYXNlIHF1ZXJ5IG9wdGltaXphdGlvbicpO1xuICAgIH1cbiAgICBcbiAgICAvLyBHZW5lcmFsIG5ldHdvcmsgb3B0aW1pemF0aW9uc1xuICAgIGlmIChuZXR3b3JrTWV0cmljcy5sZW5ndGggPiAyKSB7XG4gICAgICBvcHRpbWl6YXRpb25zLnB1c2goJ/CfjJAgQ29uc2lkZXIgaW1wbGVtZW50aW5nIHNlcnZpY2Ugd29ya2VyIGZvciBvZmZsaW5lIGNhY2hpbmcnKTtcbiAgICAgIG9wdGltaXphdGlvbnMucHVzaCgn8J+MkCBBZGQgcmVxdWVzdCBjb21wcmVzc2lvbiBmb3IgbGFyZ2UgcGF5bG9hZHMnKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIG9wdGltaXphdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogSWRlbnRpZnkgYWNjZXNzaWJpbGl0eSBvcHRpbWl6YXRpb25zXG4gICAqL1xuICBwcml2YXRlIGlkZW50aWZ5QWNjZXNzaWJpbGl0eU9wdGltaXphdGlvbnMobWV0cmljczogUHJvZmlsZXJNZXRyaWNzW10pOiBzdHJpbmdbXSB7XG4gICAgY29uc3Qgb3B0aW1pemF0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgICBcbiAgICAvLyBBbmFseXplIGFjY2Vzc2liaWxpdHktcmVsYXRlZCBwZXJmb3JtYW5jZSBtZXRyaWNzXG4gICAgY29uc3QgYWNjZXNzaWJpbGl0eU1ldHJpY3MgPSBtZXRyaWNzLmZpbHRlcihtID0+IG0uYWNjZXNzaWJpbGl0eVRpbWUgJiYgbS5hY2Nlc3NpYmlsaXR5VGltZSA+IDApO1xuICAgIGNvbnN0IGhpZ2hBY2Nlc3NpYmlsaXR5VGltZSA9IG1ldHJpY3MuZmlsdGVyKG0gPT4gbS5hY2Nlc3NpYmlsaXR5VGltZSAmJiBtLmFjY2Vzc2liaWxpdHlUaW1lID4gNTApO1xuICAgIGNvbnN0IHNsb3dDb21wb25lbnRzID0gbWV0cmljcy5maWx0ZXIobSA9PiBtLmF2ZXJhZ2VSZW5kZXJUaW1lID4gMTAwKTtcbiAgICBjb25zdCBtZW1vcnlJbnRlbnNpdmVDb21wb25lbnRzID0gbWV0cmljcy5maWx0ZXIobSA9PiBtLm1lbW9yeVBlYWsgPiA1KTtcbiAgICBcbiAgICAvLyBBY2Nlc3NpYmlsaXR5IHBlcmZvcm1hbmNlIGFuYWx5c2lzXG4gICAgaWYgKGFjY2Vzc2liaWxpdHlNZXRyaWNzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IGF2Z0FjY2Vzc2liaWxpdHlUaW1lID0gYWNjZXNzaWJpbGl0eU1ldHJpY3MucmVkdWNlKChzdW0sIG0pID0+IHN1bSArIChtLmFjY2Vzc2liaWxpdHlUaW1lIHx8IDApLCAwKSAvIGFjY2Vzc2liaWxpdHlNZXRyaWNzLmxlbmd0aDtcbiAgICAgIGlmIChhdmdBY2Nlc3NpYmlsaXR5VGltZSA+IDMwKSB7XG4gICAgICAgIG9wdGltaXphdGlvbnMucHVzaCgn4pm/IFNjcmVlbiByZWFkZXIgcGVyZm9ybWFuY2UgaXMgc2xvdyAtIG9wdGltaXplIEFSSUEgYW5ub3VuY2VtZW50cycpO1xuICAgICAgfVxuICAgICAgaWYgKGF2Z0FjY2Vzc2liaWxpdHlUaW1lID4gNzUpIHtcbiAgICAgICAgb3B0aW1pemF0aW9ucy5wdXNoKCfimb8gQ3JpdGljYWwgYWNjZXNzaWJpbGl0eSBwZXJmb3JtYW5jZSBpc3N1ZXMgLSByZXZpZXcgc2NyZWVuIHJlYWRlciBpbXBsZW1lbnRhdGlvbicpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBTY3JlZW4gcmVhZGVyIG9wdGltaXphdGlvbiByZWNvbW1lbmRhdGlvbnNcbiAgICBpZiAoaGlnaEFjY2Vzc2liaWxpdHlUaW1lLmxlbmd0aCA+IDApIHtcbiAgICAgIG9wdGltaXphdGlvbnMucHVzaCgn4pm/IEltcGxlbWVudCBlZmZpY2llbnQgbGl2ZSByZWdpb24gbWFuYWdlbWVudCBmb3Igc2NyZWVuIHJlYWRlcnMnKTtcbiAgICAgIG9wdGltaXphdGlvbnMucHVzaCgn4pm/IE9wdGltaXplIEFSSUEgYXR0cmlidXRlIHJlbmRlcmluZyBwZXJmb3JtYW5jZScpO1xuICAgICAgb3B0aW1pemF0aW9ucy5wdXNoKCfimb8gQWRkIGRlYm91bmNpbmcgZm9yIHNjcmVlbiByZWFkZXIgYW5ub3VuY2VtZW50cycpO1xuICAgIH1cbiAgICBcbiAgICAvLyBLZXlib2FyZCBuYXZpZ2F0aW9uIG9wdGltaXphdGlvblxuICAgIGlmIChzbG93Q29tcG9uZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICBvcHRpbWl6YXRpb25zLnB1c2goJ+KZvyBPcHRpbWl6ZSBrZXlib2FyZCBuYXZpZ2F0aW9uIGZvciBzbG93LXJlbmRlcmluZyBjb21wb25lbnRzJyk7XG4gICAgICBvcHRpbWl6YXRpb25zLnB1c2goJ+KZvyBJbXBsZW1lbnQgZm9jdXMgbWFuYWdlbWVudCBvcHRpbWl6YXRpb24nKTtcbiAgICAgIG9wdGltaXphdGlvbnMucHVzaCgn4pm/IEFkZCBrZXlib2FyZCBzaG9ydGN1dCBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudHMnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gTWVtb3J5IG9wdGltaXphdGlvbiBmb3IgYWNjZXNzaWJpbGl0eVxuICAgIGlmIChtZW1vcnlJbnRlbnNpdmVDb21wb25lbnRzLmxlbmd0aCA+IDApIHtcbiAgICAgIG9wdGltaXphdGlvbnMucHVzaCgn4pm/IE9wdGltaXplIGFjY2Vzc2liaWxpdHkgZmVhdHVyZXMgZm9yIG1lbW9yeS1pbnRlbnNpdmUgY29tcG9uZW50cycpO1xuICAgICAgb3B0aW1pemF0aW9ucy5wdXNoKCfimb8gSW1wbGVtZW50IGVmZmljaWVudCBhY2Nlc3NpYmlsaXR5IHN0YXRlIG1hbmFnZW1lbnQnKTtcbiAgICB9XG4gICAgXG4gICAgLy8gR2VuZXJhbCBhY2Nlc3NpYmlsaXR5IG9wdGltaXphdGlvbnNcbiAgICBpZiAobWV0cmljcy5sZW5ndGggPiAyKSB7XG4gICAgICBvcHRpbWl6YXRpb25zLnB1c2goJ+KZvyBDb25zaWRlciBpbXBsZW1lbnRpbmcgYWNjZXNzaWJpbGl0eSBwZXJmb3JtYW5jZSBtb25pdG9yaW5nJyk7XG4gICAgICBvcHRpbWl6YXRpb25zLnB1c2goJ+KZvyBBZGQgYWNjZXNzaWJpbGl0eSBmZWF0dXJlIGxhenkgbG9hZGluZycpO1xuICAgICAgb3B0aW1pemF0aW9ucy5wdXNoKCfimb8gT3B0aW1pemUgYWNjZXNzaWJpbGl0eSB0ZXN0aW5nIHBlcmZvcm1hbmNlJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBvcHRpbWl6YXRpb25zO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGNvbXByZWhlbnNpdmUgcmVjb21tZW5kYXRpb25zXG4gICAqL1xuICBwcml2YXRlIGdlbmVyYXRlQ29tcHJlaGVuc2l2ZVJlY29tbWVuZGF0aW9ucyhcbiAgICBjcml0aWNhbElzc3Vlczogc3RyaW5nW10sXG4gICAgb3B0aW1pemF0aW9uT3Bwb3J0dW5pdGllczogc3RyaW5nW10sXG4gICAgbWVtb3J5TGVha3M6IHN0cmluZ1tdLFxuICAgIHJlbmRlck9wdGltaXphdGlvbnM6IHN0cmluZ1tdLFxuICAgIG5ldHdvcmtPcHRpbWl6YXRpb25zOiBzdHJpbmdbXSxcbiAgICBhY2Nlc3NpYmlsaXR5T3B0aW1pemF0aW9uczogc3RyaW5nW11cbiAgKTogc3RyaW5nW10ge1xuICAgIGNvbnN0IHJlY29tbWVuZGF0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgICBcbiAgICBpZiAoY3JpdGljYWxJc3N1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ/CfmqggUFJJT1JJVFk6IEFkZHJlc3MgY3JpdGljYWwgcGVyZm9ybWFuY2UgaXNzdWVzJyk7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCguLi5jcml0aWNhbElzc3Vlcyk7XG4gICAgfVxuICAgIFxuICAgIGlmIChtZW1vcnlMZWFrcy5sZW5ndGggPiAwKSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgn8J+noCBQUklPUklUWTogRml4IG1lbW9yeSBsZWFrcycpO1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goLi4ubWVtb3J5TGVha3MpO1xuICAgIH1cbiAgICBcbiAgICBpZiAocmVuZGVyT3B0aW1pemF0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgn4pqhIEhJR0g6IE9wdGltaXplIHJlbmRlciBwZXJmb3JtYW5jZScpO1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goLi4ucmVuZGVyT3B0aW1pemF0aW9ucyk7XG4gICAgfVxuICAgIFxuICAgIGlmIChvcHRpbWl6YXRpb25PcHBvcnR1bml0aWVzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCfwn5OIIE1FRElVTTogSW1wbGVtZW50IG9wdGltaXphdGlvbiBvcHBvcnR1bml0aWVzJyk7XG4gICAgICByZWNvbW1lbmRhdGlvbnMucHVzaCguLi5vcHRpbWl6YXRpb25PcHBvcnR1bml0aWVzKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKG5ldHdvcmtPcHRpbWl6YXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCfwn4yQIE1FRElVTTogT3B0aW1pemUgbmV0d29yayBwZXJmb3JtYW5jZScpO1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goLi4ubmV0d29ya09wdGltaXphdGlvbnMpO1xuICAgIH1cbiAgICBcbiAgICBpZiAoYWNjZXNzaWJpbGl0eU9wdGltaXphdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ+KZvyBMT1c6IE9wdGltaXplIGFjY2Vzc2liaWxpdHkgcGVyZm9ybWFuY2UnKTtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKC4uLmFjY2Vzc2liaWxpdHlPcHRpbWl6YXRpb25zKTtcbiAgICB9XG4gICAgXG4gICAgaWYgKHJlY29tbWVuZGF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCfwn46JIEV4Y2VsbGVudCBwZXJmb3JtYW5jZSEgTm8gb3B0aW1pemF0aW9ucyBuZWVkZWQuJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIGVzdGltYXRlZCBpbXByb3ZlbWVudCBwZXJjZW50YWdlXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZUVzdGltYXRlZEltcHJvdmVtZW50KG1ldHJpY3M6IFByb2ZpbGVyTWV0cmljc1tdKTogbnVtYmVyIHtcbiAgICBjb25zdCBhdmVyYWdlU2NvcmUgPSBtZXRyaWNzLnJlZHVjZSgoc3VtLCBtKSA9PiBzdW0gKyBtLm9wdGltaXphdGlvblNjb3JlLCAwKSAvIG1ldHJpY3MubGVuZ3RoO1xuICAgIGNvbnN0IG1heFBvc3NpYmxlU2NvcmUgPSAxMDA7XG4gICAgY29uc3QgaW1wcm92ZW1lbnQgPSBtYXhQb3NzaWJsZVNjb3JlIC0gYXZlcmFnZVNjb3JlO1xuICAgIHJldHVybiBNYXRoLm1heCgwLCBpbXByb3ZlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IGFsbCBjb21wb25lbnQgcHJvZmlsZXNcbiAgICovXG4gIGdldENvbXBvbmVudFByb2ZpbGVzKCk6IENvbXBvbmVudFByb2ZpbGVbXSB7XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5wcm9maWxlcy52YWx1ZXMoKSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG1ldHJpY3MgZm9yIGEgc3BlY2lmaWMgY29tcG9uZW50XG4gICAqL1xuICBnZXRDb21wb25lbnRNZXRyaWNzKGNvbXBvbmVudE5hbWU6IHN0cmluZyk6IFByb2ZpbGVyTWV0cmljcyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMubWV0cmljcy5maW5kKG0gPT4gbS5jb21wb25lbnROYW1lID09PSBjb21wb25lbnROYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGFsZXJ0c1xuICAgKi9cbiAgZ2V0QWxlcnRzKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5hbGVydHM7XG4gIH1cblxuICAvKipcbiAgICogQ2xlYXIgYWxsIHByb2ZpbGluZyBkYXRhXG4gICAqL1xuICBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLnByb2ZpbGVzLmNsZWFyKCk7XG4gICAgdGhpcy5tZXRyaWNzID0gW107XG4gICAgdGhpcy5hbGVydHMgPSBbXTtcbiAgICB0aGlzLmlzUHJvZmlsaW5nID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogUmVjb3JkIHRlc3QgbWV0cmljc1xuICAgKi9cbiAgcmVjb3JkTWV0cmljcyhtZXRyaWNzOiBPbWl0PFByb2ZpbGVyTWV0cmljcywgJ3RpbWVzdGFtcCc+KTogdm9pZCB7XG4gICAgY29uc3QgZnVsbE1ldHJpY3M6IFByb2ZpbGVyTWV0cmljcyA9IHtcbiAgICAgIC4uLm1ldHJpY3MsXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgfTtcbiAgICBcbiAgICB0aGlzLm1ldHJpY3MucHVzaChmdWxsTWV0cmljcyk7XG4gICAgXG4gICAgLy8gQ2hlY2sgZm9yIHBlcmZvcm1hbmNlIGFsZXJ0c1xuICAgIHRoaXMuY2hlY2tQZXJmb3JtYW5jZUFsZXJ0cyhmdWxsTWV0cmljcyk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgZm9yIHBlcmZvcm1hbmNlIGFsZXJ0c1xuICAgKi9cbiAgcHJpdmF0ZSBjaGVja1BlcmZvcm1hbmNlQWxlcnRzKG1ldHJpY3M6IFByb2ZpbGVyTWV0cmljcyk6IHZvaWQge1xuICAgIGNvbnN0IGFsZXJ0czogc3RyaW5nW10gPSBbXTtcblxuICAgIC8vIFJlbmRlciB0aW1lIGFsZXJ0c1xuICAgIGlmIChtZXRyaWNzLnJlbmRlclRpbWUgJiYgbWV0cmljcy5yZW5kZXJUaW1lID4gMjAwKSB7XG4gICAgICBhbGVydHMucHVzaChg4pqg77iPIFNMT1cgUkVOREVSOiAke21ldHJpY3MuY29tcG9uZW50TmFtZX0gdG9vayAke21ldHJpY3MucmVuZGVyVGltZS50b0ZpeGVkKDIpfW1zIChidWRnZXQ6IDIwMG1zKWApO1xuICAgIH1cblxuICAgIC8vIE1lbW9yeSB1c2FnZSBhbGVydHNcbiAgICBpZiAobWV0cmljcy5tZW1vcnlQZWFrID4gMTApIHtcbiAgICAgIGFsZXJ0cy5wdXNoKGDimqDvuI8gSElHSCBNRU1PUlk6ICR7bWV0cmljcy5jb21wb25lbnROYW1lfSB1c2VkICR7bWV0cmljcy5tZW1vcnlQZWFrLnRvRml4ZWQoMil9TUIgKGJ1ZGdldDogMTBNQilgKTtcbiAgICB9XG5cbiAgICAvLyBQZXJmb3JtYW5jZSBncmFkZSBhbGVydHNcbiAgICBpZiAobWV0cmljcy5wZXJmb3JtYW5jZUdyYWRlID09PSAnRCcgfHwgbWV0cmljcy5wZXJmb3JtYW5jZUdyYWRlID09PSAnRicpIHtcbiAgICAgIGFsZXJ0cy5wdXNoKGDwn5qoIFBPT1IgUEVSRk9STUFOQ0U6ICR7bWV0cmljcy5jb21wb25lbnROYW1lfSByZWNlaXZlZCBncmFkZSAke21ldHJpY3MucGVyZm9ybWFuY2VHcmFkZX1gKTtcbiAgICB9XG5cbiAgICAvLyBOZXR3b3JrIHRpbWUgYWxlcnRzXG4gICAgaWYgKG1ldHJpY3MubmV0d29ya1RpbWUgJiYgbWV0cmljcy5uZXR3b3JrVGltZSA+IDUwMCkge1xuICAgICAgYWxlcnRzLnB1c2goYOKaoO+4jyBTTE9XIE5FVFdPUks6ICR7bWV0cmljcy5jb21wb25lbnROYW1lfSBuZXR3b3JrIHRvb2sgJHttZXRyaWNzLm5ldHdvcmtUaW1lLnRvRml4ZWQoMil9bXMgKGJ1ZGdldDogNTAwbXMpYCk7XG4gICAgfVxuXG4gICAgdGhpcy5hbGVydHMucHVzaCguLi5hbGVydHMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4cG9ydCBwcm9maWxpbmcgZGF0YVxuICAgKi9cbiAgZXhwb3J0UHJvZmlsaW5nRGF0YSgpOiBzdHJpbmcge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICBwcm9maWxlczogQXJyYXkuZnJvbSh0aGlzLnByb2ZpbGVzLmVudHJpZXMoKSksXG4gICAgICBtZXRyaWNzOiB0aGlzLm1ldHJpY3MsXG4gICAgICBhbmFseXNpczogdGhpcy5nZW5lcmF0ZVBlcmZvcm1hbmNlQW5hbHlzaXMoKSxcbiAgICAgIGluc2lnaHRzOiB0aGlzLmdldFBlcmZvcm1hbmNlSW5zaWdodHMoKSxcbiAgICAgIHBhdHRlcm5zOiB0aGlzLmFuYWx5emVQZXJmb3JtYW5jZVBhdHRlcm5zKCksXG4gICAgfSwgbnVsbCwgMik7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHBlcmZvcm1hbmNlIGluc2lnaHRzIGFuZCByZWNvbW1lbmRhdGlvbnNcbiAgICovXG4gIGdldFBlcmZvcm1hbmNlSW5zaWdodHMoKToge1xuICAgIHRvcFBlcmZvcm1lcnM6IHN0cmluZ1tdO1xuICAgIG5lZWRzQXR0ZW50aW9uOiBzdHJpbmdbXTtcbiAgICBvcHRpbWl6YXRpb25PcHBvcnR1bml0aWVzOiBzdHJpbmdbXTtcbiAgICBjcml0aWNhbElzc3Vlczogc3RyaW5nW107XG4gIH0ge1xuICAgIGNvbnN0IHRvcFBlcmZvcm1lcnM6IHN0cmluZ1tdID0gW107XG4gICAgY29uc3QgbmVlZHNBdHRlbnRpb246IHN0cmluZ1tdID0gW107XG4gICAgY29uc3Qgb3B0aW1pemF0aW9uT3Bwb3J0dW5pdGllczogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCBjcml0aWNhbElzc3Vlczogc3RyaW5nW10gPSBbXTtcbiAgICBcbiAgICB0aGlzLm1ldHJpY3MuZm9yRWFjaChtZXRyaWMgPT4ge1xuICAgICAgLy8gVXNlIG9wdGltaXphdGlvblNjb3JlIGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGNvbnZlcnQgcGVyZm9ybWFuY2VHcmFkZSB0byBzY29yZVxuICAgICAgY29uc3Qgc2NvcmUgPSBtZXRyaWMub3B0aW1pemF0aW9uU2NvcmUgfHwgdGhpcy5jb252ZXJ0R3JhZGVUb1Njb3JlKG1ldHJpYy5wZXJmb3JtYW5jZUdyYWRlIHx8ICdDJyk7XG4gICAgICBcbiAgICAgIGlmIChzY29yZSA+PSA5MCkge1xuICAgICAgICB0b3BQZXJmb3JtZXJzLnB1c2goYCR7bWV0cmljLmNvbXBvbmVudE5hbWV9OiAke3Njb3JlfS8xMDAgKEVYQ0VMTEVOVClgKTtcbiAgICAgIH0gZWxzZSBpZiAoc2NvcmUgPj0gNzApIHtcbiAgICAgICAgb3B0aW1pemF0aW9uT3Bwb3J0dW5pdGllcy5wdXNoKGAke21ldHJpYy5jb21wb25lbnROYW1lfTogJHtzY29yZX0vMTAwIChHT09EIC0gcm9vbSBmb3IgaW1wcm92ZW1lbnQpYCk7XG4gICAgICB9IGVsc2UgaWYgKHNjb3JlID49IDUwKSB7XG4gICAgICAgIG5lZWRzQXR0ZW50aW9uLnB1c2goYCR7bWV0cmljLmNvbXBvbmVudE5hbWV9OiAke3Njb3JlfS8xMDAgKE5FRURTIEFUVEVOVElPTilgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNyaXRpY2FsSXNzdWVzLnB1c2goYCR7bWV0cmljLmNvbXBvbmVudE5hbWV9OiAke3Njb3JlfS8xMDAgKENSSVRJQ0FMKWApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiB7IHRvcFBlcmZvcm1lcnMsIG5lZWRzQXR0ZW50aW9uLCBvcHRpbWl6YXRpb25PcHBvcnR1bml0aWVzLCBjcml0aWNhbElzc3VlcyB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRyYWNrIGNvbXBvbmVudCBsaWZlY3ljbGUgZXZlbnRzXG4gICAqL1xuICB0cmFja0NvbXBvbmVudExpZmVjeWNsZShjb21wb25lbnROYW1lOiBzdHJpbmcsIGV2ZW50OiAnbW91bnQnIHwgJ3VwZGF0ZScgfCAndW5tb3VudCcsIGR1cmF0aW9uOiBudW1iZXIpOiB2b2lkIHtcbiAgICBsb2dnZXIuaW5mbyhg8J+UhCBDb21wb25lbnQgTGlmZWN5Y2xlOiAke2NvbXBvbmVudE5hbWV9ICR7ZXZlbnR9IHRvb2sgJHtkdXJhdGlvbn1tc2ApO1xuICAgIFxuICAgIC8vIFJlY29yZCBsaWZlY3ljbGUgbWV0cmljc1xuICAgIHRoaXMucmVjb3JkTWV0cmljcyh7XG4gICAgICBjb21wb25lbnROYW1lLFxuICAgICAgcmVuZGVyQ291bnQ6IDEsXG4gICAgICB0b3RhbFJlbmRlclRpbWU6IGR1cmF0aW9uLFxuICAgICAgYXZlcmFnZVJlbmRlclRpbWU6IGR1cmF0aW9uLFxuICAgICAgbWF4UmVuZGVyVGltZTogZHVyYXRpb24sXG4gICAgICBtaW5SZW5kZXJUaW1lOiBkdXJhdGlvbixcbiAgICAgIG1lbW9yeVBlYWs6IDAsXG4gICAgICBtZW1vcnlBdmVyYWdlOiAwLFxuICAgICAgcmVSZW5kZXJUcmlnZ2VyczogW10sXG4gICAgICBwZXJmb3JtYW5jZUJvdHRsZW5lY2tzOiBbXSxcbiAgICAgIG9wdGltaXphdGlvblNjb3JlOiB0aGlzLmNhbGN1bGF0ZU9wdGltaXphdGlvblNjb3JlKGR1cmF0aW9uLCAwLCAxKSxcbiAgICAgIHJlY29tbWVuZGF0aW9uczogW10sXG4gICAgICByZW5kZXJUaW1lOiBkdXJhdGlvbixcbiAgICAgIHBlcmZvcm1hbmNlR3JhZGU6IHRoaXMuY2FsY3VsYXRlUGVyZm9ybWFuY2VHcmFkZShkdXJhdGlvbilcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbmFseXplIHBlcmZvcm1hbmNlIHBhdHRlcm5zIGFjcm9zcyBtdWx0aXBsZSBydW5zXG4gICAqL1xuICBhbmFseXplUGVyZm9ybWFuY2VQYXR0ZXJucygpOiB7XG4gICAgdHJlbmRpbmdVcDogc3RyaW5nW107XG4gICAgdHJlbmRpbmdEb3duOiBzdHJpbmdbXTtcbiAgICBzdGFibGU6IHN0cmluZ1tdO1xuICAgIHZvbGF0aWxlOiBzdHJpbmdbXTtcbiAgfSB7XG4gICAgY29uc3QgdHJlbmRpbmdVcDogc3RyaW5nW10gPSBbXTtcbiAgICBjb25zdCB0cmVuZGluZ0Rvd246IHN0cmluZ1tdID0gW107XG4gICAgY29uc3Qgc3RhYmxlOiBzdHJpbmdbXSA9IFtdO1xuICAgIGNvbnN0IHZvbGF0aWxlOiBzdHJpbmdbXSA9IFtdO1xuXG4gICAgLy8gR3JvdXAgbWV0cmljcyBieSBjb21wb25lbnRcbiAgICBjb25zdCBjb21wb25lbnRNZXRyaWNzID0gbmV3IE1hcDxzdHJpbmcsIFByb2ZpbGVyTWV0cmljc1tdPigpO1xuICAgIHRoaXMubWV0cmljcy5mb3JFYWNoKG1ldHJpYyA9PiB7XG4gICAgICBpZiAoIWNvbXBvbmVudE1ldHJpY3MuaGFzKG1ldHJpYy5jb21wb25lbnROYW1lKSkge1xuICAgICAgICBjb21wb25lbnRNZXRyaWNzLnNldChtZXRyaWMuY29tcG9uZW50TmFtZSwgW10pO1xuICAgICAgfVxuICAgICAgY29tcG9uZW50TWV0cmljcy5nZXQobWV0cmljLmNvbXBvbmVudE5hbWUpIS5wdXNoKG1ldHJpYyk7XG4gICAgfSk7XG5cbiAgICAvLyBBbmFseXplIHBhdHRlcm5zIGZvciBlYWNoIGNvbXBvbmVudFxuICAgIGNvbXBvbmVudE1ldHJpY3MuZm9yRWFjaCgobWV0cmljcywgY29tcG9uZW50TmFtZSkgPT4ge1xuICAgICAgaWYgKG1ldHJpY3MubGVuZ3RoIDwgMykge1xuICAgICAgICBzdGFibGUucHVzaChgJHtjb21wb25lbnROYW1lfTogaW5zdWZmaWNpZW50IGRhdGFgKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZW5kZXJUaW1lcyA9IG1ldHJpY3MubWFwKG0gPT4gbS5hdmVyYWdlUmVuZGVyVGltZSk7XG4gICAgICBjb25zdCB0cmVuZCA9IHRoaXMuY2FsY3VsYXRlVHJlbmQocmVuZGVyVGltZXMpO1xuICAgICAgY29uc3Qgdm9sYXRpbGl0eSA9IHRoaXMuY2FsY3VsYXRlVm9sYXRpbGl0eShyZW5kZXJUaW1lcyk7XG5cbiAgICAgIGlmICh0cmVuZCA+IDAuMSkge1xuICAgICAgICB0cmVuZGluZ1VwLnB1c2goYCR7Y29tcG9uZW50TmFtZX06ICskeyh0cmVuZCAqIDEwMCkudG9GaXhlZCgxKX0lIHRyZW5kYCk7XG4gICAgICB9IGVsc2UgaWYgKHRyZW5kIDwgLTAuMSkge1xuICAgICAgICB0cmVuZGluZ0Rvd24ucHVzaChgJHtjb21wb25lbnROYW1lfTogJHsodHJlbmQgKiAxMDApLnRvRml4ZWQoMSl9JSB0cmVuZGApO1xuICAgICAgfSBlbHNlIGlmICh2b2xhdGlsaXR5ID4gMC4zKSB7XG4gICAgICAgIHZvbGF0aWxlLnB1c2goYCR7Y29tcG9uZW50TmFtZX06ICR7KHZvbGF0aWxpdHkgKiAxMDApLnRvRml4ZWQoMSl9JSB2b2xhdGlsaXR5YCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFibGUucHVzaChgJHtjb21wb25lbnROYW1lfTogc3RhYmxlIHBlcmZvcm1hbmNlYCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4geyB0cmVuZGluZ1VwLCB0cmVuZGluZ0Rvd24sIHN0YWJsZSwgdm9sYXRpbGUgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgdHJlbmQgZnJvbSBhcnJheSBvZiB2YWx1ZXNcbiAgICovXG4gIHByaXZhdGUgY2FsY3VsYXRlVHJlbmQodmFsdWVzOiBudW1iZXJbXSk6IG51bWJlciB7XG4gICAgaWYgKHZhbHVlcy5sZW5ndGggPCAyKSByZXR1cm4gMDtcbiAgICBcbiAgICBjb25zdCBmaXJzdEhhbGYgPSB2YWx1ZXMuc2xpY2UoMCwgTWF0aC5mbG9vcih2YWx1ZXMubGVuZ3RoIC8gMikpO1xuICAgIGNvbnN0IHNlY29uZEhhbGYgPSB2YWx1ZXMuc2xpY2UoTWF0aC5mbG9vcih2YWx1ZXMubGVuZ3RoIC8gMikpO1xuICAgIFxuICAgIGNvbnN0IGZpcnN0QXZnID0gZmlyc3RIYWxmLnJlZHVjZSgoc3VtLCB2YWwpID0+IHN1bSArIHZhbCwgMCkgLyBmaXJzdEhhbGYubGVuZ3RoO1xuICAgIGNvbnN0IHNlY29uZEF2ZyA9IHNlY29uZEhhbGYucmVkdWNlKChzdW0sIHZhbCkgPT4gc3VtICsgdmFsLCAwKSAvIHNlY29uZEhhbGYubGVuZ3RoO1xuICAgIFxuICAgIHJldHVybiAoc2Vjb25kQXZnIC0gZmlyc3RBdmcpIC8gZmlyc3RBdmc7XG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIHZvbGF0aWxpdHkgKHN0YW5kYXJkIGRldmlhdGlvbiAvIG1lYW4pXG4gICAqL1xuICBwcml2YXRlIGNhbGN1bGF0ZVZvbGF0aWxpdHkodmFsdWVzOiBudW1iZXJbXSk6IG51bWJlciB7XG4gICAgaWYgKHZhbHVlcy5sZW5ndGggPCAyKSByZXR1cm4gMDtcbiAgICBcbiAgICBjb25zdCBtZWFuID0gdmFsdWVzLnJlZHVjZSgoc3VtLCB2YWwpID0+IHN1bSArIHZhbCwgMCkgLyB2YWx1ZXMubGVuZ3RoO1xuICAgIGNvbnN0IHZhcmlhbmNlID0gdmFsdWVzLnJlZHVjZSgoc3VtLCB2YWwpID0+IHN1bSArIE1hdGgucG93KHZhbCAtIG1lYW4sIDIpLCAwKSAvIHZhbHVlcy5sZW5ndGg7XG4gICAgY29uc3Qgc3RkRGV2ID0gTWF0aC5zcXJ0KHZhcmlhbmNlKTtcbiAgICBcbiAgICByZXR1cm4gc3RkRGV2IC8gbWVhbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxjdWxhdGUgcGVyZm9ybWFuY2UgZ3JhZGUgYmFzZWQgb24gcmVuZGVyIHRpbWVcbiAgICovXG4gIGNhbGN1bGF0ZVBlcmZvcm1hbmNlR3JhZGUocmVuZGVyVGltZTogbnVtYmVyKTogJ0ErJyB8ICdBJyB8ICdCJyB8ICdDJyB8ICdEJyB8ICdGJyB7XG4gICAgaWYgKHJlbmRlclRpbWUgPD0gNTApIHJldHVybiAnQSsnO1xuICAgIGlmIChyZW5kZXJUaW1lIDw9IDEwMCkgcmV0dXJuICdBJztcbiAgICBpZiAocmVuZGVyVGltZSA8PSAxNTApIHJldHVybiAnQic7XG4gICAgaWYgKHJlbmRlclRpbWUgPD0gMjAwKSByZXR1cm4gJ0MnO1xuICAgIGlmIChyZW5kZXJUaW1lIDw9IDMwMCkgcmV0dXJuICdEJztcbiAgICByZXR1cm4gJ0YnO1xuICB9XG5cbiAgLyoqXG4gICAqIENvbnZlcnQgcGVyZm9ybWFuY2UgZ3JhZGUgdG8gbnVtZXJpYyBzY29yZVxuICAgKi9cbiAgcHJpdmF0ZSBjb252ZXJ0R3JhZGVUb1Njb3JlKGdyYWRlOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIHN3aXRjaCAoZ3JhZGUpIHtcbiAgICAgIGNhc2UgJ0ErJzogcmV0dXJuIDk1O1xuICAgICAgY2FzZSAnQSc6IHJldHVybiA5MDtcbiAgICAgIGNhc2UgJ0InOiByZXR1cm4gODA7XG4gICAgICBjYXNlICdDJzogcmV0dXJuIDcwO1xuICAgICAgY2FzZSAnRCc6IHJldHVybiA2MDtcbiAgICAgIGNhc2UgJ0YnOiByZXR1cm4gMzA7XG4gICAgICBkZWZhdWx0OiByZXR1cm4gNTA7XG4gICAgfVxuICB9XG59XG5cbi8vIEdsb2JhbCBwZXJmb3JtYW5jZSBwcm9maWxlciBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IHBlcmZvcm1hbmNlUHJvZmlsZXIgPSBuZXcgUGVyZm9ybWFuY2VQcm9maWxlcigpO1xuXG5cblxuIl0sIm5hbWVzIjpbIlBlcmZvcm1hbmNlUHJvZmlsZXIiLCJwZXJmb3JtYW5jZVByb2ZpbGVyIiwic3RhcnRQcm9maWxpbmciLCJjb21wb25lbnROYW1lIiwiaXNQcm9maWxpbmciLCJzdGFydFRpbWUiLCJwZXJmb3JtYW5jZSIsIm5vdyIsInN0YXJ0TWVtb3J5IiwibWVtb3J5IiwidXNlZEpTSGVhcFNpemUiLCJsb2dnZXIiLCJpbmZvIiwic3RvcFByb2ZpbGluZyIsInJlbmRlckNvdW50IiwiRXJyb3IiLCJlbmRUaW1lIiwiZW5kTWVtb3J5IiwidG90YWxSZW5kZXJUaW1lIiwiYXZlcmFnZVJlbmRlclRpbWUiLCJtZW1vcnlVc2VkIiwibWV0cmljcyIsIm1heFJlbmRlclRpbWUiLCJtaW5SZW5kZXJUaW1lIiwibWVtb3J5UGVhayIsIm1lbW9yeUF2ZXJhZ2UiLCJyZVJlbmRlclRyaWdnZXJzIiwiYW5hbHl6ZVJlUmVuZGVyVHJpZ2dlcnMiLCJwZXJmb3JtYW5jZUJvdHRsZW5lY2tzIiwiYW5hbHl6ZUJvdHRsZW5lY2tzIiwib3B0aW1pemF0aW9uU2NvcmUiLCJjYWxjdWxhdGVPcHRpbWl6YXRpb25TY29yZSIsInJlY29tbWVuZGF0aW9ucyIsImdlbmVyYXRlUmVjb21tZW5kYXRpb25zIiwidGltZXN0YW1wIiwiRGF0ZSIsInB1c2giLCJ0b0ZpeGVkIiwidHJpZ2dlcnMiLCJmaWx0ZXIiLCJtIiwibGVuZ3RoIiwicmVjZW50TWV0cmljcyIsInNsaWNlIiwiYXZnUmVuZGVyVGltZSIsInJlZHVjZSIsInN1bSIsIm1lbW9yeVRyZW5kIiwibWFwIiwiaXNJbmNyZWFzaW5nIiwiZXZlcnkiLCJ2YWwiLCJpIiwic2NvcmVzIiwiaXNEZWdyYWRpbmciLCJzY29yZSIsImluY2x1ZGVzIiwicmVuZGVyVGltZSIsIm1lbW9yeVVzYWdlIiwiYm90dGxlbmVja3MiLCJNYXRoIiwibWF4IiwiY3JlYXRlQ29tcG9uZW50UHJvZmlsZSIsIm5hbWUiLCJwcm9maWxlIiwiY2hpbGRyZW4iLCJkZXB0aCIsImlzT3B0aW1pemVkIiwib3B0aW1pemF0aW9uUG90ZW50aWFsIiwiY2FsY3VsYXRlT3B0aW1pemF0aW9uUG90ZW50aWFsIiwicHJvZmlsZXMiLCJzZXQiLCJnZW5lcmF0ZVBlcmZvcm1hbmNlQW5hbHlzaXMiLCJhbGxNZXRyaWNzIiwidG90YWxUZXN0cyIsIm92ZXJhbGxTY29yZSIsImNyaXRpY2FsSXNzdWVzIiwib3B0aW1pemF0aW9uT3Bwb3J0dW5pdGllcyIsIm1lbW9yeUxlYWtzIiwicmVuZGVyT3B0aW1pemF0aW9ucyIsIm5ldHdvcmtPcHRpbWl6YXRpb25zIiwiYWNjZXNzaWJpbGl0eU9wdGltaXphdGlvbnMiLCJlc3RpbWF0ZWRJbXByb3ZlbWVudCIsImF2ZXJhZ2VTY29yZSIsImlkZW50aWZ5Q3JpdGljYWxJc3N1ZXMiLCJpZGVudGlmeU9wdGltaXphdGlvbk9wcG9ydHVuaXRpZXMiLCJpZGVudGlmeU1lbW9yeUxlYWtzIiwiaWRlbnRpZnlSZW5kZXJPcHRpbWl6YXRpb25zIiwiaWRlbnRpZnlOZXR3b3JrT3B0aW1pemF0aW9ucyIsImlkZW50aWZ5QWNjZXNzaWJpbGl0eU9wdGltaXphdGlvbnMiLCJnZW5lcmF0ZUNvbXByZWhlbnNpdmVSZWNvbW1lbmRhdGlvbnMiLCJjYWxjdWxhdGVFc3RpbWF0ZWRJbXByb3ZlbWVudCIsImlzc3VlcyIsInNsb3dDb21wb25lbnRzIiwiaGlnaE1lbW9yeUNvbXBvbmVudHMiLCJsb3dTY29yZUNvbXBvbmVudHMiLCJvcHBvcnR1bml0aWVzIiwibWVkaXVtU2NvcmVDb21wb25lbnRzIiwiaGlnaFJlbmRlckNvdW50Q29tcG9uZW50cyIsImxlYWtzIiwiaW5jcmVhc2luZ01lbW9yeUNvbXBvbmVudHMiLCJvcHRpbWl6YXRpb25zIiwic2xvd1JlbmRlckNvbXBvbmVudHMiLCJuZXR3b3JrTWV0cmljcyIsIm5ldHdvcmtUaW1lIiwiaGlnaE5ldHdvcmtUaW1lIiwiYXBpTWV0cmljcyIsImFwaVRpbWUiLCJoaWdoQXBpVGltZSIsImF2Z05ldHdvcmtUaW1lIiwiYXZnQXBpVGltZSIsImFjY2Vzc2liaWxpdHlNZXRyaWNzIiwiYWNjZXNzaWJpbGl0eVRpbWUiLCJoaWdoQWNjZXNzaWJpbGl0eVRpbWUiLCJtZW1vcnlJbnRlbnNpdmVDb21wb25lbnRzIiwiYXZnQWNjZXNzaWJpbGl0eVRpbWUiLCJtYXhQb3NzaWJsZVNjb3JlIiwiaW1wcm92ZW1lbnQiLCJnZXRDb21wb25lbnRQcm9maWxlcyIsIkFycmF5IiwiZnJvbSIsInZhbHVlcyIsImdldENvbXBvbmVudE1ldHJpY3MiLCJmaW5kIiwiZ2V0QWxlcnRzIiwiYWxlcnRzIiwiY2xlYXIiLCJyZWNvcmRNZXRyaWNzIiwiZnVsbE1ldHJpY3MiLCJjaGVja1BlcmZvcm1hbmNlQWxlcnRzIiwicGVyZm9ybWFuY2VHcmFkZSIsImV4cG9ydFByb2ZpbGluZ0RhdGEiLCJKU09OIiwic3RyaW5naWZ5IiwiZW50cmllcyIsImFuYWx5c2lzIiwiaW5zaWdodHMiLCJnZXRQZXJmb3JtYW5jZUluc2lnaHRzIiwicGF0dGVybnMiLCJhbmFseXplUGVyZm9ybWFuY2VQYXR0ZXJucyIsInRvcFBlcmZvcm1lcnMiLCJuZWVkc0F0dGVudGlvbiIsImZvckVhY2giLCJtZXRyaWMiLCJjb252ZXJ0R3JhZGVUb1Njb3JlIiwidHJhY2tDb21wb25lbnRMaWZlY3ljbGUiLCJldmVudCIsImR1cmF0aW9uIiwiY2FsY3VsYXRlUGVyZm9ybWFuY2VHcmFkZSIsInRyZW5kaW5nVXAiLCJ0cmVuZGluZ0Rvd24iLCJzdGFibGUiLCJ2b2xhdGlsZSIsImNvbXBvbmVudE1ldHJpY3MiLCJNYXAiLCJoYXMiLCJnZXQiLCJyZW5kZXJUaW1lcyIsInRyZW5kIiwiY2FsY3VsYXRlVHJlbmQiLCJ2b2xhdGlsaXR5IiwiY2FsY3VsYXRlVm9sYXRpbGl0eSIsImZpcnN0SGFsZiIsImZsb29yIiwic2Vjb25kSGFsZiIsImZpcnN0QXZnIiwic2Vjb25kQXZnIiwibWVhbiIsInZhcmlhbmNlIiwicG93Iiwic3RkRGV2Iiwic3FydCIsImdyYWRlIl0sIm1hcHBpbmdzIjoiQUFBQTs7Q0FFQzs7Ozs7Ozs7Ozs7SUFvRFlBLG1CQUFtQjtlQUFuQkE7O0lBb3dCQUMsbUJBQW1CO2VBQW5CQTs7O3dCQXR6QlU7QUFrRGhCLE1BQU1EO0lBUVg7O0dBRUMsR0FDREUsZUFBZUMs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