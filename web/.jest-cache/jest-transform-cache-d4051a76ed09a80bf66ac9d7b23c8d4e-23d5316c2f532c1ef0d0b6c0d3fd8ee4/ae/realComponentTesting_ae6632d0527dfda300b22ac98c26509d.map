{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/lib/testing/realComponentTesting.tsx"],"sourcesContent":["/**\n * Real Component Testing Framework\n * \n * Provides utilities and patterns for testing real components with real dependencies.\n * This framework embodies the \"test real components to catch real issues\" philosophy.\n * \n * Created: January 27, 2025\n * Status: âœ… PRODUCTION READY\n * Version: 1.0\n */\n\nimport { render } from '@testing-library/react';\nimport type { RenderOptions, RenderResult } from '@testing-library/react';\nimport type { ReactElement, ReactNode } from 'react';\nimport { BrowserRouter } from 'react-router-dom';\n\ninterface ExtendedRenderResult extends RenderResult {\n  __realComponentMetrics?: {\n    renderTime: number;\n    startTime: number;\n    endTime: number;\n  };\n}\n\n// Types for real component testing\nexport interface RealComponentTestConfig {\n  /** Whether to use real dependencies (default: true) */\n  useRealDependencies?: boolean;\n  /** Whether to test real user interactions (default: true) */\n  testRealInteractions?: boolean;\n  /** Whether to test real business logic (default: true) */\n  testRealBusinessLogic?: boolean;\n  /** Whether to test real error handling (default: true) */\n  testRealErrorHandling?: boolean;\n  /** Whether to test real accessibility (default: true) */\n  testRealAccessibility?: boolean;\n  /** Whether to test real performance (default: true) */\n  testRealPerformance?: boolean;\n  /** Custom wrapper components */\n  wrapper?: ReactNode;\n  /** Test timeout in milliseconds (default: 5000) */\n  timeout?: number;\n}\n\nexport interface RealComponentTestResult {\n  /** Whether the test passed */\n  passed: boolean;\n  /** Test execution time in milliseconds */\n  executionTime: number;\n  /** Any errors that occurred */\n  errors: Error[];\n  /** Performance metrics */\n  performance: {\n    renderTime: number;\n    interactionTime: number;\n    memoryUsage?: number;\n  };\n}\n\n/**\n * Real Component Testing Utilities\n */\nexport class RealComponentTester {\n  private config: RealComponentTestConfig;\n\n  constructor(config: RealComponentTestConfig = {}) {\n    this.config = {\n      useRealDependencies: true,\n      testRealInteractions: true,\n      testRealBusinessLogic: true,\n      testRealErrorHandling: true,\n      testRealAccessibility: true,\n      testRealPerformance: true,\n      timeout: 5000,\n      ...config\n    };\n  }\n\n  /**\n   * Render a real component with real dependencies\n   */\n  renderRealComponent(\n    component: ReactElement,\n    options: RenderOptions = {}\n  ): ExtendedRenderResult {\n    const startTime = performance.now();\n    \n    const defaultWrapper = ({ children }: { children: ReactNode }) => (\n      <BrowserRouter>\n        {children}\n      </BrowserRouter>\n    );\n\n    const result = render(component, {\n      wrapper: this.config.wrapper ?? defaultWrapper,\n      ...options\n    });\n\n    const endTime = performance.now();\n    const renderTime = endTime - startTime;\n\n    // Store performance metrics\n    result.__realComponentMetrics = {\n      renderTime,\n      startTime,\n      endTime\n    };\n\n    return result;\n  }\n\n  /**\n   * Test real user interactions\n   */\n  async testRealInteractions(\n    component: ReactElement,\n    interactions: Array<{\n      action: () => Promise<void> | void;\n      description: string;\n      expectedResult?: () => Promise<void> | void;\n    }>\n  ): Promise<RealComponentTestResult> {\n    const startTime = performance.now();\n    const errors: Error[] = [];\n    let passed = true;\n\n    try {\n      const result = this.renderRealComponent(component);\n\n      for (const interaction of interactions) {\n        try {\n          await interaction.action();\n          \n          if (interaction.expectedResult) {\n            await interaction.expectedResult();\n          }\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          errors.push(new Error(`Interaction failed: ${interaction.description} - ${errorMessage}`));\n          passed = false;\n        }\n      }\n\n      const endTime = performance.now();\n      const executionTime = endTime - startTime;\n\n      return {\n        passed,\n        executionTime,\n        errors,\n        performance: {\n          renderTime: result.__realComponentMetrics?.renderTime ?? 0,\n          interactionTime: executionTime - (result.__realComponentMetrics?.renderTime ?? 0)\n        }\n      };\n    } catch (error) {\n      const endTime = performance.now();\n      return {\n        passed: false,\n        executionTime: endTime - startTime,\n        errors: [error as Error],\n        performance: {\n          renderTime: 0,\n          interactionTime: 0\n        }\n      };\n    }\n  }\n\n  /**\n   * Test real business logic\n   */\n  async testRealBusinessLogic(\n    component: ReactElement,\n    businessLogicTests: Array<{\n      description: string;\n      test: () => Promise<void> | void;\n    }>\n  ): Promise<RealComponentTestResult> {\n    const startTime = performance.now();\n    const errors: Error[] = [];\n    let passed = true;\n\n    try {\n      const result = this.renderRealComponent(component);\n\n      for (const test of businessLogicTests) {\n        try {\n          await test.test();\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          errors.push(new Error(`Business logic test failed: ${test.description} - ${errorMessage}`));\n          passed = false;\n        }\n      }\n\n      const endTime = performance.now();\n      const executionTime = endTime - startTime;\n\n      return {\n        passed,\n        executionTime,\n        errors,\n        performance: {\n          renderTime: result.__realComponentMetrics?.renderTime ?? 0,\n          interactionTime: executionTime - (result.__realComponentMetrics?.renderTime ?? 0)\n        }\n      };\n    } catch (error) {\n      const endTime = performance.now();\n      return {\n        passed: false,\n        executionTime: endTime - startTime,\n        errors: [error as Error],\n        performance: {\n          renderTime: 0,\n          interactionTime: 0\n        }\n      };\n    }\n  }\n\n  /**\n   * Test real error handling\n   */\n  async testRealErrorHandling(\n    component: ReactElement,\n    errorScenarios: Array<{\n      description: string;\n      triggerError: () => Promise<void> | void;\n      expectedErrorHandling: () => Promise<void> | void;\n    }>\n  ): Promise<RealComponentTestResult> {\n    const startTime = performance.now();\n    const errors: Error[] = [];\n    let passed = true;\n\n    try {\n      const result = this.renderRealComponent(component);\n\n      for (const scenario of errorScenarios) {\n        try {\n          await scenario.triggerError();\n          await scenario.expectedErrorHandling();\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          errors.push(new Error(`Error handling test failed: ${scenario.description} - ${errorMessage}`));\n          passed = false;\n        }\n      }\n\n      const endTime = performance.now();\n      const executionTime = endTime - startTime;\n\n      return {\n        passed,\n        executionTime,\n        errors,\n        performance: {\n          renderTime: result.__realComponentMetrics?.renderTime ?? 0,\n          interactionTime: executionTime - (result.__realComponentMetrics?.renderTime ?? 0)\n        }\n      };\n    } catch (error) {\n      const endTime = performance.now();\n      return {\n        passed: false,\n        executionTime: endTime - startTime,\n        errors: [error as Error],\n        performance: {\n          renderTime: 0,\n          interactionTime: 0\n        }\n      };\n    }\n  }\n\n  /**\n   * Test real accessibility\n   */\n  async testRealAccessibility(\n    component: ReactElement,\n    accessibilityTests: Array<{\n      description: string;\n      test: () => Promise<void> | void;\n    }>\n  ): Promise<RealComponentTestResult> {\n    const startTime = performance.now();\n    const errors: Error[] = [];\n    let passed = true;\n\n    try {\n      const result = this.renderRealComponent(component);\n\n      for (const test of accessibilityTests) {\n        try {\n          await test.test();\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          errors.push(new Error(`Accessibility test failed: ${test.description} - ${errorMessage}`));\n          passed = false;\n        }\n      }\n\n      const endTime = performance.now();\n      const executionTime = endTime - startTime;\n\n      return {\n        passed,\n        executionTime,\n        errors,\n        performance: {\n          renderTime: result.__realComponentMetrics?.renderTime ?? 0,\n          interactionTime: executionTime - (result.__realComponentMetrics?.renderTime ?? 0)\n        }\n      };\n    } catch (error) {\n      const endTime = performance.now();\n      return {\n        passed: false,\n        executionTime: endTime - startTime,\n        errors: [error as Error],\n        performance: {\n          renderTime: 0,\n          interactionTime: 0\n        }\n      };\n    }\n  }\n\n  /**\n   * Test real performance\n   */\n  async testRealPerformance(\n    component: ReactElement,\n    performanceTests: Array<{\n      description: string;\n      test: () => Promise<void> | void;\n      maxExecutionTime?: number;\n    }>\n  ): Promise<RealComponentTestResult> {\n    const startTime = performance.now();\n    const errors: Error[] = [];\n    let passed = true;\n\n    try {\n      const result = this.renderRealComponent(component);\n\n      for (const test of performanceTests) {\n        const testStartTime = performance.now();\n        \n        try {\n          await test.test();\n          \n          const testEndTime = performance.now();\n          const testExecutionTime = testEndTime - testStartTime;\n          \n          if (test.maxExecutionTime && testExecutionTime > test.maxExecutionTime) {\n            errors.push(new Error(`Performance test failed: ${test.description} - Execution time ${testExecutionTime}ms exceeded limit ${test.maxExecutionTime}ms`));\n            passed = false;\n          }\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          errors.push(new Error(`Performance test failed: ${test.description} - ${errorMessage}`));\n          passed = false;\n        }\n      }\n\n      const endTime = performance.now();\n      const executionTime = endTime - startTime;\n\n      return {\n        passed,\n        executionTime,\n        errors,\n        performance: {\n          renderTime: result.__realComponentMetrics?.renderTime ?? 0,\n          interactionTime: executionTime - (result.__realComponentMetrics?.renderTime ?? 0)\n        }\n      };\n    } catch (error) {\n      const endTime = performance.now();\n      return {\n        passed: false,\n        executionTime: endTime - startTime,\n        errors: [error as Error],\n        performance: {\n          renderTime: 0,\n          interactionTime: 0\n        }\n      };\n    }\n  }\n}\n\n/**\n * Real Component Testing Helpers\n */\nexport const realComponentHelpers = {\n  /**\n   * Create a real component test suite\n   */\n  createTestSuite: (config: RealComponentTestConfig = {}) => {\n    return new RealComponentTester(config);\n  },\n\n  /**\n   * Test real component rendering\n   */\n  testRealRendering: (\n    component: ReactElement,\n    expectedElements: string[],\n    config: RealComponentTestConfig = {}\n  ): RealComponentTestResult => {\n    const tester = new RealComponentTester(config);\n    const result = tester.renderRealComponent(component);\n    \n    const startTime = performance.now();\n    const errors: Error[] = [];\n    let passed = true;\n\n    try {\n      for (const element of expectedElements) {\n        try {\n          const foundElement = result.getByText(element);\n          if (!foundElement) {\n            errors.push(new Error(`Expected element not found: ${element}`));\n            passed = false;\n          }\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          errors.push(new Error(`Element test failed: ${element} - ${errorMessage}`));\n          passed = false;\n        }\n      }\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      errors.push(new Error(`Rendering test failed: ${errorMessage}`));\n      passed = false;\n    }\n\n    const endTime = performance.now();\n    const executionTime = endTime - startTime;\n\n    return {\n      passed,\n      executionTime,\n      errors,\n      performance: {\n        renderTime: result.__realComponentMetrics?.renderTime ?? 0,\n        interactionTime: executionTime - (result.__realComponentMetrics?.renderTime ?? 0)\n      }\n    };\n  },\n\n  /**\n   * Test real component state management\n   */\n  testRealStateManagement: async (\n    component: ReactElement,\n    stateTests: Array<{\n      description: string;\n      action: () => Promise<void> | void;\n      expectedState: () => Promise<void> | void;\n    }>,\n    config: RealComponentTestConfig = {}\n  ): Promise<RealComponentTestResult> => {\n    const tester = new RealComponentTester(config);\n    const result = tester.renderRealComponent(component);\n    \n    const startTime = performance.now();\n    const errors: Error[] = [];\n    let passed = true;\n\n    try {\n      for (const test of stateTests) {\n        try {\n          await test.action();\n          await test.expectedState();\n        } catch (error) {\n          const errorMessage = error instanceof Error ? error.message : String(error);\n          errors.push(new Error(`State management test failed: ${test.description} - ${errorMessage}`));\n          passed = false;\n        }\n      }\n    } catch (error) {\n      const errorMessage = error instanceof Error ? error.message : String(error);\n      errors.push(new Error(`State management test failed: ${errorMessage}`));\n      passed = false;\n    }\n\n    const endTime = performance.now();\n    const executionTime = endTime - startTime;\n\n    return {\n      passed,\n      executionTime,\n      errors,\n      performance: {\n        renderTime: result.__realComponentMetrics?.renderTime ?? 0,\n        interactionTime: executionTime - (result.__realComponentMetrics?.renderTime ?? 0)\n      }\n    };\n  }\n};\n\n/**\n * Real Component Testing Patterns\n */\nexport const realComponentPatterns = {\n  /**\n   * Pattern for testing real component rendering\n   */\n  renderPattern: (component: ReactElement, expectedElements: string[]) => {\n    return {\n      description: 'Test real component rendering',\n      test: () => {\n        const result = realComponentHelpers.testRealRendering(component, expectedElements);\n        if (!result.passed) {\n          throw new Error(`Rendering test failed: ${result.errors.map(e => e.message).join(', ')}`);\n        }\n      }\n    };\n  },\n\n  /**\n   * Pattern for testing real user interactions\n   */\n  interactionPattern: (component: ReactElement, interactions: Array<{\n    action: () => Promise<void> | void;\n    description: string;\n    expectedResult?: () => Promise<void> | void;\n  }>) => {\n    return {\n      description: 'Test real user interactions',\n      test: async () => {\n        const tester = new RealComponentTester();\n        const result = await tester.testRealInteractions(component, interactions);\n        if (!result.passed) {\n          throw new Error(`Interaction test failed: ${result.errors.map(e => e.message).join(', ')}`);\n        }\n      }\n    };\n  },\n\n  /**\n   * Pattern for testing real business logic\n   */\n  businessLogicPattern: (component: ReactElement, businessLogicTests: Array<{\n    description: string;\n    test: () => Promise<void> | void;\n  }>) => {\n    return {\n      description: 'Test real business logic',\n      test: async () => {\n        const tester = new RealComponentTester();\n        const result = await tester.testRealBusinessLogic(component, businessLogicTests);\n        if (!result.passed) {\n          throw new Error(`Business logic test failed: ${result.errors.map(e => e.message).join(', ')}`);\n        }\n      }\n    };\n  },\n\n  /**\n   * Pattern for testing real error handling\n   */\n  errorHandlingPattern: (component: ReactElement, errorScenarios: Array<{\n    description: string;\n    triggerError: () => Promise<void> | void;\n    expectedErrorHandling: () => Promise<void> | void;\n  }>) => {\n    return {\n      description: 'Test real error handling',\n      test: async () => {\n        const tester = new RealComponentTester();\n        const result = await tester.testRealErrorHandling(component, errorScenarios);\n        if (!result.passed) {\n          throw new Error(`Error handling test failed: ${result.errors.map(e => e.message).join(', ')}`);\n        }\n      }\n    };\n  },\n\n  /**\n   * Pattern for testing real accessibility\n   */\n  accessibilityPattern: (component: ReactElement, accessibilityTests: Array<{\n    description: string;\n    test: () => Promise<void> | void;\n  }>) => {\n    return {\n      description: 'Test real accessibility',\n      test: async () => {\n        const tester = new RealComponentTester();\n        const result = await tester.testRealAccessibility(component, accessibilityTests);\n        if (!result.passed) {\n          throw new Error(`Accessibility test failed: ${result.errors.map(e => e.message).join(', ')}`);\n        }\n      }\n    };\n  },\n\n  /**\n   * Pattern for testing real performance\n   */\n  performancePattern: (component: ReactElement, performanceTests: Array<{\n    description: string;\n    test: () => Promise<void> | void;\n    maxExecutionTime?: number;\n  }>) => {\n    return {\n      description: 'Test real performance',\n      test: async () => {\n        const tester = new RealComponentTester();\n        const result = await tester.testRealPerformance(component, performanceTests);\n        if (!result.passed) {\n          throw new Error(`Performance test failed: ${result.errors.map(e => e.message).join(', ')}`);\n        }\n      }\n    };\n  }\n};\n\n/**\n * Real Component Testing Constants\n */\nexport const REAL_COMPONENT_CONSTANTS = {\n  /** Maximum render time for real components (2 seconds) */\n  MAX_RENDER_TIME: 2000,\n  /** Maximum interaction time for real components (1 second) */\n  MAX_INTERACTION_TIME: 1000,\n  /** Maximum memory usage for real components (50MB) */\n  MAX_MEMORY_USAGE: 50 * 1024 * 1024,\n  /** Default test timeout (5 seconds) */\n  DEFAULT_TIMEOUT: 5000,\n  /** Performance test timeout (10 seconds) */\n  PERFORMANCE_TIMEOUT: 10000\n};\n\n/**\n * Real Component Testing Exports\n */\nexport {\n  RealComponentTester,\n  realComponentHelpers,\n  realComponentPatterns,\n  REAL_COMPONENT_CONSTANTS\n};\n\nexport default RealComponentTester;\n"],"names":["REAL_COMPONENT_CONSTANTS","RealComponentTester","realComponentHelpers","realComponentPatterns","constructor","config","useRealDependencies","testRealInteractions","testRealBusinessLogic","testRealErrorHandling","testRealAccessibility","testRealPerformance","timeout","renderRealComponent","component","options","startTime","performance","now","defaultWrapper","children","BrowserRouter","result","render","wrapper","endTime","renderTime","__realComponentMetrics","interactions","errors","passed","interaction","action","expectedResult","error","errorMessage","Error","message","String","push","description","executionTime","interactionTime","businessLogicTests","test","errorScenarios","scenario","triggerError","expectedErrorHandling","accessibilityTests","performanceTests","testStartTime","testEndTime","testExecutionTime","maxExecutionTime","createTestSuite","testRealRendering","expectedElements","tester","element","foundElement","getByText","testRealStateManagement","stateTests","expectedState","renderPattern","map","e","join","interactionPattern","businessLogicPattern","errorHandlingPattern","accessibilityPattern","performancePattern","MAX_RENDER_TIME","MAX_INTERACTION_TIME","MAX_MEMORY_USAGE","DEFAULT_TIMEOUT","PERFORMANCE_TIMEOUT"],"mappings":"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"}