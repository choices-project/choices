{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/performance/component-performance.test.tsx"],"sourcesContent":["/**\n * @jest-environment jsdom\n */\n\nimport React from 'react';\nimport { render, screen, waitFor, act } from '@testing-library/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport SuperiorMobileFeed from '@/features/feeds/components/SuperiorMobileFeed';\nimport { T } from '@/lib/testing/testIds';\n\n// Use real performance API - no mocking\n// Only mock what's absolutely necessary for the test environment\n\n// Mock fetch to control network timing\nconst mockFetch = jest.fn().mockImplementation((url, options) => {\n  // Simulate different response times based on endpoint\n  const delay = url.includes('/api/feeds') ? 50 : 25;\n  \n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        ok: true,\n        status: 200,\n        json: () => Promise.resolve({\n          feeds: [\n            {\n              id: '1',\n              title: 'Performance Test Feed',\n              content: 'This is a performance test feed item',\n              publishedAt: new Date().toISOString(),\n              author: 'Test Author',\n              category: 'test',\n              engagement: {\n                likes: 10,\n                shares: 5,\n                comments: 3,\n              },\n            },\n          ],\n        }),\n        text: () => Promise.resolve(''),\n        headers: new Map(),\n      });\n    }, delay);\n  });\n});\n\n// Setup minimal mocks for test environment\nbeforeAll(() => {\n  global.fetch = mockFetch as any;\n  \n  // Mock localStorage for component functionality\n  Object.defineProperty(window, 'localStorage', {\n    value: {\n      getItem: jest.fn(),\n      setItem: jest.fn(),\n      removeItem: jest.fn(),\n      clear: jest.fn(),\n    },\n    writable: true,\n  });\n  \n  // Mock navigator for online status\n  Object.defineProperty(navigator, 'onLine', {\n    value: true,\n    writable: true,\n  });\n});\n\n// Clean up after each test\nafterEach(() => {\n  jest.clearAllMocks();\n});\n\ndescribe('Component Performance Tests', () => {\n  describe('Rendering Performance', () => {\n    it('should render within performance budget', async () => {\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Performance budget: 200ms for initial render (realistic for test environment)\n      expect(renderTime).toBeLessThan(200);\n      \n      // Log actual performance for monitoring\n      console.log(`Component render time: ${renderTime.toFixed(2)}ms`);\n    });\n\n    it('should handle large datasets efficiently', async () => {\n      // Mock large dataset\n      const largeDataset = Array.from({ length: 1000 }, (_, i) => ({\n        id: `feed-${i}`,\n        title: `Feed Item ${i}`,\n        content: `This is feed item number ${i}`,\n        publishedAt: new Date().toISOString(),\n        author: `Author ${i}`,\n        category: 'test',\n        engagement: {\n          likes: Math.floor(Math.random() * 100),\n          shares: Math.floor(Math.random() * 50),\n          comments: Math.floor(Math.random() * 25),\n        },\n      }));\n\n      mockFetch.mockImplementation((url) => {\n        if (url.includes('/api/feeds')) {\n          return Promise.resolve({\n            ok: true,\n            json: () => Promise.resolve({ feeds: largeDataset }),\n          });\n        }\n        return Promise.resolve({ ok: true, json: () => Promise.resolve({}) });\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Performance budget: 500ms for large dataset\n      expect(renderTime).toBeLessThan(500);\n    });\n\n    it('should not cause memory leaks', async () => {\n      const initialMemory = performance.memory?.usedJSHeapSize || 0;\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      // Simulate component unmount\n      await act(async () => {\n        render(<div />);\n      });\n      \n      // Force garbage collection if available\n      if (global.gc) {\n        global.gc();\n      }\n      \n      const finalMemory = performance.memory?.usedJSHeapSize || 0;\n      const memoryIncrease = finalMemory - initialMemory;\n      \n      // Memory increase should be minimal (less than 1MB)\n      expect(memoryIncrease).toBeLessThan(1000000);\n    });\n  });\n\n  describe('Interaction Performance', () => {\n    it('should handle rapid state changes efficiently', async () => {\n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n\n      const startTime = performance.now();\n      \n      // Simulate rapid state changes\n      for (let i = 0; i < 100; i++) {\n        await act(async () => {\n          // Trigger state changes\n          const buttons = screen.getAllByRole('button');\n          if (buttons.length > 0) {\n            buttons[0].click();\n          }\n        });\n      }\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      // Performance budget: 1 second for 100 rapid interactions\n      expect(totalTime).toBeLessThan(1000);\n    });\n\n    it('should handle scroll events efficiently', async () => {\n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n\n      const startTime = performance.now();\n      \n      // Simulate scroll events\n      for (let i = 0; i < 50; i++) {\n        await act(async () => {\n          window.dispatchEvent(new Event('scroll'));\n        });\n      }\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      // Performance budget: 500ms for 50 scroll events\n      expect(totalTime).toBeLessThan(500);\n    });\n  });\n\n  describe('Network Performance', () => {\n    it('should handle slow network responses gracefully', async () => {\n      // Mock slow network response\n      mockFetch.mockImplementation((url) => {\n        const delay = url.includes('/api/feeds') ? 2000 : 100;\n        \n        return new Promise((resolve) => {\n          setTimeout(() => {\n            resolve({\n              ok: true,\n              json: () => Promise.resolve({ feeds: [] }),\n            });\n          }, delay);\n        });\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Should render quickly even with slow network\n      expect(renderTime).toBeLessThan(200);\n    });\n\n    it('should handle network errors efficiently', async () => {\n      // Mock network error\n      mockFetch.mockImplementation(() => {\n        return Promise.reject(new Error('Network error'));\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Should handle errors quickly\n      expect(renderTime).toBeLessThan(100);\n    });\n  });\n\n  describe('Memory Performance', () => {\n    it('should not accumulate memory over time', async () => {\n      const memorySnapshots = [];\n      \n      for (let i = 0; i < 10; i++) {\n        await act(async () => {\n          render(\n            <BrowserRouter>\n              <SuperiorMobileFeed />\n            </BrowserRouter>\n          );\n        });\n        \n        // Unmount component\n        await act(async () => {\n          render(<div />);\n        });\n        \n        // Force garbage collection if available\n        if (global.gc) {\n          global.gc();\n        }\n        \n        memorySnapshots.push(performance.memory?.usedJSHeapSize || 0);\n      }\n      \n      // Memory should not continuously increase\n      const firstSnapshot = memorySnapshots[0];\n      const lastSnapshot = memorySnapshots[memorySnapshots.length - 1];\n      const memoryIncrease = lastSnapshot - firstSnapshot;\n      \n      // Memory increase should be minimal\n      expect(memoryIncrease).toBeLessThan(500000); // 500KB\n    });\n  });\n\n  describe('Accessibility Performance', () => {\n    it('should maintain accessibility performance with large datasets', async () => {\n      // Mock large dataset\n      const largeDataset = Array.from({ length: 500 }, (_, i) => ({\n        id: `feed-${i}`,\n        title: `Feed Item ${i}`,\n        content: `This is feed item number ${i}`,\n        publishedAt: new Date().toISOString(),\n        author: `Author ${i}`,\n        category: 'test',\n        engagement: {\n          likes: Math.floor(Math.random() * 100),\n          shares: Math.floor(Math.random() * 50),\n          comments: Math.floor(Math.random() * 25),\n        },\n      }));\n\n      mockFetch.mockImplementation((url) => {\n        if (url.includes('/api/feeds')) {\n          return Promise.resolve({\n            ok: true,\n            json: () => Promise.resolve({ feeds: largeDataset }),\n          });\n        }\n        return Promise.resolve({ ok: true, json: () => Promise.resolve({}) });\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Accessibility features should not significantly impact performance\n      expect(renderTime).toBeLessThan(300);\n      \n      // Verify accessibility elements are present\n      expect(screen.getByRole('main')).toBeInTheDocument();\n      expect(screen.getByRole('navigation')).toBeInTheDocument();\n      expect(screen.getAllByRole('button').length).toBeGreaterThan(0);\n    });\n  });\n\n  describe('Performance Monitoring', () => {\n    it('should measure real performance metrics', async () => {\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Verify we can measure real performance\n      expect(renderTime).toBeGreaterThan(0);\n      expect(renderTime).toBeLessThan(500); // Reasonable upper bound\n      \n      // Log performance metrics for monitoring\n      console.log(`Real component render time: ${renderTime.toFixed(2)}ms`);\n      \n      // Verify performance API is available\n      expect(typeof performance.now).toBe('function');\n    });\n\n    it('should track memory usage', async () => {\n      const initialMemory = performance.memory?.usedJSHeapSize || 0;\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const finalMemory = performance.memory?.usedJSHeapSize || 0;\n      const memoryUsed = finalMemory - initialMemory;\n      \n      // Verify memory tracking works\n      expect(memoryUsed).toBeGreaterThanOrEqual(0);\n      \n      // Log memory usage for monitoring\n      console.log(`Memory used: ${(memoryUsed / 1024 / 1024).toFixed(2)}MB`);\n    });\n  });\n});\n"],"names":["mockFetch","jest","fn","mockImplementation","url","options","delay","includes","Promise","resolve","setTimeout","ok","status","json","feeds","id","title","content","publishedAt","Date","toISOString","author","category","engagement","likes","shares","comments","text","headers","Map","beforeAll","global","fetch","Object","defineProperty","window","value","getItem","setItem","removeItem","clear","writable","navigator","afterEach","clearAllMocks","describe","it","startTime","performance","now","act","render","BrowserRouter","SuperiorMobileFeed","endTime","renderTime","expect","toBeLessThan","console","log","toFixed","largeDataset","Array","from","length","_","i","Math","floor","random","initialMemory","memory","usedJSHeapSize","div","gc","finalMemory","memoryIncrease","buttons","screen","getAllByRole","click","totalTime","dispatchEvent","Event","reject","Error","memorySnapshots","push","firstSnapshot","lastSnapshot","getByRole","toBeInTheDocument","toBeGreaterThan","toBe","memoryUsed","toBeGreaterThanOrEqual"],"mappings":"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"}