795df77357d405d3d83a306c44fd6a87
/**
 * @jest-environment jsdom
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _reactrouterdom = require("react-router-dom");
const _SuperiorMobileFeed = /*#__PURE__*/ _interop_require_default(require("../../../../features/feeds/components/SuperiorMobileFeed"));
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock performance API
const mockPerformance = {
    now: jest.fn(()=>Date.now()),
    mark: jest.fn(),
    measure: jest.fn(),
    getEntriesByType: jest.fn(()=>[]),
    getEntriesByName: jest.fn(()=>[]),
    clearMarks: jest.fn(),
    clearMeasures: jest.fn()
};
// Mock performance observer
const mockPerformanceObserver = jest.fn().mockImplementation((callback)=>({
        observe: jest.fn(),
        disconnect: jest.fn(),
        takeRecords: jest.fn(()=>[])
    }));
// Mock ResizeObserver
const mockResizeObserver = jest.fn().mockImplementation((callback)=>({
        observe: jest.fn(),
        disconnect: jest.fn(),
        unobserve: jest.fn()
    }));
// Mock IntersectionObserver
const mockIntersectionObserver = jest.fn().mockImplementation((callback)=>({
        observe: jest.fn(),
        disconnect: jest.fn(),
        unobserve: jest.fn()
    }));
// Mock requestIdleCallback
const mockRequestIdleCallback = jest.fn((callback)=>{
    setTimeout(()=>callback({
            didTimeout: false,
            timeRemaining: ()=>50
        }), 0);
    return 1;
});
// Mock cancelIdleCallback
const mockCancelIdleCallback = jest.fn();
// Mock requestAnimationFrame
const mockRequestAnimationFrame = jest.fn((callback)=>{
    setTimeout(callback, 16);
    return 1;
});
// Mock cancelAnimationFrame
const mockCancelAnimationFrame = jest.fn();
// Mock memory API
const mockMemory = {
    usedJSHeapSize: 1000000,
    totalJSHeapSize: 2000000,
    jsHeapSizeLimit: 4000000
};
// Mock navigator
const mockNavigator = {
    ...navigator,
    onLine: true,
    connection: {
        effectiveType: "4g",
        downlink: 10,
        rtt: 50
    },
    deviceMemory: 8,
    hardwareConcurrency: 8
};
// Mock localStorage
const mockLocalStorage = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn(),
    length: 0,
    key: jest.fn()
};
// Mock sessionStorage
const mockSessionStorage = {
    getItem: jest.fn(),
    setItem: jest.fn(),
    removeItem: jest.fn(),
    clear: jest.fn(),
    length: 0,
    key: jest.fn()
};
// Mock fetch
const mockFetch = jest.fn().mockImplementation((url, options)=>{
    // Simulate different response times based on endpoint
    const delay = url.includes("/api/feeds") ? 100 : 50;
    return new Promise((resolve)=>{
        setTimeout(()=>{
            resolve({
                ok: true,
                status: 200,
                json: ()=>Promise.resolve({
                        feeds: [
                            {
                                id: "1",
                                title: "Performance Test Feed",
                                content: "This is a performance test feed item",
                                publishedAt: new Date().toISOString(),
                                author: "Test Author",
                                category: "test",
                                engagement: {
                                    likes: 10,
                                    shares: 5,
                                    comments: 3
                                }
                            }
                        ]
                    }),
                text: ()=>Promise.resolve(""),
                headers: new Map()
            });
        }, delay);
    });
});
// Mock console methods for performance logging
const mockConsole = {
    ...console,
    time: jest.fn(),
    timeEnd: jest.fn(),
    log: jest.fn(),
    warn: jest.fn(),
    error: jest.fn()
};
// Setup global mocks
beforeAll(()=>{
    global.performance = mockPerformance;
    global.PerformanceObserver = mockPerformanceObserver;
    global.ResizeObserver = mockResizeObserver;
    global.IntersectionObserver = mockIntersectionObserver;
    global.requestIdleCallback = mockRequestIdleCallback;
    global.cancelIdleCallback = mockCancelIdleCallback;
    global.requestAnimationFrame = mockRequestAnimationFrame;
    global.cancelAnimationFrame = mockCancelAnimationFrame;
    global.navigator = mockNavigator;
    global.localStorage = mockLocalStorage;
    global.sessionStorage = mockSessionStorage;
    global.fetch = mockFetch;
    global.console = mockConsole;
    // Mock memory API
    Object.defineProperty(global, "memory", {
        value: mockMemory,
        writable: true
    });
});
// Clean up after each test
afterEach(()=>{
    jest.clearAllMocks();
    mockPerformance.now.mockClear();
    mockPerformance.mark.mockClear();
    mockPerformance.measure.mockClear();
    mockConsole.time.mockClear();
    mockConsole.timeEnd.mockClear();
});
describe("Component Performance Tests", ()=>{
    describe("Rendering Performance", ()=>{
        it("should render within performance budget", async ()=>{
            const startTime = performance.now();
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
                }));
            });
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Performance budget: 100ms for initial render
            expect(renderTime).toBeLessThan(100);
            // Verify performance marks were created
            expect(mockPerformance.mark).toHaveBeenCalledWith("component-render-start");
            expect(mockPerformance.mark).toHaveBeenCalledWith("component-render-end");
        });
        it("should handle large datasets efficiently", async ()=>{
            // Mock large dataset
            const largeDataset = Array.from({
                length: 1000
            }, (_, i)=>({
                    id: `feed-${i}`,
                    title: `Feed Item ${i}`,
                    content: `This is feed item number ${i}`,
                    publishedAt: new Date().toISOString(),
                    author: `Author ${i}`,
                    category: "test",
                    engagement: {
                        likes: Math.floor(Math.random() * 100),
                        shares: Math.floor(Math.random() * 50),
                        comments: Math.floor(Math.random() * 25)
                    }
                }));
            mockFetch.mockImplementation((url)=>{
                if (url.includes("/api/feeds")) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                feeds: largeDataset
                            })
                    });
                }
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({})
                });
            });
            const startTime = performance.now();
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
                }));
            });
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Performance budget: 500ms for large dataset
            expect(renderTime).toBeLessThan(500);
        });
        it("should not cause memory leaks", async ()=>{
            const initialMemory = performance.memory?.usedJSHeapSize || 0;
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
                }));
            });
            // Simulate component unmount
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {}));
            });
            // Force garbage collection if available
            if (global.gc) {
                global.gc();
            }
            const finalMemory = performance.memory?.usedJSHeapSize || 0;
            const memoryIncrease = finalMemory - initialMemory;
            // Memory increase should be minimal (less than 1MB)
            expect(memoryIncrease).toBeLessThan(1000000);
        });
    });
    describe("Interaction Performance", ()=>{
        it("should handle rapid state changes efficiently", async ()=>{
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
                }));
            });
            const startTime = performance.now();
            // Simulate rapid state changes
            for(let i = 0; i < 100; i++){
                await (0, _react1.act)(async ()=>{
                    // Trigger state changes
                    const buttons = _react1.screen.getAllByRole("button");
                    if (buttons.length > 0) {
                        buttons[0].click();
                    }
                });
            }
            const endTime = performance.now();
            const totalTime = endTime - startTime;
            // Performance budget: 1 second for 100 rapid interactions
            expect(totalTime).toBeLessThan(1000);
        });
        it("should handle scroll events efficiently", async ()=>{
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
                }));
            });
            const startTime = performance.now();
            // Simulate scroll events
            for(let i = 0; i < 50; i++){
                await (0, _react1.act)(async ()=>{
                    window.dispatchEvent(new Event("scroll"));
                });
            }
            const endTime = performance.now();
            const totalTime = endTime - startTime;
            // Performance budget: 500ms for 50 scroll events
            expect(totalTime).toBeLessThan(500);
        });
    });
    describe("Network Performance", ()=>{
        it("should handle slow network responses gracefully", async ()=>{
            // Mock slow network response
            mockFetch.mockImplementation((url)=>{
                const delay = url.includes("/api/feeds") ? 2000 : 100;
                return new Promise((resolve)=>{
                    setTimeout(()=>{
                        resolve({
                            ok: true,
                            json: ()=>Promise.resolve({
                                    feeds: []
                                })
                        });
                    }, delay);
                });
            });
            const startTime = performance.now();
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
                }));
            });
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Should render quickly even with slow network
            expect(renderTime).toBeLessThan(200);
        });
        it("should handle network errors efficiently", async ()=>{
            // Mock network error
            mockFetch.mockImplementation(()=>{
                return Promise.reject(new Error("Network error"));
            });
            const startTime = performance.now();
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
                }));
            });
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Should handle errors quickly
            expect(renderTime).toBeLessThan(100);
        });
    });
    describe("Memory Performance", ()=>{
        it("should not accumulate memory over time", async ()=>{
            const memorySnapshots = [];
            for(let i = 0; i < 10; i++){
                await (0, _react1.act)(async ()=>{
                    (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
                    }));
                });
                // Unmount component
                await (0, _react1.act)(async ()=>{
                    (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {}));
                });
                // Force garbage collection if available
                if (global.gc) {
                    global.gc();
                }
                memorySnapshots.push(performance.memory?.usedJSHeapSize || 0);
            }
            // Memory should not continuously increase
            const firstSnapshot = memorySnapshots[0];
            const lastSnapshot = memorySnapshots[memorySnapshots.length - 1];
            const memoryIncrease = lastSnapshot - firstSnapshot;
            // Memory increase should be minimal
            expect(memoryIncrease).toBeLessThan(500000); // 500KB
        });
    });
    describe("Accessibility Performance", ()=>{
        it("should maintain accessibility performance with large datasets", async ()=>{
            // Mock large dataset
            const largeDataset = Array.from({
                length: 500
            }, (_, i)=>({
                    id: `feed-${i}`,
                    title: `Feed Item ${i}`,
                    content: `This is feed item number ${i}`,
                    publishedAt: new Date().toISOString(),
                    author: `Author ${i}`,
                    category: "test",
                    engagement: {
                        likes: Math.floor(Math.random() * 100),
                        shares: Math.floor(Math.random() * 50),
                        comments: Math.floor(Math.random() * 25)
                    }
                }));
            mockFetch.mockImplementation((url)=>{
                if (url.includes("/api/feeds")) {
                    return Promise.resolve({
                        ok: true,
                        json: ()=>Promise.resolve({
                                feeds: largeDataset
                            })
                    });
                }
                return Promise.resolve({
                    ok: true,
                    json: ()=>Promise.resolve({})
                });
            });
            const startTime = performance.now();
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
                }));
            });
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Accessibility features should not significantly impact performance
            expect(renderTime).toBeLessThan(300);
            // Verify accessibility elements are present
            expect(_react1.screen.getByRole("main")).toBeInTheDocument();
            expect(_react1.screen.getByRole("navigation")).toBeInTheDocument();
            expect(_react1.screen.getAllByRole("button")).toHaveLength(expect.any(Number));
        });
    });
    describe("Performance Monitoring", ()=>{
        it("should create performance marks for monitoring", async ()=>{
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
                }));
            });
            // Verify performance marks were created
            expect(mockPerformance.mark).toHaveBeenCalledWith("component-render-start");
            expect(mockPerformance.mark).toHaveBeenCalledWith("component-render-end");
            // Verify performance measures were created
            expect(mockPerformance.measure).toHaveBeenCalledWith("component-render-duration", "component-render-start", "component-render-end");
        });
        it("should log performance metrics", async ()=>{
            await (0, _react1.act)(async ()=>{
                (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
                }));
            });
            // Verify console timing methods were called
            expect(mockConsole.time).toHaveBeenCalledWith("component-render");
            expect(mockConsole.timeEnd).toHaveBeenCalledWith("component-render");
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L3VuaXQvcGVyZm9ybWFuY2UvY29tcG9uZW50LXBlcmZvcm1hbmNlLnRlc3QudHN4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGplc3QtZW52aXJvbm1lbnQganNkb21cbiAqL1xuXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgcmVuZGVyLCBzY3JlZW4sIHdhaXRGb3IsIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgQnJvd3NlclJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IFN1cGVyaW9yTW9iaWxlRmVlZCBmcm9tICdAL2ZlYXR1cmVzL2ZlZWRzL2NvbXBvbmVudHMvU3VwZXJpb3JNb2JpbGVGZWVkJztcbmltcG9ydCB7IFQgfSBmcm9tICdAL2xpYi90ZXN0aW5nL3Rlc3RJZHMnO1xuXG4vLyBNb2NrIHBlcmZvcm1hbmNlIEFQSVxuY29uc3QgbW9ja1BlcmZvcm1hbmNlID0ge1xuICBub3c6IGplc3QuZm4oKCkgPT4gRGF0ZS5ub3coKSksXG4gIG1hcms6IGplc3QuZm4oKSxcbiAgbWVhc3VyZTogamVzdC5mbigpLFxuICBnZXRFbnRyaWVzQnlUeXBlOiBqZXN0LmZuKCgpID0+IFtdKSxcbiAgZ2V0RW50cmllc0J5TmFtZTogamVzdC5mbigoKSA9PiBbXSksXG4gIGNsZWFyTWFya3M6IGplc3QuZm4oKSxcbiAgY2xlYXJNZWFzdXJlczogamVzdC5mbigpLFxufTtcblxuLy8gTW9jayBwZXJmb3JtYW5jZSBvYnNlcnZlclxuY29uc3QgbW9ja1BlcmZvcm1hbmNlT2JzZXJ2ZXIgPSBqZXN0LmZuKCkubW9ja0ltcGxlbWVudGF0aW9uKChjYWxsYmFjaykgPT4gKHtcbiAgb2JzZXJ2ZTogamVzdC5mbigpLFxuICBkaXNjb25uZWN0OiBqZXN0LmZuKCksXG4gIHRha2VSZWNvcmRzOiBqZXN0LmZuKCgpID0+IFtdKSxcbn0pKTtcblxuLy8gTW9jayBSZXNpemVPYnNlcnZlclxuY29uc3QgbW9ja1Jlc2l6ZU9ic2VydmVyID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoY2FsbGJhY2spID0+ICh7XG4gIG9ic2VydmU6IGplc3QuZm4oKSxcbiAgZGlzY29ubmVjdDogamVzdC5mbigpLFxuICB1bm9ic2VydmU6IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayBJbnRlcnNlY3Rpb25PYnNlcnZlclxuY29uc3QgbW9ja0ludGVyc2VjdGlvbk9ic2VydmVyID0gamVzdC5mbigpLm1vY2tJbXBsZW1lbnRhdGlvbigoY2FsbGJhY2spID0+ICh7XG4gIG9ic2VydmU6IGplc3QuZm4oKSxcbiAgZGlzY29ubmVjdDogamVzdC5mbigpLFxuICB1bm9ic2VydmU6IGplc3QuZm4oKSxcbn0pKTtcblxuLy8gTW9jayByZXF1ZXN0SWRsZUNhbGxiYWNrXG5jb25zdCBtb2NrUmVxdWVzdElkbGVDYWxsYmFjayA9IGplc3QuZm4oKGNhbGxiYWNrKSA9PiB7XG4gIHNldFRpbWVvdXQoKCkgPT4gY2FsbGJhY2soeyBkaWRUaW1lb3V0OiBmYWxzZSwgdGltZVJlbWFpbmluZzogKCkgPT4gNTAgfSksIDApO1xuICByZXR1cm4gMTtcbn0pO1xuXG4vLyBNb2NrIGNhbmNlbElkbGVDYWxsYmFja1xuY29uc3QgbW9ja0NhbmNlbElkbGVDYWxsYmFjayA9IGplc3QuZm4oKTtcblxuLy8gTW9jayByZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbmNvbnN0IG1vY2tSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBqZXN0LmZuKChjYWxsYmFjaykgPT4ge1xuICBzZXRUaW1lb3V0KGNhbGxiYWNrLCAxNik7XG4gIHJldHVybiAxO1xufSk7XG5cbi8vIE1vY2sgY2FuY2VsQW5pbWF0aW9uRnJhbWVcbmNvbnN0IG1vY2tDYW5jZWxBbmltYXRpb25GcmFtZSA9IGplc3QuZm4oKTtcblxuLy8gTW9jayBtZW1vcnkgQVBJXG5jb25zdCBtb2NrTWVtb3J5ID0ge1xuICB1c2VkSlNIZWFwU2l6ZTogMTAwMDAwMCxcbiAgdG90YWxKU0hlYXBTaXplOiAyMDAwMDAwLFxuICBqc0hlYXBTaXplTGltaXQ6IDQwMDAwMDAsXG59O1xuXG4vLyBNb2NrIG5hdmlnYXRvclxuY29uc3QgbW9ja05hdmlnYXRvciA9IHtcbiAgLi4ubmF2aWdhdG9yLFxuICBvbkxpbmU6IHRydWUsXG4gIGNvbm5lY3Rpb246IHtcbiAgICBlZmZlY3RpdmVUeXBlOiAnNGcnLFxuICAgIGRvd25saW5rOiAxMCxcbiAgICBydHQ6IDUwLFxuICB9LFxuICBkZXZpY2VNZW1vcnk6IDgsXG4gIGhhcmR3YXJlQ29uY3VycmVuY3k6IDgsXG59O1xuXG4vLyBNb2NrIGxvY2FsU3RvcmFnZVxuY29uc3QgbW9ja0xvY2FsU3RvcmFnZSA9IHtcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxuICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgY2xlYXI6IGplc3QuZm4oKSxcbiAgbGVuZ3RoOiAwLFxuICBrZXk6IGplc3QuZm4oKSxcbn07XG5cbi8vIE1vY2sgc2Vzc2lvblN0b3JhZ2VcbmNvbnN0IG1vY2tTZXNzaW9uU3RvcmFnZSA9IHtcbiAgZ2V0SXRlbTogamVzdC5mbigpLFxuICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gIHJlbW92ZUl0ZW06IGplc3QuZm4oKSxcbiAgY2xlYXI6IGplc3QuZm4oKSxcbiAgbGVuZ3RoOiAwLFxuICBrZXk6IGplc3QuZm4oKSxcbn07XG5cbi8vIE1vY2sgZmV0Y2hcbmNvbnN0IG1vY2tGZXRjaCA9IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKHVybCwgb3B0aW9ucykgPT4ge1xuICAvLyBTaW11bGF0ZSBkaWZmZXJlbnQgcmVzcG9uc2UgdGltZXMgYmFzZWQgb24gZW5kcG9pbnRcbiAgY29uc3QgZGVsYXkgPSB1cmwuaW5jbHVkZXMoJy9hcGkvZmVlZHMnKSA/IDEwMCA6IDUwO1xuICBcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICByZXNvbHZlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIHN0YXR1czogMjAwLFxuICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgIGZlZWRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAnMScsXG4gICAgICAgICAgICAgIHRpdGxlOiAnUGVyZm9ybWFuY2UgVGVzdCBGZWVkJyxcbiAgICAgICAgICAgICAgY29udGVudDogJ1RoaXMgaXMgYSBwZXJmb3JtYW5jZSB0ZXN0IGZlZWQgaXRlbScsXG4gICAgICAgICAgICAgIHB1Ymxpc2hlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgIGF1dGhvcjogJ1Rlc3QgQXV0aG9yJyxcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6ICd0ZXN0JyxcbiAgICAgICAgICAgICAgZW5nYWdlbWVudDoge1xuICAgICAgICAgICAgICAgIGxpa2VzOiAxMCxcbiAgICAgICAgICAgICAgICBzaGFyZXM6IDUsXG4gICAgICAgICAgICAgICAgY29tbWVudHM6IDMsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgIF0sXG4gICAgICAgIH0pLFxuICAgICAgICB0ZXh0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoJycpLFxuICAgICAgICBoZWFkZXJzOiBuZXcgTWFwKCksXG4gICAgICB9KTtcbiAgICB9LCBkZWxheSk7XG4gIH0pO1xufSk7XG5cbi8vIE1vY2sgY29uc29sZSBtZXRob2RzIGZvciBwZXJmb3JtYW5jZSBsb2dnaW5nXG5jb25zdCBtb2NrQ29uc29sZSA9IHtcbiAgLi4uY29uc29sZSxcbiAgdGltZTogamVzdC5mbigpLFxuICB0aW1lRW5kOiBqZXN0LmZuKCksXG4gIGxvZzogamVzdC5mbigpLFxuICB3YXJuOiBqZXN0LmZuKCksXG4gIGVycm9yOiBqZXN0LmZuKCksXG59O1xuXG4vLyBTZXR1cCBnbG9iYWwgbW9ja3NcbmJlZm9yZUFsbCgoKSA9PiB7XG4gIGdsb2JhbC5wZXJmb3JtYW5jZSA9IG1vY2tQZXJmb3JtYW5jZSBhcyBhbnk7XG4gIGdsb2JhbC5QZXJmb3JtYW5jZU9ic2VydmVyID0gbW9ja1BlcmZvcm1hbmNlT2JzZXJ2ZXIgYXMgYW55O1xuICBnbG9iYWwuUmVzaXplT2JzZXJ2ZXIgPSBtb2NrUmVzaXplT2JzZXJ2ZXIgYXMgYW55O1xuICBnbG9iYWwuSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgPSBtb2NrSW50ZXJzZWN0aW9uT2JzZXJ2ZXIgYXMgYW55O1xuICBnbG9iYWwucmVxdWVzdElkbGVDYWxsYmFjayA9IG1vY2tSZXF1ZXN0SWRsZUNhbGxiYWNrIGFzIGFueTtcbiAgZ2xvYmFsLmNhbmNlbElkbGVDYWxsYmFjayA9IG1vY2tDYW5jZWxJZGxlQ2FsbGJhY2sgYXMgYW55O1xuICBnbG9iYWwucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gbW9ja1JlcXVlc3RBbmltYXRpb25GcmFtZSBhcyBhbnk7XG4gIGdsb2JhbC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IG1vY2tDYW5jZWxBbmltYXRpb25GcmFtZSBhcyBhbnk7XG4gIGdsb2JhbC5uYXZpZ2F0b3IgPSBtb2NrTmF2aWdhdG9yIGFzIGFueTtcbiAgZ2xvYmFsLmxvY2FsU3RvcmFnZSA9IG1vY2tMb2NhbFN0b3JhZ2UgYXMgYW55O1xuICBnbG9iYWwuc2Vzc2lvblN0b3JhZ2UgPSBtb2NrU2Vzc2lvblN0b3JhZ2UgYXMgYW55O1xuICBnbG9iYWwuZmV0Y2ggPSBtb2NrRmV0Y2ggYXMgYW55O1xuICBnbG9iYWwuY29uc29sZSA9IG1vY2tDb25zb2xlIGFzIGFueTtcbiAgXG4gIC8vIE1vY2sgbWVtb3J5IEFQSVxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZ2xvYmFsLCAnbWVtb3J5Jywge1xuICAgIHZhbHVlOiBtb2NrTWVtb3J5LFxuICAgIHdyaXRhYmxlOiB0cnVlLFxuICB9KTtcbn0pO1xuXG4vLyBDbGVhbiB1cCBhZnRlciBlYWNoIHRlc3RcbmFmdGVyRWFjaCgoKSA9PiB7XG4gIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICBtb2NrUGVyZm9ybWFuY2Uubm93Lm1vY2tDbGVhcigpO1xuICBtb2NrUGVyZm9ybWFuY2UubWFyay5tb2NrQ2xlYXIoKTtcbiAgbW9ja1BlcmZvcm1hbmNlLm1lYXN1cmUubW9ja0NsZWFyKCk7XG4gIG1vY2tDb25zb2xlLnRpbWUubW9ja0NsZWFyKCk7XG4gIG1vY2tDb25zb2xlLnRpbWVFbmQubW9ja0NsZWFyKCk7XG59KTtcblxuZGVzY3JpYmUoJ0NvbXBvbmVudCBQZXJmb3JtYW5jZSBUZXN0cycsICgpID0+IHtcbiAgZGVzY3JpYmUoJ1JlbmRlcmluZyBQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3aXRoaW4gcGVyZm9ybWFuY2UgYnVkZ2V0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIFBlcmZvcm1hbmNlIGJ1ZGdldDogMTAwbXMgZm9yIGluaXRpYWwgcmVuZGVyXG4gICAgICBleHBlY3QocmVuZGVyVGltZSkudG9CZUxlc3NUaGFuKDEwMCk7XG4gICAgICBcbiAgICAgIC8vIFZlcmlmeSBwZXJmb3JtYW5jZSBtYXJrcyB3ZXJlIGNyZWF0ZWRcbiAgICAgIGV4cGVjdChtb2NrUGVyZm9ybWFuY2UubWFyaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2NvbXBvbmVudC1yZW5kZXItc3RhcnQnKTtcbiAgICAgIGV4cGVjdChtb2NrUGVyZm9ybWFuY2UubWFyaykudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2NvbXBvbmVudC1yZW5kZXItZW5kJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBsYXJnZSBkYXRhc2V0cyBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgbGFyZ2UgZGF0YXNldFxuICAgICAgY29uc3QgbGFyZ2VEYXRhc2V0ID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogMTAwMCB9LCAoXywgaSkgPT4gKHtcbiAgICAgICAgaWQ6IGBmZWVkLSR7aX1gLFxuICAgICAgICB0aXRsZTogYEZlZWQgSXRlbSAke2l9YCxcbiAgICAgICAgY29udGVudDogYFRoaXMgaXMgZmVlZCBpdGVtIG51bWJlciAke2l9YCxcbiAgICAgICAgcHVibGlzaGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgYXV0aG9yOiBgQXV0aG9yICR7aX1gLFxuICAgICAgICBjYXRlZ29yeTogJ3Rlc3QnLFxuICAgICAgICBlbmdhZ2VtZW50OiB7XG4gICAgICAgICAgbGlrZXM6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCksXG4gICAgICAgICAgc2hhcmVzOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MCksXG4gICAgICAgICAgY29tbWVudHM6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1KSxcbiAgICAgICAgfSxcbiAgICAgIH0pKTtcblxuICAgICAgbW9ja0ZldGNoLm1vY2tJbXBsZW1lbnRhdGlvbigodXJsKSA9PiB7XG4gICAgICAgIGlmICh1cmwuaW5jbHVkZXMoJy9hcGkvZmVlZHMnKSkge1xuICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBmZWVkczogbGFyZ2VEYXRhc2V0IH0pLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoeyBvazogdHJ1ZSwganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHt9KSB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBzdGFydFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIFxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgICAgPFN1cGVyaW9yTW9iaWxlRmVlZCAvPlxuICAgICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBlbmRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBjb25zdCByZW5kZXJUaW1lID0gZW5kVGltZSAtIHN0YXJ0VGltZTtcbiAgICAgIFxuICAgICAgLy8gUGVyZm9ybWFuY2UgYnVkZ2V0OiA1MDBtcyBmb3IgbGFyZ2UgZGF0YXNldFxuICAgICAgZXhwZWN0KHJlbmRlclRpbWUpLnRvQmVMZXNzVGhhbig1MDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3QgY2F1c2UgbWVtb3J5IGxlYWtzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgaW5pdGlhbE1lbW9yeSA9IHBlcmZvcm1hbmNlLm1lbW9yeT8udXNlZEpTSGVhcFNpemUgfHwgMDtcbiAgICAgIFxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgICAgPFN1cGVyaW9yTW9iaWxlRmVlZCAvPlxuICAgICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBjb21wb25lbnQgdW5tb3VudFxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKDxkaXYgLz4pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIEZvcmNlIGdhcmJhZ2UgY29sbGVjdGlvbiBpZiBhdmFpbGFibGVcbiAgICAgIGlmIChnbG9iYWwuZ2MpIHtcbiAgICAgICAgZ2xvYmFsLmdjKCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGZpbmFsTWVtb3J5ID0gcGVyZm9ybWFuY2UubWVtb3J5Py51c2VkSlNIZWFwU2l6ZSB8fCAwO1xuICAgICAgY29uc3QgbWVtb3J5SW5jcmVhc2UgPSBmaW5hbE1lbW9yeSAtIGluaXRpYWxNZW1vcnk7XG4gICAgICBcbiAgICAgIC8vIE1lbW9yeSBpbmNyZWFzZSBzaG91bGQgYmUgbWluaW1hbCAobGVzcyB0aGFuIDFNQilcbiAgICAgIGV4cGVjdChtZW1vcnlJbmNyZWFzZSkudG9CZUxlc3NUaGFuKDEwMDAwMDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnSW50ZXJhY3Rpb24gUGVyZm9ybWFuY2UnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgcmFwaWQgc3RhdGUgY2hhbmdlcyBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIC8vIFNpbXVsYXRlIHJhcGlkIHN0YXRlIGNoYW5nZXNcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcbiAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAvLyBUcmlnZ2VyIHN0YXRlIGNoYW5nZXNcbiAgICAgICAgICBjb25zdCBidXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICAgICAgaWYgKGJ1dHRvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYnV0dG9uc1swXS5jbGljaygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGNvbnN0IHRvdGFsVGltZSA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIFBlcmZvcm1hbmNlIGJ1ZGdldDogMSBzZWNvbmQgZm9yIDEwMCByYXBpZCBpbnRlcmFjdGlvbnNcbiAgICAgIGV4cGVjdCh0b3RhbFRpbWUpLnRvQmVMZXNzVGhhbigxMDAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGFuZGxlIHNjcm9sbCBldmVudHMgZWZmaWNpZW50bHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZW5kZXIoXG4gICAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgICA8U3VwZXJpb3JNb2JpbGVGZWVkIC8+XG4gICAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgICApO1xuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICAvLyBTaW11bGF0ZSBzY3JvbGwgZXZlbnRzXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDUwOyBpKyspIHtcbiAgICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICB3aW5kb3cuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ3Njcm9sbCcpKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGNvbnN0IHRvdGFsVGltZSA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIFBlcmZvcm1hbmNlIGJ1ZGdldDogNTAwbXMgZm9yIDUwIHNjcm9sbCBldmVudHNcbiAgICAgIGV4cGVjdCh0b3RhbFRpbWUpLnRvQmVMZXNzVGhhbig1MDApO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnTmV0d29yayBQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBzbG93IG5ldHdvcmsgcmVzcG9uc2VzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIHNsb3cgbmV0d29yayByZXNwb25zZVxuICAgICAgbW9ja0ZldGNoLm1vY2tJbXBsZW1lbnRhdGlvbigodXJsKSA9PiB7XG4gICAgICAgIGNvbnN0IGRlbGF5ID0gdXJsLmluY2x1ZGVzKCcvYXBpL2ZlZWRzJykgPyAyMDAwIDogMTAwO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHtcbiAgICAgICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAgICAgIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7IGZlZWRzOiBbXSB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIGRlbGF5KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCByZW5kZXIgcXVpY2tseSBldmVuIHdpdGggc2xvdyBuZXR3b3JrXG4gICAgICBleHBlY3QocmVuZGVyVGltZSkudG9CZUxlc3NUaGFuKDIwMCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBuZXR3b3JrIGVycm9ycyBlZmZpY2llbnRseScsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgbmV0d29yayBlcnJvclxuICAgICAgbW9ja0ZldGNoLm1vY2tJbXBsZW1lbnRhdGlvbigoKSA9PiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ05ldHdvcmsgZXJyb3InKSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBoYW5kbGUgZXJyb3JzIHF1aWNrbHlcbiAgICAgIGV4cGVjdChyZW5kZXJUaW1lKS50b0JlTGVzc1RoYW4oMTAwKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ01lbW9yeSBQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIG5vdCBhY2N1bXVsYXRlIG1lbW9yeSBvdmVyIHRpbWUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBtZW1vcnlTbmFwc2hvdHMgPSBbXTtcbiAgICAgIFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDsgaSsrKSB7XG4gICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgcmVuZGVyKFxuICAgICAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIFVubW91bnQgY29tcG9uZW50XG4gICAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgcmVuZGVyKDxkaXYgLz4pO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZvcmNlIGdhcmJhZ2UgY29sbGVjdGlvbiBpZiBhdmFpbGFibGVcbiAgICAgICAgaWYgKGdsb2JhbC5nYykge1xuICAgICAgICAgIGdsb2JhbC5nYygpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBtZW1vcnlTbmFwc2hvdHMucHVzaChwZXJmb3JtYW5jZS5tZW1vcnk/LnVzZWRKU0hlYXBTaXplIHx8IDApO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBNZW1vcnkgc2hvdWxkIG5vdCBjb250aW51b3VzbHkgaW5jcmVhc2VcbiAgICAgIGNvbnN0IGZpcnN0U25hcHNob3QgPSBtZW1vcnlTbmFwc2hvdHNbMF07XG4gICAgICBjb25zdCBsYXN0U25hcHNob3QgPSBtZW1vcnlTbmFwc2hvdHNbbWVtb3J5U25hcHNob3RzLmxlbmd0aCAtIDFdO1xuICAgICAgY29uc3QgbWVtb3J5SW5jcmVhc2UgPSBsYXN0U25hcHNob3QgLSBmaXJzdFNuYXBzaG90O1xuICAgICAgXG4gICAgICAvLyBNZW1vcnkgaW5jcmVhc2Ugc2hvdWxkIGJlIG1pbmltYWxcbiAgICAgIGV4cGVjdChtZW1vcnlJbmNyZWFzZSkudG9CZUxlc3NUaGFuKDUwMDAwMCk7IC8vIDUwMEtCXG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdBY2Nlc3NpYmlsaXR5IFBlcmZvcm1hbmNlJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgbWFpbnRhaW4gYWNjZXNzaWJpbGl0eSBwZXJmb3JtYW5jZSB3aXRoIGxhcmdlIGRhdGFzZXRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBsYXJnZSBkYXRhc2V0XG4gICAgICBjb25zdCBsYXJnZURhdGFzZXQgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiA1MDAgfSwgKF8sIGkpID0+ICh7XG4gICAgICAgIGlkOiBgZmVlZC0ke2l9YCxcbiAgICAgICAgdGl0bGU6IGBGZWVkIEl0ZW0gJHtpfWAsXG4gICAgICAgIGNvbnRlbnQ6IGBUaGlzIGlzIGZlZWQgaXRlbSBudW1iZXIgJHtpfWAsXG4gICAgICAgIHB1Ymxpc2hlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgIGF1dGhvcjogYEF1dGhvciAke2l9YCxcbiAgICAgICAgY2F0ZWdvcnk6ICd0ZXN0JyxcbiAgICAgICAgZW5nYWdlbWVudDoge1xuICAgICAgICAgIGxpa2VzOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApLFxuICAgICAgICAgIHNoYXJlczogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogNTApLFxuICAgICAgICAgIGNvbW1lbnRzOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAyNSksXG4gICAgICAgIH0sXG4gICAgICB9KSk7XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrSW1wbGVtZW50YXRpb24oKHVybCkgPT4ge1xuICAgICAgICBpZiAodXJsLmluY2x1ZGVzKCcvYXBpL2ZlZWRzJykpIHtcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgICAganNvbjogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKHsgZmVlZHM6IGxhcmdlRGF0YXNldCB9KSxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHsgb2s6IHRydWUsIGpzb246ICgpID0+IFByb21pc2UucmVzb2x2ZSh7fSkgfSk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgcmVuZGVyVGltZSA9IGVuZFRpbWUgLSBzdGFydFRpbWU7XG4gICAgICBcbiAgICAgIC8vIEFjY2Vzc2liaWxpdHkgZmVhdHVyZXMgc2hvdWxkIG5vdCBzaWduaWZpY2FudGx5IGltcGFjdCBwZXJmb3JtYW5jZVxuICAgICAgZXhwZWN0KHJlbmRlclRpbWUpLnRvQmVMZXNzVGhhbigzMDApO1xuICAgICAgXG4gICAgICAvLyBWZXJpZnkgYWNjZXNzaWJpbGl0eSBlbGVtZW50cyBhcmUgcHJlc2VudFxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVJvbGUoJ21haW4nKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCduYXZpZ2F0aW9uJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJykpLnRvSGF2ZUxlbmd0aChleHBlY3QuYW55KE51bWJlcikpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUGVyZm9ybWFuY2UgTW9uaXRvcmluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGNyZWF0ZSBwZXJmb3JtYW5jZSBtYXJrcyBmb3IgbW9uaXRvcmluZycsIGFzeW5jICgpID0+IHtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlbmRlcihcbiAgICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICAgICk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVmVyaWZ5IHBlcmZvcm1hbmNlIG1hcmtzIHdlcmUgY3JlYXRlZFxuICAgICAgZXhwZWN0KG1vY2tQZXJmb3JtYW5jZS5tYXJrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnY29tcG9uZW50LXJlbmRlci1zdGFydCcpO1xuICAgICAgZXhwZWN0KG1vY2tQZXJmb3JtYW5jZS5tYXJrKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCgnY29tcG9uZW50LXJlbmRlci1lbmQnKTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZ5IHBlcmZvcm1hbmNlIG1lYXN1cmVzIHdlcmUgY3JlYXRlZFxuICAgICAgZXhwZWN0KG1vY2tQZXJmb3JtYW5jZS5tZWFzdXJlKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJ2NvbXBvbmVudC1yZW5kZXItZHVyYXRpb24nLFxuICAgICAgICAnY29tcG9uZW50LXJlbmRlci1zdGFydCcsXG4gICAgICAgICdjb21wb25lbnQtcmVuZGVyLWVuZCdcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGxvZyBwZXJmb3JtYW5jZSBtZXRyaWNzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgcmVuZGVyKFxuICAgICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgICAgPFN1cGVyaW9yTW9iaWxlRmVlZCAvPlxuICAgICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICAgKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZnkgY29uc29sZSB0aW1pbmcgbWV0aG9kcyB3ZXJlIGNhbGxlZFxuICAgICAgZXhwZWN0KG1vY2tDb25zb2xlLnRpbWUpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKCdjb21wb25lbnQtcmVuZGVyJyk7XG4gICAgICBleHBlY3QobW9ja0NvbnNvbGUudGltZUVuZCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoJ2NvbXBvbmVudC1yZW5kZXInKTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdLCJuYW1lcyI6WyJtb2NrUGVyZm9ybWFuY2UiLCJub3ciLCJqZXN0IiwiZm4iLCJEYXRlIiwibWFyayIsIm1lYXN1cmUiLCJnZXRFbnRyaWVzQnlUeXBlIiwiZ2V0RW50cmllc0J5TmFtZSIsImNsZWFyTWFya3MiLCJjbGVhck1lYXN1cmVzIiwibW9ja1BlcmZvcm1hbmNlT2JzZXJ2ZXIiLCJtb2NrSW1wbGVtZW50YXRpb24iLCJjYWxsYmFjayIsIm9ic2VydmUiLCJkaXNjb25uZWN0IiwidGFrZVJlY29yZHMiLCJtb2NrUmVzaXplT2JzZXJ2ZXIiLCJ1bm9ic2VydmUiLCJtb2NrSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJtb2NrUmVxdWVzdElkbGVDYWxsYmFjayIsInNldFRpbWVvdXQiLCJkaWRUaW1lb3V0IiwidGltZVJlbWFpbmluZyIsIm1vY2tDYW5jZWxJZGxlQ2FsbGJhY2siLCJtb2NrUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW9ja0NhbmNlbEFuaW1hdGlvbkZyYW1lIiwibW9ja01lbW9yeSIsInVzZWRKU0hlYXBTaXplIiwidG90YWxKU0hlYXBTaXplIiwianNIZWFwU2l6ZUxpbWl0IiwibW9ja05hdmlnYXRvciIsIm5hdmlnYXRvciIsIm9uTGluZSIsImNvbm5lY3Rpb24iLCJlZmZlY3RpdmVUeXBlIiwiZG93bmxpbmsiLCJydHQiLCJkZXZpY2VNZW1vcnkiLCJoYXJkd2FyZUNvbmN1cnJlbmN5IiwibW9ja0xvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwicmVtb3ZlSXRlbSIsImNsZWFyIiwibGVuZ3RoIiwia2V5IiwibW9ja1Nlc3Npb25TdG9yYWdlIiwibW9ja0ZldGNoIiwidXJsIiwib3B0aW9ucyIsImRlbGF5IiwiaW5jbHVkZXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm9rIiwic3RhdHVzIiwianNvbiIsImZlZWRzIiwiaWQiLCJ0aXRsZSIsImNvbnRlbnQiLCJwdWJsaXNoZWRBdCIsInRvSVNPU3RyaW5nIiwiYXV0aG9yIiwiY2F0ZWdvcnkiLCJlbmdhZ2VtZW50IiwibGlrZXMiLCJzaGFyZXMiLCJjb21tZW50cyIsInRleHQiLCJoZWFkZXJzIiwiTWFwIiwibW9ja0NvbnNvbGUiLCJjb25zb2xlIiwidGltZSIsInRpbWVFbmQiLCJsb2ciLCJ3YXJuIiwiZXJyb3IiLCJiZWZvcmVBbGwiLCJnbG9iYWwiLCJwZXJmb3JtYW5jZSIsIlBlcmZvcm1hbmNlT2JzZXJ2ZXIiLCJSZXNpemVPYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwicmVxdWVzdElkbGVDYWxsYmFjayIsImNhbmNlbElkbGVDYWxsYmFjayIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwibG9jYWxTdG9yYWdlIiwic2Vzc2lvblN0b3JhZ2UiLCJmZXRjaCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwidmFsdWUiLCJ3cml0YWJsZSIsImFmdGVyRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrQ2xlYXIiLCJkZXNjcmliZSIsIml0Iiwic3RhcnRUaW1lIiwiYWN0IiwicmVuZGVyIiwiQnJvd3NlclJvdXRlciIsIlN1cGVyaW9yTW9iaWxlRmVlZCIsImVuZFRpbWUiLCJyZW5kZXJUaW1lIiwiZXhwZWN0IiwidG9CZUxlc3NUaGFuIiwidG9IYXZlQmVlbkNhbGxlZFdpdGgiLCJsYXJnZURhdGFzZXQiLCJBcnJheSIsImZyb20iLCJfIiwiaSIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImluaXRpYWxNZW1vcnkiLCJtZW1vcnkiLCJkaXYiLCJnYyIsImZpbmFsTWVtb3J5IiwibWVtb3J5SW5jcmVhc2UiLCJidXR0b25zIiwic2NyZWVuIiwiZ2V0QWxsQnlSb2xlIiwiY2xpY2siLCJ0b3RhbFRpbWUiLCJ3aW5kb3ciLCJkaXNwYXRjaEV2ZW50IiwiRXZlbnQiLCJyZWplY3QiLCJFcnJvciIsIm1lbW9yeVNuYXBzaG90cyIsInB1c2giLCJmaXJzdFNuYXBzaG90IiwibGFzdFNuYXBzaG90IiwiZ2V0QnlSb2xlIiwidG9CZUluVGhlRG9jdW1lbnQiLCJ0b0hhdmVMZW5ndGgiLCJhbnkiLCJOdW1iZXIiXSwibWFwcGluZ3MiOiJBQUFBOztDQUVDOzs7Ozs4REFFaUI7d0JBQzJCO2dDQUNmOzJFQUNDOzs7Ozs7QUFHL0IsdUJBQXVCO0FBQ3ZCLE1BQU1BLGtCQUFrQjtJQUN0QkMsS0FBS0MsS0FBS0MsRUFBRSxDQUFDLElBQU1DLEtBQUtILEdBQUc7SUFDM0JJLE1BQU1ILEtBQUtDLEVBQUU7SUFDYkcsU0FBU0osS0FBS0MsRUFBRTtJQUNoQkksa0JBQWtCTCxLQUFLQyxFQUFFLENBQUMsSUFBTSxFQUFFO0lBQ2xDSyxrQkFBa0JOLEtBQUtDLEVBQUUsQ0FBQyxJQUFNLEVBQUU7SUFDbENNLFlBQVlQLEtBQUtDLEVBQUU7SUFDbkJPLGVBQWVSLEtBQUtDLEVBQUU7QUFDeEI7QUFFQSw0QkFBNEI7QUFDNUIsTUFBTVEsMEJBQTBCVCxLQUFLQyxFQUFFLEdBQUdTLGtCQUFrQixDQUFDLENBQUNDLFdBQWMsQ0FBQTtRQUMxRUMsU0FBU1osS0FBS0MsRUFBRTtRQUNoQlks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