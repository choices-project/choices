{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/performance/component-performance.test.tsx"],"sourcesContent":["/**\n * @jest-environment jsdom\n */\n\nimport React from 'react';\nimport { render, screen, waitFor, act } from '@testing-library/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport SuperiorMobileFeed from '@/features/feeds/components/SuperiorMobileFeed';\nimport { T } from '@/lib/testing/testIds';\n\n// Mock performance API\nconst mockPerformance = {\n  now: jest.fn(() => Date.now()),\n  mark: jest.fn(),\n  measure: jest.fn(),\n  getEntriesByType: jest.fn(() => []),\n  getEntriesByName: jest.fn(() => []),\n  clearMarks: jest.fn(),\n  clearMeasures: jest.fn(),\n};\n\n// Mock performance observer\nconst mockPerformanceObserver = jest.fn().mockImplementation((callback) => ({\n  observe: jest.fn(),\n  disconnect: jest.fn(),\n  takeRecords: jest.fn(() => []),\n}));\n\n// Mock ResizeObserver\nconst mockResizeObserver = jest.fn().mockImplementation((callback) => ({\n  observe: jest.fn(),\n  disconnect: jest.fn(),\n  unobserve: jest.fn(),\n}));\n\n// Mock IntersectionObserver\nconst mockIntersectionObserver = jest.fn().mockImplementation((callback) => ({\n  observe: jest.fn(),\n  disconnect: jest.fn(),\n  unobserve: jest.fn(),\n}));\n\n// Mock requestIdleCallback\nconst mockRequestIdleCallback = jest.fn((callback) => {\n  setTimeout(() => callback({ didTimeout: false, timeRemaining: () => 50 }), 0);\n  return 1;\n});\n\n// Mock cancelIdleCallback\nconst mockCancelIdleCallback = jest.fn();\n\n// Mock requestAnimationFrame\nconst mockRequestAnimationFrame = jest.fn((callback) => {\n  setTimeout(callback, 16);\n  return 1;\n});\n\n// Mock cancelAnimationFrame\nconst mockCancelAnimationFrame = jest.fn();\n\n// Mock memory API\nconst mockMemory = {\n  usedJSHeapSize: 1000000,\n  totalJSHeapSize: 2000000,\n  jsHeapSizeLimit: 4000000,\n};\n\n// Mock navigator\nconst mockNavigator = {\n  ...navigator,\n  onLine: true,\n  connection: {\n    effectiveType: '4g',\n    downlink: 10,\n    rtt: 50,\n  },\n  deviceMemory: 8,\n  hardwareConcurrency: 8,\n};\n\n// Mock localStorage\nconst mockLocalStorage = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n  length: 0,\n  key: jest.fn(),\n};\n\n// Mock sessionStorage\nconst mockSessionStorage = {\n  getItem: jest.fn(),\n  setItem: jest.fn(),\n  removeItem: jest.fn(),\n  clear: jest.fn(),\n  length: 0,\n  key: jest.fn(),\n};\n\n// Mock fetch\nconst mockFetch = jest.fn().mockImplementation((url, options) => {\n  // Simulate different response times based on endpoint\n  const delay = url.includes('/api/feeds') ? 100 : 50;\n  \n  return new Promise((resolve) => {\n    setTimeout(() => {\n      resolve({\n        ok: true,\n        status: 200,\n        json: () => Promise.resolve({\n          feeds: [\n            {\n              id: '1',\n              title: 'Performance Test Feed',\n              content: 'This is a performance test feed item',\n              publishedAt: new Date().toISOString(),\n              author: 'Test Author',\n              category: 'test',\n              engagement: {\n                likes: 10,\n                shares: 5,\n                comments: 3,\n              },\n            },\n          ],\n        }),\n        text: () => Promise.resolve(''),\n        headers: new Map(),\n      });\n    }, delay);\n  });\n});\n\n// Mock console methods for performance logging\nconst mockConsole = {\n  ...console,\n  time: jest.fn(),\n  timeEnd: jest.fn(),\n  log: jest.fn(),\n  warn: jest.fn(),\n  error: jest.fn(),\n};\n\n// Setup global mocks\nbeforeAll(() => {\n  global.performance = mockPerformance as any;\n  global.PerformanceObserver = mockPerformanceObserver as any;\n  global.ResizeObserver = mockResizeObserver as any;\n  global.IntersectionObserver = mockIntersectionObserver as any;\n  global.requestIdleCallback = mockRequestIdleCallback as any;\n  global.cancelIdleCallback = mockCancelIdleCallback as any;\n  global.requestAnimationFrame = mockRequestAnimationFrame as any;\n  global.cancelAnimationFrame = mockCancelAnimationFrame as any;\n  global.navigator = mockNavigator as any;\n  global.localStorage = mockLocalStorage as any;\n  global.sessionStorage = mockSessionStorage as any;\n  global.fetch = mockFetch as any;\n  global.console = mockConsole as any;\n  \n  // Mock memory API\n  Object.defineProperty(global, 'memory', {\n    value: mockMemory,\n    writable: true,\n  });\n});\n\n// Clean up after each test\nafterEach(() => {\n  jest.clearAllMocks();\n  mockPerformance.now.mockClear();\n  mockPerformance.mark.mockClear();\n  mockPerformance.measure.mockClear();\n  mockConsole.time.mockClear();\n  mockConsole.timeEnd.mockClear();\n});\n\ndescribe('Component Performance Tests', () => {\n  describe('Rendering Performance', () => {\n    it('should render within performance budget', async () => {\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Performance budget: 100ms for initial render\n      expect(renderTime).toBeLessThan(100);\n      \n      // Verify performance marks were created\n      expect(mockPerformance.mark).toHaveBeenCalledWith('component-render-start');\n      expect(mockPerformance.mark).toHaveBeenCalledWith('component-render-end');\n    });\n\n    it('should handle large datasets efficiently', async () => {\n      // Mock large dataset\n      const largeDataset = Array.from({ length: 1000 }, (_, i) => ({\n        id: `feed-${i}`,\n        title: `Feed Item ${i}`,\n        content: `This is feed item number ${i}`,\n        publishedAt: new Date().toISOString(),\n        author: `Author ${i}`,\n        category: 'test',\n        engagement: {\n          likes: Math.floor(Math.random() * 100),\n          shares: Math.floor(Math.random() * 50),\n          comments: Math.floor(Math.random() * 25),\n        },\n      }));\n\n      mockFetch.mockImplementation((url) => {\n        if (url.includes('/api/feeds')) {\n          return Promise.resolve({\n            ok: true,\n            json: () => Promise.resolve({ feeds: largeDataset }),\n          });\n        }\n        return Promise.resolve({ ok: true, json: () => Promise.resolve({}) });\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Performance budget: 500ms for large dataset\n      expect(renderTime).toBeLessThan(500);\n    });\n\n    it('should not cause memory leaks', async () => {\n      const initialMemory = performance.memory?.usedJSHeapSize || 0;\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      // Simulate component unmount\n      await act(async () => {\n        render(<div />);\n      });\n      \n      // Force garbage collection if available\n      if (global.gc) {\n        global.gc();\n      }\n      \n      const finalMemory = performance.memory?.usedJSHeapSize || 0;\n      const memoryIncrease = finalMemory - initialMemory;\n      \n      // Memory increase should be minimal (less than 1MB)\n      expect(memoryIncrease).toBeLessThan(1000000);\n    });\n  });\n\n  describe('Interaction Performance', () => {\n    it('should handle rapid state changes efficiently', async () => {\n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n\n      const startTime = performance.now();\n      \n      // Simulate rapid state changes\n      for (let i = 0; i < 100; i++) {\n        await act(async () => {\n          // Trigger state changes\n          const buttons = screen.getAllByRole('button');\n          if (buttons.length > 0) {\n            buttons[0].click();\n          }\n        });\n      }\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      // Performance budget: 1 second for 100 rapid interactions\n      expect(totalTime).toBeLessThan(1000);\n    });\n\n    it('should handle scroll events efficiently', async () => {\n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n\n      const startTime = performance.now();\n      \n      // Simulate scroll events\n      for (let i = 0; i < 50; i++) {\n        await act(async () => {\n          window.dispatchEvent(new Event('scroll'));\n        });\n      }\n      \n      const endTime = performance.now();\n      const totalTime = endTime - startTime;\n      \n      // Performance budget: 500ms for 50 scroll events\n      expect(totalTime).toBeLessThan(500);\n    });\n  });\n\n  describe('Network Performance', () => {\n    it('should handle slow network responses gracefully', async () => {\n      // Mock slow network response\n      mockFetch.mockImplementation((url) => {\n        const delay = url.includes('/api/feeds') ? 2000 : 100;\n        \n        return new Promise((resolve) => {\n          setTimeout(() => {\n            resolve({\n              ok: true,\n              json: () => Promise.resolve({ feeds: [] }),\n            });\n          }, delay);\n        });\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Should render quickly even with slow network\n      expect(renderTime).toBeLessThan(200);\n    });\n\n    it('should handle network errors efficiently', async () => {\n      // Mock network error\n      mockFetch.mockImplementation(() => {\n        return Promise.reject(new Error('Network error'));\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Should handle errors quickly\n      expect(renderTime).toBeLessThan(100);\n    });\n  });\n\n  describe('Memory Performance', () => {\n    it('should not accumulate memory over time', async () => {\n      const memorySnapshots = [];\n      \n      for (let i = 0; i < 10; i++) {\n        await act(async () => {\n          render(\n            <BrowserRouter>\n              <SuperiorMobileFeed />\n            </BrowserRouter>\n          );\n        });\n        \n        // Unmount component\n        await act(async () => {\n          render(<div />);\n        });\n        \n        // Force garbage collection if available\n        if (global.gc) {\n          global.gc();\n        }\n        \n        memorySnapshots.push(performance.memory?.usedJSHeapSize || 0);\n      }\n      \n      // Memory should not continuously increase\n      const firstSnapshot = memorySnapshots[0];\n      const lastSnapshot = memorySnapshots[memorySnapshots.length - 1];\n      const memoryIncrease = lastSnapshot - firstSnapshot;\n      \n      // Memory increase should be minimal\n      expect(memoryIncrease).toBeLessThan(500000); // 500KB\n    });\n  });\n\n  describe('Accessibility Performance', () => {\n    it('should maintain accessibility performance with large datasets', async () => {\n      // Mock large dataset\n      const largeDataset = Array.from({ length: 500 }, (_, i) => ({\n        id: `feed-${i}`,\n        title: `Feed Item ${i}`,\n        content: `This is feed item number ${i}`,\n        publishedAt: new Date().toISOString(),\n        author: `Author ${i}`,\n        category: 'test',\n        engagement: {\n          likes: Math.floor(Math.random() * 100),\n          shares: Math.floor(Math.random() * 50),\n          comments: Math.floor(Math.random() * 25),\n        },\n      }));\n\n      mockFetch.mockImplementation((url) => {\n        if (url.includes('/api/feeds')) {\n          return Promise.resolve({\n            ok: true,\n            json: () => Promise.resolve({ feeds: largeDataset }),\n          });\n        }\n        return Promise.resolve({ ok: true, json: () => Promise.resolve({}) });\n      });\n\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Accessibility features should not significantly impact performance\n      expect(renderTime).toBeLessThan(300);\n      \n      // Verify accessibility elements are present\n      expect(screen.getByRole('main')).toBeInTheDocument();\n      expect(screen.getByRole('navigation')).toBeInTheDocument();\n      expect(screen.getAllByRole('button')).toHaveLength(expect.any(Number));\n    });\n  });\n\n  describe('Performance Monitoring', () => {\n    it('should create performance marks for monitoring', async () => {\n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n\n      // Verify performance marks were created\n      expect(mockPerformance.mark).toHaveBeenCalledWith('component-render-start');\n      expect(mockPerformance.mark).toHaveBeenCalledWith('component-render-end');\n      \n      // Verify performance measures were created\n      expect(mockPerformance.measure).toHaveBeenCalledWith(\n        'component-render-duration',\n        'component-render-start',\n        'component-render-end'\n      );\n    });\n\n    it('should log performance metrics', async () => {\n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n\n      // Verify console timing methods were called\n      expect(mockConsole.time).toHaveBeenCalledWith('component-render');\n      expect(mockConsole.timeEnd).toHaveBeenCalledWith('component-render');\n    });\n  });\n});\n"],"names":["mockPerformance","now","jest","fn","Date","mark","measure","getEntriesByType","getEntriesByName","clearMarks","clearMeasures","mockPerformanceObserver","mockImplementation","callback","observe","disconnect","takeRecords","mockResizeObserver","unobserve","mockIntersectionObserver","mockRequestIdleCallback","setTimeout","didTimeout","timeRemaining","mockCancelIdleCallback","mockRequestAnimationFrame","mockCancelAnimationFrame","mockMemory","usedJSHeapSize","totalJSHeapSize","jsHeapSizeLimit","mockNavigator","navigator","onLine","connection","effectiveType","downlink","rtt","deviceMemory","hardwareConcurrency","mockLocalStorage","getItem","setItem","removeItem","clear","length","key","mockSessionStorage","mockFetch","url","options","delay","includes","Promise","resolve","ok","status","json","feeds","id","title","content","publishedAt","toISOString","author","category","engagement","likes","shares","comments","text","headers","Map","mockConsole","console","time","timeEnd","log","warn","error","beforeAll","global","performance","PerformanceObserver","ResizeObserver","IntersectionObserver","requestIdleCallback","cancelIdleCallback","requestAnimationFrame","cancelAnimationFrame","localStorage","sessionStorage","fetch","Object","defineProperty","value","writable","afterEach","clearAllMocks","mockClear","describe","it","startTime","act","render","BrowserRouter","SuperiorMobileFeed","endTime","renderTime","expect","toBeLessThan","toHaveBeenCalledWith","largeDataset","Array","from","_","i","Math","floor","random","initialMemory","memory","div","gc","finalMemory","memoryIncrease","buttons","screen","getAllByRole","click","totalTime","window","dispatchEvent","Event","reject","Error","memorySnapshots","push","firstSnapshot","lastSnapshot","getByRole","toBeInTheDocument","toHaveLength","any","Number"],"mappings":"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"}