a8f6746035fedcc0e0728ceac8a7accf
/**
 * Polls Store - Zustand Implementation
 * 
 * Comprehensive poll state management including poll data, voting state,
 * poll interactions, and poll preferences. Consolidates poll-related state management.
 * 
 * Created: October 10, 2025
 * Status: âœ… ACTIVE
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    pollsStoreDebug: function() {
        return pollsStoreDebug;
    },
    pollsStoreSubscriptions: function() {
        return pollsStoreSubscriptions;
    },
    pollsStoreUtils: function() {
        return pollsStoreUtils;
    },
    useActivePolls: function() {
        return useActivePolls;
    },
    useFilteredPolls: function() {
        return useFilteredPolls;
    },
    usePollComments: function() {
        return usePollComments;
    },
    usePollCommentsByPollId: function() {
        return usePollCommentsByPollId;
    },
    usePollFilters: function() {
        return usePollFilters;
    },
    usePollPreferences: function() {
        return usePollPreferences;
    },
    usePollSearch: function() {
        return usePollSearch;
    },
    usePolls: function() {
        return usePolls;
    },
    usePollsActions: function() {
        return usePollsActions;
    },
    usePollsError: function() {
        return usePollsError;
    },
    usePollsLoading: function() {
        return usePollsLoading;
    },
    usePollsStats: function() {
        return usePollsStats;
    },
    usePollsStore: function() {
        return usePollsStore;
    },
    useSelectedPoll: function() {
        return useSelectedPoll;
    },
    useUserVotedPolls: function() {
        return useUserVotedPolls;
    }
});
const _zustand = require("zustand");
const _middleware = require("zustand/middleware");
const _logger = require("../utils/logger");
const _objects = require("../utils/objects");
// Default poll preferences
const defaultPreferences = {
    defaultView: "list",
    sortBy: "newest",
    itemsPerPage: 20,
    showResults: true,
    autoRefresh: true,
    refreshInterval: 5,
    notifications: {
        newPolls: true,
        pollUpdates: true,
        pollCloses: true,
        pollResults: true
    },
    privacy: {
        showVoteHistory: false,
        showPollParticipation: true,
        shareActivity: false
    },
    voting: {
        confirmVotes: true,
        showProgress: true,
        allowUndo: true,
        undoTimeLimit: 5
    }
};
// Default poll filters
const defaultFilters = {
    status: [
        "active"
    ],
    category: [],
    tags: [],
    author: [],
    dateRange: {
        start: "",
        end: ""
    },
    votingStatus: "all",
    visibility: [
        "public"
    ]
};
const usePollsStore = (0, _zustand.create)()((0, _middleware.devtools)((0, _middleware.persist)((set, get)=>({
        // Initial state
        polls: [],
        filteredPolls: [],
        comments: [],
        search: {
            query: "",
            results: [],
            totalResults: 0,
            currentPage: 1,
            totalPages: 1,
            filters: defaultFilters,
            suggestions: [],
            recentSearches: []
        },
        selectedPoll: null,
        currentView: "list",
        selectedCategory: null,
        filters: defaultFilters,
        preferences: defaultPreferences,
        isLoading: false,
        isSearching: false,
        isVoting: false,
        isUpdating: false,
        error: null,
        // Poll management actions
        setPolls: (polls)=>set({
                polls,
                filteredPolls: polls
            }),
        addPoll: (poll)=>set((state)=>({
                    polls: [
                        poll,
                        ...state.polls
                    ],
                    filteredPolls: [
                        poll,
                        ...state.filteredPolls
                    ]
                })),
        updatePoll: (id, updates)=>set((state)=>({
                    polls: state.polls.map((poll)=>poll.id === id ? (0, _objects.withOptional)(poll, updates) : poll),
                    filteredPolls: state.filteredPolls.map((poll)=>poll.id === id ? (0, _objects.withOptional)(poll, updates) : poll)
                })),
        removePoll: (id)=>set((state)=>({
                    polls: state.polls.filter((poll)=>poll.id !== id),
                    filteredPolls: state.filteredPolls.filter((poll)=>poll.id !== id)
                })),
        publishPoll: (id)=>set((state)=>({
                    polls: state.polls.map((poll)=>poll.id === id ? (0, _objects.withOptional)(poll, {
                            status: "active",
                            timestamps: (0, _objects.withOptional)(poll.timestamps, {
                                publishedAt: new Date().toISOString(),
                                updatedAt: new Date().toISOString()
                            })
                        }) : poll),
                    filteredPolls: state.filteredPolls.map((poll)=>poll.id === id ? (0, _objects.withOptional)(poll, {
                            status: "active",
                            timestamps: (0, _objects.withOptional)(poll.timestamps, {
                                publishedAt: new Date().toISOString(),
                                updatedAt: new Date().toISOString()
                            })
                        }) : poll)
                })),
        closePoll: (id)=>set((state)=>({
                    polls: state.polls.map((poll)=>poll.id === id ? (0, _objects.withOptional)(poll, {
                            status: "closed",
                            timestamps: (0, _objects.withOptional)(poll.timestamps, {
                                closesAt: new Date().toISOString(),
                                updatedAt: new Date().toISOString()
                            })
                        }) : poll),
                    filteredPolls: state.filteredPolls.map((poll)=>poll.id === id ? (0, _objects.withOptional)(poll, {
                            status: "closed",
                            timestamps: (0, _objects.withOptional)(poll.timestamps, {
                                closesAt: new Date().toISOString(),
                                updatedAt: new Date().toISOString()
                            })
                        }) : poll)
                })),
        archivePoll: (id)=>set((state)=>({
                    polls: state.polls.map((poll)=>poll.id === id ? (0, _objects.withOptional)(poll, {
                            status: "archived",
                            timestamps: (0, _objects.withOptional)(poll.timestamps, {
                                updatedAt: new Date().toISOString()
                            })
                        }) : poll),
                    filteredPolls: state.filteredPolls.map((poll)=>poll.id === id ? (0, _objects.withOptional)(poll, {
                            status: "archived",
                            timestamps: (0, _objects.withOptional)(poll.timestamps, {
                                updatedAt: new Date().toISOString()
                            })
                        }) : poll)
                })),
        // Voting actions
        voteOnPoll: async (pollId, optionId)=>{
            const { setVoting, setError } = get();
            try {
                setVoting(true);
                setError(null);
                const response = await fetch("/api/polls/vote", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        pollId,
                        optionId
                    })
                });
                if (!response.ok) {
                    throw new Error("Failed to vote on poll");
                }
                // Update local state
                set((state)=>({
                        polls: state.polls.map((poll)=>poll.id === pollId ? (0, _objects.withOptional)(poll, {
                                voting: (0, _objects.withOptional)(poll.voting, {
                                    userVote: optionId,
                                    userVotedAt: new Date().toISOString(),
                                    hasVoted: true,
                                    totalVotes: poll.voting.totalVotes + 1
                                }),
                                results: (0, _objects.withOptional)(poll.results, {
                                    optionResults: poll.results.optionResults.map((result)=>result.optionId === optionId ? (0, _objects.withOptional)(result, {
                                            votes: result.votes + 1
                                        }) : result)
                                })
                            }) : poll),
                        filteredPolls: state.filteredPolls.map((poll)=>poll.id === pollId ? (0, _objects.withOptional)(poll, {
                                voting: (0, _objects.withOptional)(poll.voting, {
                                    userVote: optionId,
                                    userVotedAt: new Date().toISOString(),
                                    hasVoted: true,
                                    totalVotes: poll.voting.totalVotes + 1
                                }),
                                results: (0, _objects.withOptional)(poll.results, {
                                    optionResults: poll.results.optionResults.map((result)=>result.optionId === optionId ? (0, _objects.withOptional)(result, {
                                            votes: result.votes + 1
                                        }) : result)
                                })
                            }) : poll)
                    }));
                _logger.logger.info("Vote cast successfully", {
                    pollId,
                    optionId
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to vote on poll:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setVoting(false);
            }
        },
        undoVote: async (pollId)=>{
            const { setVoting, setError } = get();
            try {
                setVoting(true);
                setError(null);
                const response = await fetch("/api/polls/undo-vote", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        pollId
                    })
                });
                if (!response.ok) {
                    throw new Error("Failed to undo vote");
                }
                // Update local state
                set((state)=>{
                    const poll = state.polls.find((p)=>p.id === pollId);
                    if (!poll?.voting.userVote) return state;
                    return {
                        polls: state.polls.map((p)=>p.id === pollId ? (0, _objects.withOptional)(p, {
                                voting: (0, _objects.withOptional)(p.voting, {
                                    userVote: undefined,
                                    userVotedAt: undefined,
                                    hasVoted: false,
                                    totalVotes: Math.max(0, p.voting.totalVotes - 1)
                                }),
                                results: (0, _objects.withOptional)(p.results, {
                                    optionResults: p.results.optionResults.map((result)=>result.optionId === poll.voting.userVote ? (0, _objects.withOptional)(result, {
                                            votes: Math.max(0, result.votes - 1)
                                        }) : result)
                                })
                            }) : p),
                        filteredPolls: state.filteredPolls.map((p)=>p.id === pollId ? (0, _objects.withOptional)(p, {
                                voting: (0, _objects.withOptional)(p.voting, {
                                    userVote: undefined,
                                    userVotedAt: undefined,
                                    hasVoted: false,
                                    totalVotes: Math.max(0, p.voting.totalVotes - 1)
                                }),
                                results: (0, _objects.withOptional)(p.results, {
                                    optionResults: p.results.optionResults.map((result)=>result.optionId === poll.voting.userVote ? (0, _objects.withOptional)(result, {
                                            votes: Math.max(0, result.votes - 1)
                                        }) : result)
                                })
                            }) : p)
                    };
                });
                _logger.logger.info("Vote undone successfully", {
                    pollId
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to undo vote:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setVoting(false);
            }
        },
        changeVote: async (pollId, newOptionId)=>{
            const { voteOnPoll, undoVote } = get();
            try {
                await undoVote(pollId);
                await voteOnPoll(pollId, newOptionId);
                _logger.logger.info("Vote changed successfully", {
                    pollId,
                    newOptionId
                });
            } catch (error) {
                _logger.logger.error("Failed to change vote:", error);
                throw error;
            }
        },
        // Comment actions
        setComments: (comments)=>set({
                comments
            }),
        addComment: (comment)=>set((state)=>({
                    comments: [
                        ...state.comments,
                        {
                            ...comment,
                            id: `comment_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`,
                            createdAt: new Date().toISOString(),
                            updatedAt: new Date().toISOString()
                        }
                    ]
                })),
        updateComment: (id, updates)=>set((state)=>({
                    comments: state.comments.map((comment)=>comment.id === id ? (0, _objects.withOptional)(comment, (0, _objects.withOptional)(updates, {
                            updatedAt: new Date().toISOString()
                        })) : comment)
                })),
        removeComment: (id)=>set((state)=>({
                    comments: state.comments.filter((comment)=>comment.id !== id)
                })),
        likeComment: (id)=>set((state)=>({
                    comments: state.comments.map((comment)=>comment.id === id ? (0, _objects.withOptional)(comment, {
                            userLiked: true,
                            likes: comment.likes + 1
                        }) : comment)
                })),
        unlikeComment: (id)=>set((state)=>({
                    comments: state.comments.map((comment)=>comment.id === id ? (0, _objects.withOptional)(comment, {
                            userLiked: false,
                            likes: Math.max(0, comment.likes - 1)
                        }) : comment)
                })),
        // Filtering and search actions
        setFilters: (filters)=>set((state)=>{
                const newFilters = (0, _objects.withOptional)(state.filters, filters);
                // Apply filters to polls
                const filtered = state.polls.filter((poll)=>{
                    if (newFilters.status.length > 0 && !newFilters.status.includes(poll.status)) {
                        return false;
                    }
                    if (newFilters.category.length > 0 && !newFilters.category.includes(poll.category)) {
                        return false;
                    }
                    if (newFilters.tags.length > 0 && !newFilters.tags.some((tag)=>poll.tags.includes(tag))) {
                        return false;
                    }
                    if (newFilters.author.length > 0 && !newFilters.author.includes(poll.author.id)) {
                        return false;
                    }
                    if (newFilters.votingStatus === "voted" && !poll.voting.hasVoted) {
                        return false;
                    }
                    if (newFilters.votingStatus === "not_voted" && poll.voting.hasVoted) {
                        return false;
                    }
                    return true;
                });
                return {
                    filters: newFilters,
                    filteredPolls: filtered
                };
            }),
        clearFilters: ()=>set((state)=>({
                    filters: defaultFilters,
                    filteredPolls: state.polls
                })),
        searchPolls: async (query)=>{
            const { setSearching, setError } = get();
            try {
                setSearching(true);
                setError(null);
                const response = await fetch("/api/polls/search", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        query
                    })
                });
                if (!response.ok) {
                    throw new Error("Failed to search polls");
                }
                const results = await response.json();
                set((state)=>({
                        search: (0, _objects.withOptional)(state.search, {
                            query,
                            results: results.polls,
                            totalResults: results.total,
                            currentPage: 1,
                            totalPages: Math.ceil(results.total / state.preferences.itemsPerPage)
                        })
                    }));
                _logger.logger.info("Polls searched", {
                    query,
                    results: results.polls.length,
                    total: results.total
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to search polls:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setSearching(false);
            }
        },
        setSearchQuery: (query)=>set((state)=>({
                    search: {
                        ...state.search,
                        query
                    }
                })),
        clearSearch: ()=>set((state)=>({
                    search: (0, _objects.withOptional)(state.search, {
                        query: "",
                        results: [],
                        totalResults: 0,
                        currentPage: 1,
                        totalPages: 1
                    })
                })),
        // UI state actions
        setSelectedPoll: (poll)=>set({
                selectedPoll: poll
            }),
        setCurrentView: (view)=>set({
                currentView: view
            }),
        setSelectedCategory: (category)=>set({
                selectedCategory: category
            }),
        // Preferences actions
        updatePreferences: (preferences)=>set((state)=>({
                    preferences: (0, _objects.withOptional)(state.preferences, preferences)
                })),
        resetPreferences: ()=>set({
                preferences: defaultPreferences
            }),
        // Data operations
        loadPolls: async (category)=>{
            const { setLoading, setError } = get();
            try {
                setLoading(true);
                setError(null);
                const response = await fetch("/api/polls", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        category
                    })
                });
                if (!response.ok) {
                    throw new Error("Failed to load polls");
                }
                const polls = await response.json();
                set({
                    polls,
                    filteredPolls: polls
                });
                _logger.logger.info("Polls loaded", {
                    category,
                    count: polls.length
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to load polls:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setLoading(false);
            }
        },
        loadPoll: async (id)=>{
            const { setLoading, setError } = get();
            try {
                setLoading(true);
                setError(null);
                const response = await fetch(`/api/polls/${id}`);
                if (!response.ok) {
                    throw new Error("Failed to load poll");
                }
                const poll = await response.json();
                set({
                    selectedPoll: poll
                });
                _logger.logger.info("Poll loaded", {
                    id
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to load poll:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setLoading(false);
            }
        },
        loadComments: async (pollId)=>{
            const { setLoading, setError } = get();
            try {
                setLoading(true);
                setError(null);
                const response = await fetch(`/api/polls/${pollId}/comments`);
                if (!response.ok) {
                    throw new Error("Failed to load comments");
                }
                const comments = await response.json();
                set({
                    comments
                });
                _logger.logger.info("Comments loaded", {
                    pollId,
                    count: comments.length
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to load comments:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setLoading(false);
            }
        },
        createPoll: async (poll)=>{
            const { setUpdating, setError } = get();
            try {
                setUpdating(true);
                setError(null);
                const response = await fetch("/api/polls", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(poll)
                });
                if (!response.ok) {
                    throw new Error("Failed to create poll");
                }
                const newPoll = await response.json();
                set((state)=>({
                        polls: [
                            newPoll,
                            ...state.polls
                        ],
                        filteredPolls: [
                            newPoll,
                            ...state.filteredPolls
                        ]
                    }));
                _logger.logger.info("Poll created successfully", {
                    pollId: newPoll.id,
                    title: newPoll.title
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to create poll:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setUpdating(false);
            }
        },
        updatePollSettings: async (id, settings)=>{
            const { setUpdating, setError } = get();
            try {
                setUpdating(true);
                setError(null);
                const response = await fetch(`/api/polls/${id}/settings`, {
                    method: "PUT",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify(settings)
                });
                if (!response.ok) {
                    throw new Error("Failed to update poll settings");
                }
                set((state)=>({
                        polls: state.polls.map((poll)=>poll.id === id ? (0, _objects.withOptional)(poll, {
                                settings: (0, _objects.withOptional)(poll.settings, settings),
                                timestamps: (0, _objects.withOptional)(poll.timestamps, {
                                    updatedAt: new Date().toISOString()
                                })
                            }) : poll),
                        filteredPolls: state.filteredPolls.map((poll)=>poll.id === id ? (0, _objects.withOptional)(poll, {
                                settings: (0, _objects.withOptional)(poll.settings, settings),
                                timestamps: (0, _objects.withOptional)(poll.timestamps, {
                                    updatedAt: new Date().toISOString()
                                })
                            }) : poll)
                    }));
                _logger.logger.info("Poll settings updated", {
                    id
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to update poll settings:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setUpdating(false);
            }
        },
        // Loading state actions
        setLoading: (loading)=>set({
                isLoading: loading
            }),
        setSearching: (searching)=>set({
                isSearching: searching
            }),
        setVoting: (voting)=>set({
                isVoting: voting
            }),
        setUpdating: (updating)=>set({
                isUpdating: updating
            }),
        setError: (error)=>set({
                error
            }),
        clearError: ()=>set({
                error: null
            })
    }), {
    name: "polls-store",
    partialize: (state)=>({
            polls: state.polls,
            comments: state.comments,
            preferences: state.preferences,
            filters: state.filters,
            currentView: state.currentView
        })
}), {
    name: "polls-store"
}));
const usePolls = ()=>usePollsStore((state)=>state.polls);
const useFilteredPolls = ()=>usePollsStore((state)=>state.filteredPolls);
const usePollComments = ()=>usePollsStore((state)=>state.comments);
const usePollSearch = ()=>usePollsStore((state)=>state.search);
const useSelectedPoll = ()=>usePollsStore((state)=>state.selectedPoll);
const usePollPreferences = ()=>usePollsStore((state)=>state.preferences);
const usePollFilters = ()=>usePollsStore((state)=>state.filters);
const usePollsLoading = ()=>usePollsStore((state)=>state.isLoading);
const usePollsError = ()=>usePollsStore((state)=>state.error);
const usePollsActions = ()=>usePollsStore((state)=>({
            setPolls: state.setPolls,
            addPoll: state.addPoll,
            updatePoll: state.updatePoll,
            removePoll: state.removePoll,
            publishPoll: state.publishPoll,
            closePoll: state.closePoll,
            archivePoll: state.archivePoll,
            voteOnPoll: state.voteOnPoll,
            undoVote: state.undoVote,
            changeVote: state.changeVote,
            setComments: state.setComments,
            addComment: state.addComment,
            updateComment: state.updateComment,
            removeComment: state.removeComment,
            likeComment: state.likeComment,
            unlikeComment: state.unlikeComment,
            setFilters: state.setFilters,
            clearFilters: state.clearFilters,
            searchPolls: state.searchPolls,
            setSearchQuery: state.setSearchQuery,
            clearSearch: state.clearSearch,
            setSelectedPoll: state.setSelectedPoll,
            setCurrentView: state.setCurrentView,
            setSelectedCategory: state.setSelectedCategory,
            updatePreferences: state.updatePreferences,
            resetPreferences: state.resetPreferences,
            loadPolls: state.loadPolls,
            loadPoll: state.loadPoll,
            loadComments: state.loadComments,
            createPoll: state.createPoll,
            updatePollSettings: state.updatePollSettings,
            setLoading: state.setLoading,
            setSearching: state.setSearching,
            setVoting: state.setVoting,
            setUpdating: state.setUpdating,
            setError: state.setError,
            clearError: state.clearError
        }));
const usePollsStats = ()=>usePollsStore((state)=>({
            totalPolls: state.polls.length,
            filteredPolls: state.filteredPolls.length,
            activePolls: state.polls.filter((poll)=>poll.status === "active").length,
            closedPolls: state.polls.filter((poll)=>poll.status === "closed").length,
            userVotedPolls: state.polls.filter((poll)=>poll.voting.hasVoted).length,
            searchResults: state.search.results.length,
            isLoading: state.isLoading,
            isVoting: state.isVoting,
            error: state.error
        }));
const useUserVotedPolls = ()=>usePollsStore((state)=>state.polls.filter((poll)=>poll.voting.hasVoted));
const useActivePolls = ()=>usePollsStore((state)=>state.polls.filter((poll)=>poll.status === "active"));
const usePollCommentsByPollId = (pollId)=>usePollsStore((state)=>state.comments.filter((comment)=>comment.pollId === pollId));
const pollsStoreUtils = {
    /**
   * Get polls summary
   */ getPollsSummary: ()=>{
        const state = usePollsStore.getState();
        return {
            totalPolls: state.polls.length,
            filteredPolls: state.filteredPolls.length,
            comments: state.comments.length,
            searchResults: state.search.results.length,
            preferences: state.preferences
        };
    },
    /**
   * Get polls by status
   */ getPollsByStatus: (status)=>{
        const state = usePollsStore.getState();
        return state.polls.filter((poll)=>poll.status === status);
    },
    /**
   * Get polls by category
   */ getPollsByCategory: (category)=>{
        const state = usePollsStore.getState();
        return state.polls.filter((poll)=>poll.category === category);
    },
    /**
   * Get trending polls
   */ getTrendingPolls: ()=>{
        const state = usePollsStore.getState();
        return state.polls.filter((poll)=>poll.status === "active").sort((a, b)=>b.voting.totalVotes - a.voting.totalVotes).slice(0, 10);
    },
    /**
   * Get recent polls
   */ getRecentPolls: (limit = 10)=>{
        const state = usePollsStore.getState();
        return state.polls.sort((a, b)=>new Date(b.timestamps.createdAt).getTime() - new Date(a.timestamps.createdAt).getTime()).slice(0, limit);
    }
};
const pollsStoreSubscriptions = {
    /**
   * Subscribe to polls changes
   */ onPollsChange: (callback)=>{
        let prevPolls = null;
        return usePollsStore.subscribe((state)=>{
            const polls = state.polls;
            if (polls !== prevPolls) {
                callback(polls);
            }
            prevPolls = polls;
            return polls;
        });
    },
    /**
   * Subscribe to voting changes
   */ onVotingChange: (callback)=>{
        let prevPoll = null;
        return usePollsStore.subscribe((state)=>{
            const poll = state.selectedPoll;
            if (poll !== prevPoll && poll?.voting) {
                callback(poll);
            }
            prevPoll = poll;
            return poll;
        });
    },
    /**
   * Subscribe to comments changes
   */ onCommentsChange: (callback)=>{
        let prevComments = null;
        return usePollsStore.subscribe((state)=>{
            const comments = state.comments;
            if (comments !== prevComments) {
                callback(comments);
            }
            prevComments = comments;
            return comments;
        });
    }
};
const pollsStoreDebug = {
    /**
   * Log current polls state
   */ logState: ()=>{
        const state = usePollsStore.getState();
        _logger.logger.debug("Polls Store State", {
            totalPolls: state.polls.length,
            filteredPolls: state.filteredPolls.length,
            comments: state.comments.length,
            searchResults: state.search.results.length,
            selectedPoll: state.selectedPoll?.title || "none",
            currentView: state.currentView,
            isLoading: state.isLoading,
            isVoting: state.isVoting,
            error: state.error
        });
    },
    /**
   * Log polls summary
   */ logSummary: ()=>{
        const summary = pollsStoreUtils.getPollsSummary();
        _logger.logger.debug("Polls Summary", summary);
    },
    /**
   * Log polls by status
   */ logPollsByStatus: ()=>{
        const state = usePollsStore.getState();
        const byStatus = state.polls.reduce((acc, poll)=>{
            acc[poll.status] = (acc[poll.status] || 0) + 1;
            return acc;
        }, {});
        _logger.logger.debug("Polls by Status", byStatus);
    },
    /**
   * Reset polls store
   */ reset: ()=>{
        usePollsStore.getState().clearFilters();
        usePollsStore.getState().resetPreferences();
        _logger.logger.info("Polls store reset");
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvc3RvcmVzL3BvbGxzU3RvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQb2xscyBTdG9yZSAtIFp1c3RhbmQgSW1wbGVtZW50YXRpb25cbiAqIFxuICogQ29tcHJlaGVuc2l2ZSBwb2xsIHN0YXRlIG1hbmFnZW1lbnQgaW5jbHVkaW5nIHBvbGwgZGF0YSwgdm90aW5nIHN0YXRlLFxuICogcG9sbCBpbnRlcmFjdGlvbnMsIGFuZCBwb2xsIHByZWZlcmVuY2VzLiBDb25zb2xpZGF0ZXMgcG9sbC1yZWxhdGVkIHN0YXRlIG1hbmFnZW1lbnQuXG4gKiBcbiAqIENyZWF0ZWQ6IE9jdG9iZXIgMTAsIDIwMjVcbiAqIFN0YXR1czog4pyFIEFDVElWRVxuICovXG5cbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnO1xuaW1wb3J0IHsgZGV2dG9vbHMgfSBmcm9tICd6dXN0YW5kL21pZGRsZXdhcmUnO1xuaW1wb3J0IHsgcGVyc2lzdCB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0AvbGliL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQgeyB3aXRoT3B0aW9uYWwgfSBmcm9tICdAL2xpYi91dGlscy9vYmplY3RzJztcblxuLy8gUG9sbCBkYXRhIHR5cGVzXG5pbnRlcmZhY2UgUG9sbCB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHF1ZXN0aW9uOiBzdHJpbmc7XG4gIG9wdGlvbnM6IFBvbGxPcHRpb25bXTtcbiAgY2F0ZWdvcnk6IHN0cmluZztcbiAgdGFnczogc3RyaW5nW107XG4gIGF1dGhvcjoge1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGF2YXRhcj86IHN0cmluZztcbiAgICB2ZXJpZmllZDogYm9vbGVhbjtcbiAgfTtcbiAgc3RhdHVzOiAnZHJhZnQnIHwgJ2FjdGl2ZScgfCAnY2xvc2VkJyB8ICdhcmNoaXZlZCc7XG4gIHZpc2liaWxpdHk6ICdwdWJsaWMnIHwgJ3ByaXZhdGUnIHwgJ3VubGlzdGVkJztcbiAgc2V0dGluZ3M6IHtcbiAgICBhbGxvd011bHRpcGxlVm90ZXM6IGJvb2xlYW47XG4gICAgYWxsb3dBbm9ueW1vdXNWb3RlczogYm9vbGVhbjtcbiAgICBzaG93UmVzdWx0c0JlZm9yZUNsb3NlOiBib29sZWFuO1xuICAgIGFsbG93Q29tbWVudHM6IGJvb2xlYW47XG4gICAgYWxsb3dTaGFyaW5nOiBib29sZWFuO1xuICAgIHJlcXVpcmVBdXRoZW50aWNhdGlvbjogYm9vbGVhbjtcbiAgfTtcbiAgdm90aW5nOiB7XG4gICAgdG90YWxWb3RlczogbnVtYmVyO1xuICAgIHVuaXF1ZVZvdGVyczogbnVtYmVyO1xuICAgIHVzZXJWb3RlPzogc3RyaW5nOyAvLyBPcHRpb24gSURcbiAgICB1c2VyVm90ZWRBdD86IHN0cmluZztcbiAgICBjYW5Wb3RlOiBib29sZWFuO1xuICAgIGhhc1ZvdGVkOiBib29sZWFuO1xuICB9O1xuICByZXN1bHRzOiB7XG4gICAgb3B0aW9uUmVzdWx0czogQXJyYXk8e1xuICAgICAgb3B0aW9uSWQ6IHN0cmluZztcbiAgICAgIHZvdGVzOiBudW1iZXI7XG4gICAgICBwZXJjZW50YWdlOiBudW1iZXI7XG4gICAgfT47XG4gICAgZGVtb2dyYXBoaWNzOiB7XG4gICAgICBhZ2VHcm91cHM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG4gICAgICBsb2NhdGlvbnM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG4gICAgICBnZW5kZXJzOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+O1xuICAgIH07XG4gICAgdHJlbmRzOiBBcnJheTx7XG4gICAgICB0aW1lc3RhbXA6IHN0cmluZztcbiAgICAgIHZvdGVzOiBudW1iZXI7XG4gICAgfT47XG4gIH07XG4gIG1ldGFkYXRhOiB7XG4gICAgaW1hZ2U/OiBzdHJpbmc7XG4gICAgbG9jYXRpb24/OiBzdHJpbmc7XG4gICAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgICBlc3RpbWF0ZWRUaW1lOiBudW1iZXI7IC8vIG1pbnV0ZXNcbiAgICBkaWZmaWN1bHR5OiAnZWFzeScgfCAnbWVkaXVtJyB8ICdoYXJkJztcbiAgfTtcbiAgdGltZXN0YW1wczoge1xuICAgIGNyZWF0ZWRBdDogc3RyaW5nO1xuICAgIHB1Ymxpc2hlZEF0Pzogc3RyaW5nO1xuICAgIGNsb3Nlc0F0Pzogc3RyaW5nO1xuICAgIHVwZGF0ZWRBdDogc3RyaW5nO1xuICB9O1xufVxuXG5pbnRlcmZhY2UgUG9sbE9wdGlvbiB7XG4gIGlkOiBzdHJpbmc7XG4gIHRleHQ6IHN0cmluZztcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gIGltYWdlPzogc3RyaW5nO1xuICBvcmRlcjogbnVtYmVyO1xuICB2b3RlczogbnVtYmVyO1xuICBwZXJjZW50YWdlOiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBQb2xsQ29tbWVudCB7XG4gIGlkOiBzdHJpbmc7XG4gIHBvbGxJZDogc3RyaW5nO1xuICBhdXRob3I6IHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBhdmF0YXI/OiBzdHJpbmc7XG4gIH07XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgcGFyZW50SWQ/OiBzdHJpbmc7IC8vIEZvciByZXBsaWVzXG4gIGxpa2VzOiBudW1iZXI7XG4gIHVzZXJMaWtlZDogYm9vbGVhbjtcbiAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgUG9sbEZpbHRlcnMge1xuICBzdGF0dXM6IEFycmF5PCdkcmFmdCcgfCAnYWN0aXZlJyB8ICdjbG9zZWQnIHwgJ2FyY2hpdmVkJz47XG4gIGNhdGVnb3J5OiBzdHJpbmdbXTtcbiAgdGFnczogc3RyaW5nW107XG4gIGF1dGhvcjogc3RyaW5nW107XG4gIGRhdGVSYW5nZToge1xuICAgIHN0YXJ0OiBzdHJpbmc7XG4gICAgZW5kOiBzdHJpbmc7XG4gIH07XG4gIHZvdGluZ1N0YXR1czogJ2FsbCcgfCAndm90ZWQnIHwgJ25vdF92b3RlZCc7XG4gIHZpc2liaWxpdHk6IEFycmF5PCdwdWJsaWMnIHwgJ3ByaXZhdGUnIHwgJ3VubGlzdGVkJz47XG59XG5cbmludGVyZmFjZSBQb2xsUHJlZmVyZW5jZXMge1xuICBkZWZhdWx0VmlldzogJ2xpc3QnIHwgJ2dyaWQnIHwgJ2NhcmQnO1xuICBzb3J0Qnk6ICduZXdlc3QnIHwgJ29sZGVzdCcgfCAncG9wdWxhcicgfCAndHJlbmRpbmcnIHwgJ2Nsb3Npbmdfc29vbic7XG4gIGl0ZW1zUGVyUGFnZTogbnVtYmVyO1xuICBzaG93UmVzdWx0czogYm9vbGVhbjtcbiAgYXV0b1JlZnJlc2g6IGJvb2xlYW47XG4gIHJlZnJlc2hJbnRlcnZhbDogbnVtYmVyOyAvLyBtaW51dGVzXG4gIG5vdGlmaWNhdGlvbnM6IHtcbiAgICBuZXdQb2xsczogYm9vbGVhbjtcbiAgICBwb2xsVXBkYXRlczogYm9vbGVhbjtcbiAgICBwb2xsQ2xvc2VzOiBib29sZWFuO1xuICAgIHBvbGxSZXN1bHRzOiBib29sZWFuO1xuICB9O1xuICBwcml2YWN5OiB7XG4gICAgc2hvd1ZvdGVIaXN0b3J5OiBib29sZWFuO1xuICAgIHNob3dQb2xsUGFydGljaXBhdGlvbjogYm9vbGVhbjtcbiAgICBzaGFyZUFjdGl2aXR5OiBib29sZWFuO1xuICB9O1xuICB2b3Rpbmc6IHtcbiAgICBjb25maXJtVm90ZXM6IGJvb2xlYW47XG4gICAgc2hvd1Byb2dyZXNzOiBib29sZWFuO1xuICAgIGFsbG93VW5kbzogYm9vbGVhbjtcbiAgICB1bmRvVGltZUxpbWl0OiBudW1iZXI7IC8vIG1pbnV0ZXNcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFBvbGxTZWFyY2gge1xuICBxdWVyeTogc3RyaW5nO1xuICByZXN1bHRzOiBQb2xsW107XG4gIHRvdGFsUmVzdWx0czogbnVtYmVyO1xuICBjdXJyZW50UGFnZTogbnVtYmVyO1xuICB0b3RhbFBhZ2VzOiBudW1iZXI7XG4gIGZpbHRlcnM6IFBvbGxGaWx0ZXJzO1xuICBzdWdnZXN0aW9uczogc3RyaW5nW107XG4gIHJlY2VudFNlYXJjaGVzOiBzdHJpbmdbXTtcbn1cblxuLy8gUG9sbHMgc3RvcmUgc3RhdGUgaW50ZXJmYWNlXG5pbnRlcmZhY2UgUG9sbHNTdG9yZSB7XG4gIC8vIFBvbGwgZGF0YVxuICBwb2xsczogUG9sbFtdO1xuICBmaWx0ZXJlZFBvbGxzOiBQb2xsW107XG4gIGNvbW1lbnRzOiBQb2xsQ29tbWVudFtdO1xuICBzZWFyY2g6IFBvbGxTZWFyY2g7XG4gIFxuICAvLyBVSSBzdGF0ZVxuICBzZWxlY3RlZFBvbGw6IFBvbGwgfCBudWxsO1xuICBjdXJyZW50VmlldzogJ2xpc3QnIHwgJ2dyaWQnIHwgJ2NhcmQnO1xuICBzZWxlY3RlZENhdGVnb3J5OiBzdHJpbmcgfCBudWxsO1xuICBcbiAgLy8gRmlsdGVycyBhbmQgcHJlZmVyZW5jZXNcbiAgZmlsdGVyczogUG9sbEZpbHRlcnM7XG4gIHByZWZlcmVuY2VzOiBQb2xsUHJlZmVyZW5jZXM7XG4gIFxuICAvLyBMb2FkaW5nIHN0YXRlc1xuICBpc0xvYWRpbmc6IGJvb2xlYW47XG4gIGlzU2VhcmNoaW5nOiBib29sZWFuO1xuICBpc1ZvdGluZzogYm9vbGVhbjtcbiAgaXNVcGRhdGluZzogYm9vbGVhbjtcbiAgZXJyb3I6IHN0cmluZyB8IG51bGw7XG4gIFxuICAvLyBBY3Rpb25zIC0gUG9sbCBtYW5hZ2VtZW50XG4gIHNldFBvbGxzOiAocG9sbHM6IFBvbGxbXSkgPT4gdm9pZDtcbiAgYWRkUG9sbDogKHBvbGw6IFBvbGwpID0+IHZvaWQ7XG4gIHVwZGF0ZVBvbGw6IChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFBvbGw+KSA9PiB2b2lkO1xuICByZW1vdmVQb2xsOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgcHVibGlzaFBvbGw6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICBjbG9zZVBvbGw6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICBhcmNoaXZlUG9sbDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gVm90aW5nXG4gIHZvdGVPblBvbGw6IChwb2xsSWQ6IHN0cmluZywgb3B0aW9uSWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgdW5kb1ZvdGU6IChwb2xsSWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgY2hhbmdlVm90ZTogKHBvbGxJZDogc3RyaW5nLCBuZXdPcHRpb25JZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBcbiAgLy8gQWN0aW9ucyAtIENvbW1lbnRzXG4gIHNldENvbW1lbnRzOiAoY29tbWVudHM6IFBvbGxDb21tZW50W10pID0+IHZvaWQ7XG4gIGFkZENvbW1lbnQ6IChjb21tZW50OiBPbWl0PFBvbGxDb21tZW50LCAnaWQnIHwgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0Jz4pID0+IHZvaWQ7XG4gIHVwZGF0ZUNvbW1lbnQ6IChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFBvbGxDb21tZW50PikgPT4gdm9pZDtcbiAgcmVtb3ZlQ29tbWVudDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGxpa2VDb21tZW50OiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgdW5saWtlQ29tbWVudDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gRmlsdGVyaW5nIGFuZCBzZWFyY2hcbiAgc2V0RmlsdGVyczogKGZpbHRlcnM6IFBhcnRpYWw8UG9sbEZpbHRlcnM+KSA9PiB2b2lkO1xuICBjbGVhckZpbHRlcnM6ICgpID0+IHZvaWQ7XG4gIHNlYXJjaFBvbGxzOiAocXVlcnk6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc2V0U2VhcmNoUXVlcnk6IChxdWVyeTogc3RyaW5nKSA9PiB2b2lkO1xuICBjbGVhclNlYXJjaDogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBVSSBzdGF0ZVxuICBzZXRTZWxlY3RlZFBvbGw6IChwb2xsOiBQb2xsIHwgbnVsbCkgPT4gdm9pZDtcbiAgc2V0Q3VycmVudFZpZXc6ICh2aWV3OiAnbGlzdCcgfCAnZ3JpZCcgfCAnY2FyZCcpID0+IHZvaWQ7XG4gIHNldFNlbGVjdGVkQ2F0ZWdvcnk6IChjYXRlZ29yeTogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBQcmVmZXJlbmNlc1xuICB1cGRhdGVQcmVmZXJlbmNlczogKHByZWZlcmVuY2VzOiBQYXJ0aWFsPFBvbGxQcmVmZXJlbmNlcz4pID0+IHZvaWQ7XG4gIHJlc2V0UHJlZmVyZW5jZXM6ICgpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gRGF0YSBvcGVyYXRpb25zXG4gIGxvYWRQb2xsczogKGNhdGVnb3J5Pzogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBsb2FkUG9sbDogKGlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIGxvYWRDb21tZW50czogKHBvbGxJZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBjcmVhdGVQb2xsOiAocG9sbDogT21pdDxQb2xsLCAnaWQnIHwgJ3RpbWVzdGFtcHMnIHwgJ3ZvdGluZycgfCAncmVzdWx0cyc+KSA9PiBQcm9taXNlPHZvaWQ+O1xuICB1cGRhdGVQb2xsU2V0dGluZ3M6IChpZDogc3RyaW5nLCBzZXR0aW5nczogUGFydGlhbDxQb2xsWydzZXR0aW5ncyddPikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgXG4gIC8vIEFjdGlvbnMgLSBMb2FkaW5nIHN0YXRlc1xuICBzZXRMb2FkaW5nOiAobG9hZGluZzogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0U2VhcmNoaW5nOiAoc2VhcmNoaW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRWb3Rpbmc6ICh2b3Rpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldFVwZGF0aW5nOiAodXBkYXRpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldEVycm9yOiAoZXJyb3I6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIGNsZWFyRXJyb3I6ICgpID0+IHZvaWQ7XG59XG5cbi8vIERlZmF1bHQgcG9sbCBwcmVmZXJlbmNlc1xuY29uc3QgZGVmYXVsdFByZWZlcmVuY2VzOiBQb2xsUHJlZmVyZW5jZXMgPSB7XG4gIGRlZmF1bHRWaWV3OiAnbGlzdCcsXG4gIHNvcnRCeTogJ25ld2VzdCcsXG4gIGl0ZW1zUGVyUGFnZTogMjAsXG4gIHNob3dSZXN1bHRzOiB0cnVlLFxuICBhdXRvUmVmcmVzaDogdHJ1ZSxcbiAgcmVmcmVzaEludGVydmFsOiA1LFxuICBub3RpZmljYXRpb25zOiB7XG4gICAgbmV3UG9sbHM6IHRydWUsXG4gICAgcG9sbFVwZGF0ZXM6IHRydWUsXG4gICAgcG9sbENsb3NlczogdHJ1ZSxcbiAgICBwb2xsUmVzdWx0czogdHJ1ZSxcbiAgfSxcbiAgcHJpdmFjeToge1xuICAgIHNob3dWb3RlSGlzdG9yeTogZmFsc2UsXG4gICAgc2hvd1BvbGxQYXJ0aWNpcGF0aW9uOiB0cnVlLFxuICAgIHNoYXJlQWN0aXZpdHk6IGZhbHNlLFxuICB9LFxuICB2b3Rpbmc6IHtcbiAgICBjb25maXJtVm90ZXM6IHRydWUsXG4gICAgc2hvd1Byb2dyZXNzOiB0cnVlLFxuICAgIGFsbG93VW5kbzogdHJ1ZSxcbiAgICB1bmRvVGltZUxpbWl0OiA1LFxuICB9LFxufTtcblxuLy8gRGVmYXVsdCBwb2xsIGZpbHRlcnNcbmNvbnN0IGRlZmF1bHRGaWx0ZXJzOiBQb2xsRmlsdGVycyA9IHtcbiAgc3RhdHVzOiBbJ2FjdGl2ZSddLFxuICBjYXRlZ29yeTogW10sXG4gIHRhZ3M6IFtdLFxuICBhdXRob3I6IFtdLFxuICBkYXRlUmFuZ2U6IHtcbiAgICBzdGFydDogJycsXG4gICAgZW5kOiAnJyxcbiAgfSxcbiAgdm90aW5nU3RhdHVzOiAnYWxsJyxcbiAgdmlzaWJpbGl0eTogWydwdWJsaWMnXSxcbn07XG5cbi8vIENyZWF0ZSBwb2xscyBzdG9yZSB3aXRoIG1pZGRsZXdhcmVcbmV4cG9ydCBjb25zdCB1c2VQb2xsc1N0b3JlID0gY3JlYXRlPFBvbGxzU3RvcmU+KCkoXG4gIGRldnRvb2xzKFxuICAgIHBlcnNpc3QoXG4gICAgICAoc2V0LCBnZXQpID0+ICh7XG4gICAgICAgIC8vIEluaXRpYWwgc3RhdGVcbiAgICAgICAgcG9sbHM6IFtdLFxuICAgICAgICBmaWx0ZXJlZFBvbGxzOiBbXSxcbiAgICAgICAgY29tbWVudHM6IFtdLFxuICAgICAgICBzZWFyY2g6IHtcbiAgICAgICAgICBxdWVyeTogJycsXG4gICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgdG90YWxSZXN1bHRzOiAwLFxuICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxuICAgICAgICAgIHRvdGFsUGFnZXM6IDEsXG4gICAgICAgICAgZmlsdGVyczogZGVmYXVsdEZpbHRlcnMsXG4gICAgICAgICAgc3VnZ2VzdGlvbnM6IFtdLFxuICAgICAgICAgIHJlY2VudFNlYXJjaGVzOiBbXSxcbiAgICAgICAgfSxcbiAgICAgICAgc2VsZWN0ZWRQb2xsOiBudWxsLFxuICAgICAgICBjdXJyZW50VmlldzogJ2xpc3QnLFxuICAgICAgICBzZWxlY3RlZENhdGVnb3J5OiBudWxsLFxuICAgICAgICBmaWx0ZXJzOiBkZWZhdWx0RmlsdGVycyxcbiAgICAgICAgcHJlZmVyZW5jZXM6IGRlZmF1bHRQcmVmZXJlbmNlcyxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgaXNTZWFyY2hpbmc6IGZhbHNlLFxuICAgICAgICBpc1ZvdGluZzogZmFsc2UsXG4gICAgICAgIGlzVXBkYXRpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgXG4gICAgICAgIC8vIFBvbGwgbWFuYWdlbWVudCBhY3Rpb25zXG4gICAgICAgIHNldFBvbGxzOiAocG9sbHMpID0+IHNldCh7IHBvbGxzLCBmaWx0ZXJlZFBvbGxzOiBwb2xscyB9KSxcbiAgICAgICAgXG4gICAgICAgIGFkZFBvbGw6IChwb2xsKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHBvbGxzOiBbcG9sbCwgLi4uc3RhdGUucG9sbHNdLFxuICAgICAgICAgIGZpbHRlcmVkUG9sbHM6IFtwb2xsLCAuLi5zdGF0ZS5maWx0ZXJlZFBvbGxzXSxcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgdXBkYXRlUG9sbDogKGlkLCB1cGRhdGVzKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHBvbGxzOiBzdGF0ZS5wb2xscy5tYXAocG9sbCA9PlxuICAgICAgICAgICAgcG9sbC5pZCA9PT0gaWQgPyB3aXRoT3B0aW9uYWwocG9sbCwgdXBkYXRlcykgOiBwb2xsXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmaWx0ZXJlZFBvbGxzOiBzdGF0ZS5maWx0ZXJlZFBvbGxzLm1hcChwb2xsID0+XG4gICAgICAgICAgICBwb2xsLmlkID09PSBpZCA/IHdpdGhPcHRpb25hbChwb2xsLCB1cGRhdGVzKSA6IHBvbGxcbiAgICAgICAgICApLFxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICByZW1vdmVQb2xsOiAoaWQpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgcG9sbHM6IHN0YXRlLnBvbGxzLmZpbHRlcihwb2xsID0+IHBvbGwuaWQgIT09IGlkKSxcbiAgICAgICAgICBmaWx0ZXJlZFBvbGxzOiBzdGF0ZS5maWx0ZXJlZFBvbGxzLmZpbHRlcihwb2xsID0+IHBvbGwuaWQgIT09IGlkKSxcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgcHVibGlzaFBvbGw6IChpZCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBwb2xsczogc3RhdGUucG9sbHMubWFwKHBvbGwgPT5cbiAgICAgICAgICAgIHBvbGwuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHdpdGhPcHRpb25hbChwb2xsLCB7IFxuICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcHM6IHdpdGhPcHRpb25hbChwb2xsLnRpbWVzdGFtcHMsIHsgXG4gICAgICAgICAgICAgICAgICAgIHB1Ymxpc2hlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIDogcG9sbFxuICAgICAgICAgICksXG4gICAgICAgICAgZmlsdGVyZWRQb2xsczogc3RhdGUuZmlsdGVyZWRQb2xscy5tYXAocG9sbCA9PlxuICAgICAgICAgICAgcG9sbC5pZCA9PT0gaWQgXG4gICAgICAgICAgICAgID8gd2l0aE9wdGlvbmFsKHBvbGwsIHsgXG4gICAgICAgICAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICAgICAgdGltZXN0YW1wczogd2l0aE9wdGlvbmFsKHBvbGwudGltZXN0YW1wcywgeyBcbiAgICAgICAgICAgICAgICAgICAgcHVibGlzaGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgOiBwb2xsXG4gICAgICAgICAgKSxcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgY2xvc2VQb2xsOiAoaWQpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgcG9sbHM6IHN0YXRlLnBvbGxzLm1hcChwb2xsID0+XG4gICAgICAgICAgICBwb2xsLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwocG9sbCwgeyBcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2Nsb3NlZCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXBzOiB3aXRoT3B0aW9uYWwocG9sbC50aW1lc3RhbXBzLCB7IFxuICAgICAgICAgICAgICAgICAgICBjbG9zZXNBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICA6IHBvbGxcbiAgICAgICAgICApLFxuICAgICAgICAgIGZpbHRlcmVkUG9sbHM6IHN0YXRlLmZpbHRlcmVkUG9sbHMubWFwKHBvbGwgPT5cbiAgICAgICAgICAgIHBvbGwuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHdpdGhPcHRpb25hbChwb2xsLCB7IFxuICAgICAgICAgICAgICAgICAgc3RhdHVzOiAnY2xvc2VkJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcHM6IHdpdGhPcHRpb25hbChwb2xsLnRpbWVzdGFtcHMsIHsgXG4gICAgICAgICAgICAgICAgICAgIGNsb3Nlc0F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIDogcG9sbFxuICAgICAgICAgICksXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIGFyY2hpdmVQb2xsOiAoaWQpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgcG9sbHM6IHN0YXRlLnBvbGxzLm1hcChwb2xsID0+XG4gICAgICAgICAgICBwb2xsLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwocG9sbCwgeyBcbiAgICAgICAgICAgICAgICAgIHN0YXR1czogJ2FyY2hpdmVkJyBhcyBjb25zdCxcbiAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcHM6IHdpdGhPcHRpb25hbChwb2xsLnRpbWVzdGFtcHMsIHsgXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIDogcG9sbFxuICAgICAgICAgICksXG4gICAgICAgICAgZmlsdGVyZWRQb2xsczogc3RhdGUuZmlsdGVyZWRQb2xscy5tYXAocG9sbCA9PlxuICAgICAgICAgICAgcG9sbC5pZCA9PT0gaWQgXG4gICAgICAgICAgICAgID8gd2l0aE9wdGlvbmFsKHBvbGwsIHsgXG4gICAgICAgICAgICAgICAgICBzdGF0dXM6ICdhcmNoaXZlZCcgYXMgY29uc3QsXG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXBzOiB3aXRoT3B0aW9uYWwocG9sbC50aW1lc3RhbXBzLCB7IFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICA6IHBvbGxcbiAgICAgICAgICApLFxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICAvLyBWb3RpbmcgYWN0aW9uc1xuICAgICAgICB2b3RlT25Qb2xsOiBhc3luYyAocG9sbElkLCBvcHRpb25JZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0Vm90aW5nLCBzZXRFcnJvciB9ID0gZ2V0KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldFZvdGluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3BvbGxzL3ZvdGUnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwb2xsSWQsIG9wdGlvbklkIH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gdm90ZSBvbiBwb2xsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgICAgICAgICAgc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICAgICAgcG9sbHM6IHN0YXRlLnBvbGxzLm1hcChwb2xsID0+XG4gICAgICAgICAgICAgICAgcG9sbC5pZCA9PT0gcG9sbElkIFxuICAgICAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwocG9sbCwge1xuICAgICAgICAgICAgICAgICAgICAgIHZvdGluZzogd2l0aE9wdGlvbmFsKHBvbGwudm90aW5nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyVm90ZTogb3B0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyVm90ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzVm90ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFZvdGVzOiBwb2xsLnZvdGluZy50b3RhbFZvdGVzICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiB3aXRoT3B0aW9uYWwocG9sbC5yZXN1bHRzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25SZXN1bHRzOiBwb2xsLnJlc3VsdHMub3B0aW9uUmVzdWx0cy5tYXAocmVzdWx0ID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5vcHRpb25JZCA9PT0gb3B0aW9uSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHdpdGhPcHRpb25hbChyZXN1bHQsIHsgdm90ZXM6IHJlc3VsdC52b3RlcyArIDEgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIDogcG9sbFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICBmaWx0ZXJlZFBvbGxzOiBzdGF0ZS5maWx0ZXJlZFBvbGxzLm1hcChwb2xsID0+XG4gICAgICAgICAgICAgICAgcG9sbC5pZCA9PT0gcG9sbElkIFxuICAgICAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwocG9sbCwge1xuICAgICAgICAgICAgICAgICAgICAgIHZvdGluZzogd2l0aE9wdGlvbmFsKHBvbGwudm90aW5nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyVm90ZTogb3B0aW9uSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB1c2VyVm90ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzVm90ZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFZvdGVzOiBwb2xsLnZvdGluZy50b3RhbFZvdGVzICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiB3aXRoT3B0aW9uYWwocG9sbC5yZXN1bHRzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25SZXN1bHRzOiBwb2xsLnJlc3VsdHMub3B0aW9uUmVzdWx0cy5tYXAocmVzdWx0ID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5vcHRpb25JZCA9PT0gb3B0aW9uSWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHdpdGhPcHRpb25hbChyZXN1bHQsIHsgdm90ZXM6IHJlc3VsdC52b3RlcyArIDEgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIDogcG9sbFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnVm90ZSBjYXN0IHN1Y2Nlc3NmdWxseScsIHtcbiAgICAgICAgICAgICAgcG9sbElkLFxuICAgICAgICAgICAgICBvcHRpb25JZFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHZvdGUgb24gcG9sbDonLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldFZvdGluZyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgdW5kb1ZvdGU6IGFzeW5jIChwb2xsSWQpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldFZvdGluZywgc2V0RXJyb3IgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRWb3RpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9wb2xscy91bmRvLXZvdGUnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBwb2xsSWQgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byB1bmRvIHZvdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVXBkYXRlIGxvY2FsIHN0YXRlXG4gICAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IHBvbGwgPSBzdGF0ZS5wb2xscy5maW5kKHAgPT4gcC5pZCA9PT0gcG9sbElkKTtcbiAgICAgICAgICAgICAgaWYgKCFwb2xsPy52b3RpbmcudXNlclZvdGUpIHJldHVybiBzdGF0ZTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcG9sbHM6IHN0YXRlLnBvbGxzLm1hcChwID0+XG4gICAgICAgICAgICAgICAgICBwLmlkID09PSBwb2xsSWQgXG4gICAgICAgICAgICAgICAgICAgID8gd2l0aE9wdGlvbmFsKHAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZvdGluZzogd2l0aE9wdGlvbmFsKHAudm90aW5nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJWb3RlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJWb3RlZEF0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1ZvdGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxWb3RlczogTWF0aC5tYXgoMCwgcC52b3RpbmcudG90YWxWb3RlcyAtIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiB3aXRoT3B0aW9uYWwocC5yZXN1bHRzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblJlc3VsdHM6IHAucmVzdWx0cy5vcHRpb25SZXN1bHRzLm1hcChyZXN1bHQgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQub3B0aW9uSWQgPT09IHBvbGwudm90aW5nLnVzZXJWb3RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHdpdGhPcHRpb25hbChyZXN1bHQsIHsgdm90ZXM6IE1hdGgubWF4KDAsIHJlc3VsdC52b3RlcyAtIDEpIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgOiBwXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZFBvbGxzOiBzdGF0ZS5maWx0ZXJlZFBvbGxzLm1hcChwID0+XG4gICAgICAgICAgICAgICAgICBwLmlkID09PSBwb2xsSWQgXG4gICAgICAgICAgICAgICAgICAgID8gd2l0aE9wdGlvbmFsKHAsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZvdGluZzogd2l0aE9wdGlvbmFsKHAudm90aW5nLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJWb3RlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJWb3RlZEF0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGhhc1ZvdGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxWb3RlczogTWF0aC5tYXgoMCwgcC52b3RpbmcudG90YWxWb3RlcyAtIDEpLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzOiB3aXRoT3B0aW9uYWwocC5yZXN1bHRzLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblJlc3VsdHM6IHAucmVzdWx0cy5vcHRpb25SZXN1bHRzLm1hcChyZXN1bHQgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQub3B0aW9uSWQgPT09IHBvbGwudm90aW5nLnVzZXJWb3RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHdpdGhPcHRpb25hbChyZXN1bHQsIHsgdm90ZXM6IE1hdGgubWF4KDAsIHJlc3VsdC52b3RlcyAtIDEpIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgOiBwXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnVm90ZSB1bmRvbmUgc3VjY2Vzc2Z1bGx5JywgeyBwb2xsSWQgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHVuZG8gdm90ZTonLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldFZvdGluZyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgY2hhbmdlVm90ZTogYXN5bmMgKHBvbGxJZCwgbmV3T3B0aW9uSWQpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHZvdGVPblBvbGwsIHVuZG9Wb3RlIH0gPSBnZXQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdW5kb1ZvdGUocG9sbElkKTtcbiAgICAgICAgICAgIGF3YWl0IHZvdGVPblBvbGwocG9sbElkLCBuZXdPcHRpb25JZCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdWb3RlIGNoYW5nZWQgc3VjY2Vzc2Z1bGx5Jywge1xuICAgICAgICAgICAgICBwb2xsSWQsXG4gICAgICAgICAgICAgIG5ld09wdGlvbklkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gY2hhbmdlIHZvdGU6JywgZXJyb3IgYXMgRXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLy8gQ29tbWVudCBhY3Rpb25zXG4gICAgICAgIHNldENvbW1lbnRzOiAoY29tbWVudHMpID0+IHNldCh7IGNvbW1lbnRzIH0pLFxuICAgICAgICBcbiAgICAgICAgYWRkQ29tbWVudDogKGNvbW1lbnQpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgY29tbWVudHM6IFtcbiAgICAgICAgICAgIC4uLnN0YXRlLmNvbW1lbnRzLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAuLi5jb21tZW50LFxuICAgICAgICAgICAgICBpZDogYGNvbW1lbnRfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gLFxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICB1cGRhdGVDb21tZW50OiAoaWQsIHVwZGF0ZXMpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgY29tbWVudHM6IHN0YXRlLmNvbW1lbnRzLm1hcChjb21tZW50ID0+XG4gICAgICAgICAgICBjb21tZW50LmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwoY29tbWVudCwgd2l0aE9wdGlvbmFsKHVwZGF0ZXMsIHsgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSkpXG4gICAgICAgICAgICAgIDogY29tbWVudFxuICAgICAgICAgIClcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgcmVtb3ZlQ29tbWVudDogKGlkKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGNvbW1lbnRzOiBzdGF0ZS5jb21tZW50cy5maWx0ZXIoY29tbWVudCA9PiBjb21tZW50LmlkICE9PSBpZClcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgbGlrZUNvbW1lbnQ6IChpZCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBjb21tZW50czogc3RhdGUuY29tbWVudHMubWFwKGNvbW1lbnQgPT5cbiAgICAgICAgICAgIGNvbW1lbnQuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHdpdGhPcHRpb25hbChjb21tZW50LCB7IFxuICAgICAgICAgICAgICAgICAgdXNlckxpa2VkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgbGlrZXM6IGNvbW1lbnQubGlrZXMgKyAxIFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIDogY29tbWVudFxuICAgICAgICAgIClcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgdW5saWtlQ29tbWVudDogKGlkKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGNvbW1lbnRzOiBzdGF0ZS5jb21tZW50cy5tYXAoY29tbWVudCA9PlxuICAgICAgICAgICAgY29tbWVudC5pZCA9PT0gaWQgXG4gICAgICAgICAgICAgID8gd2l0aE9wdGlvbmFsKGNvbW1lbnQsIHsgXG4gICAgICAgICAgICAgICAgICB1c2VyTGlrZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgbGlrZXM6IE1hdGgubWF4KDAsIGNvbW1lbnQubGlrZXMgLSAxKSBcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICA6IGNvbW1lbnRcbiAgICAgICAgICApXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIC8vIEZpbHRlcmluZyBhbmQgc2VhcmNoIGFjdGlvbnNcbiAgICAgICAgc2V0RmlsdGVyczogKGZpbHRlcnMpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdGaWx0ZXJzID0gd2l0aE9wdGlvbmFsKHN0YXRlLmZpbHRlcnMsIGZpbHRlcnMpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFwcGx5IGZpbHRlcnMgdG8gcG9sbHNcbiAgICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHN0YXRlLnBvbGxzLmZpbHRlcihwb2xsID0+IHtcbiAgICAgICAgICAgIGlmIChuZXdGaWx0ZXJzLnN0YXR1cy5sZW5ndGggPiAwICYmICFuZXdGaWx0ZXJzLnN0YXR1cy5pbmNsdWRlcyhwb2xsLnN0YXR1cykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld0ZpbHRlcnMuY2F0ZWdvcnkubGVuZ3RoID4gMCAmJiAhbmV3RmlsdGVycy5jYXRlZ29yeS5pbmNsdWRlcyhwb2xsLmNhdGVnb3J5KSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3RmlsdGVycy50YWdzLmxlbmd0aCA+IDAgJiYgIW5ld0ZpbHRlcnMudGFncy5zb21lKHRhZyA9PiBwb2xsLnRhZ3MuaW5jbHVkZXModGFnKSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld0ZpbHRlcnMuYXV0aG9yLmxlbmd0aCA+IDAgJiYgIW5ld0ZpbHRlcnMuYXV0aG9yLmluY2x1ZGVzKHBvbGwuYXV0aG9yLmlkKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3RmlsdGVycy52b3RpbmdTdGF0dXMgPT09ICd2b3RlZCcgJiYgIXBvbGwudm90aW5nLmhhc1ZvdGVkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdGaWx0ZXJzLnZvdGluZ1N0YXR1cyA9PT0gJ25vdF92b3RlZCcgJiYgcG9sbC52b3RpbmcuaGFzVm90ZWQpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHsgZmlsdGVyczogbmV3RmlsdGVycywgZmlsdGVyZWRQb2xsczogZmlsdGVyZWQgfTtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBjbGVhckZpbHRlcnM6ICgpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgZmlsdGVyczogZGVmYXVsdEZpbHRlcnMsXG4gICAgICAgICAgZmlsdGVyZWRQb2xsczogc3RhdGUucG9sbHMsXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIHNlYXJjaFBvbGxzOiBhc3luYyAocXVlcnkpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldFNlYXJjaGluZywgc2V0RXJyb3IgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRTZWFyY2hpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCgnL2FwaS9wb2xscy9zZWFyY2gnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBxdWVyeSB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNlYXJjaCBwb2xscycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgICAgICBzZWFyY2g6IHdpdGhPcHRpb25hbChzdGF0ZS5zZWFyY2gsIHtcbiAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICByZXN1bHRzOiByZXN1bHRzLnBvbGxzLFxuICAgICAgICAgICAgICAgIHRvdGFsUmVzdWx0czogcmVzdWx0cy50b3RhbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcbiAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzOiBNYXRoLmNlaWwocmVzdWx0cy50b3RhbCAvIHN0YXRlLnByZWZlcmVuY2VzLml0ZW1zUGVyUGFnZSksXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdQb2xscyBzZWFyY2hlZCcsIHtcbiAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgIHJlc3VsdHM6IHJlc3VsdHMucG9sbHMubGVuZ3RoLFxuICAgICAgICAgICAgICB0b3RhbDogcmVzdWx0cy50b3RhbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHNlYXJjaCBwb2xsczonLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldFNlYXJjaGluZyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgc2V0U2VhcmNoUXVlcnk6IChxdWVyeSkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBzZWFyY2g6IHsgLi4uc3RhdGUuc2VhcmNoLCBxdWVyeSB9XG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIGNsZWFyU2VhcmNoOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHNlYXJjaDogd2l0aE9wdGlvbmFsKHN0YXRlLnNlYXJjaCwge1xuICAgICAgICAgICAgcXVlcnk6ICcnLFxuICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB0b3RhbFJlc3VsdHM6IDAsXG4gICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcbiAgICAgICAgICAgIHRvdGFsUGFnZXM6IDEsXG4gICAgICAgICAgfSlcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgLy8gVUkgc3RhdGUgYWN0aW9uc1xuICAgICAgICBzZXRTZWxlY3RlZFBvbGw6IChwb2xsKSA9PiBzZXQoeyBzZWxlY3RlZFBvbGw6IHBvbGwgfSksXG4gICAgICAgIFxuICAgICAgICBzZXRDdXJyZW50VmlldzogKHZpZXcpID0+IHNldCh7IGN1cnJlbnRWaWV3OiB2aWV3IH0pLFxuICAgICAgICBcbiAgICAgICAgc2V0U2VsZWN0ZWRDYXRlZ29yeTogKGNhdGVnb3J5KSA9PiBzZXQoeyBzZWxlY3RlZENhdGVnb3J5OiBjYXRlZ29yeSB9KSxcbiAgICAgICAgXG4gICAgICAgIC8vIFByZWZlcmVuY2VzIGFjdGlvbnNcbiAgICAgICAgdXBkYXRlUHJlZmVyZW5jZXM6IChwcmVmZXJlbmNlcykgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBwcmVmZXJlbmNlczogd2l0aE9wdGlvbmFsKHN0YXRlLnByZWZlcmVuY2VzLCBwcmVmZXJlbmNlcylcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgcmVzZXRQcmVmZXJlbmNlczogKCkgPT4gc2V0KHsgcHJlZmVyZW5jZXM6IGRlZmF1bHRQcmVmZXJlbmNlcyB9KSxcbiAgICAgICAgXG4gICAgICAgIC8vIERhdGEgb3BlcmF0aW9uc1xuICAgICAgICBsb2FkUG9sbHM6IGFzeW5jIChjYXRlZ29yeSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0TG9hZGluZywgc2V0RXJyb3IgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcG9sbHMnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjYXRlZ29yeSB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgcG9sbHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcG9sbHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBzZXQoeyBwb2xscywgZmlsdGVyZWRQb2xsczogcG9sbHMgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdQb2xscyBsb2FkZWQnLCB7XG4gICAgICAgICAgICAgIGNhdGVnb3J5LFxuICAgICAgICAgICAgICBjb3VudDogcG9sbHMubGVuZ3RoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBwb2xsczonLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGxvYWRQb2xsOiBhc3luYyAoaWQpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldExvYWRpbmcsIHNldEVycm9yIH0gPSBnZXQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAvYXBpL3BvbGxzLyR7aWR9YCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBwb2xsJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHBvbGwgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBzZXQoeyBzZWxlY3RlZFBvbGw6IHBvbGwgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdQb2xsIGxvYWRlZCcsIHsgaWQgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGxvYWQgcG9sbDonLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGxvYWRDb21tZW50czogYXN5bmMgKHBvbGxJZCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0TG9hZGluZywgc2V0RXJyb3IgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvcG9sbHMvJHtwb2xsSWR9L2NvbW1lbnRzYCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gbG9hZCBjb21tZW50cycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBjb21tZW50cyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgIHNldCh7IGNvbW1lbnRzIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnQ29tbWVudHMgbG9hZGVkJywge1xuICAgICAgICAgICAgICBwb2xsSWQsXG4gICAgICAgICAgICAgIGNvdW50OiBjb21tZW50cy5sZW5ndGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNvbW1lbnRzOicsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgY3JlYXRlUG9sbDogYXN5bmMgKHBvbGwpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldFVwZGF0aW5nLCBzZXRFcnJvciB9ID0gZ2V0KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldFVwZGF0aW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcG9sbHMnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocG9sbCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjcmVhdGUgcG9sbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBuZXdQb2xsID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgICAgICBwb2xsczogW25ld1BvbGwsIC4uLnN0YXRlLnBvbGxzXSxcbiAgICAgICAgICAgICAgZmlsdGVyZWRQb2xsczogW25ld1BvbGwsIC4uLnN0YXRlLmZpbHRlcmVkUG9sbHNdLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnUG9sbCBjcmVhdGVkIHN1Y2Nlc3NmdWxseScsIHtcbiAgICAgICAgICAgICAgcG9sbElkOiBuZXdQb2xsLmlkLFxuICAgICAgICAgICAgICB0aXRsZTogbmV3UG9sbC50aXRsZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBwb2xsOicsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0VXBkYXRpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZVBvbGxTZXR0aW5nczogYXN5bmMgKGlkLCBzZXR0aW5ncykgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0VXBkYXRpbmcsIHNldEVycm9yIH0gPSBnZXQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0VXBkYXRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS9wb2xscy8ke2lkfS9zZXR0aW5nc2AsIHtcbiAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHNldHRpbmdzKSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHVwZGF0ZSBwb2xsIHNldHRpbmdzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgICAgIHBvbGxzOiBzdGF0ZS5wb2xscy5tYXAocG9sbCA9PlxuICAgICAgICAgICAgICAgIHBvbGwuaWQgPT09IGlkIFxuICAgICAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwocG9sbCwgeyBcbiAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczogd2l0aE9wdGlvbmFsKHBvbGwuc2V0dGluZ3MsIHNldHRpbmdzKSxcbiAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXBzOiB3aXRoT3B0aW9uYWwocG9sbC50aW1lc3RhbXBzLCB7IFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgOiBwb2xsXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGZpbHRlcmVkUG9sbHM6IHN0YXRlLmZpbHRlcmVkUG9sbHMubWFwKHBvbGwgPT5cbiAgICAgICAgICAgICAgICBwb2xsLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgICAgID8gd2l0aE9wdGlvbmFsKHBvbGwsIHsgXG4gICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHdpdGhPcHRpb25hbChwb2xsLnNldHRpbmdzLCBzZXR0aW5ncyksXG4gICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wczogd2l0aE9wdGlvbmFsKHBvbGwudGltZXN0YW1wcywgeyBcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgIDogcG9sbFxuICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnUG9sbCBzZXR0aW5ncyB1cGRhdGVkJywgeyBpZCB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIHBvbGwgc2V0dGluZ3M6JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRVcGRhdGluZyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLy8gTG9hZGluZyBzdGF0ZSBhY3Rpb25zXG4gICAgICAgIHNldExvYWRpbmc6IChsb2FkaW5nKSA9PiBzZXQoeyBpc0xvYWRpbmc6IGxvYWRpbmcgfSksXG4gICAgICAgIHNldFNlYXJjaGluZzogKHNlYXJjaGluZykgPT4gc2V0KHsgaXNTZWFyY2hpbmc6IHNlYXJjaGluZyB9KSxcbiAgICAgICAgc2V0Vm90aW5nOiAodm90aW5nKSA9PiBzZXQoeyBpc1ZvdGluZzogdm90aW5nIH0pLFxuICAgICAgICBzZXRVcGRhdGluZzogKHVwZGF0aW5nKSA9PiBzZXQoeyBpc1VwZGF0aW5nOiB1cGRhdGluZyB9KSxcbiAgICAgICAgc2V0RXJyb3I6IChlcnJvcikgPT4gc2V0KHsgZXJyb3IgfSksXG4gICAgICAgIGNsZWFyRXJyb3I6ICgpID0+IHNldCh7IGVycm9yOiBudWxsIH0pLFxuICAgICAgfSksXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICdwb2xscy1zdG9yZScsXG4gICAgICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBwb2xsczogc3RhdGUucG9sbHMsXG4gICAgICAgICAgY29tbWVudHM6IHN0YXRlLmNvbW1lbnRzLFxuICAgICAgICAgIHByZWZlcmVuY2VzOiBzdGF0ZS5wcmVmZXJlbmNlcyxcbiAgICAgICAgICBmaWx0ZXJzOiBzdGF0ZS5maWx0ZXJzLFxuICAgICAgICAgIGN1cnJlbnRWaWV3OiBzdGF0ZS5jdXJyZW50VmlldyxcbiAgICAgICAgfSksXG4gICAgICB9XG4gICAgKSxcbiAgICB7IG5hbWU6ICdwb2xscy1zdG9yZScgfVxuICApXG4pO1xuXG4vLyBTdG9yZSBzZWxlY3RvcnMgZm9yIG9wdGltaXplZCByZS1yZW5kZXJzXG5leHBvcnQgY29uc3QgdXNlUG9sbHMgPSAoKSA9PiB1c2VQb2xsc1N0b3JlKHN0YXRlID0+IHN0YXRlLnBvbGxzKTtcbmV4cG9ydCBjb25zdCB1c2VGaWx0ZXJlZFBvbGxzID0gKCkgPT4gdXNlUG9sbHNTdG9yZShzdGF0ZSA9PiBzdGF0ZS5maWx0ZXJlZFBvbGxzKTtcbmV4cG9ydCBjb25zdCB1c2VQb2xsQ29tbWVudHMgPSAoKSA9PiB1c2VQb2xsc1N0b3JlKHN0YXRlID0+IHN0YXRlLmNvbW1lbnRzKTtcbmV4cG9ydCBjb25zdCB1c2VQb2xsU2VhcmNoID0gKCkgPT4gdXNlUG9sbHNTdG9yZShzdGF0ZSA9PiBzdGF0ZS5zZWFyY2gpO1xuZXhwb3J0IGNvbnN0IHVzZVNlbGVjdGVkUG9sbCA9ICgpID0+IHVzZVBvbGxzU3RvcmUoc3RhdGUgPT4gc3RhdGUuc2VsZWN0ZWRQb2xsKTtcbmV4cG9ydCBjb25zdCB1c2VQb2xsUHJlZmVyZW5jZXMgPSAoKSA9PiB1c2VQb2xsc1N0b3JlKHN0YXRlID0+IHN0YXRlLnByZWZlcmVuY2VzKTtcbmV4cG9ydCBjb25zdCB1c2VQb2xsRmlsdGVycyA9ICgpID0+IHVzZVBvbGxzU3RvcmUoc3RhdGUgPT4gc3RhdGUuZmlsdGVycyk7XG5leHBvcnQgY29uc3QgdXNlUG9sbHNMb2FkaW5nID0gKCkgPT4gdXNlUG9sbHNTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc0xvYWRpbmcpO1xuZXhwb3J0IGNvbnN0IHVzZVBvbGxzRXJyb3IgPSAoKSA9PiB1c2VQb2xsc1N0b3JlKHN0YXRlID0+IHN0YXRlLmVycm9yKTtcblxuLy8gQWN0aW9uIHNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IHVzZVBvbGxzQWN0aW9ucyA9ICgpID0+IHVzZVBvbGxzU3RvcmUoc3RhdGUgPT4gKHtcbiAgc2V0UG9sbHM6IHN0YXRlLnNldFBvbGxzLFxuICBhZGRQb2xsOiBzdGF0ZS5hZGRQb2xsLFxuICB1cGRhdGVQb2xsOiBzdGF0ZS51cGRhdGVQb2xsLFxuICByZW1vdmVQb2xsOiBzdGF0ZS5yZW1vdmVQb2xsLFxuICBwdWJsaXNoUG9sbDogc3RhdGUucHVibGlzaFBvbGwsXG4gIGNsb3NlUG9sbDogc3RhdGUuY2xvc2VQb2xsLFxuICBhcmNoaXZlUG9sbDogc3RhdGUuYXJjaGl2ZVBvbGwsXG4gIHZvdGVPblBvbGw6IHN0YXRlLnZvdGVPblBvbGwsXG4gIHVuZG9Wb3RlOiBzdGF0ZS51bmRvVm90ZSxcbiAgY2hhbmdlVm90ZTogc3RhdGUuY2hhbmdlVm90ZSxcbiAgc2V0Q29tbWVudHM6IHN0YXRlLnNldENvbW1lbnRzLFxuICBhZGRDb21tZW50OiBzdGF0ZS5hZGRDb21tZW50LFxuICB1cGRhdGVDb21tZW50OiBzdGF0ZS51cGRhdGVDb21tZW50LFxuICByZW1vdmVDb21tZW50OiBzdGF0ZS5yZW1vdmVDb21tZW50LFxuICBsaWtlQ29tbWVudDogc3RhdGUubGlrZUNvbW1lbnQsXG4gIHVubGlrZUNvbW1lbnQ6IHN0YXRlLnVubGlrZUNvbW1lbnQsXG4gIHNldEZpbHRlcnM6IHN0YXRlLnNldEZpbHRlcnMsXG4gIGNsZWFyRmlsdGVyczogc3RhdGUuY2xlYXJGaWx0ZXJzLFxuICBzZWFyY2hQb2xsczogc3RhdGUuc2VhcmNoUG9sbHMsXG4gIHNldFNlYXJjaFF1ZXJ5OiBzdGF0ZS5zZXRTZWFyY2hRdWVyeSxcbiAgY2xlYXJTZWFyY2g6IHN0YXRlLmNsZWFyU2VhcmNoLFxuICBzZXRTZWxlY3RlZFBvbGw6IHN0YXRlLnNldFNlbGVjdGVkUG9sbCxcbiAgc2V0Q3VycmVudFZpZXc6IHN0YXRlLnNldEN1cnJlbnRWaWV3LFxuICBzZXRTZWxlY3RlZENhdGVnb3J5OiBzdGF0ZS5zZXRTZWxlY3RlZENhdGVnb3J5LFxuICB1cGRhdGVQcmVmZXJlbmNlczogc3RhdGUudXBkYXRlUHJlZmVyZW5jZXMsXG4gIHJlc2V0UHJlZmVyZW5jZXM6IHN0YXRlLnJlc2V0UHJlZmVyZW5jZXMsXG4gIGxvYWRQb2xsczogc3RhdGUubG9hZFBvbGxzLFxuICBsb2FkUG9sbDogc3RhdGUubG9hZFBvbGwsXG4gIGxvYWRDb21tZW50czogc3RhdGUubG9hZENvbW1lbnRzLFxuICBjcmVhdGVQb2xsOiBzdGF0ZS5jcmVhdGVQb2xsLFxuICB1cGRhdGVQb2xsU2V0dGluZ3M6IHN0YXRlLnVwZGF0ZVBvbGxTZXR0aW5ncyxcbiAgc2V0TG9hZGluZzogc3RhdGUuc2V0TG9hZGluZyxcbiAgc2V0U2VhcmNoaW5nOiBzdGF0ZS5zZXRTZWFyY2hpbmcsXG4gIHNldFZvdGluZzogc3RhdGUuc2V0Vm90aW5nLFxuICBzZXRVcGRhdGluZzogc3RhdGUuc2V0VXBkYXRpbmcsXG4gIHNldEVycm9yOiBzdGF0ZS5zZXRFcnJvcixcbiAgY2xlYXJFcnJvcjogc3RhdGUuY2xlYXJFcnJvcixcbn0pKTtcblxuLy8gQ29tcHV0ZWQgc2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlUG9sbHNTdGF0cyA9ICgpID0+IHVzZVBvbGxzU3RvcmUoc3RhdGUgPT4gKHtcbiAgdG90YWxQb2xsczogc3RhdGUucG9sbHMubGVuZ3RoLFxuICBmaWx0ZXJlZFBvbGxzOiBzdGF0ZS5maWx0ZXJlZFBvbGxzLmxlbmd0aCxcbiAgYWN0aXZlUG9sbHM6IHN0YXRlLnBvbGxzLmZpbHRlcihwb2xsID0+IHBvbGwuc3RhdHVzID09PSAnYWN0aXZlJykubGVuZ3RoLFxuICBjbG9zZWRQb2xsczogc3RhdGUucG9sbHMuZmlsdGVyKHBvbGwgPT4gcG9sbC5zdGF0dXMgPT09ICdjbG9zZWQnKS5sZW5ndGgsXG4gIHVzZXJWb3RlZFBvbGxzOiBzdGF0ZS5wb2xscy5maWx0ZXIocG9sbCA9PiBwb2xsLnZvdGluZy5oYXNWb3RlZCkubGVuZ3RoLFxuICBzZWFyY2hSZXN1bHRzOiBzdGF0ZS5zZWFyY2gucmVzdWx0cy5sZW5ndGgsXG4gIGlzTG9hZGluZzogc3RhdGUuaXNMb2FkaW5nLFxuICBpc1ZvdGluZzogc3RhdGUuaXNWb3RpbmcsXG4gIGVycm9yOiBzdGF0ZS5lcnJvcixcbn0pKTtcblxuZXhwb3J0IGNvbnN0IHVzZVVzZXJWb3RlZFBvbGxzID0gKCkgPT4gdXNlUG9sbHNTdG9yZShzdGF0ZSA9PiBcbiAgc3RhdGUucG9sbHMuZmlsdGVyKHBvbGwgPT4gcG9sbC52b3RpbmcuaGFzVm90ZWQpXG4pO1xuXG5leHBvcnQgY29uc3QgdXNlQWN0aXZlUG9sbHMgPSAoKSA9PiB1c2VQb2xsc1N0b3JlKHN0YXRlID0+IFxuICBzdGF0ZS5wb2xscy5maWx0ZXIocG9sbCA9PiBwb2xsLnN0YXR1cyA9PT0gJ2FjdGl2ZScpXG4pO1xuXG5leHBvcnQgY29uc3QgdXNlUG9sbENvbW1lbnRzQnlQb2xsSWQgPSAocG9sbElkOiBzdHJpbmcpID0+IHVzZVBvbGxzU3RvcmUoc3RhdGUgPT4gXG4gIHN0YXRlLmNvbW1lbnRzLmZpbHRlcihjb21tZW50ID0+IGNvbW1lbnQucG9sbElkID09PSBwb2xsSWQpXG4pO1xuXG4vLyBTdG9yZSB1dGlsaXRpZXNcbmV4cG9ydCBjb25zdCBwb2xsc1N0b3JlVXRpbHMgPSB7XG4gIC8qKlxuICAgKiBHZXQgcG9sbHMgc3VtbWFyeVxuICAgKi9cbiAgZ2V0UG9sbHNTdW1tYXJ5OiAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VQb2xsc1N0b3JlLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsUG9sbHM6IHN0YXRlLnBvbGxzLmxlbmd0aCxcbiAgICAgIGZpbHRlcmVkUG9sbHM6IHN0YXRlLmZpbHRlcmVkUG9sbHMubGVuZ3RoLFxuICAgICAgY29tbWVudHM6IHN0YXRlLmNvbW1lbnRzLmxlbmd0aCxcbiAgICAgIHNlYXJjaFJlc3VsdHM6IHN0YXRlLnNlYXJjaC5yZXN1bHRzLmxlbmd0aCxcbiAgICAgIHByZWZlcmVuY2VzOiBzdGF0ZS5wcmVmZXJlbmNlcyxcbiAgICB9O1xuICB9LFxuICBcbiAgLyoqXG4gICAqIEdldCBwb2xscyBieSBzdGF0dXNcbiAgICovXG4gIGdldFBvbGxzQnlTdGF0dXM6IChzdGF0dXM6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlUG9sbHNTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiBzdGF0ZS5wb2xscy5maWx0ZXIocG9sbCA9PiBwb2xsLnN0YXR1cyA9PT0gc3RhdHVzKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBHZXQgcG9sbHMgYnkgY2F0ZWdvcnlcbiAgICovXG4gIGdldFBvbGxzQnlDYXRlZ29yeTogKGNhdGVnb3J5OiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZVBvbGxzU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gc3RhdGUucG9sbHMuZmlsdGVyKHBvbGwgPT4gcG9sbC5jYXRlZ29yeSA9PT0gY2F0ZWdvcnkpO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIEdldCB0cmVuZGluZyBwb2xsc1xuICAgKi9cbiAgZ2V0VHJlbmRpbmdQb2xsczogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlUG9sbHNTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiBzdGF0ZS5wb2xsc1xuICAgICAgLmZpbHRlcihwb2xsID0+IHBvbGwuc3RhdHVzID09PSAnYWN0aXZlJylcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBiLnZvdGluZy50b3RhbFZvdGVzIC0gYS52b3RpbmcudG90YWxWb3RlcylcbiAgICAgIC5zbGljZSgwLCAxMCk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogR2V0IHJlY2VudCBwb2xsc1xuICAgKi9cbiAgZ2V0UmVjZW50UG9sbHM6IChsaW1pdDogbnVtYmVyID0gMTApID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZVBvbGxzU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gc3RhdGUucG9sbHNcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBuZXcgRGF0ZShiLnRpbWVzdGFtcHMuY3JlYXRlZEF0KS5nZXRUaW1lKCkgLSBuZXcgRGF0ZShhLnRpbWVzdGFtcHMuY3JlYXRlZEF0KS5nZXRUaW1lKCkpXG4gICAgICAuc2xpY2UoMCwgbGltaXQpO1xuICB9XG59O1xuXG4vLyBTdG9yZSBzdWJzY3JpcHRpb25zIGZvciBleHRlcm5hbCBpbnRlZ3JhdGlvbnNcbmV4cG9ydCBjb25zdCBwb2xsc1N0b3JlU3Vic2NyaXB0aW9ucyA9IHtcbiAgLyoqXG4gICAqIFN1YnNjcmliZSB0byBwb2xscyBjaGFuZ2VzXG4gICAqL1xuICBvblBvbGxzQ2hhbmdlOiAoY2FsbGJhY2s6IChwb2xsczogUG9sbFtdKSA9PiB2b2lkKSA9PiB7XG4gICAgbGV0IHByZXZQb2xsczogUG9sbFtdIHwgbnVsbCA9IG51bGw7XG4gICAgcmV0dXJuIHVzZVBvbGxzU3RvcmUuc3Vic2NyaWJlKFxuICAgICAgKHN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBvbGxzID0gc3RhdGUucG9sbHM7XG4gICAgICAgIGlmIChwb2xscyAhPT0gcHJldlBvbGxzKSB7XG4gICAgICAgICAgY2FsbGJhY2socG9sbHMpO1xuICAgICAgICB9XG4gICAgICAgIHByZXZQb2xscyA9IHBvbGxzO1xuICAgICAgICByZXR1cm4gcG9sbHM7XG4gICAgICB9XG4gICAgKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gdm90aW5nIGNoYW5nZXNcbiAgICovXG4gIG9uVm90aW5nQ2hhbmdlOiAoY2FsbGJhY2s6IChwb2xsOiBQb2xsKSA9PiB2b2lkKSA9PiB7XG4gICAgbGV0IHByZXZQb2xsOiBQb2xsIHwgbnVsbCA9IG51bGw7XG4gICAgcmV0dXJuIHVzZVBvbGxzU3RvcmUuc3Vic2NyaWJlKFxuICAgICAgKHN0YXRlKSA9PiB7XG4gICAgICAgIGNvbnN0IHBvbGwgPSBzdGF0ZS5zZWxlY3RlZFBvbGw7XG4gICAgICAgIGlmIChwb2xsICE9PSBwcmV2UG9sbCAmJiBwb2xsPy52b3RpbmcpIHtcbiAgICAgICAgICBjYWxsYmFjayhwb2xsKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2UG9sbCA9IHBvbGw7XG4gICAgICAgIHJldHVybiBwb2xsO1xuICAgICAgfVxuICAgICk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIGNvbW1lbnRzIGNoYW5nZXNcbiAgICovXG4gIG9uQ29tbWVudHNDaGFuZ2U6IChjYWxsYmFjazogKGNvbW1lbnRzOiBQb2xsQ29tbWVudFtdKSA9PiB2b2lkKSA9PiB7XG4gICAgbGV0IHByZXZDb21tZW50czogUG9sbENvbW1lbnRbXSB8IG51bGwgPSBudWxsO1xuICAgIHJldHVybiB1c2VQb2xsc1N0b3JlLnN1YnNjcmliZShcbiAgICAgIChzdGF0ZSkgPT4ge1xuICAgICAgICBjb25zdCBjb21tZW50cyA9IHN0YXRlLmNvbW1lbnRzO1xuICAgICAgICBpZiAoY29tbWVudHMgIT09IHByZXZDb21tZW50cykge1xuICAgICAgICAgIGNhbGxiYWNrKGNvbW1lbnRzKTtcbiAgICAgICAgfVxuICAgICAgICBwcmV2Q29tbWVudHMgPSBjb21tZW50cztcbiAgICAgICAgcmV0dXJuIGNvbW1lbnRzO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn07XG5cbi8vIFN0b3JlIGRlYnVnZ2luZyB1dGlsaXRpZXNcbmV4cG9ydCBjb25zdCBwb2xsc1N0b3JlRGVidWcgPSB7XG4gIC8qKlxuICAgKiBMb2cgY3VycmVudCBwb2xscyBzdGF0ZVxuICAgKi9cbiAgbG9nU3RhdGU6ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZVBvbGxzU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBsb2dnZXIuZGVidWcoJ1BvbGxzIFN0b3JlIFN0YXRlJywge1xuICAgICAgdG90YWxQb2xsczogc3RhdGUucG9sbHMubGVuZ3RoLFxuICAgICAgZmlsdGVyZWRQb2xsczogc3RhdGUuZmlsdGVyZWRQb2xscy5sZW5ndGgsXG4gICAgICBjb21tZW50czogc3RhdGUuY29tbWVudHMubGVuZ3RoLFxuICAgICAgc2VhcmNoUmVzdWx0czogc3RhdGUuc2VhcmNoLnJlc3VsdHMubGVuZ3RoLFxuICAgICAgc2VsZWN0ZWRQb2xsOiBzdGF0ZS5zZWxlY3RlZFBvbGw/LnRpdGxlIHx8ICdub25lJyxcbiAgICAgIGN1cnJlbnRWaWV3OiBzdGF0ZS5jdXJyZW50VmlldyxcbiAgICAgIGlzTG9hZGluZzogc3RhdGUuaXNMb2FkaW5nLFxuICAgICAgaXNWb3Rpbmc6IHN0YXRlLmlzVm90aW5nLFxuICAgICAgZXJyb3I6IHN0YXRlLmVycm9yXG4gICAgfSk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogTG9nIHBvbGxzIHN1bW1hcnlcbiAgICovXG4gIGxvZ1N1bW1hcnk6ICgpID0+IHtcbiAgICBjb25zdCBzdW1tYXJ5ID0gcG9sbHNTdG9yZVV0aWxzLmdldFBvbGxzU3VtbWFyeSgpO1xuICAgIGxvZ2dlci5kZWJ1ZygnUG9sbHMgU3VtbWFyeScsIHN1bW1hcnkpO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIExvZyBwb2xscyBieSBzdGF0dXNcbiAgICovXG4gIGxvZ1BvbGxzQnlTdGF0dXM6ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZVBvbGxzU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICBjb25zdCBieVN0YXR1cyA9IHN0YXRlLnBvbGxzLnJlZHVjZSgoYWNjLCBwb2xsKSA9PiB7XG4gICAgICBhY2NbcG9sbC5zdGF0dXNdID0gKGFjY1twb2xsLnN0YXR1c10gfHwgMCkgKyAxO1xuICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTtcbiAgICBsb2dnZXIuZGVidWcoJ1BvbGxzIGJ5IFN0YXR1cycsIGJ5U3RhdHVzKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBSZXNldCBwb2xscyBzdG9yZVxuICAgKi9cbiAgcmVzZXQ6ICgpID0+IHtcbiAgICB1c2VQb2xsc1N0b3JlLmdldFN0YXRlKCkuY2xlYXJGaWx0ZXJzKCk7XG4gICAgdXNlUG9sbHNTdG9yZS5nZXRTdGF0ZSgpLnJlc2V0UHJlZmVyZW5jZXMoKTtcbiAgICBsb2dnZXIuaW5mbygnUG9sbHMgc3RvcmUgcmVzZXQnKTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJwb2xsc1N0b3JlRGVidWciLCJwb2xsc1N0b3JlU3Vic2NyaXB0aW9ucyIsInBvbGxzU3RvcmVVdGlscyIsInVzZUFjdGl2ZVBvbGxzIiwidXNlRmlsdGVyZWRQb2xscyIsInVzZVBvbGxDb21tZW50cyIsInVzZVBvbGxDb21tZW50c0J5UG9sbElkIiwidXNlUG9sbEZpbHRlcnMiLCJ1c2VQb2xsUHJlZmVyZW5jZXMiLCJ1c2VQb2xsU2VhcmNoIiwidXNlUG9sbHMiLCJ1c2VQb2xsc0FjdGlvbnMiLCJ1c2VQb2xsc0Vycm9yIiwidXNlUG9sbHNMb2FkaW5nIiwidXNlUG9sbHNTdGF0cyIsInVzZVBvbGxzU3RvcmUiLCJ1c2VTZWxlY3RlZFBvbGwiLCJ1c2VVc2VyVm90ZWRQb2xscyIsImRlZmF1bHRQcmVmZXJlbmNlcyIsImRlZmF1bHRWaWV3Iiwic29ydEJ5IiwiaXRlbXNQZXJQYWdlIiwic2hvd1Jlc3VsdHMiLCJhdXRvUmVmcmVzaCIsInJlZnJlc2hJbnRlcnZhbCIsIm5vdGlmaWNhdGlvbnMiLCJuZXdQb2xscyIsInBvbGxVcGRhdGVzIiwicG9sbENsb3NlcyIsInBvbGxSZXN1bHRzIiwicHJpdmFjeSIsInNob3dWb3RlSGlzdG9yeSIsInNob3dQb2xsUGFydGljaXBhdGlvbiIsInNoYXJlQWN0aXZpdHkiLCJ2b3RpbmciLCJjb25maXJtVm90ZXMiLCJzaG93UHJvZ3Jlc3MiLCJhbGxvd1VuZG8iLCJ1bmRvVGltZUxpbWl0IiwiZGVmYXVsdEZpbHRlcnMiLCJzdGF0dXMiLCJjYXRlZ29yeSIsInRhZ3MiLCJhdXRob3IiLCJkYXRlUmFuZ2UiLCJzdGFydCIsImVuZCIsInZvdGluZ1N0YXR1cyIsInZpc2liaWxpdHkiLCJjcmVhdGUiLCJkZXZ0b29scyIsInBlcnNpc3QiLCJzZXQiLCJnZXQiLCJwb2xscyIsImZpbHRlcmVkUG9sbHMiLCJjb21tZW50cyIsInNlYXJjaCIsInF1ZXJ5IiwicmVzdWx0cyIsInRvdGFsUmVzdWx0cyIsImN1cnJlbnRQYWdlIiwidG90YWxQYWdlcyIsImZpbHRlcnMiLCJzdWdnZXN0aW9ucyIsInJlY2VudFNlYXJjaGVzIiwic2VsZWN0ZWRQb2xsIiwiY3VycmVudFZpZXciLCJzZWxlY3RlZENhdGVnb3J5IiwicHJlZmVyZW5jZXMiLCJpc0xvYWRpbmciLCJpc1NlYXJjaGluZyIsImlzVm90aW5nIiwiaXNVcGRhdGluZyIsImVycm9yIiwic2V0UG9sbHMiLCJhZGRQb2xsIiwicG9sbCIsInN0YXRlIiwidXBkYXRlUG9sbCIsImlkIiwidXBkYXRlcyIsIm1hcCIsIndpdGhPcHRpb25hbCIsInJlbW92ZVBvbGwiLCJmaWx0ZXIiLCJwdWJsaXNoUG9sbCIsInRpbWVzdGFtcHMiLCJwdWJsaXNoZWRBdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsInVwZGF0ZWRBdCIsImNsb3NlUG9sbCIsImNsb3Nlc0F0IiwiYXJjaGl2ZVBvbGwiLCJ2b3RlT25Qb2xsIiwicG9sbElkIiwib3B0aW9uSWQiLCJzZXRWb3RpbmciLCJzZXRFcnJvciIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsIkVycm9yIiwidXNlclZvdGUiLCJ1c2VyVm90ZWRBdCIsImhhc1ZvdGVkIiwidG90YWxWb3RlcyIsIm9wdGlvblJlc3VsdHMiLCJyZXN1bHQiLCJ2b3RlcyIsImxvZ2dlciIsImluZm8iLCJlcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwidW5kb1ZvdGUiLCJmaW5kIiwicCIsInVuZGVmaW5lZCIsIk1hdGgiLCJtYXgiLCJjaGFuZ2VWb3RlIiwibmV3T3B0aW9uSWQiLCJzZXRDb21tZW50cyIsImFkZENvbW1lbnQiLCJjb21tZW50Iiwibm93IiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJjcmVhdGVkQXQiLCJ1cGRhdGVDb21tZW50IiwicmVtb3ZlQ29tbWVudCIsImxpa2VDb21tZW50IiwidXNlckxpa2VkIiwibGlrZXMiLCJ1bmxpa2VDb21tZW50Iiwic2V0RmlsdGVycyIsIm5ld0ZpbHRlcnMiLCJmaWx0ZXJlZCIsImxlbmd0aCIsImluY2x1ZGVzIiwic29tZSIsInRhZyIsImNsZWFyRmlsdGVycyIsInNlYXJjaFBvbGxzIiwic2V0U2VhcmNoaW5nIiwianNvbiIsInRvdGFsIiwiY2VpbCIsInNldFNlYXJjaFF1ZXJ5IiwiY2xlYXJTZWFyY2giLCJzZXRTZWxlY3RlZFBvbGwiLCJzZXRDdXJyZW50VmlldyIsInZpZXciLCJzZXRTZWxlY3RlZENhdGVnb3J5IiwidXBkYXRlUHJlZmVyZW5jZXMiLCJyZXNldFByZWZlcmVuY2VzIiwibG9hZFBvbGxzIiwic2V0TG9hZGluZyIsImNvdW50IiwibG9hZFBvbGwiLCJsb2FkQ29tbWVudHMiLCJjcmVhdGVQb2xsIiwic2V0VXBkYXRpbmciLCJuZXdQb2xsIiwidGl0bGUiLCJ1cGRhdGVQb2xsU2V0dGluZ3MiLCJzZXR0aW5ncyIsImxvYWRpbmciLCJzZWFyY2hpbmciLCJ1cGRhdGluZyIsImNsZWFyRXJyb3IiLCJuYW1lIiwicGFydGlhbGl6ZSIsInRvdGFsUG9sbHMiLCJhY3RpdmVQb2xscyIsImNsb3NlZFBvbGxzIiwidXNlclZvdGVkUG9sbHMiLCJzZWFyY2hSZXN1bHRzIiwiZ2V0UG9sbHNTdW1tYXJ5IiwiZ2V0U3RhdGUiLCJnZXRQb2xsc0J5U3RhdHVzIiwiZ2V0UG9sbHNCeUNhdGVnb3J5IiwiZ2V0VHJlbmRpbmdQb2xscyIsInNvcnQiLCJhIiwiYiIsInNsaWNlIiwiZ2V0UmVjZW50UG9sbHMiLCJsaW1pdCIsImdldFRpbWUiLCJvblBvbGxzQ2hhbmdlIiwiY2FsbGJhY2siLCJwcmV2UG9sbHMiLCJzdWJzY3JpYmUiLCJvblZvdGluZ0NoYW5nZSIsInByZXZQb2xsIiwib25Db21tZW50c0NoYW5nZSIsInByZXZDb21tZW50cyIsImxvZ1N0YXRlIiwiZGVidWciLCJsb2dTdW1tYXJ5Iiwic3VtbWFyeSIsImxvZ1BvbGxzQnlTdGF0dXMiLCJieVN0YXR1cyIsInJlZHVjZSIsImFjYyIsInJlc2V0Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Q0FRQzs7Ozs7Ozs7Ozs7SUF5a0NZQSxlQUFlO2VBQWZBOztJQXREQUMsdUJBQXVCO2VBQXZCQTs7SUF0REFDLGVBQWU7ZUFBZkE7O0lBVEFDLGNBQWM7ZUFBZEE7O0lBbkVBQyxnQkFBZ0I7ZUFBaEJBOztJQUNBQyxlQUFlO2VBQWZBOztJQXNFQUMsdUJBQXVCO2VBQXZCQTs7SUFsRUFDLGNBQWM7ZUFBZEE7O0lBREFDLGtCQUFrQjtlQUFsQkE7O0lBRkFDLGFBQWE7ZUFBYkE7O0lBSEFDLFFBQVE7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