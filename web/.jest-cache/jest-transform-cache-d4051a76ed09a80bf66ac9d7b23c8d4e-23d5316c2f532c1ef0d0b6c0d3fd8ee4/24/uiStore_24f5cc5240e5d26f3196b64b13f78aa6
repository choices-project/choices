d0b500e65cf725adbbf6d62ec1dca59b
/**
 * UI Store - Zustand Implementation
 * 
 * Centralized UI state management for modals, navigation, sidebar,
 * and other UI components. Provides consistent UI state across the application.
 * 
 * Created: January 15, 2025
 * Status: âœ… ACTIVE
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    useActiveModals: function() {
        return useActiveModals;
    },
    useCanNavigate: function() {
        return useCanNavigate;
    },
    useCurrentBreadcrumbs: function() {
        return useCurrentBreadcrumbs;
    },
    useGlobalLoading: function() {
        return useGlobalLoading;
    },
    useIsDesktop: function() {
        return useIsDesktop;
    },
    useIsMobile: function() {
        return useIsMobile;
    },
    useIsModalOpen: function() {
        return useIsModalOpen;
    },
    useIsTablet: function() {
        return useIsTablet;
    },
    useModal: function() {
        return useModal;
    },
    useModals: function() {
        return useModals;
    },
    useNavigation: function() {
        return useNavigation;
    },
    usePageLoading: function() {
        return usePageLoading;
    },
    useScreenSize: function() {
        return useScreenSize;
    },
    useSidebar: function() {
        return useSidebar;
    },
    useSystemTheme: function() {
        return useSystemTheme;
    },
    useTheme: function() {
        return useTheme;
    },
    useToastCount: function() {
        return useToastCount;
    },
    useToasts: function() {
        return useToasts;
    },
    useUIActions: function() {
        return useUIActions;
    },
    useUIDebug: function() {
        return useUIDebug;
    },
    useUIStore: function() {
        return useUIStore;
    },
    useUISubscription: function() {
        return useUISubscription;
    }
});
const _zustand = require("zustand");
const _middleware = require("zustand/middleware");
const _immer = require("zustand/middleware/immer");
const useUIStore = (0, _zustand.create)()((0, _middleware.devtools)((0, _middleware.persist)((0, _immer.immer)((set, get)=>({
        // Initial state
        modals: {},
        sidebar: {
            isOpen: true,
            isCollapsed: false,
            width: 256,
            pinned: false
        },
        navigation: {
            currentRoute: "/",
            breadcrumbs: [],
            history: [
                "/"
            ],
            canGoBack: false,
            canGoForward: false
        },
        toasts: [],
        globalLoading: false,
        pageLoading: false,
        theme: "system",
        systemTheme: "light",
        screenSize: "desktop",
        isMobile: false,
        isTablet: false,
        isDesktop: true,
        isLoading: false,
        error: null,
        // Base store actions
        setLoading: (loading)=>set((state)=>{
                state.isLoading = loading;
            }),
        setError: (error)=>set((state)=>{
                state.error = error;
            }),
        clearError: ()=>set((state)=>{
                state.error = null;
            }),
        // Modal management actions
        openModal: (id, component, props, options = {})=>set((state)=>{
                state.modals[id] = {
                    id,
                    isOpen: true,
                    component,
                    props,
                    closable: true,
                    backdrop: true,
                    ...options
                };
            }),
        closeModal: (id)=>set((state)=>{
                if (state.modals[id]) {
                    state.modals[id].isOpen = false;
                    // Call onClose if provided
                    if (state.modals[id].onClose) {
                        state.modals[id].onClose();
                    }
                }
            }),
        closeAllModals: ()=>set((state)=>{
                Object.values(state.modals).forEach((modal)=>{
                    modal.isOpen = false;
                    if (modal.onClose) {
                        modal.onClose();
                    }
                });
            }),
        updateModal: (id, updates)=>set((state)=>{
                if (state.modals[id]) {
                    Object.assign(state.modals[id], updates);
                }
            }),
        // Sidebar management actions
        toggleSidebar: ()=>set((state)=>{
                state.sidebar.isOpen = !state.sidebar.isOpen;
            }),
        setSidebarOpen: (open)=>set((state)=>{
                state.sidebar.isOpen = open;
            }),
        setSidebarCollapsed: (collapsed)=>set((state)=>{
                state.sidebar.isCollapsed = collapsed;
            }),
        setSidebarWidth: (width)=>set((state)=>{
                state.sidebar.width = Math.max(200, Math.min(400, width));
            }),
        setSidebarPinned: (pinned)=>set((state)=>{
                state.sidebar.pinned = pinned;
            }),
        setSidebarActiveItem: (item)=>set((state)=>{
                state.sidebar.activeItem = item;
            }),
        // Navigation management actions
        setCurrentRoute: (route)=>set((state)=>{
                state.navigation.previousRoute = state.navigation.currentRoute;
                state.navigation.currentRoute = route;
            }),
        setBreadcrumbs: (breadcrumbs)=>set((state)=>{
                state.navigation.breadcrumbs = breadcrumbs;
            }),
        addToHistory: (route)=>set((state)=>{
                const history = state.navigation.history;
                const currentIndex = history.indexOf(state.navigation.currentRoute);
                // Remove any forward history if we're not at the end
                if (currentIndex < history.length - 1) {
                    history.splice(currentIndex + 1);
                }
                // Add new route
                history.push(route);
                state.navigation.currentRoute = route;
                state.navigation.canGoBack = history.length > 1;
                state.navigation.canGoForward = false;
            }),
        goBack: ()=>set((state)=>{
                const history = state.navigation.history;
                const currentIndex = history.indexOf(state.navigation.currentRoute);
                if (currentIndex > 0) {
                    const previousRoute = history[currentIndex - 1];
                    state.navigation.previousRoute = state.navigation.currentRoute;
                    state.navigation.currentRoute = previousRoute || "";
                    state.navigation.canGoBack = currentIndex > 1;
                    state.navigation.canGoForward = true;
                }
            }),
        goForward: ()=>set((state)=>{
                const history = state.navigation.history;
                const currentIndex = history.indexOf(state.navigation.currentRoute);
                if (currentIndex < history.length - 1) {
                    const nextRoute = history[currentIndex + 1];
                    state.navigation.previousRoute = state.navigation.currentRoute;
                    state.navigation.currentRoute = nextRoute || "";
                    state.navigation.canGoBack = true;
                    state.navigation.canGoForward = currentIndex < history.length - 2;
                }
            }),
        clearHistory: ()=>set((state)=>{
                state.navigation.history = [
                    state.navigation.currentRoute
                ];
                state.navigation.canGoBack = false;
                state.navigation.canGoForward = false;
            }),
        // Toast management actions
        addToast: (toast)=>set((state)=>{
                const id = `toast-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
                state.toasts.push({
                    id,
                    duration: 5000,
                    persistent: false,
                    ...toast,
                    position: toast.position || "top-right"
                });
                // Auto-remove toast after duration
                if (!toast.persistent && toast.duration !== 0) {
                    setTimeout(()=>{
                        get().removeToast(id);
                    }, toast.duration || 5000);
                }
            }),
        removeToast: (id)=>set((state)=>{
                state.toasts = state.toasts.filter((toast)=>toast.id !== id);
            }),
        clearAllToasts: ()=>set((state)=>{
                state.toasts = [];
            }),
        updateToast: (id, updates)=>set((state)=>{
                const toast = state.toasts.find((t)=>t.id === id);
                if (toast) {
                    Object.assign(toast, updates);
                }
            }),
        // Loading management actions
        setGlobalLoading: (loading)=>set((state)=>{
                state.globalLoading = loading;
            }),
        setPageLoading: (loading)=>set((state)=>{
                state.pageLoading = loading;
            }),
        // Theme management actions
        setTheme: (theme)=>set((state)=>{
                state.theme = theme;
            }),
        setSystemTheme: (theme)=>set((state)=>{
                state.systemTheme = theme;
            }),
        // Screen management actions
        setScreenSize: (size)=>set((state)=>{
                state.screenSize = size;
                state.isMobile = size === "mobile";
                state.isTablet = size === "tablet";
                state.isDesktop = size === "desktop";
            }),
        updateScreenState: ()=>set((state)=>{
                if (typeof window !== "undefined") {
                    const width = window.innerWidth;
                    if (width < 768) {
                        state.screenSize = "mobile";
                        state.isMobile = true;
                        state.isTablet = false;
                        state.isDesktop = false;
                    } else if (width < 1024) {
                        state.screenSize = "tablet";
                        state.isMobile = false;
                        state.isTablet = true;
                        state.isDesktop = false;
                    } else {
                        state.screenSize = "desktop";
                        state.isMobile = false;
                        state.isTablet = false;
                        state.isDesktop = true;
                    }
                }
            }),
        // Utility actions
        resetUI: ()=>set((state)=>{
                state.modals = {};
                state.sidebar = {
                    isOpen: true,
                    isCollapsed: false,
                    width: 256,
                    pinned: false
                };
                state.navigation = {
                    currentRoute: "/",
                    breadcrumbs: [],
                    history: [
                        "/"
                    ],
                    canGoBack: false,
                    canGoForward: false
                };
                state.toasts = [];
                state.globalLoading = false;
                state.pageLoading = false;
            })
    })), {
    name: "ui-store",
    partialize: (state)=>({
            sidebar: state.sidebar,
            theme: state.theme,
            navigation: {
                currentRoute: state.navigation.currentRoute,
                breadcrumbs: state.navigation.breadcrumbs,
                history: state.navigation.history
            }
        })
}), {
    name: "UIStore"
}));
const useModals = ()=>useUIStore((state)=>state.modals);
const useModal = (id)=>useUIStore((state)=>state.modals[id]);
const useSidebar = ()=>useUIStore((state)=>state.sidebar);
const useNavigation = ()=>useUIStore((state)=>state.navigation);
const useToasts = ()=>useUIStore((state)=>state.toasts);
const useGlobalLoading = ()=>useUIStore((state)=>state.globalLoading);
const usePageLoading = ()=>useUIStore((state)=>state.pageLoading);
const useTheme = ()=>useUIStore((state)=>state.theme);
const useSystemTheme = ()=>useUIStore((state)=>state.systemTheme);
const useScreenSize = ()=>useUIStore((state)=>state.screenSize);
const useIsMobile = ()=>useUIStore((state)=>state.isMobile);
const useIsTablet = ()=>useUIStore((state)=>state.isTablet);
const useIsDesktop = ()=>useUIStore((state)=>state.isDesktop);
const useIsModalOpen = (id)=>useUIStore((state)=>state.modals[id]?.isOpen || false);
const useActiveModals = ()=>useUIStore((state)=>Object.values(state.modals).filter((modal)=>modal.isOpen));
const useToastCount = ()=>useUIStore((state)=>state.toasts.length);
const useCurrentBreadcrumbs = ()=>useUIStore((state)=>state.navigation.breadcrumbs);
const useCanNavigate = ()=>useUIStore((state)=>({
            canGoBack: state.navigation.canGoBack,
            canGoForward: state.navigation.canGoForward
        }));
const useUIActions = ()=>useUIStore((state)=>({
            openModal: state.openModal,
            closeModal: state.closeModal,
            closeAllModals: state.closeAllModals,
            updateModal: state.updateModal,
            toggleSidebar: state.toggleSidebar,
            setSidebarOpen: state.setSidebarOpen,
            setSidebarCollapsed: state.setSidebarCollapsed,
            setSidebarWidth: state.setSidebarWidth,
            setSidebarPinned: state.setSidebarPinned,
            setSidebarActiveItem: state.setSidebarActiveItem,
            setCurrentRoute: state.setCurrentRoute,
            setBreadcrumbs: state.setBreadcrumbs,
            addToHistory: state.addToHistory,
            goBack: state.goBack,
            goForward: state.goForward,
            clearHistory: state.clearHistory,
            addToast: state.addToast,
            removeToast: state.removeToast,
            clearAllToasts: state.clearAllToasts,
            updateToast: state.updateToast,
            setGlobalLoading: state.setGlobalLoading,
            setPageLoading: state.setPageLoading,
            setTheme: state.setTheme,
            setSystemTheme: state.setSystemTheme,
            setScreenSize: state.setScreenSize,
            updateScreenState: state.updateScreenState,
            resetUI: state.resetUI
        }));
const useUIDebug = ()=>useUIStore((state)=>({
            modals: Object.keys(state.modals),
            activeModals: Object.values(state.modals).filter((modal)=>modal.isOpen).length,
            toasts: state.toasts.length,
            sidebarOpen: state.sidebar.isOpen,
            currentRoute: state.navigation.currentRoute,
            historyLength: state.navigation.history.length,
            theme: state.theme,
            screenSize: state.screenSize
        }));
const useUISubscription = (selector, callback)=>{
    return useUIStore.subscribe((state)=>{
        const value = selector(state);
        callback(value);
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvc3RvcmVzL3VpU3RvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVSSBTdG9yZSAtIFp1c3RhbmQgSW1wbGVtZW50YXRpb25cbiAqIFxuICogQ2VudHJhbGl6ZWQgVUkgc3RhdGUgbWFuYWdlbWVudCBmb3IgbW9kYWxzLCBuYXZpZ2F0aW9uLCBzaWRlYmFyLFxuICogYW5kIG90aGVyIFVJIGNvbXBvbmVudHMuIFByb3ZpZGVzIGNvbnNpc3RlbnQgVUkgc3RhdGUgYWNyb3NzIHRoZSBhcHBsaWNhdGlvbi5cbiAqIFxuICogQ3JlYXRlZDogSmFudWFyeSAxNSwgMjAyNVxuICogU3RhdHVzOiDinIUgQUNUSVZFXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSAnenVzdGFuZCc7XG5pbXBvcnQgeyBkZXZ0b29scyB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5pbXBvcnQgeyBwZXJzaXN0IH0gZnJvbSAnenVzdGFuZC9taWRkbGV3YXJlJztcbmltcG9ydCB7IGltbWVyIH0gZnJvbSAnenVzdGFuZC9taWRkbGV3YXJlL2ltbWVyJztcbmltcG9ydCB7IHNoYWxsb3cgfSBmcm9tICd6dXN0YW5kL3NoYWxsb3cnO1xuXG5pbXBvcnQgdHlwZSB7IEJhc2VTdG9yZSB9IGZyb20gJy4vdHlwZXMnO1xuXG4vLyBNb2RhbCBzdGF0ZSBpbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgTW9kYWxTdGF0ZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgY29tcG9uZW50PzogUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+O1xuICBwcm9wcz86IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIG9uQ2xvc2U/OiAoKSA9PiB2b2lkO1xuICBjbG9zYWJsZT86IGJvb2xlYW47XG4gIGJhY2tkcm9wPzogYm9vbGVhbjtcbn1cblxuLy8gU2lkZWJhciBzdGF0ZSBpbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgU2lkZWJhclN0YXRlIHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBpc0NvbGxhcHNlZDogYm9vbGVhbjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgcGlubmVkOiBib29sZWFuO1xuICBhY3RpdmVJdGVtPzogc3RyaW5nO1xufVxuXG4vLyBOYXZpZ2F0aW9uIHN0YXRlIGludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0aW9uU3RhdGUge1xuICBjdXJyZW50Um91dGU6IHN0cmluZztcbiAgcHJldmlvdXNSb3V0ZT86IHN0cmluZztcbiAgYnJlYWRjcnVtYnM6IEFycmF5PHtcbiAgICBsYWJlbDogc3RyaW5nO1xuICAgIGhyZWY6IHN0cmluZztcbiAgfT47XG4gIGhpc3Rvcnk6IHN0cmluZ1tdO1xuICBjYW5Hb0JhY2s6IGJvb2xlYW47XG4gIGNhbkdvRm9yd2FyZDogYm9vbGVhbjtcbn1cblxuLy8gVG9hc3Qgc3RhdGUgaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIFRvYXN0U3RhdGUge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiAnc3VjY2VzcycgfCAnZXJyb3InIHwgJ3dhcm5pbmcnIHwgJ2luZm8nO1xuICB0aXRsZTogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGR1cmF0aW9uPzogbnVtYmVyO1xuICBwb3NpdGlvbjogJ3RvcC1yaWdodCcgfCAndG9wLWxlZnQnIHwgJ2JvdHRvbS1yaWdodCcgfCAnYm90dG9tLWxlZnQnIHwgJ3RvcC1jZW50ZXInIHwgJ2JvdHRvbS1jZW50ZXInO1xuICBwZXJzaXN0ZW50PzogYm9vbGVhbjtcbn1cblxuLy8gVUkgc3RvcmUgaW50ZXJmYWNlXG50eXBlIFVJU3RvcmUgPSB7XG4gIC8vIE1vZGFsIHN0YXRlXG4gIG1vZGFsczogUmVjb3JkPHN0cmluZywgTW9kYWxTdGF0ZT47XG4gIFxuICAvLyBTaWRlYmFyIHN0YXRlXG4gIHNpZGViYXI6IFNpZGViYXJTdGF0ZTtcbiAgXG4gIC8vIE5hdmlnYXRpb24gc3RhdGVcbiAgbmF2aWdhdGlvbjogTmF2aWdhdGlvblN0YXRlO1xuICBcbiAgLy8gVG9hc3Qgc3RhdGVcbiAgdG9hc3RzOiBUb2FzdFN0YXRlW107XG4gIFxuICAvLyBMb2FkaW5nIHN0YXRlc1xuICBnbG9iYWxMb2FkaW5nOiBib29sZWFuO1xuICBwYWdlTG9hZGluZzogYm9vbGVhbjtcbiAgXG4gIC8vIFRoZW1lIHN0YXRlXG4gIHRoZW1lOiAnbGlnaHQnIHwgJ2RhcmsnIHwgJ3N5c3RlbSc7XG4gIHN5c3RlbVRoZW1lOiAnbGlnaHQnIHwgJ2RhcmsnO1xuICBcbiAgLy8gU2NyZWVuIHN0YXRlXG4gIHNjcmVlblNpemU6ICdtb2JpbGUnIHwgJ3RhYmxldCcgfCAnZGVza3RvcCc7XG4gIGlzTW9iaWxlOiBib29sZWFuO1xuICBpc1RhYmxldDogYm9vbGVhbjtcbiAgaXNEZXNrdG9wOiBib29sZWFuO1xuICBcbiAgLy8gQWN0aW9ucyAtIE1vZGFsIE1hbmFnZW1lbnRcbiAgb3Blbk1vZGFsOiAoaWQ6IHN0cmluZywgY29tcG9uZW50PzogUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+LCBwcm9wcz86IFJlY29yZDxzdHJpbmcsIGFueT4sIG9wdGlvbnM/OiBQYXJ0aWFsPE1vZGFsU3RhdGU+KSA9PiB2b2lkO1xuICBjbG9zZU1vZGFsOiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgY2xvc2VBbGxNb2RhbHM6ICgpID0+IHZvaWQ7XG4gIHVwZGF0ZU1vZGFsOiAoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxNb2RhbFN0YXRlPikgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBTaWRlYmFyIE1hbmFnZW1lbnRcbiAgdG9nZ2xlU2lkZWJhcjogKCkgPT4gdm9pZDtcbiAgc2V0U2lkZWJhck9wZW46IChvcGVuOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRTaWRlYmFyQ29sbGFwc2VkOiAoY29sbGFwc2VkOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRTaWRlYmFyV2lkdGg6ICh3aWR0aDogbnVtYmVyKSA9PiB2b2lkO1xuICBzZXRTaWRlYmFyUGlubmVkOiAocGlubmVkOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRTaWRlYmFyQWN0aXZlSXRlbTogKGl0ZW06IHN0cmluZykgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBOYXZpZ2F0aW9uIE1hbmFnZW1lbnRcbiAgc2V0Q3VycmVudFJvdXRlOiAocm91dGU6IHN0cmluZykgPT4gdm9pZDtcbiAgc2V0QnJlYWRjcnVtYnM6IChicmVhZGNydW1iczogTmF2aWdhdGlvblN0YXRlWydicmVhZGNydW1icyddKSA9PiB2b2lkO1xuICBhZGRUb0hpc3Rvcnk6IChyb3V0ZTogc3RyaW5nKSA9PiB2b2lkO1xuICBnb0JhY2s6ICgpID0+IHZvaWQ7XG4gIGdvRm9yd2FyZDogKCkgPT4gdm9pZDtcbiAgY2xlYXJIaXN0b3J5OiAoKSA9PiB2b2lkO1xuICBcbiAgLy8gQWN0aW9ucyAtIFRvYXN0IE1hbmFnZW1lbnRcbiAgYWRkVG9hc3Q6ICh0b2FzdDogT21pdDxUb2FzdFN0YXRlLCAnaWQnPikgPT4gdm9pZDtcbiAgcmVtb3ZlVG9hc3Q6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICBjbGVhckFsbFRvYXN0czogKCkgPT4gdm9pZDtcbiAgdXBkYXRlVG9hc3Q6IChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPFRvYXN0U3RhdGU+KSA9PiB2b2lkO1xuICBcbiAgLy8gQWN0aW9ucyAtIExvYWRpbmcgTWFuYWdlbWVudFxuICBzZXRHbG9iYWxMb2FkaW5nOiAobG9hZGluZzogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0UGFnZUxvYWRpbmc6IChsb2FkaW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBcbiAgLy8gQWN0aW9ucyAtIFRoZW1lIE1hbmFnZW1lbnRcbiAgc2V0VGhlbWU6ICh0aGVtZTogJ2xpZ2h0JyB8ICdkYXJrJyB8ICdzeXN0ZW0nKSA9PiB2b2lkO1xuICBzZXRTeXN0ZW1UaGVtZTogKHRoZW1lOiAnbGlnaHQnIHwgJ2RhcmsnKSA9PiB2b2lkO1xuICBcbiAgLy8gQWN0aW9ucyAtIFNjcmVlbiBNYW5hZ2VtZW50XG4gIHNldFNjcmVlblNpemU6IChzaXplOiAnbW9iaWxlJyB8ICd0YWJsZXQnIHwgJ2Rlc2t0b3AnKSA9PiB2b2lkO1xuICB1cGRhdGVTY3JlZW5TdGF0ZTogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBVdGlsaXR5XG4gIHJlc2V0VUk6ICgpID0+IHZvaWQ7XG59ICYgQmFzZVN0b3JlO1xuXG4vLyBDcmVhdGUgVUkgc3RvcmUgd2l0aCBtaWRkbGV3YXJlXG5leHBvcnQgY29uc3QgdXNlVUlTdG9yZSA9IGNyZWF0ZTxVSVN0b3JlPigpKFxuICBkZXZ0b29scyhcbiAgICBwZXJzaXN0KFxuICAgICAgaW1tZXIoKHNldCwgZ2V0KSA9PiAoe1xuICAgICAgICAvLyBJbml0aWFsIHN0YXRlXG4gICAgICAgIG1vZGFsczoge30sXG4gICAgICAgIHNpZGViYXI6IHtcbiAgICAgICAgICBpc09wZW46IHRydWUsXG4gICAgICAgICAgaXNDb2xsYXBzZWQ6IGZhbHNlLFxuICAgICAgICAgIHdpZHRoOiAyNTYsXG4gICAgICAgICAgcGlubmVkOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgbmF2aWdhdGlvbjoge1xuICAgICAgICAgIGN1cnJlbnRSb3V0ZTogJy8nLFxuICAgICAgICAgIGJyZWFkY3J1bWJzOiBbXSxcbiAgICAgICAgICBoaXN0b3J5OiBbJy8nXSxcbiAgICAgICAgICBjYW5Hb0JhY2s6IGZhbHNlLFxuICAgICAgICAgIGNhbkdvRm9yd2FyZDogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIHRvYXN0czogW10sXG4gICAgICAgIGdsb2JhbExvYWRpbmc6IGZhbHNlLFxuICAgICAgICBwYWdlTG9hZGluZzogZmFsc2UsXG4gICAgICAgIHRoZW1lOiAnc3lzdGVtJyxcbiAgICAgICAgc3lzdGVtVGhlbWU6ICdsaWdodCcsXG4gICAgICAgIHNjcmVlblNpemU6ICdkZXNrdG9wJyxcbiAgICAgICAgaXNNb2JpbGU6IGZhbHNlLFxuICAgICAgICBpc1RhYmxldDogZmFsc2UsXG4gICAgICAgIGlzRGVza3RvcDogdHJ1ZSxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIFxuICAgICAgICAvLyBCYXNlIHN0b3JlIGFjdGlvbnNcbiAgICAgICAgc2V0TG9hZGluZzogKGxvYWRpbmcpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBsb2FkaW5nO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHNldEVycm9yOiAoZXJyb3IpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5lcnJvciA9IGVycm9yO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIGNsZWFyRXJyb3I6ICgpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5lcnJvciA9IG51bGw7XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgLy8gTW9kYWwgbWFuYWdlbWVudCBhY3Rpb25zXG4gICAgICAgIG9wZW5Nb2RhbDogKGlkLCBjb21wb25lbnQsIHByb3BzLCBvcHRpb25zID0ge30pID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5tb2RhbHNbaWRdID0ge1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBpc09wZW46IHRydWUsXG4gICAgICAgICAgICBjb21wb25lbnQsXG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIGNsb3NhYmxlOiB0cnVlLFxuICAgICAgICAgICAgYmFja2Ryb3A6IHRydWUsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgY2xvc2VNb2RhbDogKGlkKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgaWYgKHN0YXRlLm1vZGFsc1tpZF0pIHtcbiAgICAgICAgICAgIHN0YXRlLm1vZGFsc1tpZF0uaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICAvLyBDYWxsIG9uQ2xvc2UgaWYgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmIChzdGF0ZS5tb2RhbHNbaWRdLm9uQ2xvc2UpIHtcbiAgICAgICAgICAgICAgc3RhdGUubW9kYWxzW2lkXS5vbkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIGNsb3NlQWxsTW9kYWxzOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgT2JqZWN0LnZhbHVlcyhzdGF0ZS5tb2RhbHMpLmZvckVhY2gobW9kYWwgPT4ge1xuICAgICAgICAgICAgbW9kYWwuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAobW9kYWwub25DbG9zZSkge1xuICAgICAgICAgICAgICBtb2RhbC5vbkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgdXBkYXRlTW9kYWw6IChpZCwgdXBkYXRlcykgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGlmIChzdGF0ZS5tb2RhbHNbaWRdKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHN0YXRlLm1vZGFsc1tpZF0sIHVwZGF0ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBTaWRlYmFyIG1hbmFnZW1lbnQgYWN0aW9uc1xuICAgICAgICB0b2dnbGVTaWRlYmFyOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuc2lkZWJhci5pc09wZW4gPSAhc3RhdGUuc2lkZWJhci5pc09wZW47XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgc2V0U2lkZWJhck9wZW46IChvcGVuKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuc2lkZWJhci5pc09wZW4gPSBvcGVuO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHNldFNpZGViYXJDb2xsYXBzZWQ6IChjb2xsYXBzZWQpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5zaWRlYmFyLmlzQ29sbGFwc2VkID0gY29sbGFwc2VkO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHNldFNpZGViYXJXaWR0aDogKHdpZHRoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuc2lkZWJhci53aWR0aCA9IE1hdGgubWF4KDIwMCwgTWF0aC5taW4oNDAwLCB3aWR0aCkpO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHNldFNpZGViYXJQaW5uZWQ6IChwaW5uZWQpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5zaWRlYmFyLnBpbm5lZCA9IHBpbm5lZDtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBzZXRTaWRlYmFyQWN0aXZlSXRlbTogKGl0ZW0pID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5zaWRlYmFyLmFjdGl2ZUl0ZW0gPSBpdGVtO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIC8vIE5hdmlnYXRpb24gbWFuYWdlbWVudCBhY3Rpb25zXG4gICAgICAgIHNldEN1cnJlbnRSb3V0ZTogKHJvdXRlKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5wcmV2aW91c1JvdXRlID0gc3RhdGUubmF2aWdhdGlvbi5jdXJyZW50Um91dGU7XG4gICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5jdXJyZW50Um91dGUgPSByb3V0ZTtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBzZXRCcmVhZGNydW1iczogKGJyZWFkY3J1bWJzKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5icmVhZGNydW1icyA9IGJyZWFkY3J1bWJzO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIGFkZFRvSGlzdG9yeTogKHJvdXRlKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgY29uc3QgaGlzdG9yeSA9IHN0YXRlLm5hdmlnYXRpb24uaGlzdG9yeTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBoaXN0b3J5LmluZGV4T2Yoc3RhdGUubmF2aWdhdGlvbi5jdXJyZW50Um91dGUpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFJlbW92ZSBhbnkgZm9yd2FyZCBoaXN0b3J5IGlmIHdlJ3JlIG5vdCBhdCB0aGUgZW5kXG4gICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA8IGhpc3RvcnkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgaGlzdG9yeS5zcGxpY2UoY3VycmVudEluZGV4ICsgMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCBuZXcgcm91dGVcbiAgICAgICAgICBoaXN0b3J5LnB1c2gocm91dGUpO1xuICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uY3VycmVudFJvdXRlID0gcm91dGU7XG4gICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5jYW5Hb0JhY2sgPSBoaXN0b3J5Lmxlbmd0aCA+IDE7XG4gICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5jYW5Hb0ZvcndhcmQgPSBmYWxzZTtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBnb0JhY2s6ICgpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBoaXN0b3J5ID0gc3RhdGUubmF2aWdhdGlvbi5oaXN0b3J5O1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGhpc3RvcnkuaW5kZXhPZihzdGF0ZS5uYXZpZ2F0aW9uLmN1cnJlbnRSb3V0ZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzUm91dGUgPSBoaXN0b3J5W2N1cnJlbnRJbmRleCAtIDFdO1xuICAgICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5wcmV2aW91c1JvdXRlID0gc3RhdGUubmF2aWdhdGlvbi5jdXJyZW50Um91dGU7XG4gICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmN1cnJlbnRSb3V0ZSA9IHByZXZpb3VzUm91dGUgfHwgJyc7XG4gICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmNhbkdvQmFjayA9IGN1cnJlbnRJbmRleCA+IDE7XG4gICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmNhbkdvRm9yd2FyZCA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIGdvRm9yd2FyZDogKCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGhpc3RvcnkgPSBzdGF0ZS5uYXZpZ2F0aW9uLmhpc3Rvcnk7XG4gICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gaGlzdG9yeS5pbmRleE9mKHN0YXRlLm5hdmlnYXRpb24uY3VycmVudFJvdXRlKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoY3VycmVudEluZGV4IDwgaGlzdG9yeS5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0Um91dGUgPSBoaXN0b3J5W2N1cnJlbnRJbmRleCArIDFdO1xuICAgICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5wcmV2aW91c1JvdXRlID0gc3RhdGUubmF2aWdhdGlvbi5jdXJyZW50Um91dGU7XG4gICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmN1cnJlbnRSb3V0ZSA9IG5leHRSb3V0ZSB8fCAnJztcbiAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uY2FuR29CYWNrID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uY2FuR29Gb3J3YXJkID0gY3VycmVudEluZGV4IDwgaGlzdG9yeS5sZW5ndGggLSAyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBjbGVhckhpc3Rvcnk6ICgpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmhpc3RvcnkgPSBbc3RhdGUubmF2aWdhdGlvbi5jdXJyZW50Um91dGVdO1xuICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uY2FuR29CYWNrID0gZmFsc2U7XG4gICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5jYW5Hb0ZvcndhcmQgPSBmYWxzZTtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBUb2FzdCBtYW5hZ2VtZW50IGFjdGlvbnNcbiAgICAgICAgYWRkVG9hc3Q6ICh0b2FzdCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGlkID0gYHRvYXN0LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgICAgICAgICBzdGF0ZS50b2FzdHMucHVzaCh7XG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIGR1cmF0aW9uOiA1MDAwLFxuICAgICAgICAgICAgcGVyc2lzdGVudDogZmFsc2UsXG4gICAgICAgICAgICAuLi50b2FzdCxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB0b2FzdC5wb3NpdGlvbiB8fCAndG9wLXJpZ2h0JyxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBdXRvLXJlbW92ZSB0b2FzdCBhZnRlciBkdXJhdGlvblxuICAgICAgICAgIGlmICghdG9hc3QucGVyc2lzdGVudCAmJiB0b2FzdC5kdXJhdGlvbiAhPT0gMCkge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGdldCgpLnJlbW92ZVRvYXN0KGlkKTtcbiAgICAgICAgICAgIH0sIHRvYXN0LmR1cmF0aW9uIHx8IDUwMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICByZW1vdmVUb2FzdDogKGlkKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUudG9hc3RzID0gc3RhdGUudG9hc3RzLmZpbHRlcih0b2FzdCA9PiB0b2FzdC5pZCAhPT0gaWQpO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIGNsZWFyQWxsVG9hc3RzOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUudG9hc3RzID0gW107XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgdXBkYXRlVG9hc3Q6IChpZCwgdXBkYXRlcykgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHRvYXN0ID0gc3RhdGUudG9hc3RzLmZpbmQodCA9PiB0LmlkID09PSBpZCk7XG4gICAgICAgICAgaWYgKHRvYXN0KSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRvYXN0LCB1cGRhdGVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgLy8gTG9hZGluZyBtYW5hZ2VtZW50IGFjdGlvbnNcbiAgICAgICAgc2V0R2xvYmFsTG9hZGluZzogKGxvYWRpbmcpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5nbG9iYWxMb2FkaW5nID0gbG9hZGluZztcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBzZXRQYWdlTG9hZGluZzogKGxvYWRpbmcpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5wYWdlTG9hZGluZyA9IGxvYWRpbmc7XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgLy8gVGhlbWUgbWFuYWdlbWVudCBhY3Rpb25zXG4gICAgICAgIHNldFRoZW1lOiAodGhlbWUpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS50aGVtZSA9IHRoZW1lO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHNldFN5c3RlbVRoZW1lOiAodGhlbWUpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5zeXN0ZW1UaGVtZSA9IHRoZW1lO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIC8vIFNjcmVlbiBtYW5hZ2VtZW50IGFjdGlvbnNcbiAgICAgICAgc2V0U2NyZWVuU2l6ZTogKHNpemUpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBzdGF0ZS5zY3JlZW5TaXplID0gc2l6ZTtcbiAgICAgICAgICBzdGF0ZS5pc01vYmlsZSA9IHNpemUgPT09ICdtb2JpbGUnO1xuICAgICAgICAgIHN0YXRlLmlzVGFibGV0ID0gc2l6ZSA9PT0gJ3RhYmxldCc7XG4gICAgICAgICAgc3RhdGUuaXNEZXNrdG9wID0gc2l6ZSA9PT0gJ2Rlc2t0b3AnO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZVNjcmVlblN0YXRlOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBjb25zdCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICAgICAgaWYgKHdpZHRoIDwgNzY4KSB7XG4gICAgICAgICAgICAgIHN0YXRlLnNjcmVlblNpemUgPSAnbW9iaWxlJztcbiAgICAgICAgICAgICAgc3RhdGUuaXNNb2JpbGUgPSB0cnVlO1xuICAgICAgICAgICAgICBzdGF0ZS5pc1RhYmxldCA9IGZhbHNlO1xuICAgICAgICAgICAgICBzdGF0ZS5pc0Rlc2t0b3AgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2lkdGggPCAxMDI0KSB7XG4gICAgICAgICAgICAgIHN0YXRlLnNjcmVlblNpemUgPSAndGFibGV0JztcbiAgICAgICAgICAgICAgc3RhdGUuaXNNb2JpbGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgc3RhdGUuaXNUYWJsZXQgPSB0cnVlO1xuICAgICAgICAgICAgICBzdGF0ZS5pc0Rlc2t0b3AgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0YXRlLnNjcmVlblNpemUgPSAnZGVza3RvcCc7XG4gICAgICAgICAgICAgIHN0YXRlLmlzTW9iaWxlID0gZmFsc2U7XG4gICAgICAgICAgICAgIHN0YXRlLmlzVGFibGV0ID0gZmFsc2U7XG4gICAgICAgICAgICAgIHN0YXRlLmlzRGVza3RvcCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIC8vIFV0aWxpdHkgYWN0aW9uc1xuICAgICAgICByZXNldFVJOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUubW9kYWxzID0ge307XG4gICAgICAgICAgc3RhdGUuc2lkZWJhciA9IHtcbiAgICAgICAgICAgIGlzT3BlbjogdHJ1ZSxcbiAgICAgICAgICAgIGlzQ29sbGFwc2VkOiBmYWxzZSxcbiAgICAgICAgICAgIHdpZHRoOiAyNTYsXG4gICAgICAgICAgICBwaW5uZWQ6IGZhbHNlLFxuICAgICAgICAgIH07XG4gICAgICAgICAgc3RhdGUubmF2aWdhdGlvbiA9IHtcbiAgICAgICAgICAgIGN1cnJlbnRSb3V0ZTogJy8nLFxuICAgICAgICAgICAgYnJlYWRjcnVtYnM6IFtdLFxuICAgICAgICAgICAgaGlzdG9yeTogWycvJ10sXG4gICAgICAgICAgICBjYW5Hb0JhY2s6IGZhbHNlLFxuICAgICAgICAgICAgY2FuR29Gb3J3YXJkOiBmYWxzZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHN0YXRlLnRvYXN0cyA9IFtdO1xuICAgICAgICAgIHN0YXRlLmdsb2JhbExvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICBzdGF0ZS5wYWdlTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB9KSxcbiAgICAgIH0pKSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ3VpLXN0b3JlJyxcbiAgICAgICAgcGFydGlhbGl6ZTogKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHNpZGViYXI6IHN0YXRlLnNpZGViYXIsXG4gICAgICAgICAgdGhlbWU6IHN0YXRlLnRoZW1lLFxuICAgICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICAgIGN1cnJlbnRSb3V0ZTogc3RhdGUubmF2aWdhdGlvbi5jdXJyZW50Um91dGUsXG4gICAgICAgICAgICBicmVhZGNydW1iczogc3RhdGUubmF2aWdhdGlvbi5icmVhZGNydW1icyxcbiAgICAgICAgICAgIGhpc3Rvcnk6IHN0YXRlLm5hdmlnYXRpb24uaGlzdG9yeSxcbiAgICAgICAgICB9LFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICApLFxuICAgIHsgbmFtZTogJ1VJU3RvcmUnIH1cbiAgKVxuKTtcblxuLy8gU3RvcmUgc2VsZWN0b3JzIGZvciBvcHRpbWl6ZWQgcmUtcmVuZGVyc1xuZXhwb3J0IGNvbnN0IHVzZU1vZGFscyA9ICgpID0+IHVzZVVJU3RvcmUoc3RhdGUgPT4gc3RhdGUubW9kYWxzKTtcbmV4cG9ydCBjb25zdCB1c2VNb2RhbCA9IChpZDogc3RyaW5nKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+IHN0YXRlLm1vZGFsc1tpZF0pO1xuZXhwb3J0IGNvbnN0IHVzZVNpZGViYXIgPSAoKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+IHN0YXRlLnNpZGViYXIpO1xuZXhwb3J0IGNvbnN0IHVzZU5hdmlnYXRpb24gPSAoKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+IHN0YXRlLm5hdmlnYXRpb24pO1xuZXhwb3J0IGNvbnN0IHVzZVRvYXN0cyA9ICgpID0+IHVzZVVJU3RvcmUoc3RhdGUgPT4gc3RhdGUudG9hc3RzKTtcbmV4cG9ydCBjb25zdCB1c2VHbG9iYWxMb2FkaW5nID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiBzdGF0ZS5nbG9iYWxMb2FkaW5nKTtcbmV4cG9ydCBjb25zdCB1c2VQYWdlTG9hZGluZyA9ICgpID0+IHVzZVVJU3RvcmUoc3RhdGUgPT4gc3RhdGUucGFnZUxvYWRpbmcpO1xuZXhwb3J0IGNvbnN0IHVzZVRoZW1lID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiBzdGF0ZS50aGVtZSk7XG5leHBvcnQgY29uc3QgdXNlU3lzdGVtVGhlbWUgPSAoKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+IHN0YXRlLnN5c3RlbVRoZW1lKTtcbmV4cG9ydCBjb25zdCB1c2VTY3JlZW5TaXplID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiBzdGF0ZS5zY3JlZW5TaXplKTtcbmV4cG9ydCBjb25zdCB1c2VJc01vYmlsZSA9ICgpID0+IHVzZVVJU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNNb2JpbGUpO1xuZXhwb3J0IGNvbnN0IHVzZUlzVGFibGV0ID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc1RhYmxldCk7XG5leHBvcnQgY29uc3QgdXNlSXNEZXNrdG9wID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc0Rlc2t0b3ApO1xuXG4vLyBDb21wdXRlZCBzZWxlY3RvcnNcbmV4cG9ydCBjb25zdCB1c2VJc01vZGFsT3BlbiA9IChpZDogc3RyaW5nKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+IHN0YXRlLm1vZGFsc1tpZF0/LmlzT3BlbiB8fCBmYWxzZSk7XG5leHBvcnQgY29uc3QgdXNlQWN0aXZlTW9kYWxzID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiBcbiAgT2JqZWN0LnZhbHVlcyhzdGF0ZS5tb2RhbHMpLmZpbHRlcihtb2RhbCA9PiBtb2RhbC5pc09wZW4pXG4pO1xuZXhwb3J0IGNvbnN0IHVzZVRvYXN0Q291bnQgPSAoKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+IHN0YXRlLnRvYXN0cy5sZW5ndGgpO1xuZXhwb3J0IGNvbnN0IHVzZUN1cnJlbnRCcmVhZGNydW1icyA9ICgpID0+IHVzZVVJU3RvcmUoc3RhdGUgPT4gc3RhdGUubmF2aWdhdGlvbi5icmVhZGNydW1icyk7XG5leHBvcnQgY29uc3QgdXNlQ2FuTmF2aWdhdGUgPSAoKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+ICh7XG4gIGNhbkdvQmFjazogc3RhdGUubmF2aWdhdGlvbi5jYW5Hb0JhY2ssXG4gIGNhbkdvRm9yd2FyZDogc3RhdGUubmF2aWdhdGlvbi5jYW5Hb0ZvcndhcmQsXG59KSk7XG5cbi8vIEFjdGlvbiBzZWxlY3RvcnNcbmV4cG9ydCBjb25zdCB1c2VVSUFjdGlvbnMgPSAoKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+ICh7XG4gIG9wZW5Nb2RhbDogc3RhdGUub3Blbk1vZGFsLFxuICBjbG9zZU1vZGFsOiBzdGF0ZS5jbG9zZU1vZGFsLFxuICBjbG9zZUFsbE1vZGFsczogc3RhdGUuY2xvc2VBbGxNb2RhbHMsXG4gIHVwZGF0ZU1vZGFsOiBzdGF0ZS51cGRhdGVNb2RhbCxcbiAgdG9nZ2xlU2lkZWJhcjogc3RhdGUudG9nZ2xlU2lkZWJhcixcbiAgc2V0U2lkZWJhck9wZW46IHN0YXRlLnNldFNpZGViYXJPcGVuLFxuICBzZXRTaWRlYmFyQ29sbGFwc2VkOiBzdGF0ZS5zZXRTaWRlYmFyQ29sbGFwc2VkLFxuICBzZXRTaWRlYmFyV2lkdGg6IHN0YXRlLnNldFNpZGViYXJXaWR0aCxcbiAgc2V0U2lkZWJhclBpbm5lZDogc3RhdGUuc2V0U2lkZWJhclBpbm5lZCxcbiAgc2V0U2lkZWJhckFjdGl2ZUl0ZW06IHN0YXRlLnNldFNpZGViYXJBY3RpdmVJdGVtLFxuICBzZXRDdXJyZW50Um91dGU6IHN0YXRlLnNldEN1cnJlbnRSb3V0ZSxcbiAgc2V0QnJlYWRjcnVtYnM6IHN0YXRlLnNldEJyZWFkY3J1bWJzLFxuICBhZGRUb0hpc3Rvcnk6IHN0YXRlLmFkZFRvSGlzdG9yeSxcbiAgZ29CYWNrOiBzdGF0ZS5nb0JhY2ssXG4gIGdvRm9yd2FyZDogc3RhdGUuZ29Gb3J3YXJkLFxuICBjbGVhckhpc3Rvcnk6IHN0YXRlLmNsZWFySGlzdG9yeSxcbiAgYWRkVG9hc3Q6IHN0YXRlLmFkZFRvYXN0LFxuICByZW1vdmVUb2FzdDogc3RhdGUucmVtb3ZlVG9hc3QsXG4gIGNsZWFyQWxsVG9hc3RzOiBzdGF0ZS5jbGVhckFsbFRvYXN0cyxcbiAgdXBkYXRlVG9hc3Q6IHN0YXRlLnVwZGF0ZVRvYXN0LFxuICBzZXRHbG9iYWxMb2FkaW5nOiBzdGF0ZS5zZXRHbG9iYWxMb2FkaW5nLFxuICBzZXRQYWdlTG9hZGluZzogc3RhdGUuc2V0UGFnZUxvYWRpbmcsXG4gIHNldFRoZW1lOiBzdGF0ZS5zZXRUaGVtZSxcbiAgc2V0U3lzdGVtVGhlbWU6IHN0YXRlLnNldFN5c3RlbVRoZW1lLFxuICBzZXRTY3JlZW5TaXplOiBzdGF0ZS5zZXRTY3JlZW5TaXplLFxuICB1cGRhdGVTY3JlZW5TdGF0ZTogc3RhdGUudXBkYXRlU2NyZWVuU3RhdGUsXG4gIHJlc2V0VUk6IHN0YXRlLnJlc2V0VUksXG59KSk7XG5cbi8vIERlYnVnIHV0aWxpdGllc1xuZXhwb3J0IGNvbnN0IHVzZVVJRGVidWcgPSAoKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+ICh7XG4gIG1vZGFsczogT2JqZWN0LmtleXMoc3RhdGUubW9kYWxzKSxcbiAgYWN0aXZlTW9kYWxzOiBPYmplY3QudmFsdWVzKHN0YXRlLm1vZGFscykuZmlsdGVyKG1vZGFsID0+IG1vZGFsLmlzT3BlbikubGVuZ3RoLFxuICB0b2FzdHM6IHN0YXRlLnRvYXN0cy5sZW5ndGgsXG4gIHNpZGViYXJPcGVuOiBzdGF0ZS5zaWRlYmFyLmlzT3BlbixcbiAgY3VycmVudFJvdXRlOiBzdGF0ZS5uYXZpZ2F0aW9uLmN1cnJlbnRSb3V0ZSxcbiAgaGlzdG9yeUxlbmd0aDogc3RhdGUubmF2aWdhdGlvbi5oaXN0b3J5Lmxlbmd0aCxcbiAgdGhlbWU6IHN0YXRlLnRoZW1lLFxuICBzY3JlZW5TaXplOiBzdGF0ZS5zY3JlZW5TaXplLFxufSkpO1xuXG4vLyBTdWJzY3JpcHRpb24gdXRpbGl0aWVzXG5leHBvcnQgY29uc3QgdXNlVUlTdWJzY3JpcHRpb24gPSAoc2VsZWN0b3I6IChzdGF0ZTogVUlTdG9yZSkgPT4gYW55LCBjYWxsYmFjazogKHZhbHVlOiBhbnkpID0+IHZvaWQpID0+IHtcbiAgcmV0dXJuIHVzZVVJU3RvcmUuc3Vic2NyaWJlKChzdGF0ZSkgPT4ge1xuICAgIGNvbnN0IHZhbHVlID0gc2VsZWN0b3Ioc3RhdGUpO1xuICAgIGNhbGxiYWNrKHZhbHVlKTtcbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbInVzZUFjdGl2ZU1vZGFscyIsInVzZUNhbk5hdmlnYXRlIiwidXNlQ3VycmVudEJyZWFkY3J1bWJzIiwidXNlR2xvYmFsTG9hZGluZyIsInVzZUlzRGVza3RvcCIsInVzZUlzTW9iaWxlIiwidXNlSXNNb2RhbE9wZW4iLCJ1c2VJc1RhYmxldCIsInVzZU1vZGFsIiwidXNlTW9kYWxzIiwidXNlTmF2aWdhdGlvbiIsInVzZVBhZ2VMb2FkaW5nIiwidXNlU2NyZWVuU2l6ZSIsInVzZVNpZGViYXIiLCJ1c2VTeXN0ZW1UaGVtZSIsInVzZVRoZW1lIiwidXNlVG9hc3RDb3VudCIsInVzZVRvYXN0cyIsInVzZVVJQWN0aW9ucyIsInVzZVVJRGVidWciLCJ1c2VVSVN0b3JlIiwidXNlVUlTdWJzY3JpcHRpb24iLCJjcmVhdGUiLCJkZXZ0b29scyIsInBlcnNpc3QiLCJpbW1lciIsInNldCIsImdldCIsIm1vZGFscyIsInNpZGViYXIiLCJpc09wZW4iLCJpc0NvbGxhcHNlZCIsIndpZHRoIiwicGlubmVkIiwibmF2aWdhdGlvbiIsImN1cnJlbnRSb3V0ZSIsImJyZWFkY3J1bWJzIiwiaGlzdG9yeSIsImNhbkdvQmFjayIsImNhbkdvRm9yd2FyZCIsInRvYXN0cyIsImdsb2JhbExvYWRpbmciLCJwYWdlTG9hZGluZyIsInRoZW1lIiwic3lzdGVtVGhlbWUiLCJzY3JlZW5TaXplIiwiaXNNb2JpbGUiLCJpc1RhYmxldCIsImlzRGVza3RvcCIsImlzTG9hZGluZyIsImVycm9yIiwic2V0TG9hZGluZyIsImxvYWRpbmciLCJzdGF0ZSIsInNldEVycm9yIiwiY2xlYXJFcnJvciIsIm9wZW5Nb2RhbCIsImlkIiwiY29tcG9uZW50IiwicHJvcHMiLCJvcHRpb25zIiwiY2xvc2FibGUiLCJiYWNrZHJvcCIsImNsb3NlTW9kYWwiLCJvbkNsb3NlIiwiY2xvc2VBbGxNb2RhbHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJmb3JFYWNoIiwibW9kYWwiLCJ1cGRhdGVNb2RhbCIsInVwZGF0ZXMiLCJhc3NpZ24iLCJ0b2dnbGVTaWRlYmFyIiwic2V0U2lkZWJhck9wZW4iLCJvcGVuIiwic2V0U2lkZWJhckNvbGxhcHNlZCIsImNvbGxhcHNlZCIsInNldFNpZGViYXJXaWR0aCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJzZXRTaWRlYmFyUGlubmVkIiwic2V0U2lkZWJhckFjdGl2ZUl0ZW0iLCJpdGVtIiwiYWN0aXZlSXRlbSIsInNldEN1cnJlbnRSb3V0ZSIsInJvdXRlIiwicHJldmlvdXNSb3V0ZSIsInNldEJyZWFkY3J1bWJzIiwiYWRkVG9IaXN0b3J5IiwiY3VycmVudEluZGV4IiwiaW5kZXhPZiIsImxlbmd0aCIsInNwbGljZSIsInB1c2giLCJnb0JhY2siLCJnb0ZvcndhcmQiLCJuZXh0Um91dGUiLCJjbGVhckhpc3RvcnkiLCJhZGRUb2FzdCIsInRvYXN0IiwiRGF0ZSIsIm5vdyIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwiZHVyYXRpb24iLCJwZXJzaXN0ZW50IiwicG9zaXRpb24iLCJzZXRUaW1lb3V0IiwicmVtb3ZlVG9hc3QiLCJmaWx0ZXIiLCJjbGVhckFsbFRvYXN0cyIsInVwZGF0ZVRvYXN0IiwiZmluZCIsInQiLCJzZXRHbG9iYWxMb2FkaW5nIiwic2V0UGFnZUxvYWRpbmciLCJzZXRUaGVtZSIsInNldFN5c3RlbVRoZW1lIiwic2V0U2NyZWVuU2l6ZSIsInNpemUiLCJ1cGRhdGVTY3JlZW5TdGF0ZSIsIndpbmRvdyIsImlubmVyV2lkdGgiLCJyZXNldFVJIiwibmFtZSIsInBhcnRpYWxpemUiLCJrZXlzIiwiYWN0aXZlTW9kYWxzIiwic2lkZWJhck9wZW4iLCJoaXN0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