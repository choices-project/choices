{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/stores/uiStore.test.ts"],"sourcesContent":["/**\n * UI Store Tests\n * \n * Comprehensive tests for the UI store using advanced testing utilities.\n * \n * Created: January 16, 2025\n * Status: âœ… ACTIVE\n */\n\nimport { describe, it, expect, beforeEach, jest } from '@jest/globals';\nimport { useUIStore } from '@/lib/stores/uiStore';\nimport { \n  mockStore,\n  testStoreAction,\n  testStoreSelector,\n  testStoreSubscription,\n  testStorePersistence,\n  testStorePerformance,\n  testStoreErrorHandling,\n  testStoreStateTransition,\n  testStoreMultipleSubscriptions,\n  testStoreAsyncAction,\n  testStoreSideEffects,\n  testStoreWithDependencies,\n  testStoreValidation,\n  testStoreTimeBased,\n  testStoreCleanup,\n  testStoreConcurrent,\n  testStoreErrorRecovery,\n  testStoreSnapshots\n} from '../../helpers/store-test-utils';\n\ndescribe('UI Store', () => {\n  let store: any;\n\n  beforeEach(() => {\n    // Reset store before each test\n    store = useUIStore.getState();\n    store.resetUI();\n  });\n\n  describe('Basic Functionality', () => {\n    it('should initialize with default state', () => {\n      const state = store.getState();\n      expect(state.activeTab).toBe('feed');\n      expect(state.sidebarOpen).toBe(false);\n      expect(state.searchQuery).toBe('');\n      expect(state.toasts).toEqual([]);\n    });\n\n    it('should update active tab', () => {\n      testStoreAction(\n        store,\n        (state) => state.setActiveTab('analytics'),\n        { activeTab: 'analytics' }\n      );\n    });\n\n    it('should toggle sidebar', () => {\n      testStoreAction(\n        store,\n        (state) => state.toggleSidebar(),\n        { sidebarOpen: true }\n      );\n    });\n\n    it('should add toast notification', () => {\n      testStoreAction(\n        store,\n        (state) => state.addToast({\n          type: 'success',\n          message: 'Test notification'\n        }),\n        { toasts: expect.arrayContaining([expect.objectContaining({\n          type: 'success',\n          message: 'Test notification'\n        })]) }\n      );\n    });\n  });\n\n  describe('Form State Management', () => {\n    it('should manage form data', () => {\n      testStoreAction(\n        store,\n        (state) => state.setFormData('name', 'John Doe'),\n        { formData: { name: 'John Doe' } }\n      );\n    });\n\n    it('should handle form errors', () => {\n      testStoreAction(\n        store,\n        (state) => state.setFormError('email', 'Invalid email'),\n        { formErrors: { email: 'Invalid email' } }\n      );\n    });\n\n    it('should track form touched state', () => {\n      testStoreAction(\n        store,\n        (state) => state.setFormTouched('name', true),\n        { formTouched: { name: true } }\n      );\n    });\n\n    it('should clear form data', () => {\n      // Set some form data first\n      store.getState().setFormData('name', 'John');\n      store.getState().setFormData('email', 'john@example.com');\n      \n      testStoreAction(\n        store,\n        (state) => state.clearForm(),\n        { formData: {}, formErrors: {}, formTouched: {} }\n      );\n    });\n  });\n\n  describe('Loading States', () => {\n    it('should manage loading states', () => {\n      testStoreAction(\n        store,\n        (state) => state.setLoading('submit', true),\n        { loadingStates: { submit: true } }\n      );\n    });\n\n    it('should check loading state', () => {\n      store.getState().setLoading('fetch', true);\n      \n      testStoreSelector(\n        store,\n        (state) => state.isLoading('fetch'),\n        true\n      );\n    });\n\n    it('should clear loading state', () => {\n      store.getState().setLoading('fetch', true);\n      \n      testStoreAction(\n        store,\n        (state) => state.clearLoading('fetch'),\n        { loadingStates: {} }\n      );\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should manage error states', () => {\n      testStoreAction(\n        store,\n        (state) => state.setError('api', 'Network error'),\n        { errors: { api: 'Network error' } }\n      );\n    });\n\n    it('should check for errors', () => {\n      store.getState().setError('validation', 'Invalid input');\n      \n      testStoreSelector(\n        store,\n        (state) => state.hasError('validation'),\n        true\n      );\n    });\n\n    it('should clear errors', () => {\n      store.getState().setError('api', 'Network error');\n      \n      testStoreAction(\n        store,\n        (state) => state.clearError('api'),\n        { errors: {} }\n      );\n    });\n  });\n\n  describe('Search and Filters', () => {\n    it('should manage search query', () => {\n      testStoreAction(\n        store,\n        (state) => state.setSearchQuery('test query'),\n        { searchQuery: 'test query' }\n      );\n    });\n\n    it('should manage filters', () => {\n      testStoreAction(\n        store,\n        (state) => state.setFilter('category', 'politics'),\n        { filters: { category: 'politics' } }\n      );\n    });\n\n    it('should clear search', () => {\n      store.getState().setSearchQuery('test');\n      store.getState().setSearchResults([{ id: 1 }]);\n      \n      testStoreAction(\n        store,\n        (state) => state.clearSearch(),\n        { searchQuery: '', searchResults: [], searchLoading: false }\n      );\n    });\n  });\n\n  describe('Pagination', () => {\n    it('should manage pagination state', () => {\n      testStoreAction(\n        store,\n        (state) => state.setPagination('results', { page: 2, limit: 20, total: 100, hasMore: true }),\n        { pagination: { results: { page: 2, limit: 20, total: 100, hasMore: true } } }\n      );\n    });\n\n    it('should navigate to next page', () => {\n      store.getState().setPagination('results', { page: 1, limit: 10, total: 50, hasMore: true });\n      \n      testStoreAction(\n        store,\n        (state) => state.nextPage('results'),\n        { pagination: { results: { page: 2 } } }\n      );\n    });\n\n    it('should navigate to previous page', () => {\n      store.getState().setPagination('results', { page: 3, limit: 10, total: 50, hasMore: true });\n      \n      testStoreAction(\n        store,\n        (state) => state.prevPage('results'),\n        { pagination: { results: { page: 2 } } }\n      );\n    });\n  });\n\n  describe('Selection Management', () => {\n    it('should manage item selection', () => {\n      testStoreAction(\n        store,\n        (state) => state.selectItem('items', 'item1'),\n        { selections: { items: new Set(['item1']) } }\n      );\n    });\n\n    it('should toggle item selection', () => {\n      store.getState().selectItem('items', 'item1');\n      \n      testStoreAction(\n        store,\n        (state) => state.toggleSelection('items', 'item1'),\n        { selections: { items: new Set() } }\n      );\n    });\n\n    it('should check if item is selected', () => {\n      store.getState().selectItem('items', 'item1');\n      \n      testStoreSelector(\n        store,\n        (state) => state.isSelected('items', 'item1'),\n        true\n      );\n    });\n\n    it('should clear selection', () => {\n      store.getState().selectItem('items', 'item1');\n      store.getState().selectItem('items', 'item2');\n      \n      testStoreAction(\n        store,\n        (state) => state.clearSelection('items'),\n        { selections: { items: new Set() } }\n      );\n    });\n  });\n\n  describe('View and Sort Management', () => {\n    it('should manage view mode', () => {\n      testStoreAction(\n        store,\n        (state) => state.setViewMode('results', 'grid'),\n        { viewMode: { results: 'grid' } }\n      );\n    });\n\n    it('should manage sort state', () => {\n      testStoreAction(\n        store,\n        (state) => state.setSort('results', 'date', 'desc'),\n        { sortBy: { results: 'date' }, sortOrder: { results: 'desc' } }\n      );\n    });\n\n    it('should toggle sort order', () => {\n      store.getState().setSort('results', 'name', 'asc');\n      \n      testStoreAction(\n        store,\n        (state) => state.toggleSort('results', 'name'),\n        { sortOrder: { results: 'desc' } }\n      );\n    });\n  });\n\n  describe('Modal Management', () => {\n    it('should open modal', () => {\n      testStoreAction(\n        store,\n        (state) => state.openModal('settings', { userId: '123' }),\n        { activeModal: 'settings', modalData: { userId: '123' } }\n      );\n    });\n\n    it('should close modal', () => {\n      store.getState().openModal('settings');\n      \n      testStoreAction(\n        store,\n        (state) => state.closeModal(),\n        { activeModal: null, modalData: null }\n      );\n    });\n\n    it('should manage modal stack', () => {\n      store.getState().openModal('first');\n      store.getState().openModal('second');\n      \n      testStoreAction(\n        store,\n        (state) => state.closeModal(),\n        { activeModal: 'first' }\n      );\n    });\n  });\n\n  describe('Performance Tests', () => {\n    it('should perform actions within time limit', () => {\n      testStorePerformance(\n        store,\n        (state) => state.setActiveTab('analytics'),\n        5 // 5ms max\n      );\n    });\n\n    it('should handle concurrent actions', async () => {\n      const actions = [\n        (state: any) => state.setActiveTab('analytics'),\n        (state: any) => state.setSearchQuery('test'),\n        (state: any) => state.setFilter('category', 'politics')\n      ];\n\n      await testStoreConcurrent(\n        store,\n        actions,\n        { activeTab: 'analytics', searchQuery: 'test', filters: { category: 'politics' } }\n      );\n    });\n  });\n\n  describe('State Transitions', () => {\n    it('should handle complex state transitions', () => {\n      const actions = [\n        (state: any) => state.setActiveTab('analytics'),\n        (state: any) => state.setSearchQuery('test'),\n        (state: any) => state.setFilter('category', 'politics'),\n        (state: any) => state.selectItem('results', 'item1')\n      ];\n\n      testStoreStateTransition(\n        store,\n        { activeTab: 'feed', searchQuery: '', filters: {}, selections: {} },\n        actions,\n        { activeTab: 'analytics', searchQuery: 'test', filters: { category: 'politics' }, selections: { results: new Set(['item1']) } }\n      );\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle invalid actions gracefully', () => {\n      testStoreErrorHandling(\n        store,\n        (state) => {\n          // Simulate invalid action\n          throw new Error('Invalid action');\n        },\n        'Invalid action'\n      );\n    });\n\n    it('should recover from errors', () => {\n      testStoreErrorRecovery(\n        store,\n        (state) => {\n          throw new Error('Temporary error');\n        },\n        (state) => state.clearError(),\n        { error: null }\n      );\n    });\n  });\n\n  describe('Subscriptions', () => {\n    it('should handle multiple subscriptions', () => {\n      const listeners = [\n        jest.fn(),\n        jest.fn(),\n        jest.fn()\n      ];\n\n      testStoreMultipleSubscriptions(\n        store,\n        (state) => state.activeTab,\n        listeners\n      );\n\n      listeners.forEach(listener => {\n        expect(listener).toHaveBeenCalledWith('feed');\n      });\n    });\n  });\n\n  describe('State Snapshots', () => {\n    it('should capture state snapshots', () => {\n      const actions = [\n        (state: any) => state.setActiveTab('analytics'),\n        (state: any) => state.setSearchQuery('test'),\n        (state: any) => state.setFilter('category', 'politics')\n      ];\n\n      const expectedSnapshots = [\n        { activeTab: 'feed' },\n        { activeTab: 'analytics' },\n        { activeTab: 'analytics', searchQuery: 'test' },\n        { activeTab: 'analytics', searchQuery: 'test', filters: { category: 'politics' } }\n      ];\n\n      testStoreSnapshots(store, actions, expectedSnapshots);\n    });\n  });\n\n  describe('Utility Functions', () => {\n    it('should reset UI state', () => {\n      // Set some state\n      store.getState().setActiveTab('analytics');\n      store.getState().setSearchQuery('test');\n      store.getState().setFilter('category', 'politics');\n      \n      testStoreAction(\n        store,\n        (state) => state.resetUI(),\n        { activeTab: 'feed', searchQuery: '', filters: {} }\n      );\n    });\n\n    it('should reset specific sections', () => {\n      store.getState().setFormData('name', 'John');\n      store.getState().setFormError('email', 'Invalid');\n      \n      testStoreAction(\n        store,\n        (state) => state.resetSection('formData'),\n        { formData: {}, formErrors: {}, formTouched: {} }\n      );\n    });\n  });\n});\n"],"names":["describe","store","beforeEach","useUIStore","getState","resetUI","it","state","expect","activeTab","toBe","sidebarOpen","searchQuery","toasts","toEqual","testStoreAction","setActiveTab","toggleSidebar","addToast","type","message","arrayContaining","objectContaining","setFormData","formData","name","setFormError","formErrors","email","setFormTouched","formTouched","clearForm","setLoading","loadingStates","submit","testStoreSelector","isLoading","clearLoading","setError","errors","api","hasError","clearError","setSearchQuery","setFilter","filters","category","setSearchResults","id","clearSearch","searchResults","searchLoading","setPagination","page","limit","total","hasMore","pagination","results","nextPage","prevPage","selectItem","selections","items","Set","toggleSelection","isSelected","clearSelection","setViewMode","viewMode","setSort","sortBy","sortOrder","toggleSort","openModal","userId","activeModal","modalData","closeModal","testStorePerformance","actions","testStoreConcurrent","testStoreStateTransition","testStoreErrorHandling","Error","testStoreErrorRecovery","error","listeners","jest","fn","testStoreMultipleSubscriptions","forEach","listener","toHaveBeenCalledWith","expectedSnapshots","testStoreSnapshots","resetSection"],"mappings":"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"}