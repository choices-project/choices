4dcbe21e6cb4b4233938e43653b41112
/**
 * Performance Store
 * 
 * Centralized Zustand store for performance monitoring, metrics collection,
 * and performance alert management.
 * 
 * Created: October 10, 2025
 * Status: âœ… ACTIVE
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    useActiveAlerts: function() {
        return useActiveAlerts;
    },
    useAlertsBySeverity: function() {
        return useAlertsBySeverity;
    },
    useAutoRefresh: function() {
        return useAutoRefresh;
    },
    useCacheStats: function() {
        return useCacheStats;
    },
    useCustomMetrics: function() {
        return useCustomMetrics;
    },
    useCustomThresholds: function() {
        return useCustomThresholds;
    },
    useDatabaseMetrics: function() {
        return useDatabaseMetrics;
    },
    useIsMonitoring: function() {
        return useIsMonitoring;
    },
    useLastRefresh: function() {
        return useLastRefresh;
    },
    useLatestReport: function() {
        return useLatestReport;
    },
    useNavigationMetrics: function() {
        return useNavigationMetrics;
    },
    useNavigationThresholds: function() {
        return useNavigationThresholds;
    },
    usePerformance: function() {
        return usePerformance;
    },
    usePerformanceActions: function() {
        return usePerformanceActions;
    },
    usePerformanceAlerts: function() {
        return usePerformanceAlerts;
    },
    usePerformanceError: function() {
        return usePerformanceError;
    },
    usePerformanceLoading: function() {
        return usePerformanceLoading;
    },
    usePerformanceMetrics: function() {
        return usePerformanceMetrics;
    },
    usePerformanceRecommendations: function() {
        return usePerformanceRecommendations;
    },
    usePerformanceReports: function() {
        return usePerformanceReports;
    },
    usePerformanceScore: function() {
        return usePerformanceScore;
    },
    usePerformanceStore: function() {
        return usePerformanceStore;
    },
    usePerformanceThresholds: function() {
        return usePerformanceThresholds;
    },
    useRefreshInterval: function() {
        return useRefreshInterval;
    },
    useResourceMetrics: function() {
        return useResourceMetrics;
    },
    useResourceThresholds: function() {
        return useResourceThresholds;
    }
});
const _zustand = require("zustand");
const _middleware = require("zustand/middleware");
const _immer = require("zustand/middleware/immer");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// ============================================================================
// UTILITY FUNCTIONS
// ============================================================================
const calculatePerformanceScore = (metrics)=>{
    const navigationMetrics = metrics.filter((m)=>m.type === "navigation");
    const fcp = navigationMetrics.find((m)=>m.name === "FCP")?.value || 0;
    const lcp = navigationMetrics.find((m)=>m.name === "LCP")?.value || 0;
    const fid = navigationMetrics.find((m)=>m.name === "FID")?.value || 0;
    const cls = navigationMetrics.find((m)=>m.name === "CLS")?.value || 0;
    const ttfb = navigationMetrics.find((m)=>m.name === "TTFB")?.value || 0;
    // Calculate score based on Core Web Vitals
    let score = 100;
    // FCP scoring (0-3000ms)
    if (fcp > 3000) score -= 20;
    else if (fcp > 1800) score -= 10;
    // LCP scoring (0-4000ms)
    if (lcp > 4000) score -= 25;
    else if (lcp > 2500) score -= 15;
    // FID scoring (0-300ms)
    if (fid > 300) score -= 20;
    else if (fid > 100) score -= 10;
    // CLS scoring (0-0.25)
    if (cls > 0.25) score -= 20;
    else if (cls > 0.1) score -= 10;
    // TTFB scoring (0-800ms)
    if (ttfb > 800) score -= 15;
    else if (ttfb > 600) score -= 5;
    const grade = score >= 90 ? "A" : score >= 80 ? "B" : score >= 70 ? "C" : score >= 60 ? "D" : "F";
    return {
        score: Math.max(0, score),
        grade
    };
};
const generateRecommendations = (metrics)=>{
    const recommendations = [];
    const navigationMetrics = metrics.filter((m)=>m.type === "navigation");
    const fcp = navigationMetrics.find((m)=>m.name === "FCP")?.value || 0;
    const lcp = navigationMetrics.find((m)=>m.name === "LCP")?.value || 0;
    const fid = navigationMetrics.find((m)=>m.name === "FID")?.value || 0;
    const cls = navigationMetrics.find((m)=>m.name === "CLS")?.value || 0;
    const ttfb = navigationMetrics.find((m)=>m.name === "TTFB")?.value || 0;
    if (fcp > 1800) recommendations.push("Optimize First Contentful Paint by reducing render-blocking resources");
    if (lcp > 2500) recommendations.push("Improve Largest Contentful Paint by optimizing images and fonts");
    if (fid > 100) recommendations.push("Reduce First Input Delay by minimizing JavaScript execution time");
    if (cls > 0.1) recommendations.push("Minimize Cumulative Layout Shift by setting image dimensions");
    if (ttfb > 600) recommendations.push("Improve Time to First Byte by optimizing server response time");
    return recommendations;
};
const usePerformanceStore = (0, _zustand.create)()((0, _middleware.devtools)((0, _middleware.persist)((0, _immer.immer)((set, get)=>({
        // Initial State
        metrics: [],
        alerts: [],
        reports: [],
        thresholds: {
            navigation: {
                fcp: 1800,
                lcp: 2500,
                fid: 100,
                cls: 0.1,
                ttfb: 600
            },
            resource: {
                loadTime: 2000,
                size: 1024 * 1024,
                count: 50
            },
            custom: {}
        },
        isMonitoring: false,
        isLoading: false,
        error: null,
        // Database performance state
        databaseMetrics: [],
        cacheStats: null,
        lastRefresh: null,
        autoRefresh: true,
        refreshInterval: 30000,
        // Actions - Metrics
        recordMetric: (metric)=>{
            const id = `metric-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
            const newMetric = {
                ...metric,
                id,
                timestamp: new Date()
            };
            set((state)=>{
                state.metrics.push(newMetric);
                // Keep only last 1000 metrics to prevent memory issues
                if (state.metrics.length > 1000) {
                    state.metrics = state.metrics.slice(-1000);
                }
            });
            // Check thresholds (debounced to prevent excessive calls)
            const { checkThresholds } = get();
            if (checkThresholds) {
                checkThresholds();
            }
        },
        recordNavigationMetric: (name, value, metadata)=>{
            get().recordMetric({
                type: "navigation",
                name,
                value,
                unit: "ms",
                url: typeof window !== "undefined" ? window.location.href : "",
                metadata
            });
        },
        recordResourceMetric: (name, value, metadata)=>{
            get().recordMetric({
                type: "resource",
                name,
                value,
                unit: "ms",
                url: typeof window !== "undefined" ? window.location.href : "",
                metadata
            });
        },
        recordCustomMetric: (name, value, unit = "ms", metadata)=>{
            get().recordMetric({
                type: "custom",
                name,
                value,
                unit,
                url: typeof window !== "undefined" ? window.location.href : "",
                metadata
            });
        },
        clearMetrics: ()=>{
            set((state)=>{
                state.metrics = [];
            });
        },
        // Actions - Alerts
        createAlert: (alert)=>{
            const id = `alert-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
            const newAlert = {
                ...alert,
                id,
                timestamp: new Date(),
                resolved: false
            };
            set((state)=>{
                state.alerts.push(newAlert);
                // Keep only last 500 alerts
                if (state.alerts.length > 500) {
                    state.alerts = state.alerts.slice(-500);
                }
            });
        },
        resolveAlert: (id)=>{
            set((state)=>{
                const alert = state.alerts.find((a)=>a.id === id);
                if (alert) {
                    alert.resolved = true;
                }
            });
        },
        clearAlerts: ()=>{
            set((state)=>{
                state.alerts = [];
            });
        },
        clearResolvedAlerts: ()=>{
            set((state)=>{
                state.alerts = state.alerts.filter((alert)=>!alert.resolved);
            });
        },
        // Actions - Monitoring
        startMonitoring: ()=>{
            set((state)=>{
                state.isMonitoring = true;
            });
            if (typeof window !== "undefined" && "performance" in window) {
                // Set up Performance Observer
                try {
                    const observer = new PerformanceObserver((list)=>{
                        const entries = list.getEntries();
                        entries.forEach((entry)=>{
                            if (entry.entryType === "navigation") {
                                const navEntry = entry;
                                get().recordNavigationMetric("TTFB", navEntry.responseStart - navEntry.requestStart);
                                get().recordNavigationMetric("FCP", navEntry.domContentLoadedEventEnd - navEntry.fetchStart);
                            } else if (entry.entryType === "resource") {
                                const resourceEntry = entry;
                                get().recordResourceMetric(resourceEntry.name, resourceEntry.duration);
                            }
                        });
                    });
                    observer.observe({
                        entryTypes: [
                            "navigation",
                            "resource"
                        ]
                    });
                } catch (error) {
                    console.warn("Performance Observer not supported:", error);
                }
            }
        },
        stopMonitoring: ()=>{
            set((state)=>{
                state.isMonitoring = false;
            });
        },
        setThreshold: (type, metric, threshold)=>{
            set((state)=>{
                if (type === "navigation" && metric in state.thresholds.navigation) {
                    state.thresholds.navigation[metric] = threshold;
                } else if (type === "resource" && metric in state.thresholds.resource) {
                    state.thresholds.resource[metric] = threshold;
                } else if (type === "custom") {
                    state.thresholds.custom[metric] = threshold;
                }
            });
        },
        checkThresholds: ()=>{
            const { metrics, thresholds } = get();
            const recentMetrics = metrics.slice(-100); // Check last 100 metrics
            recentMetrics.forEach((metric)=>{
                let threshold = 0;
                if (metric.type === "navigation" && metric.name in thresholds.navigation) {
                    threshold = thresholds.navigation[metric.name];
                } else if (metric.type === "resource" && metric.name in thresholds.resource) {
                    threshold = thresholds.resource[metric.name];
                } else if (metric.type === "custom" && metric.name in thresholds.custom) {
                    threshold = thresholds.custom[metric.name] || 0;
                }
                if (threshold > 0 && metric.value > threshold) {
                    const severity = metric.value > threshold * 2 ? "high" : metric.value > threshold * 1.5 ? "medium" : "low";
                    get().createAlert({
                        type: "threshold",
                        severity,
                        metric: metric.name,
                        value: metric.value,
                        threshold,
                        message: `${metric.name} exceeded threshold: ${metric.value}${metric.unit} > ${threshold}${metric.unit}`
                    });
                }
            });
        },
        // Actions - Reports
        generateReport: ()=>{
            const { metrics, alerts } = get();
            const id = `report-${Date.now()}`;
            const { score, grade } = calculatePerformanceScore(metrics);
            const recommendations = generateRecommendations(metrics);
            const report = {
                id,
                timestamp: new Date(),
                url: typeof window !== "undefined" ? window.location.href : "",
                metrics: [
                    ...metrics
                ],
                alerts: alerts.filter((alert)=>!alert.resolved),
                summary: {
                    score,
                    grade,
                    recommendations
                },
                generated_at: new Date()
            };
            set((state)=>{
                state.reports.push(report);
                // Keep only last 50 reports
                if (state.reports.length > 50) {
                    state.reports = state.reports.slice(-50);
                }
            });
            return report;
        },
        exportMetrics: (format = "json")=>{
            const { metrics } = get();
            if (format === "csv") {
                const headers = [
                    "id",
                    "type",
                    "name",
                    "value",
                    "unit",
                    "timestamp",
                    "url"
                ];
                const rows = metrics.map((metric)=>[
                        metric.id,
                        metric.type,
                        metric.name,
                        metric.value,
                        metric.unit,
                        metric.timestamp.toISOString(),
                        metric.url
                    ]);
                return [
                    headers,
                    ...rows
                ].map((row)=>row.join(",")).join("\n");
            }
            return JSON.stringify(metrics, null, 2);
        },
        exportReport: (reportId, format = "json")=>{
            const { reports } = get();
            const report = reports.find((r)=>r.id === reportId);
            if (!report) {
                throw new Error(`Report ${reportId} not found`);
            }
            if (format === "csv") {
                const headers = [
                    "metric",
                    "value",
                    "unit",
                    "timestamp"
                ];
                const rows = report.metrics.map((metric)=>[
                        metric.name,
                        metric.value,
                        metric.unit,
                        metric.timestamp.toISOString()
                    ]);
                return [
                    headers,
                    ...rows
                ].map((row)=>row.join(",")).join("\n");
            }
            return JSON.stringify(report, null, 2);
        },
        // Actions - Database Performance
        setDatabaseMetrics: (metrics)=>{
            set((state)=>{
                state.databaseMetrics = metrics;
            });
        },
        setCacheStats: (stats)=>{
            set((state)=>{
                state.cacheStats = stats;
            });
        },
        setLastRefresh: (date)=>{
            set((state)=>{
                state.lastRefresh = date;
            });
        },
        setAutoRefresh: (enabled)=>{
            set((state)=>{
                state.autoRefresh = enabled;
            });
        },
        setRefreshInterval: (interval)=>{
            set((state)=>{
                state.refreshInterval = interval;
            });
        },
        loadDatabasePerformance: async ()=>{
            const { setLoading, setError, setLastRefresh, setDatabaseMetrics, setCacheStats } = get();
            try {
                setLoading(true);
                setError(null);
                // Fetch performance metrics directly from database
                const supabase = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../utils/supabase/client"))).then((m)=>m.getSupabaseClient());
                if (!supabase) {
                    throw new Error("Database connection not available");
                }
                // Get database performance metrics from the last 24 hours
                const { data: metricsData, error: metricsError } = await supabase.from("performance_metrics").select("*").gte("timestamp", new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()).order("timestamp", {
                    ascending: false
                });
                if (metricsError) {
                    throw new Error(`Failed to fetch database metrics: ${metricsError.message}`);
                }
                // Transform metrics data to match DatabasePerformanceMetric interface
                const databaseMetrics = metricsData?.map((metric)=>({
                        metricName: metric.metric_name,
                        avgValue: metric.avg_value,
                        minValue: metric.min_value,
                        maxValue: metric.max_value,
                        countMeasurements: metric.count_measurements,
                        timestamp: new Date(metric.timestamp)
                    })) || [];
                // Get cache statistics
                const { data: cacheData, error: cacheError } = await supabase.from("cache_stats").select("*").order("timestamp", {
                    ascending: false
                }).limit(1).single();
                if (cacheError && cacheError.code !== "PGRST116") {
                    throw new Error(`Failed to fetch cache stats: ${cacheError.message}`);
                }
                // Transform cache data to match CacheStats interface
                const cacheStats = cacheData ? {
                    size: cacheData.size || 0,
                    keys: cacheData.keys || [],
                    memoryUsage: cacheData.memory_usage || 0,
                    hitRate: cacheData.hit_rate || 0
                } : {
                    size: 0,
                    keys: [],
                    memoryUsage: 0,
                    hitRate: 0
                };
                setDatabaseMetrics(databaseMetrics);
                setCacheStats(cacheStats);
                setLastRefresh(new Date());
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Failed to load database performance";
                setError(errorMessage);
            } finally{
                setLoading(false);
            }
        },
        refreshMaterializedViews: async ()=>{
            const { setLoading, setError, loadDatabasePerformance } = get();
            try {
                setLoading(true);
                setError(null);
                // Call optimized poll service to refresh materialized views
                const response = await fetch("/api/admin/refresh-materialized-views", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    }
                });
                if (!response.ok) {
                    throw new Error(`Failed to refresh materialized views: ${response.statusText}`);
                }
                // Reload performance data after refresh
                await loadDatabasePerformance();
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Failed to refresh materialized views";
                setError(errorMessage);
            } finally{
                setLoading(false);
            }
        },
        performDatabaseMaintenance: async ()=>{
            const { setLoading, setError, loadDatabasePerformance } = get();
            try {
                setLoading(true);
                setError(null);
                // Call optimized poll service to perform database maintenance
                const response = await fetch("/api/admin/perform-database-maintenance", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    }
                });
                if (!response.ok) {
                    throw new Error(`Failed to perform database maintenance: ${response.statusText}`);
                }
                // Reload performance data after maintenance
                await loadDatabasePerformance();
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Failed to perform database maintenance";
                setError(errorMessage);
            } finally{
                setLoading(false);
            }
        },
        // Actions - Loading & Error
        setLoading: (loading)=>{
            set((state)=>{
                state.isLoading = loading;
            });
        },
        setError: (error)=>{
            set((state)=>{
                state.error = error;
            });
        },
        clearError: ()=>{
            set((state)=>{
                state.error = null;
            });
        },
        // Initialization
        initialize: ()=>{
            set((state)=>{
                state.isLoading = true;
                state.error = null;
            });
            try {
                // Start monitoring if in browser
                if (typeof window !== "undefined") {
                    get().startMonitoring();
                }
                set((state)=>{
                    state.isLoading = false;
                });
            } catch (error) {
                set((state)=>{
                    state.error = error instanceof Error ? error.message : "Failed to initialize performance monitoring";
                    state.isLoading = false;
                });
            }
        }
    })), {
    name: "performance-storage",
    partialize: (state)=>({
            thresholds: state.thresholds,
            isMonitoring: state.isMonitoring
        })
}), {
    name: "performance-store"
}));
const usePerformance = ()=>usePerformanceStore();
const usePerformanceMetrics = ()=>usePerformanceStore((state)=>state.metrics);
const useNavigationMetrics = ()=>usePerformanceStore((state)=>state.metrics.filter((m)=>m.type === "navigation"));
const useResourceMetrics = ()=>usePerformanceStore((state)=>state.metrics.filter((m)=>m.type === "resource"));
const useCustomMetrics = ()=>usePerformanceStore((state)=>state.metrics.filter((m)=>m.type === "custom"));
const usePerformanceAlerts = ()=>usePerformanceStore((state)=>state.alerts);
const useActiveAlerts = ()=>usePerformanceStore((state)=>state.alerts.filter((a)=>!a.resolved));
const useAlertsBySeverity = (severity)=>usePerformanceStore((state)=>state.alerts.filter((a)=>a.severity === severity && !a.resolved));
const usePerformanceReports = ()=>usePerformanceStore((state)=>state.reports);
const useLatestReport = ()=>usePerformanceStore((state)=>state.reports[state.reports.length - 1]);
const usePerformanceThresholds = ()=>usePerformanceStore((state)=>state.thresholds);
const useNavigationThresholds = ()=>usePerformanceStore((state)=>state.thresholds.navigation);
const useResourceThresholds = ()=>usePerformanceStore((state)=>state.thresholds.resource);
const useCustomThresholds = ()=>usePerformanceStore((state)=>state.thresholds.custom);
const useIsMonitoring = ()=>usePerformanceStore((state)=>state.isMonitoring);
const usePerformanceLoading = ()=>usePerformanceStore((state)=>state.isLoading);
const usePerformanceError = ()=>usePerformanceStore((state)=>state.error);
const useDatabaseMetrics = ()=>usePerformanceStore((state)=>state.databaseMetrics);
const useCacheStats = ()=>usePerformanceStore((state)=>state.cacheStats);
const useLastRefresh = ()=>usePerformanceStore((state)=>state.lastRefresh);
const useAutoRefresh = ()=>usePerformanceStore((state)=>state.autoRefresh);
const useRefreshInterval = ()=>usePerformanceStore((state)=>state.refreshInterval);
const usePerformanceActions = ()=>usePerformanceStore((state)=>({
            recordMetric: state.recordMetric,
            recordNavigationMetric: state.recordNavigationMetric,
            recordResourceMetric: state.recordResourceMetric,
            recordCustomMetric: state.recordCustomMetric,
            clearMetrics: state.clearMetrics,
            createAlert: state.createAlert,
            resolveAlert: state.resolveAlert,
            clearAlerts: state.clearAlerts,
            clearResolvedAlerts: state.clearResolvedAlerts,
            startMonitoring: state.startMonitoring,
            stopMonitoring: state.stopMonitoring,
            setThreshold: state.setThreshold,
            checkThresholds: state.checkThresholds,
            generateReport: state.generateReport,
            exportMetrics: state.exportMetrics,
            exportReport: state.exportReport,
            setLoading: state.setLoading,
            setError: state.setError,
            clearError: state.clearError,
            initialize: state.initialize,
            // Database performance actions
            setDatabaseMetrics: state.setDatabaseMetrics,
            setCacheStats: state.setCacheStats,
            setLastRefresh: state.setLastRefresh,
            setAutoRefresh: state.setAutoRefresh,
            setRefreshInterval: state.setRefreshInterval,
            loadDatabasePerformance: state.loadDatabasePerformance,
            refreshMaterializedViews: state.refreshMaterializedViews,
            performDatabaseMaintenance: state.performDatabaseMaintenance
        }));
const usePerformanceScore = ()=>{
    const metrics = useNavigationMetrics();
    return calculatePerformanceScore(metrics);
};
const usePerformanceRecommendations = ()=>{
    const metrics = usePerformanceMetrics();
    return generateRecommendations(metrics);
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvc3RvcmVzL3BlcmZvcm1hbmNlU3RvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBQZXJmb3JtYW5jZSBTdG9yZVxuICogXG4gKiBDZW50cmFsaXplZCBadXN0YW5kIHN0b3JlIGZvciBwZXJmb3JtYW5jZSBtb25pdG9yaW5nLCBtZXRyaWNzIGNvbGxlY3Rpb24sXG4gKiBhbmQgcGVyZm9ybWFuY2UgYWxlcnQgbWFuYWdlbWVudC5cbiAqIFxuICogQ3JlYXRlZDogT2N0b2JlciAxMCwgMjAyNVxuICogU3RhdHVzOiDinIUgQUNUSVZFXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSAnenVzdGFuZCc7XG5pbXBvcnQgeyBkZXZ0b29scywgcGVyc2lzdCB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5pbXBvcnQgeyBpbW1lciB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZS9pbW1lcic7XG5cbmltcG9ydCB7IHdpdGhPcHRpb25hbCB9IGZyb20gJ0AvbGliL3V0aWxzL29iamVjdHMnO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBUWVBFU1xuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcmZvcm1hbmNlTWV0cmljIHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogJ25hdmlnYXRpb24nIHwgJ3Jlc291cmNlJyB8ICdtZWFzdXJlJyB8ICdjdXN0b20nIHwgJ2RhdGFiYXNlJztcbiAgbmFtZTogc3RyaW5nO1xuICB2YWx1ZTogbnVtYmVyO1xuICB1bml0OiAnbXMnIHwgJ2J5dGVzJyB8ICdjb3VudCcgfCAnc2NvcmUnIHwgJ3BlcmNlbnRhZ2UnO1xuICB0aW1lc3RhbXA6IERhdGU7XG4gIHVybDogc3RyaW5nO1xuICBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGF0YWJhc2VQZXJmb3JtYW5jZU1ldHJpYyB7XG4gIG1ldHJpY05hbWU6IHN0cmluZztcbiAgYXZnVmFsdWU6IG51bWJlcjtcbiAgbWluVmFsdWU6IG51bWJlcjtcbiAgbWF4VmFsdWU6IG51bWJlcjtcbiAgY291bnRNZWFzdXJlbWVudHM6IG51bWJlcjtcbiAgdGltZXN0YW1wOiBEYXRlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENhY2hlU3RhdHMge1xuICBzaXplOiBudW1iZXI7XG4gIGtleXM6IHN0cmluZ1tdO1xuICBtZW1vcnlVc2FnZTogbnVtYmVyO1xuICBoaXRSYXRlOiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGVyZm9ybWFuY2VBbGVydCB7XG4gIGlkOiBzdHJpbmc7XG4gIHR5cGU6ICd0aHJlc2hvbGQnIHwgJ2Fub21hbHknIHwgJ2Vycm9yJztcbiAgc2V2ZXJpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfCAnY3JpdGljYWwnO1xuICBtZXRyaWM6IHN0cmluZztcbiAgdmFsdWU6IG51bWJlcjtcbiAgdGhyZXNob2xkOiBudW1iZXI7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgdGltZXN0YW1wOiBEYXRlO1xuICByZXNvbHZlZDogYm9vbGVhbjtcbiAgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBlcmZvcm1hbmNlVGhyZXNob2xkcyB7XG4gIG5hdmlnYXRpb246IHtcbiAgICBmY3A6IG51bWJlcjsgLy8gRmlyc3QgQ29udGVudGZ1bCBQYWludFxuICAgIGxjcDogbnVtYmVyOyAvLyBMYXJnZXN0IENvbnRlbnRmdWwgUGFpbnRcbiAgICBmaWQ6IG51bWJlcjsgLy8gRmlyc3QgSW5wdXQgRGVsYXlcbiAgICBjbHM6IG51bWJlcjsgLy8gQ3VtdWxhdGl2ZSBMYXlvdXQgU2hpZnRcbiAgICB0dGZiOiBudW1iZXI7IC8vIFRpbWUgdG8gRmlyc3QgQnl0ZVxuICB9O1xuICByZXNvdXJjZToge1xuICAgIGxvYWRUaW1lOiBudW1iZXI7XG4gICAgc2l6ZTogbnVtYmVyO1xuICAgIGNvdW50OiBudW1iZXI7XG4gIH07XG4gIGN1c3RvbToge1xuICAgIFtrZXk6IHN0cmluZ106IG51bWJlcjtcbiAgfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJmb3JtYW5jZVJlcG9ydCB7XG4gIGlkOiBzdHJpbmc7XG4gIHRpbWVzdGFtcDogRGF0ZTtcbiAgdXJsOiBzdHJpbmc7XG4gIG1ldHJpY3M6IFBlcmZvcm1hbmNlTWV0cmljW107XG4gIGFsZXJ0czogUGVyZm9ybWFuY2VBbGVydFtdO1xuICBzdW1tYXJ5OiB7XG4gICAgc2NvcmU6IG51bWJlcjtcbiAgICBncmFkZTogJ0EnIHwgJ0InIHwgJ0MnIHwgJ0QnIHwgJ0YnO1xuICAgIHJlY29tbWVuZGF0aW9uczogc3RyaW5nW107XG4gIH07XG4gIGdlbmVyYXRlZF9hdDogRGF0ZTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQZXJmb3JtYW5jZVN0b3JlIHtcbiAgLy8gU3RhdGVcbiAgbWV0cmljczogUGVyZm9ybWFuY2VNZXRyaWNbXTtcbiAgYWxlcnRzOiBQZXJmb3JtYW5jZUFsZXJ0W107XG4gIHJlcG9ydHM6IFBlcmZvcm1hbmNlUmVwb3J0W107XG4gIHRocmVzaG9sZHM6IFBlcmZvcm1hbmNlVGhyZXNob2xkcztcbiAgaXNNb25pdG9yaW5nOiBib29sZWFuO1xuICBpc0xvYWRpbmc6IGJvb2xlYW47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xuICBcbiAgLy8gRGF0YWJhc2UgcGVyZm9ybWFuY2Ugc3RhdGVcbiAgZGF0YWJhc2VNZXRyaWNzOiBEYXRhYmFzZVBlcmZvcm1hbmNlTWV0cmljW107XG4gIGNhY2hlU3RhdHM6IENhY2hlU3RhdHMgfCBudWxsO1xuICBsYXN0UmVmcmVzaDogRGF0ZSB8IG51bGw7XG4gIGF1dG9SZWZyZXNoOiBib29sZWFuO1xuICByZWZyZXNoSW50ZXJ2YWw6IG51bWJlcjtcbiAgXG4gIC8vIEFjdGlvbnMgLSBNZXRyaWNzXG4gIHJlY29yZE1ldHJpYzogKG1ldHJpYzogT21pdDxQZXJmb3JtYW5jZU1ldHJpYywgJ2lkJyB8ICd0aW1lc3RhbXAnPikgPT4gdm9pZDtcbiAgcmVjb3JkTmF2aWdhdGlvbk1ldHJpYzogKG5hbWU6IHN0cmluZywgdmFsdWU6IG51bWJlciwgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PiB2b2lkO1xuICByZWNvcmRSZXNvdXJjZU1ldHJpYzogKG5hbWU6IHN0cmluZywgdmFsdWU6IG51bWJlciwgbWV0YWRhdGE/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+KSA9PiB2b2lkO1xuICByZWNvcmRDdXN0b21NZXRyaWM6IChuYW1lOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIsIHVuaXQ/OiAnbXMnIHwgJ2J5dGVzJyB8ICdjb3VudCcgfCAnc2NvcmUnLCBtZXRhZGF0YT86IFJlY29yZDxzdHJpbmcsIGFueT4pID0+IHZvaWQ7XG4gIGNsZWFyTWV0cmljczogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBBbGVydHNcbiAgY3JlYXRlQWxlcnQ6IChhbGVydDogT21pdDxQZXJmb3JtYW5jZUFsZXJ0LCAnaWQnIHwgJ3RpbWVzdGFtcCcgfCAncmVzb2x2ZWQnPikgPT4gdm9pZDtcbiAgcmVzb2x2ZUFsZXJ0OiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgY2xlYXJBbGVydHM6ICgpID0+IHZvaWQ7XG4gIGNsZWFyUmVzb2x2ZWRBbGVydHM6ICgpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gTW9uaXRvcmluZ1xuICBzdGFydE1vbml0b3Jpbmc6ICgpID0+IHZvaWQ7XG4gIHN0b3BNb25pdG9yaW5nOiAoKSA9PiB2b2lkO1xuICBzZXRUaHJlc2hvbGQ6ICh0eXBlOiBzdHJpbmcsIG1ldHJpYzogc3RyaW5nLCB0aHJlc2hvbGQ6IG51bWJlcikgPT4gdm9pZDtcbiAgY2hlY2tUaHJlc2hvbGRzOiAoKSA9PiB2b2lkO1xuICBcbiAgLy8gQWN0aW9ucyAtIFJlcG9ydHNcbiAgZ2VuZXJhdGVSZXBvcnQ6ICgpID0+IFBlcmZvcm1hbmNlUmVwb3J0O1xuICBleHBvcnRNZXRyaWNzOiAoZm9ybWF0PzogJ2pzb24nIHwgJ2NzdicpID0+IHN0cmluZztcbiAgZXhwb3J0UmVwb3J0OiAocmVwb3J0SWQ6IHN0cmluZywgZm9ybWF0PzogJ2pzb24nIHwgJ2NzdicpID0+IHN0cmluZztcbiAgXG4gIC8vIEFjdGlvbnMgLSBEYXRhYmFzZSBQZXJmb3JtYW5jZVxuICBzZXREYXRhYmFzZU1ldHJpY3M6IChtZXRyaWNzOiBEYXRhYmFzZVBlcmZvcm1hbmNlTWV0cmljW10pID0+IHZvaWQ7XG4gIHNldENhY2hlU3RhdHM6IChzdGF0czogQ2FjaGVTdGF0cykgPT4gdm9pZDtcbiAgc2V0TGFzdFJlZnJlc2g6IChkYXRlOiBEYXRlKSA9PiB2b2lkO1xuICBzZXRBdXRvUmVmcmVzaDogKGVuYWJsZWQ6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldFJlZnJlc2hJbnRlcnZhbDogKGludGVydmFsOiBudW1iZXIpID0+IHZvaWQ7XG4gIGxvYWREYXRhYmFzZVBlcmZvcm1hbmNlOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICByZWZyZXNoTWF0ZXJpYWxpemVkVmlld3M6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIHBlcmZvcm1EYXRhYmFzZU1haW50ZW5hbmNlOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBcbiAgLy8gQWN0aW9ucyAtIExvYWRpbmcgJiBFcnJvclxuICBzZXRMb2FkaW5nOiAobG9hZGluZzogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0RXJyb3I6IChlcnJvcjogc3RyaW5nIHwgbnVsbCkgPT4gdm9pZDtcbiAgY2xlYXJFcnJvcjogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEluaXRpYWxpemF0aW9uXG4gIGluaXRpYWxpemU6ICgpID0+IHZvaWQ7XG59XG5cbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbi8vIFVUSUxJVFkgRlVOQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmNvbnN0IGNhbGN1bGF0ZVBlcmZvcm1hbmNlU2NvcmUgPSAobWV0cmljczogUGVyZm9ybWFuY2VNZXRyaWNbXSk6IHsgc2NvcmU6IG51bWJlcjsgZ3JhZGU6ICdBJyB8ICdCJyB8ICdDJyB8ICdEJyB8ICdGJyB9ID0+IHtcbiAgY29uc3QgbmF2aWdhdGlvbk1ldHJpY3MgPSBtZXRyaWNzLmZpbHRlcihtID0+IG0udHlwZSA9PT0gJ25hdmlnYXRpb24nKTtcbiAgY29uc3QgZmNwID0gbmF2aWdhdGlvbk1ldHJpY3MuZmluZChtID0+IG0ubmFtZSA9PT0gJ0ZDUCcpPy52YWx1ZSB8fCAwO1xuICBjb25zdCBsY3AgPSBuYXZpZ2F0aW9uTWV0cmljcy5maW5kKG0gPT4gbS5uYW1lID09PSAnTENQJyk/LnZhbHVlIHx8IDA7XG4gIGNvbnN0IGZpZCA9IG5hdmlnYXRpb25NZXRyaWNzLmZpbmQobSA9PiBtLm5hbWUgPT09ICdGSUQnKT8udmFsdWUgfHwgMDtcbiAgY29uc3QgY2xzID0gbmF2aWdhdGlvbk1ldHJpY3MuZmluZChtID0+IG0ubmFtZSA9PT0gJ0NMUycpPy52YWx1ZSB8fCAwO1xuICBjb25zdCB0dGZiID0gbmF2aWdhdGlvbk1ldHJpY3MuZmluZChtID0+IG0ubmFtZSA9PT0gJ1RURkInKT8udmFsdWUgfHwgMDtcblxuICAvLyBDYWxjdWxhdGUgc2NvcmUgYmFzZWQgb24gQ29yZSBXZWIgVml0YWxzXG4gIGxldCBzY29yZSA9IDEwMDtcbiAgXG4gIC8vIEZDUCBzY29yaW5nICgwLTMwMDBtcylcbiAgaWYgKGZjcCA+IDMwMDApIHNjb3JlIC09IDIwO1xuICBlbHNlIGlmIChmY3AgPiAxODAwKSBzY29yZSAtPSAxMDtcbiAgXG4gIC8vIExDUCBzY29yaW5nICgwLTQwMDBtcylcbiAgaWYgKGxjcCA+IDQwMDApIHNjb3JlIC09IDI1O1xuICBlbHNlIGlmIChsY3AgPiAyNTAwKSBzY29yZSAtPSAxNTtcbiAgXG4gIC8vIEZJRCBzY29yaW5nICgwLTMwMG1zKVxuICBpZiAoZmlkID4gMzAwKSBzY29yZSAtPSAyMDtcbiAgZWxzZSBpZiAoZmlkID4gMTAwKSBzY29yZSAtPSAxMDtcbiAgXG4gIC8vIENMUyBzY29yaW5nICgwLTAuMjUpXG4gIGlmIChjbHMgPiAwLjI1KSBzY29yZSAtPSAyMDtcbiAgZWxzZSBpZiAoY2xzID4gMC4xKSBzY29yZSAtPSAxMDtcbiAgXG4gIC8vIFRURkIgc2NvcmluZyAoMC04MDBtcylcbiAgaWYgKHR0ZmIgPiA4MDApIHNjb3JlIC09IDE1O1xuICBlbHNlIGlmICh0dGZiID4gNjAwKSBzY29yZSAtPSA1O1xuXG4gIGNvbnN0IGdyYWRlID0gc2NvcmUgPj0gOTAgPyAnQScgOiBzY29yZSA+PSA4MCA/ICdCJyA6IHNjb3JlID49IDcwID8gJ0MnIDogc2NvcmUgPj0gNjAgPyAnRCcgOiAnRic7XG4gIFxuICByZXR1cm4geyBzY29yZTogTWF0aC5tYXgoMCwgc2NvcmUpLCBncmFkZSB9O1xufTtcblxuY29uc3QgZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMgPSAobWV0cmljczogUGVyZm9ybWFuY2VNZXRyaWNbXSk6IHN0cmluZ1tdID0+IHtcbiAgY29uc3QgcmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXSA9IFtdO1xuICBjb25zdCBuYXZpZ2F0aW9uTWV0cmljcyA9IG1ldHJpY3MuZmlsdGVyKG0gPT4gbS50eXBlID09PSAnbmF2aWdhdGlvbicpO1xuICBcbiAgY29uc3QgZmNwID0gbmF2aWdhdGlvbk1ldHJpY3MuZmluZChtID0+IG0ubmFtZSA9PT0gJ0ZDUCcpPy52YWx1ZSB8fCAwO1xuICBjb25zdCBsY3AgPSBuYXZpZ2F0aW9uTWV0cmljcy5maW5kKG0gPT4gbS5uYW1lID09PSAnTENQJyk/LnZhbHVlIHx8IDA7XG4gIGNvbnN0IGZpZCA9IG5hdmlnYXRpb25NZXRyaWNzLmZpbmQobSA9PiBtLm5hbWUgPT09ICdGSUQnKT8udmFsdWUgfHwgMDtcbiAgY29uc3QgY2xzID0gbmF2aWdhdGlvbk1ldHJpY3MuZmluZChtID0+IG0ubmFtZSA9PT0gJ0NMUycpPy52YWx1ZSB8fCAwO1xuICBjb25zdCB0dGZiID0gbmF2aWdhdGlvbk1ldHJpY3MuZmluZChtID0+IG0ubmFtZSA9PT0gJ1RURkInKT8udmFsdWUgfHwgMDtcblxuICBpZiAoZmNwID4gMTgwMCkgcmVjb21tZW5kYXRpb25zLnB1c2goJ09wdGltaXplIEZpcnN0IENvbnRlbnRmdWwgUGFpbnQgYnkgcmVkdWNpbmcgcmVuZGVyLWJsb2NraW5nIHJlc291cmNlcycpO1xuICBpZiAobGNwID4gMjUwMCkgcmVjb21tZW5kYXRpb25zLnB1c2goJ0ltcHJvdmUgTGFyZ2VzdCBDb250ZW50ZnVsIFBhaW50IGJ5IG9wdGltaXppbmcgaW1hZ2VzIGFuZCBmb250cycpO1xuICBpZiAoZmlkID4gMTAwKSByZWNvbW1lbmRhdGlvbnMucHVzaCgnUmVkdWNlIEZpcnN0IElucHV0IERlbGF5IGJ5IG1pbmltaXppbmcgSmF2YVNjcmlwdCBleGVjdXRpb24gdGltZScpO1xuICBpZiAoY2xzID4gMC4xKSByZWNvbW1lbmRhdGlvbnMucHVzaCgnTWluaW1pemUgQ3VtdWxhdGl2ZSBMYXlvdXQgU2hpZnQgYnkgc2V0dGluZyBpbWFnZSBkaW1lbnNpb25zJyk7XG4gIGlmICh0dGZiID4gNjAwKSByZWNvbW1lbmRhdGlvbnMucHVzaCgnSW1wcm92ZSBUaW1lIHRvIEZpcnN0IEJ5dGUgYnkgb3B0aW1pemluZyBzZXJ2ZXIgcmVzcG9uc2UgdGltZScpO1xuXG4gIHJldHVybiByZWNvbW1lbmRhdGlvbnM7XG59O1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBTVE9SRSBJTVBMRU1FTlRBVElPTlxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5leHBvcnQgY29uc3QgdXNlUGVyZm9ybWFuY2VTdG9yZSA9IGNyZWF0ZTxQZXJmb3JtYW5jZVN0b3JlPigpKFxuICBkZXZ0b29scyhcbiAgICBwZXJzaXN0KFxuICAgICAgaW1tZXIoKHNldCwgZ2V0KSA9PiAoe1xuICAgICAgICAvLyBJbml0aWFsIFN0YXRlXG4gICAgICAgIG1ldHJpY3M6IFtdLFxuICAgICAgICBhbGVydHM6IFtdLFxuICAgICAgICByZXBvcnRzOiBbXSxcbiAgICAgICAgdGhyZXNob2xkczoge1xuICAgICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICAgIGZjcDogMTgwMCxcbiAgICAgICAgICAgIGxjcDogMjUwMCxcbiAgICAgICAgICAgIGZpZDogMTAwLFxuICAgICAgICAgICAgY2xzOiAwLjEsXG4gICAgICAgICAgICB0dGZiOiA2MDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlc291cmNlOiB7XG4gICAgICAgICAgICBsb2FkVGltZTogMjAwMCxcbiAgICAgICAgICAgIHNpemU6IDEwMjQgKiAxMDI0LCAvLyAxTUJcbiAgICAgICAgICAgIGNvdW50OiA1MFxuICAgICAgICAgIH0sXG4gICAgICAgICAgY3VzdG9tOiB7fVxuICAgICAgICB9LFxuICAgICAgICBpc01vbml0b3Jpbmc6IGZhbHNlLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgICAgXG4gICAgICAgIC8vIERhdGFiYXNlIHBlcmZvcm1hbmNlIHN0YXRlXG4gICAgICAgIGRhdGFiYXNlTWV0cmljczogW10sXG4gICAgICAgIGNhY2hlU3RhdHM6IG51bGwsXG4gICAgICAgIGxhc3RSZWZyZXNoOiBudWxsLFxuICAgICAgICBhdXRvUmVmcmVzaDogdHJ1ZSxcbiAgICAgICAgcmVmcmVzaEludGVydmFsOiAzMDAwMCxcblxuICAgICAgICAvLyBBY3Rpb25zIC0gTWV0cmljc1xuICAgICAgICByZWNvcmRNZXRyaWM6IChtZXRyaWMpID0+IHtcbiAgICAgICAgICBjb25zdCBpZCA9IGBtZXRyaWMtJHtEYXRlLm5vdygpfS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuICAgICAgICAgIGNvbnN0IG5ld01ldHJpYzogUGVyZm9ybWFuY2VNZXRyaWMgPSB7XG4gICAgICAgICAgICAuLi5tZXRyaWMsXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5tZXRyaWNzLnB1c2gobmV3TWV0cmljKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gS2VlcCBvbmx5IGxhc3QgMTAwMCBtZXRyaWNzIHRvIHByZXZlbnQgbWVtb3J5IGlzc3Vlc1xuICAgICAgICAgICAgaWYgKHN0YXRlLm1ldHJpY3MubGVuZ3RoID4gMTAwMCkge1xuICAgICAgICAgICAgICBzdGF0ZS5tZXRyaWNzID0gc3RhdGUubWV0cmljcy5zbGljZSgtMTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBDaGVjayB0aHJlc2hvbGRzIChkZWJvdW5jZWQgdG8gcHJldmVudCBleGNlc3NpdmUgY2FsbHMpXG4gICAgICAgICAgY29uc3QgeyBjaGVja1RocmVzaG9sZHMgfSA9IGdldCgpO1xuICAgICAgICAgIGlmIChjaGVja1RocmVzaG9sZHMpIHtcbiAgICAgICAgICAgIGNoZWNrVGhyZXNob2xkcygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZWNvcmROYXZpZ2F0aW9uTWV0cmljOiAobmFtZSwgdmFsdWUsIG1ldGFkYXRhKSA9PiB7XG4gICAgICAgICAgZ2V0KCkucmVjb3JkTWV0cmljKHtcbiAgICAgICAgICAgIHR5cGU6ICduYXZpZ2F0aW9uJyxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIHVuaXQ6ICdtcycsXG4gICAgICAgICAgICB1cmw6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLmhyZWYgOiAnJyxcbiAgICAgICAgICAgIG1ldGFkYXRhXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVjb3JkUmVzb3VyY2VNZXRyaWM6IChuYW1lLCB2YWx1ZSwgbWV0YWRhdGEpID0+IHtcbiAgICAgICAgICBnZXQoKS5yZWNvcmRNZXRyaWMoe1xuICAgICAgICAgICAgdHlwZTogJ3Jlc291cmNlJyxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIHVuaXQ6ICdtcycsXG4gICAgICAgICAgICB1cmw6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLmhyZWYgOiAnJyxcbiAgICAgICAgICAgIG1ldGFkYXRhXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVjb3JkQ3VzdG9tTWV0cmljOiAobmFtZSwgdmFsdWUsIHVuaXQgPSAnbXMnLCBtZXRhZGF0YSkgPT4ge1xuICAgICAgICAgIGdldCgpLnJlY29yZE1ldHJpYyh7XG4gICAgICAgICAgICB0eXBlOiAnY3VzdG9tJyxcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIHVuaXQsXG4gICAgICAgICAgICB1cmw6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93LmxvY2F0aW9uLmhyZWYgOiAnJyxcbiAgICAgICAgICAgIG1ldGFkYXRhXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xlYXJNZXRyaWNzOiAoKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUubWV0cmljcyA9IFtdO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vIEFjdGlvbnMgLSBBbGVydHNcbiAgICAgICAgY3JlYXRlQWxlcnQ6IChhbGVydCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGlkID0gYGFsZXJ0LSR7RGF0ZS5ub3coKX0tJHtNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSl9YDtcbiAgICAgICAgICBjb25zdCBuZXdBbGVydDogUGVyZm9ybWFuY2VBbGVydCA9IHtcbiAgICAgICAgICAgIC4uLmFsZXJ0LFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCksXG4gICAgICAgICAgICByZXNvbHZlZDogZmFsc2VcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuYWxlcnRzLnB1c2gobmV3QWxlcnQpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBLZWVwIG9ubHkgbGFzdCA1MDAgYWxlcnRzXG4gICAgICAgICAgICBpZiAoc3RhdGUuYWxlcnRzLmxlbmd0aCA+IDUwMCkge1xuICAgICAgICAgICAgICBzdGF0ZS5hbGVydHMgPSBzdGF0ZS5hbGVydHMuc2xpY2UoLTUwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgcmVzb2x2ZUFsZXJ0OiAoaWQpID0+IHtcbiAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhbGVydCA9IHN0YXRlLmFsZXJ0cy5maW5kKGEgPT4gYS5pZCA9PT0gaWQpO1xuICAgICAgICAgICAgaWYgKGFsZXJ0KSB7XG4gICAgICAgICAgICAgIGFsZXJ0LnJlc29sdmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjbGVhckFsZXJ0czogKCkgPT4ge1xuICAgICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmFsZXJ0cyA9IFtdO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNsZWFyUmVzb2x2ZWRBbGVydHM6ICgpID0+IHtcbiAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5hbGVydHMgPSBzdGF0ZS5hbGVydHMuZmlsdGVyKGFsZXJ0ID0+ICFhbGVydC5yZXNvbHZlZCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gQWN0aW9ucyAtIE1vbml0b3JpbmdcbiAgICAgICAgc3RhcnRNb25pdG9yaW5nOiAoKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuaXNNb25pdG9yaW5nID0gdHJ1ZTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAncGVyZm9ybWFuY2UnIGluIHdpbmRvdykge1xuICAgICAgICAgICAgLy8gU2V0IHVwIFBlcmZvcm1hbmNlIE9ic2VydmVyXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBQZXJmb3JtYW5jZU9ic2VydmVyKChsaXN0KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50cmllcyA9IGxpc3QuZ2V0RW50cmllcygpO1xuICAgICAgICAgICAgICAgIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5lbnRyeVR5cGUgPT09ICduYXZpZ2F0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYXZFbnRyeSA9IGVudHJ5IGFzIFBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZztcbiAgICAgICAgICAgICAgICAgICAgZ2V0KCkucmVjb3JkTmF2aWdhdGlvbk1ldHJpYygnVFRGQicsIG5hdkVudHJ5LnJlc3BvbnNlU3RhcnQgLSBuYXZFbnRyeS5yZXF1ZXN0U3RhcnQpO1xuICAgICAgICAgICAgICAgICAgICBnZXQoKS5yZWNvcmROYXZpZ2F0aW9uTWV0cmljKCdGQ1AnLCBuYXZFbnRyeS5kb21Db250ZW50TG9hZGVkRXZlbnRFbmQgLSBuYXZFbnRyeS5mZXRjaFN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZW50cnkuZW50cnlUeXBlID09PSAncmVzb3VyY2UnKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc291cmNlRW50cnkgPSBlbnRyeSBhcyBQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nO1xuICAgICAgICAgICAgICAgICAgICBnZXQoKS5yZWNvcmRSZXNvdXJjZU1ldHJpYyhyZXNvdXJjZUVudHJ5Lm5hbWUsIHJlc291cmNlRW50cnkuZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHsgZW50cnlUeXBlczogWyduYXZpZ2F0aW9uJywgJ3Jlc291cmNlJ10gfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1BlcmZvcm1hbmNlIE9ic2VydmVyIG5vdCBzdXBwb3J0ZWQ6JywgZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICBzdG9wTW9uaXRvcmluZzogKCkgPT4ge1xuICAgICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmlzTW9uaXRvcmluZyA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFRocmVzaG9sZDogKHR5cGUsIG1ldHJpYywgdGhyZXNob2xkKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICduYXZpZ2F0aW9uJyAmJiBtZXRyaWMgaW4gc3RhdGUudGhyZXNob2xkcy5uYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICAgIChzdGF0ZS50aHJlc2hvbGRzLm5hdmlnYXRpb24gYXMgYW55KVttZXRyaWNdID0gdGhyZXNob2xkO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAncmVzb3VyY2UnICYmIG1ldHJpYyBpbiBzdGF0ZS50aHJlc2hvbGRzLnJlc291cmNlKSB7XG4gICAgICAgICAgICAgIChzdGF0ZS50aHJlc2hvbGRzLnJlc291cmNlIGFzIGFueSlbbWV0cmljXSA9IHRocmVzaG9sZDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2N1c3RvbScpIHtcbiAgICAgICAgICAgICAgc3RhdGUudGhyZXNob2xkcy5jdXN0b21bbWV0cmljXSA9IHRocmVzaG9sZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBjaGVja1RocmVzaG9sZHM6ICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IG1ldHJpY3MsIHRocmVzaG9sZHMgfSA9IGdldCgpO1xuICAgICAgICAgIGNvbnN0IHJlY2VudE1ldHJpY3MgPSBtZXRyaWNzLnNsaWNlKC0xMDApOyAvLyBDaGVjayBsYXN0IDEwMCBtZXRyaWNzXG5cbiAgICAgICAgICByZWNlbnRNZXRyaWNzLmZvckVhY2goKG1ldHJpYykgPT4ge1xuICAgICAgICAgICAgbGV0IHRocmVzaG9sZCA9IDA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChtZXRyaWMudHlwZSA9PT0gJ25hdmlnYXRpb24nICYmIG1ldHJpYy5uYW1lIGluIHRocmVzaG9sZHMubmF2aWdhdGlvbikge1xuICAgICAgICAgICAgICB0aHJlc2hvbGQgPSAodGhyZXNob2xkcy5uYXZpZ2F0aW9uIGFzIGFueSlbbWV0cmljLm5hbWVdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtZXRyaWMudHlwZSA9PT0gJ3Jlc291cmNlJyAmJiBtZXRyaWMubmFtZSBpbiB0aHJlc2hvbGRzLnJlc291cmNlKSB7XG4gICAgICAgICAgICAgIHRocmVzaG9sZCA9ICh0aHJlc2hvbGRzLnJlc291cmNlIGFzIGFueSlbbWV0cmljLm5hbWVdO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtZXRyaWMudHlwZSA9PT0gJ2N1c3RvbScgJiYgbWV0cmljLm5hbWUgaW4gdGhyZXNob2xkcy5jdXN0b20pIHtcbiAgICAgICAgICAgICAgdGhyZXNob2xkID0gdGhyZXNob2xkcy5jdXN0b21bbWV0cmljLm5hbWVdIHx8IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aHJlc2hvbGQgPiAwICYmIG1ldHJpYy52YWx1ZSA+IHRocmVzaG9sZCkge1xuICAgICAgICAgICAgICBjb25zdCBzZXZlcml0eSA9IG1ldHJpYy52YWx1ZSA+IHRocmVzaG9sZCAqIDIgPyAnaGlnaCcgOiBtZXRyaWMudmFsdWUgPiB0aHJlc2hvbGQgKiAxLjUgPyAnbWVkaXVtJyA6ICdsb3cnO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgZ2V0KCkuY3JlYXRlQWxlcnQoe1xuICAgICAgICAgICAgICAgIHR5cGU6ICd0aHJlc2hvbGQnLFxuICAgICAgICAgICAgICAgIHNldmVyaXR5LFxuICAgICAgICAgICAgICAgIG1ldHJpYzogbWV0cmljLm5hbWUsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG1ldHJpYy52YWx1ZSxcbiAgICAgICAgICAgICAgICB0aHJlc2hvbGQsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogYCR7bWV0cmljLm5hbWV9IGV4Y2VlZGVkIHRocmVzaG9sZDogJHttZXRyaWMudmFsdWV9JHttZXRyaWMudW5pdH0gPiAke3RocmVzaG9sZH0ke21ldHJpYy51bml0fWBcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gQWN0aW9ucyAtIFJlcG9ydHNcbiAgICAgICAgZ2VuZXJhdGVSZXBvcnQ6ICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IG1ldHJpY3MsIGFsZXJ0cyB9ID0gZ2V0KCk7XG4gICAgICAgICAgY29uc3QgaWQgPSBgcmVwb3J0LSR7RGF0ZS5ub3coKX1gO1xuICAgICAgICAgIGNvbnN0IHsgc2NvcmUsIGdyYWRlIH0gPSBjYWxjdWxhdGVQZXJmb3JtYW5jZVNjb3JlKG1ldHJpY3MpO1xuICAgICAgICAgIGNvbnN0IHJlY29tbWVuZGF0aW9ucyA9IGdlbmVyYXRlUmVjb21tZW5kYXRpb25zKG1ldHJpY3MpO1xuXG4gICAgICAgICAgY29uc3QgcmVwb3J0OiBQZXJmb3JtYW5jZVJlcG9ydCA9IHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgdXJsOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogJycsXG4gICAgICAgICAgICBtZXRyaWNzOiBbLi4ubWV0cmljc10sXG4gICAgICAgICAgICBhbGVydHM6IGFsZXJ0cy5maWx0ZXIoYWxlcnQgPT4gIWFsZXJ0LnJlc29sdmVkKSxcbiAgICAgICAgICAgIHN1bW1hcnk6IHtcbiAgICAgICAgICAgICAgc2NvcmUsXG4gICAgICAgICAgICAgIGdyYWRlLFxuICAgICAgICAgICAgICByZWNvbW1lbmRhdGlvbnNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZW5lcmF0ZWRfYXQ6IG5ldyBEYXRlKClcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUucmVwb3J0cy5wdXNoKHJlcG9ydCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEtlZXAgb25seSBsYXN0IDUwIHJlcG9ydHNcbiAgICAgICAgICAgIGlmIChzdGF0ZS5yZXBvcnRzLmxlbmd0aCA+IDUwKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnJlcG9ydHMgPSBzdGF0ZS5yZXBvcnRzLnNsaWNlKC01MCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gcmVwb3J0O1xuICAgICAgICB9LFxuXG4gICAgICAgIGV4cG9ydE1ldHJpY3M6IChmb3JtYXQgPSAnanNvbicpID0+IHtcbiAgICAgICAgICBjb25zdCB7IG1ldHJpY3MgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdjc3YnKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gWydpZCcsICd0eXBlJywgJ25hbWUnLCAndmFsdWUnLCAndW5pdCcsICd0aW1lc3RhbXAnLCAndXJsJ107XG4gICAgICAgICAgICBjb25zdCByb3dzID0gbWV0cmljcy5tYXAobWV0cmljID0+IFtcbiAgICAgICAgICAgICAgbWV0cmljLmlkLFxuICAgICAgICAgICAgICBtZXRyaWMudHlwZSxcbiAgICAgICAgICAgICAgbWV0cmljLm5hbWUsXG4gICAgICAgICAgICAgIG1ldHJpYy52YWx1ZSxcbiAgICAgICAgICAgICAgbWV0cmljLnVuaXQsXG4gICAgICAgICAgICAgIG1ldHJpYy50aW1lc3RhbXAudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgbWV0cmljLnVybFxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBbaGVhZGVycywgLi4ucm93c10ubWFwKHJvdyA9PiByb3cuam9pbignLCcpKS5qb2luKCdcXG4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KG1ldHJpY3MsIG51bGwsIDIpO1xuICAgICAgICB9LFxuXG4gICAgICAgIGV4cG9ydFJlcG9ydDogKHJlcG9ydElkLCBmb3JtYXQgPSAnanNvbicpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHJlcG9ydHMgfSA9IGdldCgpO1xuICAgICAgICAgIGNvbnN0IHJlcG9ydCA9IHJlcG9ydHMuZmluZChyID0+IHIuaWQgPT09IHJlcG9ydElkKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoIXJlcG9ydCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBSZXBvcnQgJHtyZXBvcnRJZH0gbm90IGZvdW5kYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGlmIChmb3JtYXQgPT09ICdjc3YnKSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gWydtZXRyaWMnLCAndmFsdWUnLCAndW5pdCcsICd0aW1lc3RhbXAnXTtcbiAgICAgICAgICAgIGNvbnN0IHJvd3MgPSByZXBvcnQubWV0cmljcy5tYXAobWV0cmljID0+IFtcbiAgICAgICAgICAgICAgbWV0cmljLm5hbWUsXG4gICAgICAgICAgICAgIG1ldHJpYy52YWx1ZSxcbiAgICAgICAgICAgICAgbWV0cmljLnVuaXQsXG4gICAgICAgICAgICAgIG1ldHJpYy50aW1lc3RhbXAudG9JU09TdHJpbmcoKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBbaGVhZGVycywgLi4ucm93c10ubWFwKHJvdyA9PiByb3cuam9pbignLCcpKS5qb2luKCdcXG4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHJlcG9ydCwgbnVsbCwgMik7XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gQWN0aW9ucyAtIERhdGFiYXNlIFBlcmZvcm1hbmNlXG4gICAgICAgIHNldERhdGFiYXNlTWV0cmljczogKG1ldHJpY3MpID0+IHtcbiAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5kYXRhYmFzZU1ldHJpY3MgPSBtZXRyaWNzO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldENhY2hlU3RhdHM6IChzdGF0cykgPT4ge1xuICAgICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmNhY2hlU3RhdHMgPSBzdGF0cztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRMYXN0UmVmcmVzaDogKGRhdGUpID0+IHtcbiAgICAgICAgICBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgICBzdGF0ZS5sYXN0UmVmcmVzaCA9IGRhdGU7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0QXV0b1JlZnJlc2g6IChlbmFibGVkKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuYXV0b1JlZnJlc2ggPSBlbmFibGVkO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldFJlZnJlc2hJbnRlcnZhbDogKGludGVydmFsKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUucmVmcmVzaEludGVydmFsID0gaW50ZXJ2YWw7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgbG9hZERhdGFiYXNlUGVyZm9ybWFuY2U6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldExvYWRpbmcsIHNldEVycm9yLCBzZXRMYXN0UmVmcmVzaCwgc2V0RGF0YWJhc2VNZXRyaWNzLCBzZXRDYWNoZVN0YXRzIH0gPSBnZXQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGZXRjaCBwZXJmb3JtYW5jZSBtZXRyaWNzIGRpcmVjdGx5IGZyb20gZGF0YWJhc2VcbiAgICAgICAgICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgaW1wb3J0KCdAL3V0aWxzL3N1cGFiYXNlL2NsaWVudCcpLnRoZW4obSA9PiBtLmdldFN1cGFiYXNlQ2xpZW50KCkpO1xuICAgICAgICAgICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gbm90IGF2YWlsYWJsZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgZGF0YWJhc2UgcGVyZm9ybWFuY2UgbWV0cmljcyBmcm9tIHRoZSBsYXN0IDI0IGhvdXJzXG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IG1ldHJpY3NEYXRhLCBlcnJvcjogbWV0cmljc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgICAuZnJvbSgncGVyZm9ybWFuY2VfbWV0cmljcycpXG4gICAgICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgICAgICAuZ3RlKCd0aW1lc3RhbXAnLCBuZXcgRGF0ZShEYXRlLm5vdygpIC0gMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSlcbiAgICAgICAgICAgICAgLm9yZGVyKCd0aW1lc3RhbXAnLCB7IGFzY2VuZGluZzogZmFsc2UgfSk7XG5cbiAgICAgICAgICAgIGlmIChtZXRyaWNzRXJyb3IpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggZGF0YWJhc2UgbWV0cmljczogJHttZXRyaWNzRXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVHJhbnNmb3JtIG1ldHJpY3MgZGF0YSB0byBtYXRjaCBEYXRhYmFzZVBlcmZvcm1hbmNlTWV0cmljIGludGVyZmFjZVxuICAgICAgICAgICAgY29uc3QgZGF0YWJhc2VNZXRyaWNzOiBEYXRhYmFzZVBlcmZvcm1hbmNlTWV0cmljW10gPSBtZXRyaWNzRGF0YT8ubWFwKG1ldHJpYyA9PiAoe1xuICAgICAgICAgICAgICBtZXRyaWNOYW1lOiBtZXRyaWMubWV0cmljX25hbWUsXG4gICAgICAgICAgICAgIGF2Z1ZhbHVlOiBtZXRyaWMuYXZnX3ZhbHVlLFxuICAgICAgICAgICAgICBtaW5WYWx1ZTogbWV0cmljLm1pbl92YWx1ZSxcbiAgICAgICAgICAgICAgbWF4VmFsdWU6IG1ldHJpYy5tYXhfdmFsdWUsXG4gICAgICAgICAgICAgIGNvdW50TWVhc3VyZW1lbnRzOiBtZXRyaWMuY291bnRfbWVhc3VyZW1lbnRzLFxuICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKG1ldHJpYy50aW1lc3RhbXApXG4gICAgICAgICAgICB9KSkgfHwgW107XG5cbiAgICAgICAgICAgIC8vIEdldCBjYWNoZSBzdGF0aXN0aWNzXG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IGNhY2hlRGF0YSwgZXJyb3I6IGNhY2hlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgIC5mcm9tKCdjYWNoZV9zdGF0cycpXG4gICAgICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgICAgICAub3JkZXIoJ3RpbWVzdGFtcCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgICAgICAgICAubGltaXQoMSlcbiAgICAgICAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICAgICAgICBpZiAoY2FjaGVFcnJvciAmJiBjYWNoZUVycm9yLmNvZGUgIT09ICdQR1JTVDExNicpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggY2FjaGUgc3RhdHM6ICR7Y2FjaGVFcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUcmFuc2Zvcm0gY2FjaGUgZGF0YSB0byBtYXRjaCBDYWNoZVN0YXRzIGludGVyZmFjZVxuICAgICAgICAgICAgY29uc3QgY2FjaGVTdGF0czogQ2FjaGVTdGF0cyA9IGNhY2hlRGF0YSA/IHtcbiAgICAgICAgICAgICAgc2l6ZTogY2FjaGVEYXRhLnNpemUgfHwgMCxcbiAgICAgICAgICAgICAga2V5czogY2FjaGVEYXRhLmtleXMgfHwgW10sXG4gICAgICAgICAgICAgIG1lbW9yeVVzYWdlOiBjYWNoZURhdGEubWVtb3J5X3VzYWdlIHx8IDAsXG4gICAgICAgICAgICAgIGhpdFJhdGU6IGNhY2hlRGF0YS5oaXRfcmF0ZSB8fCAwXG4gICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICBzaXplOiAwLFxuICAgICAgICAgICAgICBrZXlzOiBbXSxcbiAgICAgICAgICAgICAgbWVtb3J5VXNhZ2U6IDAsXG4gICAgICAgICAgICAgIGhpdFJhdGU6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldERhdGFiYXNlTWV0cmljcyhkYXRhYmFzZU1ldHJpY3MpO1xuICAgICAgICAgICAgc2V0Q2FjaGVTdGF0cyhjYWNoZVN0YXRzKTtcbiAgICAgICAgICAgIHNldExhc3RSZWZyZXNoKG5ldyBEYXRlKCkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byBsb2FkIGRhdGFiYXNlIHBlcmZvcm1hbmNlJztcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICByZWZyZXNoTWF0ZXJpYWxpemVkVmlld3M6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldExvYWRpbmcsIHNldEVycm9yLCBsb2FkRGF0YWJhc2VQZXJmb3JtYW5jZSB9ID0gZ2V0KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2FsbCBvcHRpbWl6ZWQgcG9sbCBzZXJ2aWNlIHRvIHJlZnJlc2ggbWF0ZXJpYWxpemVkIHZpZXdzXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2FkbWluL3JlZnJlc2gtbWF0ZXJpYWxpemVkLXZpZXdzJywge1xuICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byByZWZyZXNoIG1hdGVyaWFsaXplZCB2aWV3czogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBSZWxvYWQgcGVyZm9ybWFuY2UgZGF0YSBhZnRlciByZWZyZXNoXG4gICAgICAgICAgICBhd2FpdCBsb2FkRGF0YWJhc2VQZXJmb3JtYW5jZSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0ZhaWxlZCB0byByZWZyZXNoIG1hdGVyaWFsaXplZCB2aWV3cyc7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgcGVyZm9ybURhdGFiYXNlTWFpbnRlbmFuY2U6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldExvYWRpbmcsIHNldEVycm9yLCBsb2FkRGF0YWJhc2VQZXJmb3JtYW5jZSB9ID0gZ2V0KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcodHJ1ZSk7XG4gICAgICAgICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2FsbCBvcHRpbWl6ZWQgcG9sbCBzZXJ2aWNlIHRvIHBlcmZvcm0gZGF0YWJhc2UgbWFpbnRlbmFuY2VcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvYWRtaW4vcGVyZm9ybS1kYXRhYmFzZS1tYWludGVuYW5jZScsIHtcbiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGVyZm9ybSBkYXRhYmFzZSBtYWludGVuYW5jZTogJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBSZWxvYWQgcGVyZm9ybWFuY2UgZGF0YSBhZnRlciBtYWludGVuYW5jZVxuICAgICAgICAgICAgYXdhaXQgbG9hZERhdGFiYXNlUGVyZm9ybWFuY2UoKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gcGVyZm9ybSBkYXRhYmFzZSBtYWludGVuYW5jZSc7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gQWN0aW9ucyAtIExvYWRpbmcgJiBFcnJvclxuICAgICAgICBzZXRMb2FkaW5nOiAobG9hZGluZzogYm9vbGVhbikgPT4ge1xuICAgICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmlzTG9hZGluZyA9IGxvYWRpbmc7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0RXJyb3I6IChlcnJvcjogc3RyaW5nIHwgbnVsbCkgPT4ge1xuICAgICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmVycm9yID0gZXJyb3I7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2xlYXJFcnJvcjogKCkgPT4ge1xuICAgICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHN0YXRlLmVycm9yID0gbnVsbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBJbml0aWFsaXphdGlvblxuICAgICAgICBpbml0aWFsaXplOiAoKSA9PiB7XG4gICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgc3RhdGUuaXNMb2FkaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHN0YXRlLmVycm9yID0gbnVsbDtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBTdGFydCBtb25pdG9yaW5nIGlmIGluIGJyb3dzZXJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBnZXQoKS5zdGFydE1vbml0b3JpbmcoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgICBzdGF0ZS5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICAgICAgc3RhdGUuZXJyb3IgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdGYWlsZWQgdG8gaW5pdGlhbGl6ZSBwZXJmb3JtYW5jZSBtb25pdG9yaW5nJztcbiAgICAgICAgICAgICAgc3RhdGUuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pKSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ3BlcmZvcm1hbmNlLXN0b3JhZ2UnLFxuICAgICAgICBwYXJ0aWFsaXplOiAoc3RhdGUpID0+ICh7XG4gICAgICAgICAgdGhyZXNob2xkczogc3RhdGUudGhyZXNob2xkcyxcbiAgICAgICAgICBpc01vbml0b3Jpbmc6IHN0YXRlLmlzTW9uaXRvcmluZ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICksXG4gICAgeyBuYW1lOiAncGVyZm9ybWFuY2Utc3RvcmUnIH1cbiAgKVxuKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gU0VMRUNUT1JTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCB1c2VQZXJmb3JtYW5jZSA9ICgpID0+IHVzZVBlcmZvcm1hbmNlU3RvcmUoKTtcblxuLy8gTWV0cmljcyBTZWxlY3RvcnNcbmV4cG9ydCBjb25zdCB1c2VQZXJmb3JtYW5jZU1ldHJpY3MgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IHN0YXRlLm1ldHJpY3MpO1xuZXhwb3J0IGNvbnN0IHVzZU5hdmlnYXRpb25NZXRyaWNzID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBcbiAgc3RhdGUubWV0cmljcy5maWx0ZXIobSA9PiBtLnR5cGUgPT09ICduYXZpZ2F0aW9uJylcbik7XG5leHBvcnQgY29uc3QgdXNlUmVzb3VyY2VNZXRyaWNzID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBcbiAgc3RhdGUubWV0cmljcy5maWx0ZXIobSA9PiBtLnR5cGUgPT09ICdyZXNvdXJjZScpXG4pO1xuZXhwb3J0IGNvbnN0IHVzZUN1c3RvbU1ldHJpY3MgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IFxuICBzdGF0ZS5tZXRyaWNzLmZpbHRlcihtID0+IG0udHlwZSA9PT0gJ2N1c3RvbScpXG4pO1xuXG4vLyBBbGVydHMgU2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlUGVyZm9ybWFuY2VBbGVydHMgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IHN0YXRlLmFsZXJ0cyk7XG5leHBvcnQgY29uc3QgdXNlQWN0aXZlQWxlcnRzID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBcbiAgc3RhdGUuYWxlcnRzLmZpbHRlcihhID0+ICFhLnJlc29sdmVkKVxuKTtcbmV4cG9ydCBjb25zdCB1c2VBbGVydHNCeVNldmVyaXR5ID0gKHNldmVyaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnIHwgJ2NyaXRpY2FsJykgPT4gXG4gIHVzZVBlcmZvcm1hbmNlU3RvcmUoc3RhdGUgPT4gXG4gICAgc3RhdGUuYWxlcnRzLmZpbHRlcihhID0+IGEuc2V2ZXJpdHkgPT09IHNldmVyaXR5ICYmICFhLnJlc29sdmVkKVxuICApO1xuXG4vLyBSZXBvcnRzIFNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IHVzZVBlcmZvcm1hbmNlUmVwb3J0cyA9ICgpID0+IHVzZVBlcmZvcm1hbmNlU3RvcmUoc3RhdGUgPT4gc3RhdGUucmVwb3J0cyk7XG5leHBvcnQgY29uc3QgdXNlTGF0ZXN0UmVwb3J0ID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBcbiAgc3RhdGUucmVwb3J0c1tzdGF0ZS5yZXBvcnRzLmxlbmd0aCAtIDFdXG4pO1xuXG4vLyBUaHJlc2hvbGRzIFNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IHVzZVBlcmZvcm1hbmNlVGhyZXNob2xkcyA9ICgpID0+IHVzZVBlcmZvcm1hbmNlU3RvcmUoc3RhdGUgPT4gc3RhdGUudGhyZXNob2xkcyk7XG5leHBvcnQgY29uc3QgdXNlTmF2aWdhdGlvblRocmVzaG9sZHMgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+IHN0YXRlLnRocmVzaG9sZHMubmF2aWdhdGlvbik7XG5leHBvcnQgY29uc3QgdXNlUmVzb3VyY2VUaHJlc2hvbGRzID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBzdGF0ZS50aHJlc2hvbGRzLnJlc291cmNlKTtcbmV4cG9ydCBjb25zdCB1c2VDdXN0b21UaHJlc2hvbGRzID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBzdGF0ZS50aHJlc2hvbGRzLmN1c3RvbSk7XG5cbi8vIE1vbml0b3JpbmcgU2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlSXNNb25pdG9yaW5nID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc01vbml0b3JpbmcpO1xuZXhwb3J0IGNvbnN0IHVzZVBlcmZvcm1hbmNlTG9hZGluZyA9ICgpID0+IHVzZVBlcmZvcm1hbmNlU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNMb2FkaW5nKTtcbmV4cG9ydCBjb25zdCB1c2VQZXJmb3JtYW5jZUVycm9yID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBzdGF0ZS5lcnJvcik7XG5cbi8vIERhdGFiYXNlIFBlcmZvcm1hbmNlIFNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IHVzZURhdGFiYXNlTWV0cmljcyA9ICgpID0+IHVzZVBlcmZvcm1hbmNlU3RvcmUoc3RhdGUgPT4gc3RhdGUuZGF0YWJhc2VNZXRyaWNzKTtcbmV4cG9ydCBjb25zdCB1c2VDYWNoZVN0YXRzID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jYWNoZVN0YXRzKTtcbmV4cG9ydCBjb25zdCB1c2VMYXN0UmVmcmVzaCA9ICgpID0+IHVzZVBlcmZvcm1hbmNlU3RvcmUoc3RhdGUgPT4gc3RhdGUubGFzdFJlZnJlc2gpO1xuZXhwb3J0IGNvbnN0IHVzZUF1dG9SZWZyZXNoID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBzdGF0ZS5hdXRvUmVmcmVzaCk7XG5leHBvcnQgY29uc3QgdXNlUmVmcmVzaEludGVydmFsID0gKCkgPT4gdXNlUGVyZm9ybWFuY2VTdG9yZShzdGF0ZSA9PiBzdGF0ZS5yZWZyZXNoSW50ZXJ2YWwpO1xuXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4vLyBBQ1RJT05TXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCB1c2VQZXJmb3JtYW5jZUFjdGlvbnMgPSAoKSA9PiB1c2VQZXJmb3JtYW5jZVN0b3JlKHN0YXRlID0+ICh7XG4gIHJlY29yZE1ldHJpYzogc3RhdGUucmVjb3JkTWV0cmljLFxuICByZWNvcmROYXZpZ2F0aW9uTWV0cmljOiBzdGF0ZS5yZWNvcmROYXZpZ2F0aW9uTWV0cmljLFxuICByZWNvcmRSZXNvdXJjZU1ldHJpYzogc3RhdGUucmVjb3JkUmVzb3VyY2VNZXRyaWMsXG4gIHJlY29yZEN1c3RvbU1ldHJpYzogc3RhdGUucmVjb3JkQ3VzdG9tTWV0cmljLFxuICBjbGVhck1ldHJpY3M6IHN0YXRlLmNsZWFyTWV0cmljcyxcbiAgY3JlYXRlQWxlcnQ6IHN0YXRlLmNyZWF0ZUFsZXJ0LFxuICByZXNvbHZlQWxlcnQ6IHN0YXRlLnJlc29sdmVBbGVydCxcbiAgY2xlYXJBbGVydHM6IHN0YXRlLmNsZWFyQWxlcnRzLFxuICBjbGVhclJlc29sdmVkQWxlcnRzOiBzdGF0ZS5jbGVhclJlc29sdmVkQWxlcnRzLFxuICBzdGFydE1vbml0b3Jpbmc6IHN0YXRlLnN0YXJ0TW9uaXRvcmluZyxcbiAgc3RvcE1vbml0b3Jpbmc6IHN0YXRlLnN0b3BNb25pdG9yaW5nLFxuICBzZXRUaHJlc2hvbGQ6IHN0YXRlLnNldFRocmVzaG9sZCxcbiAgY2hlY2tUaHJlc2hvbGRzOiBzdGF0ZS5jaGVja1RocmVzaG9sZHMsXG4gIGdlbmVyYXRlUmVwb3J0OiBzdGF0ZS5nZW5lcmF0ZVJlcG9ydCxcbiAgZXhwb3J0TWV0cmljczogc3RhdGUuZXhwb3J0TWV0cmljcyxcbiAgZXhwb3J0UmVwb3J0OiBzdGF0ZS5leHBvcnRSZXBvcnQsXG4gIHNldExvYWRpbmc6IHN0YXRlLnNldExvYWRpbmcsXG4gIHNldEVycm9yOiBzdGF0ZS5zZXRFcnJvcixcbiAgY2xlYXJFcnJvcjogc3RhdGUuY2xlYXJFcnJvcixcbiAgaW5pdGlhbGl6ZTogc3RhdGUuaW5pdGlhbGl6ZSxcbiAgLy8gRGF0YWJhc2UgcGVyZm9ybWFuY2UgYWN0aW9uc1xuICBzZXREYXRhYmFzZU1ldHJpY3M6IHN0YXRlLnNldERhdGFiYXNlTWV0cmljcyxcbiAgc2V0Q2FjaGVTdGF0czogc3RhdGUuc2V0Q2FjaGVTdGF0cyxcbiAgc2V0TGFzdFJlZnJlc2g6IHN0YXRlLnNldExhc3RSZWZyZXNoLFxuICBzZXRBdXRvUmVmcmVzaDogc3RhdGUuc2V0QXV0b1JlZnJlc2gsXG4gIHNldFJlZnJlc2hJbnRlcnZhbDogc3RhdGUuc2V0UmVmcmVzaEludGVydmFsLFxuICBsb2FkRGF0YWJhc2VQZXJmb3JtYW5jZTogc3RhdGUubG9hZERhdGFiYXNlUGVyZm9ybWFuY2UsXG4gIHJlZnJlc2hNYXRlcmlhbGl6ZWRWaWV3czogc3RhdGUucmVmcmVzaE1hdGVyaWFsaXplZFZpZXdzLFxuICBwZXJmb3JtRGF0YWJhc2VNYWludGVuYW5jZTogc3RhdGUucGVyZm9ybURhdGFiYXNlTWFpbnRlbmFuY2Vcbn0pKTtcblxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuLy8gVVRJTElUSUVTXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbmV4cG9ydCBjb25zdCB1c2VQZXJmb3JtYW5jZVNjb3JlID0gKCkgPT4ge1xuICBjb25zdCBtZXRyaWNzID0gdXNlTmF2aWdhdGlvbk1ldHJpY3MoKTtcbiAgcmV0dXJuIGNhbGN1bGF0ZVBlcmZvcm1hbmNlU2NvcmUobWV0cmljcyk7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlUGVyZm9ybWFuY2VSZWNvbW1lbmRhdGlvbnMgPSAoKSA9PiB7XG4gIGNvbnN0IG1ldHJpY3MgPSB1c2VQZXJmb3JtYW5jZU1ldHJpY3MoKTtcbiAgcmV0dXJuIGdlbmVyYXRlUmVjb21tZW5kYXRpb25zKG1ldHJpY3MpO1xufTtcbiJdLCJuYW1lcyI6WyJ1c2VBY3RpdmVBbGVydHMiLCJ1c2VBbGVydHNCeVNldmVyaXR5IiwidXNlQXV0b1JlZnJlc2giLCJ1c2VDYWNoZVN0YXRzIiwidXNlQ3VzdG9tTWV0cmljcyIsInVzZUN1c3RvbVRocmVzaG9sZHMiLCJ1c2VEYXRhYmFzZU1ldHJpY3MiLCJ1c2VJc01vbml0b3JpbmciLCJ1c2VMYXN0UmVmcmVzaCIsInVzZUxhdGVzdFJlcG9ydCIsInVzZU5hdmlnYXRpb25NZXRyaWNzIiwidXNlTmF2aWdhdGlvblRocmVzaG9sZHMiLCJ1c2VQZXJmb3JtYW5jZSIsInVzZVBlcmZvcm1hbmNlQWN0aW9ucyIsInVzZVBlcmZvcm1hbmNlQWxlcnRzIiwidXNlUGVyZm9ybWFuY2VFcnJvciIsInVzZVBlcmZvcm1hbmNlTG9hZGluZyIsInVzZVBlcmZvcm1hbmNlTWV0cmljcyIsInVzZVBlcmZvcm1hbmNlUmVjb21tZW5kYXRpb25zIiwidXNlUGVyZm9ybWFuY2VSZXBvcnRzIiwidXNlUGVyZm9ybWFuY2VTY29yZSIsInVzZVBlcmZvcm1hbmNlU3RvcmUiLCJ1c2VQZXJmb3JtYW5jZVRocmVzaG9sZHMiLCJ1c2VSZWZyZXNoSW50ZXJ2YWwiLCJ1c2VSZXNvdXJjZU1ldHJpY3MiLCJ1c2VSZXNvdXJjZVRocmVzaG9sZHMiLCJjYWxjdWxhdGVQZXJmb3JtYW5jZVNjb3JlIiwibWV0cmljcyIsIm5hdmlnYXRpb25NZXRyaWNzIiwiZmlsdGVyIiwibSIsInR5cGUiLCJmY3AiLCJmaW5kIiwibmFtZSIsInZhbHVlIiwibGNwIiwiZmlkIiwiY2xzIiwidHRmYiIsInNjb3JlIiwiZ3JhZGUiLCJNYXRoIiwibWF4IiwiZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnMiLCJyZWNvbW1lbmRhdGlvbnMiLCJwdXNoIiwiY3JlYXRlIiwiZGV2dG9vbHMiLCJwZXJzaXN0IiwiaW1tZXIiLCJzZXQiLCJnZXQiLCJhbGVydHMiLCJyZXBvcnRzIiwidGhyZXNob2xkcyIsIm5hdmlnYXRpb24iLCJyZXNvdXJjZSIsImxvYWRUaW1lIiwic2l6ZSIsImNvdW50IiwiY3VzdG9tIiwiaXNNb25pdG9yaW5nIiwiaXNMb2FkaW5nIiwiZXJyb3IiLCJkYXRhYmFzZU1ldHJpY3MiLCJjYWNoZVN0YXRzIiwibGFzdFJlZnJlc2giLCJhdXRvUmVmcmVzaCIsInJlZnJlc2hJbnRlcnZhbCIsInJlY29yZE1ldHJpYyIsIm1ldHJpYyIsImlkIiwiRGF0ZSIsIm5vdyIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyIiwibmV3TWV0cmljIiwidGltZXN0YW1wIiwic3RhdGUiLCJsZW5ndGgiLCJzbGljZSIsImNoZWNrVGhyZXNob2xkcyIsInJlY29yZE5hdmlnYXRpb25NZXRyaWMiLCJtZXRhZGF0YSIsInVuaXQiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhyZWYiLCJyZWNvcmRSZXNvdXJjZU1ldHJpYyIsInJlY29yZEN1c3RvbU1ldHJpYyIsImNsZWFyTWV0cmljcyIsImNyZWF0ZUFsZXJ0IiwiYWxlcnQiLCJuZXdBbGVydCIsInJlc29sdmVkIiwicmVzb2x2ZUFsZXJ0IiwiYSIsImNsZWFyQWxlcnRzIiwiY2xlYXJSZXNvbHZlZEFsZXJ0cyIsInN0YXJ0TW9uaXRvcmluZyIsIm9ic2VydmVyIiwiUGVyZm9ybWFuY2VPYnNlcnZlciIsImxpc3QiLCJlbnRyaWVzIiwiZ2V0RW50cmllcyIsImZvckVhY2giLCJlbnRyeSIsImVudHJ5VHlwZSIsIm5hdkVudHJ5IiwicmVzcG9uc2VTdGFydCIsInJlcXVlc3RTdGFydCIsImRvbUNvbnRlbnRMb2FkZWRFdmVudEVuZCIsImZldGNoU3RhcnQiLCJyZXNvdXJjZUVudHJ5IiwiZHVyYXRpb24iLCJvYnNlcnZlIiwiZW50cnlUeXBlcyIsImNvbnNvbGUiLCJ3YXJuIiwic3RvcE1vbml0b3JpbmciLCJzZXRUaHJlc2hvbGQiLCJ0aHJlc2hvbGQiLCJyZWNlbnRNZXRyaWNzIiwic2V2ZXJpdHkiLCJtZXNzYWdlIiwiZ2VuZXJhdGVSZXBvcnQiLCJyZXBvcnQiLCJzdW1tYXJ5IiwiZ2VuZXJhdGVkX2F0IiwiZXhwb3J0TWV0cmljcyIsImZvcm1hdCIsImhlYWRlcnMiLCJyb3dzIiwibWFwIiwidG9JU09TdHJpbmciLCJyb3ciLCJqb2luIiwiSlNPTiIsInN0cmluZ2lmeSIsImV4cG9ydFJlcG9ydCIsInJlcG9ydElkIiwiciIsIkVycm9yIiwic2V0RGF0YWJhc2VNZXRyaWNzIiwic2V0Q2FjaGVTdGF0cyIsInN0YXRzIiwic2V0TGFzdFJlZnJlc2giLCJkYXRlIiwic2V0QXV0b1JlZnJlc2giLCJlbmFibGVkIiwic2V0UmVmcmVzaEludGVydmFsIiwiaW50ZXJ2YWwiLCJsb2FkRGF0YWJhc2VQZXJmb3JtYW5jZSIsInNldExvYWRpbmciLCJzZXRFcnJvciIsInN1cGFiYXNlIiwidGhlbiIsImdldFN1cGFiYXNlQ2xpZW50IiwiZGF0YSIsIm1ldHJpY3NEYXRhIiwibWV0cmljc0Vycm9yIiwiZnJvbSIsInNlbGVjdCIsImd0ZSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwibWV0cmljTmFtZSIsIm1ldHJpY19uYW1lIiwiYXZnVmFsdWUiLCJhdmdfdmFsdWUiLCJtaW5WYWx1ZSIsIm1pbl92YWx1ZSIsIm1heFZhbHVlIiwibWF4X3ZhbHVlIiwiY291bnRNZWFzdXJlbWVudHMiLCJjb3VudF9tZWFzdXJlbWVudHMiLCJjYWNoZURhdGEiLCJjYWNoZUVycm9yIiwibGltaXQiLCJzaW5nbGUiLCJjb2RlIiwia2V5cyIsIm1lbW9yeVVzYWdlIiwibWVtb3J5X3VzYWdlIiwiaGl0UmF0ZSIsImhpdF9yYXRlIiwiZXJyb3JNZXNzYWdlIiwicmVmcmVzaE1hdGVyaWFsaXplZFZpZXdzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsIm9rIiwic3RhdHVzVGV4dCIsInBlcmZvcm1EYXRhYmFzZU1haW50ZW5hbmNlIiwibG9hZGluZyIsImNsZWFyRXJyb3IiLCJpbml0aWFsaXplIiwicGFydGlhbGl6ZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0NBUUM7Ozs7Ozs7Ozs7O0lBK3RCWUEsZUFBZTtlQUFmQTs7SUFHQUMsbUJBQW1CO2VBQW5CQTs7SUEwQkFDLGNBQWM7ZUFBZEE7O0lBRkFDLGFBQWE7ZUFBYkE7O0lBakNBQyxnQkFBZ0I7ZUFBaEJBOztJQXdCQUMsbUJBQW1CO2VBQW5CQTs7SUFRQUMsa0JBQWtCO2VBQWxCQTs7SUFMQUMsZUFBZTtlQUFmQTs7SUFPQUMsY0FBYztlQUFkQTs7SUFsQkFDLGVBQWU7ZUFBZkE7O0lBdEJBQyxvQkFBb0I7ZUFBcEJBOztJQTRCQUMsdUJBQXVCO2VBQXZCQTs7SUFoQ0FDLGNBQWM7ZUFBZEE7O0lBb0RBQyxxQkFBcUI7ZUFBckJBOztJQXJDQUMsb0JBQW9CO2VBQXBCQTs7SUF3QkFDLG1CQUFtQjtlQUFuQkE7O0lBREFDLHFCQUFxQjtlQUFyQkE7O0lBbkNBQyxxQkFBcUI7ZUFBckJBOztJQTBGQUMsNkJBQTZCO2VBQTdCQTs7SUFwRUFDLHFCQUFxQjtlQUFyQkE7O0lBK0RBQyxtQkFBbUI7ZUFBbkJBOztJQXhsQkFDLG1CQUFtQjtlQUFuQkE7O0lBK2hCQUMsd0JBQXdCO2VBQXhCQTs7SUFlQUMsa0JBQWtCO2VBQWxCQTs7SUF2Q0FDLGtCQUFrQjtlQUFsQkE7O0lBMEJBQyxxQkFBcUI7ZUFBckJBOzs7eUJBOXVCVTs0QkFDVzt1QkFDWjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBNEl0QiwrRUFBK0U7QUFDL0Usb0JBQW9CO0FBQ3BCLCtFQUErRTtBQUUvRSxNQUFNQyw0QkFBNEIsQ0FBQ0M7SUFDakMsTUFBTUMsb0JBQW9CRCxRQUFRRSxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLElBQUksS0FBSztJQUN6RCxNQUFNQyxNQUFNSixrQkFBa0JLLElBQUksQ0FBQ0gsQ0FBQUEsSUFBS0EsRUFBRUksSUFBSSxLQUFLLFFBQVFDLFNBQVM7SUFDcEUsTUFBTUMsTUFBTVIsa0JBQWtCSyxJQUFJLENBQUNILENBQUFBLElBQUtBLEVBQUVJLElBQUksS0FBSyxRQUFRQyxTQUFTO0lBQ3BFLE1BQU1FLE1BQU1ULGtCQUFrQkssSUFBSSxDQUFDSCxDQUFBQSxJQUFLQSxFQUFFSSxJQUFJLEtBQUssUUFBUUMsU0FBUztJQUNwRSxNQUFNRyxNQUFNVixrQkFBa0JLLElBQUksQ0FBQ0gsQ0FBQUEsSUFBS0EsRUFBRUksSUFBSSxLQUFLLFFBQVFDLFNBQVM7SUFDcEUsTUFBTUksT0FBT1gsa0JBQWtCSyxJQUFJLENBQUNILENBQUFBLElBQUtBLEVBQUVJLElBQUksS0FBSyxTQUFTQyxTQUFTO0lBRXRFLDJDQUEyQztJQUMzQyxJQUFJSyxRQUFRO0lBRVoseUJBQXlCO0lBQ3pCLElBQUlSLE1BQU0sTUFBTVEsU0FBUztTQUNwQixJQUFJUixNQUFNLE1BQU1RLFNBQVM7SUFFOUIseUJBQXlCO0lBQ3pCLElBQUlKLE1BQU0sTUFBTUksU0FBUztTQUNwQixJQUFJSixNQUFNLE1BQU1JLFNBQVM7SUFFOUIsd0JBQXdCO0lBQ3hCLElBQUlILE1BQU0sS0FBS0csU0FBUztTQUNuQixJQUFJSCxNQUFNLEtBQUtHLFNBQVM7SUFFN0IsdUJBQXVCO0lBQ3ZCLElBQUlGLE1BQU0sTUFBTUUsU0FBUztTQUNwQixJQUFJRixNQUFNLEtBQUtFLFNBQVM7SUFFN0IseUJBQXlCO0lBQ3pCLElBQUlELE9BQU8sS0FBS0MsU0FBUztTQUNwQixJQUFJRCxPQUFPLEtBQUtDLFNBQVM7SUFFOUIsTUFBTUMsUUFBUUQsU0FBUyxLQUFLLE1BQU1BLFNBQVMsS0FBSyxNQUFNQSxTQUFTLEtBQUssTUFBTUEsU0FBUyxLQUFLLE1BQU07SUFFOUYsT0FBTztRQUFFQSxPQUFPRSxLQUFLQyxHQUFHLENBQUMsR0FBR0g7UUFBUUM7SUFBTTtBQUM1QztBQUVBLE1BQU1HLDBCQUEwQixDQUFDakI7SUFDL0IsTUFBTWtCLGtCQUE0QixFQUFFO0lBQ3BDLE1BQU1qQixvQkFBb0JELFFBQVFFLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsSUFBSSxLQUFLO0lBRXpELE1BQU1DLE1BQU1KLGtCQUFrQkssSUFBSSxDQUFDSCxDQUFBQSxJQUFLQSxFQUFFSSxJQUFJLEtBQUssUUFBUUMsU0FBUztJQUNwRSxNQUFNQyxNQUFNUixrQkFBa0JLLElBQUksQ0FBQ0gsQ0FBQUEsSUFBS0EsRUFBRUksSUFBSSxLQUFLLFFBQVFDLFNBQVM7SUFDcEUsTUFBTUUsTUFBTVQsa0JBQWtCSyxJQUFJLENBQUNILENBQUFBLElBQUtBLEVBQUVJLElBQUksS0FBSyxRQUFRQyxTQUFTO0lBQ3BFLE1BQU1HLE1BQU1WLGtCQUFrQkssSUFBSSxDQUFDSCxDQUFBQSxJQUFLQSxFQUFFSSxJQUFJLEtBQUssUUFBUUMsU0FBUztJQUNwRSxNQUFNSSxPQUFPWCxrQkFBa0JLLElBQUksQ0FBQ0gsQ0FBQUEsSUFBS0EsRUFBRUksSUFBSSxLQUFLLFNBQVNDLFNBQVM7SUFFdEUsSUFBSUgsTUFBTSxNQUFNYSxnQkFBZ0JDLElBQUksQ0FBQztJQUNyQyxJQUFJVixNQUFNLE1BQU1TLGdCQUFnQkMsSUFBSSxDQUFDO0lBQ3JDLElBQUlULE1BQU0sS0FBS1EsZ0JBQWdCQyxJQUFJLENBQUM7SUFDcEMsSUFBSVIsTUFBTSxLQUFLTyxnQkFBZ0JDLElBQUksQ0FBQztJQUNwQyxJQUFJUCxPQUFPLEtBQUtNLGdCQUFnQkMsSUFBSSxDQUFDO0lBRXJDLE9BQU9EO0FBQ1Q7QUFNTyxNQUFNeEIsc0JBQXNCMEIsSUFBQUEsZUFBTSxJQUN2Q0MsSUFBQUEsb0JBQVEsRUFDTkMsSUFBQUEsbUJBQU8sRUFDTEMsSUFBQUEsWUFBSyxFQUFDLENBQUNDLEtBQUtDLE1BQVMsQ0FBQTtRQUNuQixnQkFBZ0I7UUFDaEJ6QixTQUFTLEVBQUU7UUFDWDBCLFFBQVEsRUFBRTtRQUNWQyxTQUFTLEVBQUU7UUFDWEMsWUFBWTtZQUNWQyxZQUFZO2dCQUNWeEIsS0FBSztnQkFDTEksS0FBSztnQkFDTEMsS0FBSztnQkFDTEMsS0FBSztnQkFDTEMsTUFBTTtZQUNSO1lBQ0FrQixVQUFVO2dCQUNSQyxVQUFVO2dCQUNWQyxNQUFNLE9BQU87Z0JBQ2JDLE9BQU87WUFDVDtZQUNBQyxRQUFRLENBQUM7UUFDWDtRQUNBQyxjQUFjO1FBQ2RDLFdBQVc7UUFDWEMsT0FBTztRQUVQLDZCQUE2QjtRQUM3QkMsaUJBQWlCLEVBQUU7UUFDbkJDLFlBQVk7UUFDWkMsYUFBYTtRQUNiQyxhQUFhO1FBQ2JDLGlCQUFpQjtRQUVqQixvQkFBb0I7UUFDcEJDLGNBQWMsQ0FBQ0M7WUFDYixNQUFNQyxLQUFLLENBQUMsT0FBTyxFQUFFQyxLQUFLQyxHQUFHLEdBQUcsQ0FBQyxFQUFFaEMsS0FBS2lDLE1BQU0sR0FBR0MsUUFBUSxDQUFDLElBQUlDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsQ0FBQztZQUM1RSxNQUFNQyxZQUErQjtnQkFDbkMsR0FBR1AsTUFBTTtnQkFDVEM7Z0JBQ0FPLFdBQVcsSUFBSU47WUFDakI7WUFFQXRCLElBQUksQ0FBQzZCO2dCQUNIQSxNQUFNckQsT0FBTyxDQUFDbUIsSUFBSSxDQUFDZ0M7Z0JBRW5CLHVEQUF1RDtnQkFDdkQsSUFBSUUsTUFBTXJELE9BQU8sQ0FBQ3NELE1BQU0sR0FBRyxNQUFNO29CQUMvQkQsTUFBTXJELE9BQU8sR0FBR3FELE1BQU1yRCxPQUFPLENBQUN1RCxLQUFLLENBQUMsQ0FBQztnQkFDdkM7WUFDRjtZQUVBLDBEQUEwRDtZQUMxRCxNQUFNLEVBQUVDLGVBQWUsRUFBRSxHQUFHL0I7WUFDNUIsSUFBSStCLGlCQUFpQjtnQkFDbkJBO1lBQ0Y7UUFDRjtRQUVBQyx3QkFBd0IsQ0FBQ2xELE1BQU1DLE9BQU9rRDtZQUNwQ2pDLE1BQU1rQixZQUFZLENBQUM7Z0JBQ2pCdkMsTUFBTTtnQkFDTkc7Z0JBQ0FDO2dCQUNBbUQsTUFBTTtnQkFDTkMsS0FBSyxPQUFPQyxXQUFXLGNBQWNBLE9BQU9DLFFBQVEsQ0FBQ0MsSUFBSSxHQUFHO2dCQUM1REw7WUFDRjtRQUNGO1FBRUFNLHNCQUFzQixDQUFDekQsTUFBTUMsT0FBT2tEO1lBQ2xDakMsTUFBTWtCLFlBQVksQ0FBQztnQkFDakJ2QyxNQUFNO2dCQUNORztnQkFDQUM7Z0JBQ0FtRCxNQUFNO2dCQUNOQyxLQUFLLE9BQU9DLFdBQVcsY0FBY0EsT0FBT0MsUUFBUSxDQUFDQyxJQUFJLEdBQUc7Z0JBQzVETDtZQUNGO1FBQ0Y7UUFFQU8sb0JBQW9CLENBQUMxRCxNQUFNQyxPQUFPbUQsT0FBTyxJQUFJLEVBQUVEO1lBQzdDakMsTUFBTWtCLFlBQVksQ0FBQztnQkFDakJ2QyxNQUFNO2dCQUNORztnQkFDQUM7Z0JBQ0FtRDtnQkFDQUMsS0FBSyxPQUFPQyxXQUFXLGNBQWNBLE9BQU9DLFFBQVEsQ0FBQ0MsSUFBSSxHQUFHO2dCQUM1REw7WUFDRjtRQUNGO1FBRUFRLGNBQWM7WUFDWjFDLElBQUksQ0FBQzZCO2dCQUNIQSxNQUFNckQsT0FBTyxHQUFHLEVBQUU7WUFDcEI7UUFDRjtRQUVBLG1CQUFtQjtRQUNuQm1FLGFBQWEsQ0FBQ0M7WUFDWixNQUFNdkIsS0FBSyxDQUFDLE1BQU0sRUFBRUMsS0FBS0MsR0FBRyxHQUFHLENBQUMsRUFBRWhDLEtBQUtpQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxNQUFNLENBQUMsR0FBRyxHQUFHLENBQUM7WUFDM0UsTUFBTW1CLFdBQTZCO2dCQUNqQyxHQUFHRCxLQUFLO2dCQUNSdkI7Z0JBQ0FPLFdBQVcsSUFBSU47Z0JBQ2Z3QixVQUFVO1lBQ1o7WUFFQTlDLElBQUksQ0FBQzZCO2dCQUNIQSxNQUFNM0IsTUFBTSxDQUFDUCxJQUFJLENBQUNrRDtnQkFFbEIsNEJBQTRCO2dCQUM1QixJQUFJaEIsTUFBTTNCLE1BQU0sQ0FBQzRCLE1BQU0sR0FBRyxLQUFLO29CQUM3QkQsTUFBTTNCLE1BQU0sR0FBRzJCLE1BQU0zQixNQUFNLENBQUM2QixLQUFLLENBQUMsQ0FBQztnQkFDckM7WUFDRjtRQUNGO1FBRUFnQixjQUFjLENBQUMxQjtZQUNickIsSUFBSSxDQUFDNkI7Z0JBQ0gsTUFBTWUsUUFBUWYsTUFBTTNCLE1BQU0sQ0FBQ3BCLElBQUksQ0FBQ2tFLENBQUFBLElBQUtBLEVBQUUzQixFQUFFLEtBQUtBO2dCQUM5QyxJQUFJdUIsT0FBTztvQkFDVEEsTUFBTUUsUUFBUSxHQUFHO2dCQUNuQjtZQUNGO1FBQ0Y7UUFFQUcsYUFBYTtZQUNYakQsSUFBSSxDQUFDNkI7Z0JBQ0hBLE1BQU0zQixNQUFNLEdBQUcsRUFBRTtZQUNuQjtRQUNGO1FBRUFnRCxxQkFBcUI7WUFDbkJsRCxJQUFJLENBQUM2QjtnQkFDSEEsTUFBTTNCLE1BQU0sR0FBRzJCLE1BQU0zQixNQUFNLENBQUN4QixNQUFNLENBQUNrRSxDQUFBQSxRQUFTLENBQUNBLE1BQU1FLFFBQVE7WUFDN0Q7UUFDRjtRQUVBLHVCQUF1QjtRQUN2QkssaUJBQWlCO1lBQ2ZuRCxJQUFJLENBQUM2QjtnQkFDSEEsTUFBTWxCLFlBQVksR0FBRztZQUN2QjtZQUVBLElBQUksT0FBTzBCLFdBQVcsZUFBZSxpQkFBaUJBLFFBQVE7Z0JBQzVELDhCQUE4QjtnQkFDOUIsSUFBSTtvQkFDRixNQUFNZSxXQUFXLElBQUlDLG9CQUFvQixDQUFDQzt3QkFDeEMsTUFBTUMsVUFBVUQsS0FBS0UsVUFBVTt3QkFDL0JELFFBQVFFLE9BQU8sQ0FBQyxDQUFDQzs0QkFDZixJQUFJQSxNQUFNQyxTQUFTLEtBQUssY0FBYztnQ0FDcEMsTUFBTUMsV0FBV0Y7Z0NBQ2pCekQsTUFBTWdDLHNCQUFzQixDQUFDLFFBQVEyQixTQUFTQyxhQUFhLEdBQUdELFNBQVNFLFlBQVk7Z0NBQ25GN0QsTUFBTWdDLHNCQUFzQixDQUFDLE9BQU8yQixTQUFTRyx3QkFBd0IsR0FBR0gsU0FBU0ksVUFBVTs0QkFDN0YsT0FBTyxJQUFJTixNQUFNQyxTQUFTLEtBQUssWUFBWTtnQ0FDekMsTUFBTU0sZ0JBQWdCUDtnQ0FDdEJ6RCxNQUFNdUMsb0JBQW9CLENBQUN5QixjQUFjbEYsSUFBSSxFQUFFa0YsY0FBY0MsUUFBUTs0QkFDdkU7d0JBQ0Y7b0JBQ0Y7b0JBRUFkLFNBQVNlLE9BQU8sQ0FBQzt3QkFBRUMsWUFBWTs0QkFBQzs0QkFBYzt5QkFBVztvQkFBQztnQkFDNUQsRUFBRSxPQUFPdkQsT0FBTztvQkFDZHdELFFBQVFDLElBQUksQ0FBQyx1Q0FBdUN6RDtnQkFDdEQ7WUFDRjtRQUNGO1FBRUEwRCxnQkFBZ0I7WUFDZHZFLElBQUksQ0FBQzZCO2dCQUNIQSxNQUFNbEIsWUFBWSxHQUFHO1lBQ3ZCO1FBQ0Y7UUFFQTZELGNBQWMsQ0FBQzVGLE1BQU13QyxRQUFRcUQ7WUFDM0J6RSxJQUFJLENBQUM2QjtnQkFDSCxJQUFJakQsU0FBUyxnQkFBZ0J3QyxVQUFVUyxNQUFNekIsVUFBVSxDQUFDQyxVQUFVLEVBQUU7b0JBQ2pFd0IsTUFBTXpCLFVBQVUsQ0FBQ0MsVUFBVSxBQUFRLENBQUNlLE9BQU8sR0FBR3FEO2dCQUNqRCxPQUFPLElBQUk3RixTQUFTLGNBQWN3QyxVQUFVUyxNQUFNekIsVUFBVSxDQUFDRSxRQUFRLEVBQUU7b0JBQ3BFdUIsTUFBTXpCLFVBQVUsQ0FBQ0UsUUFBUSxBQUFRLENBQUNjLE9BQU8sR0FBR3FEO2dCQUMvQyxPQUFPLElBQUk3RixTQUFTLFVBQVU7b0JBQzVCaUQsTUFBTXpCLFVBQVUsQ0FBQ00sTUFBTSxDQUFDVSxPQUFPLEdBQUdxRDtnQkFDcEM7WUFDRjtRQUNGO1FBRUF6QyxpQkFBaUI7WUFDZixNQUFNLEVBQUV4RCxPQUFPLEVBQUU0QixVQUFVLEVBQUUsR0FBR0g7WUFDaEMsTUFBTXlFLGdCQUFnQmxHLFFBQVF1RCxLQUFLLENBQUMsQ0FBQyxNQUFNLHlCQUF5QjtZQUVwRTJDLGNBQWNqQixPQUFPLENBQUMsQ0FBQ3JDO2dCQUNyQixJQUFJcUQsWUFBWTtnQkFFaEIsSUFBSXJELE9BQU94QyxJQUFJLEtBQUssZ0JBQWdCd0MsT0FBT3JDLElBQUksSUFBSXFCLFdBQVdDLFVBQVUsRUFBRTtvQkFDeEVvRSxZQUFZLEFBQUNyRSxXQUFXQyxVQUFVLEFBQVEsQ0FBQ2UsT0FBT3JDLElBQUksQ0FBQztnQkFDekQsT0FBTyxJQUFJcUMsT0FBT3hDLElBQUksS0FBSyxjQUFjd0MsT0FBT3JDLElBQUksSUFBSXFCLFdBQVdFLFFBQVEsRUFBRTtvQkFDM0VtRSxZQUFZLEFBQUNyRSxXQUFXRSxRQUFRLEFBQVEsQ0FBQ2MsT0FBT3JDLElBQUksQ0FBQztnQkFDdkQsT0FBTyxJQUFJcUMsT0FBT3hDLElBQUksS0FBSyxZQUFZd0MsT0FBT3JDLElBQUksSUFBSXFCLFdBQVdNLE1BQU0sRUFBRTtvQkFDdkUrRCxZQUFZckUsV0FBV00sTUFBTSxDQUFDVSxPQUFPckMsSUFBSSxDQUFDLElBQUk7Z0JBQ2hEO2dCQUVBLElBQUkwRixZQUFZLEtBQUtyRCxPQUFPcEMsS0FBSyxHQUFHeUYsV0FBVztvQkFDN0MsTUFBTUUsV0FBV3ZELE9BQU9wQyxLQUFLLEdBQUd5RixZQUFZLElBQUksU0FBU3JELE9BQU9wQyxLQUFLLEdBQUd5RixZQUFZLE1BQU0sV0FBVztvQkFFckd4RSxNQUFNMEMsV0FBVyxDQUFDO3dCQUNoQi9ELE1BQU07d0JBQ04rRjt3QkFDQXZELFFBQVFBLE9BQU9yQyxJQUFJO3dCQUNuQkMsT0FBT29DLE9BQU9wQyxLQUFLO3dCQUNuQnlGO3dCQUNBRyxTQUFTLENBQUMsRUFBRXhELE9BQU9yQyxJQUFJLENBQUMscUJBQXFCLEVBQUVxQyxPQUFPcEMsS0FBSyxDQUFDLEVBQUVvQyxPQUFPZSxJQUFJLENBQUMsR0FBRyxFQUFFc0MsVUFBVSxFQUFFckQsT0FBT2UsSUFBSSxDQUFDLENBQUM7b0JBQzFHO2dCQUNGO1lBQ0Y7UUFDRjtRQUVBLG9CQUFvQjtRQUNwQjBDLGdCQUFnQjtZQUNkLE1BQU0sRUFBRXJHLE9BQU8sRUFBRTBCLE1BQU0sRUFBRSxHQUFHRDtZQUM1QixNQUFNb0IsS0FBSyxDQUFDLE9BQU8sRUFBRUMsS0FBS0MsR0FBRyxHQUFHLENBQUM7WUFDakMsTUFBTSxFQUFFbEMsS0FBSyxFQUFFQyxLQUFLLEVBQUUsR0FBR2YsMEJBQTBCQztZQUNuRCxNQUFNa0Isa0JBQWtCRCx3QkFBd0JqQjtZQUVoRCxNQUFNc0csU0FBNEI7Z0JBQ2hDekQ7Z0JBQ0FPLFdBQVcsSUFBSU47Z0JBQ2ZjLEtBQUssT0FBT0MsV0FBVyxjQUFjQSxPQUFPQyxRQUFRLENBQUNDLElBQUksR0FBRztnQkFDNUQvRCxTQUFTO3VCQUFJQTtpQkFBUTtnQkFDckIwQixRQUFRQSxPQUFPeEIsTUFBTSxDQUFDa0UsQ0FBQUEsUUFBUyxDQUFDQSxNQUFNRSxRQUFRO2dCQUM5Q2lDLFNBQVM7b0JBQ1AxRjtvQkFDQUM7b0JBQ0FJO2dCQUNGO2dCQUNBc0YsY0FBYyxJQUFJMUQ7WUFDcEI7WUFFQXRCLElBQUksQ0FBQzZCO2dCQUNIQSxNQUFNMUIsT0FBTyxDQUFDUixJQUFJLENBQUNtRjtnQkFFbkIsNEJBQTRCO2dCQUM1QixJQUFJakQsTUFBTTFCLE9BQU8sQ0FBQzJCLE1BQU0sR0FBRyxJQUFJO29CQUM3QkQsTUFBTTFCLE9BQU8sR0FBRzBCLE1BQU0xQixPQUFPLENBQUM0QixLQUFLLENBQUMsQ0FBQztnQkFDdkM7WUFDRjtZQUVBLE9BQU8rQztRQUNUO1FBRUFHLGVBQWUsQ0FBQ0MsU0FBUyxNQUFNO1lBQzdCLE1BQU0sRUFBRTFHLE9BQU8sRUFBRSxHQUFHeUI7WUFFcEIsSUFBSWlGLFdBQVcsT0FBTztnQkFDcEIsTUFBTUMsVUFBVTtvQkFBQztvQkFBTTtvQkFBUTtvQkFBUTtvQkFBUztvQkFBUTtvQkFBYTtpQkFBTTtnQkFDM0UsTUFBTUMsT0FBTzVHLFFBQVE2RyxHQUFHLENBQUNqRSxDQUFBQSxTQUFVO3dCQUNqQ0EsT0FBT0MsRUFBRTt3QkFDVEQsT0FBT3hDLElBQUk7d0JBQ1h3QyxPQUFPckMsSUFBSTt3QkFDWHFDLE9BQU9wQyxLQUFLO3dCQUNab0MsT0FBT2UsSUFBSTt3QkFDWGYsT0FBT1EsU0FBUyxDQUFDMEQsV0FBVzt3QkFDNUJsRSxPQUFPZ0IsR0FBRztxQkFDWDtnQkFFRCxPQUFPO29CQUFDK0M7dUJBQVlDO2lCQUFLLENBQUNDLEdBQUcsQ0FBQ0UsQ0FBQUEsTUFBT0EsSUFBSUMsSUFBSSxDQUFDLE1BQU1BLElBQUksQ0FBQztZQUMzRDtZQUVBLE9BQU9DLEtBQUtDLFNBQVMsQ0FBQ2xILFNBQVMsTUFBTTtRQUN2QztRQUVBbUgsY0FBYyxDQUFDQyxVQUFVVixTQUFTLE1BQU07WUFDdEMsTUFBTSxFQUFFL0UsT0FBTyxFQUFFLEdBQUdGO1lBQ3BCLE1BQU02RSxTQUFTM0UsUUFBUXJCLElBQUksQ0FBQytHLENBQUFBLElBQUtBLEVBQUV4RSxFQUFFLEtBQUt1RTtZQUUxQyxJQUFJLENBQUNkLFFBQVE7Z0JBQ1gsTUFBTSxJQUFJZ0IsTUFBTSxDQUFDLE9BQU8sRUFBRUYsU0FBUyxVQUFVLENBQUM7WUFDaEQ7WUFFQSxJQUFJVixXQUFXLE9BQU87Z0JBQ3BCLE1BQU1DLFVBQVU7b0JBQUM7b0JBQVU7b0JBQVM7b0JBQVE7aUJBQVk7Z0JBQ3hELE1BQU1DLE9BQU9OLE9BQU90RyxPQUFPLENBQUM2RyxHQUFHLENBQUNqRSxDQUFBQSxTQUFVO3dCQUN4Q0EsT0FBT3JDLElBQUk7d0JBQ1hxQyxPQUFPcEMsS0FBSzt3QkFDWm9DLE9BQU9lLElBQUk7d0JBQ1hmLE9BQU9RLFNBQVMsQ0FBQzBELFdBQVc7cUJBQzdCO2dCQUVELE9BQU87b0JBQUNIO3VCQUFZQztpQkFBSyxDQUFDQyxHQUFHLENBQUNFLENBQUFBLE1BQU9BLElBQUlDLElBQUksQ0FBQyxNQUFNQSxJQUFJLENBQUM7WUFDM0Q7WUFFQSxPQUFPQyxLQUFLQyxTQUFTLENBQUNaLFFBQVEsTUFBTTtRQUN0QztRQUVBLGlDQUFpQztRQUNqQ2lCLG9CQUFvQixDQUFDdkg7WUFDbkJ3QixJQUFJLENBQUM2QjtnQkFDSEEsTUFBTWYsZUFBZSxHQUFHdEM7WUFDMUI7UUFDRjtRQUVBd0gsZUFBZSxDQUFDQztZQUNkakcsSUFBSSxDQUFDNkI7Z0JBQ0hBLE1BQU1kLFVBQVUsR0FBR2tGO1lBQ3JCO1FBQ0Y7UUFFQUMsZ0JBQWdCLENBQUNDO1lBQ2ZuRyxJQUFJLENBQUM2QjtnQkFDSEEsTUFBTWIsV0FBVyxHQUFHbUY7WUFDdEI7UUFDRjtRQUVBQyxnQkFBZ0IsQ0FBQ0M7WUFDZnJHLElBQUksQ0FBQzZCO2dCQUNIQSxNQUFNWixXQUFXLEdBQUdvRjtZQUN0QjtRQUNGO1FBRUFDLG9CQUFvQixDQUFDQztZQUNuQnZHLElBQUksQ0FBQzZCO2dCQUNIQSxNQUFNWCxlQUFlLEdBQUdxRjtZQUMxQjtRQUNGO1FBRUFDLHlCQUF5QjtZQUN2QixNQUFNLEVBQUVDLFVBQVUsRUFBRUMsUUFBUSxFQUFFUixjQUFjLEVBQUVILGtCQUFrQixFQUFFQyxhQUFhLEVBQUUsR0FBRy9GO1lBRXBGLElBQUk7Z0JBQ0Z3RyxXQUFXO2dCQUNYQyxTQUFTO2dCQUVULG1EQUFtRDtnQkFDbkQsTUFBTUMsV0FBVyxNQUFNLG1FQUFBLFFBQU8saUNBQTJCQyxJQUFJLENBQUNqSSxDQUFBQSxJQUFLQSxFQUFFa0ksaUJBQWlCO2dCQUN0RixJQUFJLENBQUNGLFVBQVU7b0JBQ2IsTUFBTSxJQUFJYixNQUFNO2dCQUNsQjtnQkFFQSwwREFBMEQ7Z0JBQzFELE1BQU0sRUFBRWdCLE1BQU1DLFdBQVcsRUFBRWxHLE9BQU9tRyxZQUFZLEVBQUUsR0FBRyxNQUFNTCxTQUN0RE0sSUFBSSxDQUFDLHVCQUNMQyxNQUFNLENBQUMsS0FDUEMsR0FBRyxDQUFDLGFBQWEsSUFBSTdGLEtBQUtBLEtBQUtDLEdBQUcsS0FBSyxLQUFLLEtBQUssS0FBSyxNQUFNK0QsV0FBVyxJQUN2RThCLEtBQUssQ0FBQyxhQUFhO29CQUFFQyxXQUFXO2dCQUFNO2dCQUV6QyxJQUFJTCxjQUFjO29CQUNoQixNQUFNLElBQUlsQixNQUFNLENBQUMsa0NBQWtDLEVBQUVrQixhQUFhcEMsT0FBTyxDQUFDLENBQUM7Z0JBQzdFO2dCQUVBLHNFQUFzRTtnQkFDdEUsTUFBTTlELGtCQUErQ2lHLGFBQWExQixJQUFJakUsQ0FBQUEsU0FBVyxDQUFBO3dCQUMvRWtHLFlBQVlsRyxPQUFPbUcsV0FBVzt3QkFDOUJDLFVBQVVwRyxPQUFPcUcsU0FBUzt3QkFDMUJDLFVBQVV0RyxPQUFPdUcsU0FBUzt3QkFDMUJDLFVBQVV4RyxPQUFPeUcsU0FBUzt3QkFDMUJDLG1CQUFtQjFHLE9BQU8yRyxrQkFBa0I7d0JBQzVDbkcsV0FBVyxJQUFJTixLQUFLRixPQUFPUSxTQUFTO29CQUN0QyxDQUFBLE1BQU8sRUFBRTtnQkFFVCx1QkFBdUI7Z0JBQ3ZCLE1BQU0sRUFBRWtGLE1BQU1rQixTQUFTLEVBQUVuSCxPQUFPb0gsVUFBVSxFQUFFLEdBQUcsTUFBTXRCLFNBQ2xETSxJQUFJLENBQUMsZUFDTEMsTUFBTSxDQUFDLEtBQ1BFLEtBQUssQ0FBQyxhQUFhO29CQUFFQyxXQUFXO2dCQUFNLEdBQ3RDYSxLQUFLLENBQUMsR0FDTkMsTUFBTTtnQkFFVCxJQUFJRixjQUFjQSxXQUFXRyxJQUFJLEtBQUssWUFBWTtvQkFDaEQsTUFBTSxJQUFJdEMsTUFBTSxDQUFDLDZCQUE2QixFQUFFbUMsV0FBV3JELE9BQU8sQ0FBQyxDQUFDO2dCQUN0RTtnQkFFQSxxREFBcUQ7Z0JBQ3JELE1BQU03RCxhQUF5QmlILFlBQVk7b0JBQ3pDeEgsTUFBTXdILFVBQVV4SCxJQUFJLElBQUk7b0JBQ3hCNkgsTUFBTUwsVUFBVUssSUFBSSxJQUFJLEVBQUU7b0JBQzFCQyxhQUFhTixVQUFVTyxZQUFZLElBQUk7b0JBQ3ZDQyxTQUFTUixVQUFVUyxRQUFRLElBQUk7Z0JBQ2pDLElBQUk7b0JBQ0ZqSSxNQUFNO29CQUNONkgsTUFBTSxFQUFFO29CQUNSQyxhQUFhO29CQUNiRSxTQUFTO2dCQUNYO2dCQUVBekMsbUJBQW1CakY7Z0JBQ25Ca0YsY0FBY2pGO2dCQUNkbUYsZUFBZSxJQUFJNUU7WUFFckIsRUFBRSxPQUFPVCxPQUFPO2dCQUNkLE1BQU02SCxlQUFlN0gsaUJBQWlCaUYsUUFBUWpGLE1BQU0rRCxPQUFPLEdBQUc7Z0JBQzlEOEIsU0FBU2dDO1lBQ1gsU0FBVTtnQkFDUmpDLFdBQVc7WUFDYjtRQUNGO1FBRUFrQywwQkFBMEI7WUFDeEIsTUFBTSxFQUFFbEMsVUFBVSxFQUFFQyxRQUFRLEVBQUVGLHVCQUF1QixFQUFFLEdBQUd2RztZQUUxRCxJQUFJO2dCQUNGd0csV0FBVztnQkFDWEMsU0FBUztnQkFFVCw0REFBNEQ7Z0JBQzVELE1BQU1rQyxXQUFXLE1BQU1DLE1BQU0seUNBQXlDO29CQUNwRUMsUUFBUTtvQkFDUjNELFNBQVM7d0JBQUUsZ0JBQWdCO29CQUFtQjtnQkFDaEQ7Z0JBRUEsSUFBSSxDQUFDeUQsU0FBU0csRUFBRSxFQUFFO29CQUNoQixNQUFNLElBQUlqRCxNQUFNLENBQUMsc0NBQXNDLEVBQUU4QyxTQUFTSSxVQUFVLENBQUMsQ0FBQztnQkFDaEY7Z0JBRUEsd0NBQXdDO2dCQUN4QyxNQUFNeEM7WUFFUixFQUFFLE9BQU8zRixPQUFPO2dCQUNkLE1BQU02SCxlQUFlN0gsaUJBQWlCaUYsUUFBUWpGLE1BQU0rRCxPQUFPLEdBQUc7Z0JBQzlEOEIsU0FBU2dDO1lBQ1gsU0FBVTtnQkFDUmpDLFdBQVc7WUFDYjtRQUNGO1FBRUF3Qyw0QkFBNEI7WUFDMUIsTUFBTSxFQUFFeEMsVUFBVSxFQUFFQyxRQUFRLEVBQUVGLHVCQUF1QixFQUFFLEdBQUd2RztZQUUxRCxJQUFJO2dCQUNGd0csV0FBVztnQkFDWEMsU0FBUztnQkFFVCw4REFBOEQ7Z0JBQzlELE1BQU1rQyxXQUFXLE1BQU1DLE1BQU0sMkNBQTJDO29CQUN0RUMsUUFBUTtvQkFDUjNELFNBQVM7d0JBQUUsZ0JBQWdCO29CQUFtQjtnQkFDaEQ7Z0JBRUEsSUFBSSxDQUFDeUQsU0FBU0csRUFBRSxFQUFFO29CQUNoQixNQUFNLElBQUlqRCxNQUFNLENBQUMsd0NBQXdDLEVBQUU4QyxTQUFTSSxVQUFVLENBQUMsQ0FBQztnQkFDbEY7Z0JBRUEsNENBQTRDO2dCQUM1QyxNQUFNeEM7WUFFUixFQUFFLE9BQU8zRixPQUFPO2dCQUNkLE1BQU02SCxlQUFlN0gsaUJBQWlCaUYsUUFBUWpGLE1BQU0rRCxPQUFPLEdBQUc7Z0JBQzlEOEIsU0FBU2dDO1lBQ1gsU0FBVTtnQkFDUmpDLFdBQVc7WUFDYjtRQUNGO1FBRUEsNEJBQTRCO1FBQzVCQSxZQUFZLENBQUN5QztZQUNYbEosSUFBSSxDQUFDNkI7Z0JBQ0hBLE1BQU1qQixTQUFTLEdBQUdzSTtZQUNwQjtRQUNGO1FBRUF4QyxVQUFVLENBQUM3RjtZQUNUYixJQUFJLENBQUM2QjtnQkFDSEEsTUFBTWhCLEtBQUssR0FBR0E7WUFDaEI7UUFDRjtRQUVBc0ksWUFBWTtZQUNWbkosSUFBSSxDQUFDNkI7Z0JBQ0hBLE1BQU1oQixLQUFLLEdBQUc7WUFDaEI7UUFDRjtRQUVBLGlCQUFpQjtRQUNqQnVJLFlBQVk7WUFDVnBKLElBQUksQ0FBQzZCO2dCQUNIQSxNQUFNakIsU0FBUyxHQUFHO2dCQUNsQmlCLE1BQU1oQixLQUFLLEdBQUc7WUFDaEI7WUFFQSxJQUFJO2dCQUNGLGlDQUFpQztnQkFDakMsSUFBSSxPQUFPd0IsV0FBVyxhQUFhO29CQUNqQ3BDLE1BQU1rRCxlQUFlO2dCQUN2QjtnQkFFQW5ELElBQUksQ0FBQzZCO29CQUNIQSxNQUFNakIsU0FBUyxHQUFHO2dCQUNwQjtZQUVGLEVBQUUsT0FBT0MsT0FBTztnQkFDZGIsSUFBSSxDQUFDNkI7b0JBQ0hBLE1BQU1oQixLQUFLLEdBQUdBLGlCQUFpQmlGLFFBQVFqRixNQUFNK0QsT0FBTyxHQUFHO29CQUN2RC9DLE1BQU1qQixTQUFTLEdBQUc7Z0JBQ3BCO1lBQ0Y7UUFDRjtJQUNGLENBQUEsSUFDQTtJQUNFN0IsTUFBTTtJQUNOc0ssWUFBWSxDQUFDeEgsUUFBVyxDQUFBO1lBQ3RCekIsWUFBWXlCLE1BQU16QixVQUFVO1lBQzVCTyxjQUFja0IsTUFBTWxCLFlBQVk7UUFDbEMsQ0FBQTtBQUNGLElBRUY7SUFBRTVCLE1BQU07QUFBb0I7QUFRekIsTUFBTXRCLGlCQUFpQixJQUFNUztBQUc3QixNQUFNSix3QkFBd0IsSUFBTUksb0JBQW9CMkQsQ0FBQUEsUUFBU0EsTUFBTXJELE9BQU87QUFDOUUsTUFBTWpCLHVCQUF1QixJQUFNVyxvQkFBb0IyRCxDQUFBQSxRQUM1REEsTUFBTXJELE9BQU8sQ0FBQ0UsTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxJQUFJLEtBQUs7QUFFaEMsTUFBTVAscUJBQXFCLElBQU1ILG9CQUFvQjJELENBQUFBLFFBQzFEQSxNQUFNckQsT0FBTyxDQUFDRSxNQUFNLENBQUNDLENBQUFBLElBQUtBLEVBQUVDLElBQUksS0FBSztBQUVoQyxNQUFNM0IsbUJBQW1CLElBQU1pQixvQkFBb0IyRCxDQUFBQSxRQUN4REEsTUFBTXJELE9BQU8sQ0FBQ0UsTUFBTSxDQUFDQyxDQUFBQSxJQUFLQSxFQUFFQyxJQUFJLEtBQUs7QUFJaEMsTUFBTWpCLHVCQUF1QixJQUFNTyxvQkFBb0IyRCxDQUFBQSxRQUFTQSxNQUFNM0IsTUFBTTtBQUM1RSxNQUFNckQsa0JBQWtCLElBQU1xQixvQkFBb0IyRCxDQUFBQSxRQUN2REEsTUFBTTNCLE1BQU0sQ0FBQ3hCLE1BQU0sQ0FBQ3NFLENBQUFBLElBQUssQ0FBQ0EsRUFBRUYsUUFBUTtBQUUvQixNQUFNaEcsc0JBQXNCLENBQUM2SCxXQUNsQ3pHLG9CQUFvQjJELENBQUFBLFFBQ2xCQSxNQUFNM0IsTUFBTSxDQUFDeEIsTUFBTSxDQUFDc0UsQ0FBQUEsSUFBS0EsRUFBRTJCLFFBQVEsS0FBS0EsWUFBWSxDQUFDM0IsRUFBRUYsUUFBUTtBQUk1RCxNQUFNOUUsd0JBQXdCLElBQU1FLG9CQUFvQjJELENBQUFBLFFBQVNBLE1BQU0xQixPQUFPO0FBQzlFLE1BQU03QyxrQkFBa0IsSUFBTVksb0JBQW9CMkQsQ0FBQUEsUUFDdkRBLE1BQU0xQixPQUFPLENBQUMwQixNQUFNMUIsT0FBTyxDQUFDMkIsTUFBTSxHQUFHLEVBQUU7QUFJbEMsTUFBTTNELDJCQUEyQixJQUFNRCxvQkFBb0IyRCxDQUFBQSxRQUFTQSxNQUFNekIsVUFBVTtBQUNwRixNQUFNNUMsMEJBQTBCLElBQU1VLG9CQUFvQjJELENBQUFBLFFBQVNBLE1BQU16QixVQUFVLENBQUNDLFVBQVU7QUFDOUYsTUFBTS9CLHdCQUF3QixJQUFNSixvQkFBb0IyRCxDQUFBQSxRQUFTQSxNQUFNekIsVUFBVSxDQUFDRSxRQUFRO0FBQzFGLE1BQU1wRCxzQkFBc0IsSUFBTWdCLG9CQUFvQjJELENBQUFBLFFBQVNBLE1BQU16QixVQUFVLENBQUNNLE1BQU07QUFHdEYsTUFBTXRELGtCQUFrQixJQUFNYyxvQkFBb0IyRCxDQUFBQSxRQUFTQSxNQUFNbEIsWUFBWTtBQUM3RSxNQUFNOUMsd0JBQXdCLElBQU1LLG9CQUFvQjJELENBQUFBLFFBQVNBLE1BQU1qQixTQUFTO0FBQ2hGLE1BQU1oRCxzQkFBc0IsSUFBTU0sb0JBQW9CMkQsQ0FBQUEsUUFBU0EsTUFBTWhCLEtBQUs7QUFHMUUsTUFBTTFELHFCQUFxQixJQUFNZSxvQkFBb0IyRCxDQUFBQSxRQUFTQSxNQUFNZixlQUFlO0FBQ25GLE1BQU05RCxnQkFBZ0IsSUFBTWtCLG9CQUFvQjJELENBQUFBLFFBQVNBLE1BQU1kLFVBQVU7QUFDekUsTUFBTTFELGlCQUFpQixJQUFNYSxvQkFBb0IyRCxDQUFBQSxRQUFTQSxNQUFNYixXQUFXO0FBQzNFLE1BQU1qRSxpQkFBaUIsSUFBTW1CLG9CQUFvQjJELENBQUFBLFFBQVNBLE1BQU1aLFdBQVc7QUFDM0UsTUFBTTdDLHFCQUFxQixJQUFNRixvQkFBb0IyRCxDQUFBQSxRQUFTQSxNQUFNWCxlQUFlO0FBTW5GLE1BQU14RCx3QkFBd0IsSUFBTVEsb0JBQW9CMkQsQ0FBQUEsUUFBVSxDQUFBO1lBQ3ZFVixjQUFjVSxNQUFNVixZQUFZO1lBQ2hDYyx3QkFBd0JKLE1BQU1JLHNCQUFzQjtZQUNwRE8sc0JBQXNCWCxNQUFNVyxvQkFBb0I7WUFDaERDLG9CQUFvQlosTUFBTVksa0JBQWtCO1lBQzVDQyxjQUFjYixNQUFNYSxZQUFZO1lBQ2hDQyxhQUFhZCxNQUFNYyxXQUFXO1lBQzlCSSxjQUFjbEIsTUFBTWtCLFlBQVk7WUFDaENFLGFBQWFwQixNQUFNb0IsV0FBVztZQUM5QkMscUJBQXFCckIsTUFBTXFCLG1CQUFtQjtZQUM5Q0MsaUJBQWlCdEIsTUFBTXNCLGVBQWU7WUFDdENvQixnQkFBZ0IxQyxNQUFNMEMsY0FBYztZQUNwQ0MsY0FBYzNDLE1BQU0yQyxZQUFZO1lBQ2hDeEMsaUJBQWlCSCxNQUFNRyxlQUFlO1lBQ3RDNkMsZ0JBQWdCaEQsTUFBTWdELGNBQWM7WUFDcENJLGVBQWVwRCxNQUFNb0QsYUFBYTtZQUNsQ1UsY0FBYzlELE1BQU04RCxZQUFZO1lBQ2hDYyxZQUFZNUUsTUFBTTRFLFVBQVU7WUFDNUJDLFVBQVU3RSxNQUFNNkUsUUFBUTtZQUN4QnlDLFlBQVl0SCxNQUFNc0gsVUFBVTtZQUM1QkMsWUFBWXZILE1BQU11SCxVQUFVO1lBQzVCLCtCQUErQjtZQUMvQnJELG9CQUFvQmxFLE1BQU1rRSxrQkFBa0I7WUFDNUNDLGVBQWVuRSxNQUFNbUUsYUFBYTtZQUNsQ0UsZ0JBQWdCckUsTUFBTXFFLGNBQWM7WUFDcENFLGdCQUFnQnZFLE1BQU11RSxjQUFjO1lBQ3BDRSxvQkFBb0J6RSxNQUFNeUUsa0JBQWtCO1lBQzVDRSx5QkFBeUIzRSxNQUFNMkUsdUJBQXVCO1lBQ3REbUMsMEJBQTBCOUcsTUFBTThHLHdCQUF3QjtZQUN4RE0sNEJBQTRCcEgsTUFBTW9ILDBCQUEwQjtRQUM5RCxDQUFBO0FBTU8sTUFBTWhMLHNCQUFzQjtJQUNqQyxNQUFNTyxVQUFVakI7SUFDaEIsT0FBT2dCLDBCQUEwQkM7QUFDbkM7QUFFTyxNQUFNVCxnQ0FBZ0M7SUFDM0MsTUFBTVMsVUFBVVY7SUFDaEIsT0FBTzJCLHdCQUF3QmpCO0FBQ2pDIn0=