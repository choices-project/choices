980753ff62e5c5bfe1aeb1ca391bdf64
// Balanced Onboarding Flow
// 5 essential steps: Welcome, Privacy, Demographics, Auth, Complete
// Created: October 2, 2025
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _navigation = require("next/navigation");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _FeatureWrapper = require("../../../components/shared/FeatureWrapper");
const _PasskeyRegister = require("../../auth/components/PasskeyRegister");
const _stores = require("../../../lib/stores");
const _objects = require("../../../lib/utils/objects");
const _client = require("../../../utils/supabase/client");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Step 1: Welcome & Value Proposition (30 seconds)
const WelcomeStep = ({ onNext, onSkip })=>{
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "max-w-2xl mx-auto text-center p-8",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                            className: "text-5xl font-bold text-gray-900 mb-6",
                            children: "Welcome to Choices"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-xl text-gray-600 mb-8",
                            children: "Make informed decisions with transparent, data-driven insights"
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "text-4xl mb-4",
                                    children: "\uD83D\uDDF3️"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                    className: "text-lg font-semibold text-gray-900 mb-2",
                                    children: "Vote on Issues"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-gray-600 text-sm",
                                    children: "Participate in polls on topics that matter to you"
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "text-4xl mb-4",
                                    children: "\uD83C\uDFDB️"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                    className: "text-lg font-semibold text-gray-900 mb-2",
                                    children: "Track Representatives"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-gray-600 text-sm",
                                    children: "See how your elected officials vote and fundraise"
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "text-4xl mb-4",
                                    children: "\uD83D\uDCCA"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                    className: "text-lg font-semibold text-gray-900 mb-2",
                                    children: "Campaign Finance"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-gray-600 text-sm",
                                    children: "Understand who funds political campaigns"
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "bg-blue-50 rounded-lg p-4 mb-8",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-blue-800 font-medium",
                        children: "⏱️ This will take about 3 minutes to get you started"
                    })
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "space-y-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onNext,
                            "data-testid": "welcome-next",
                            className: "w-full bg-blue-600 text-white py-4 px-8 rounded-lg font-semibold text-lg hover:bg-blue-700 transition-colors",
                            children: "Get Started"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onSkip,
                            className: "w-full text-gray-500 hover:text-gray-700 transition-colors",
                            children: "I'm a returning user"
                        })
                    ]
                })
            ]
        })
    });
};
// Step 2: Data Safety & Privacy Philosophy (45 seconds)
const PrivacyStep = ({ onNext, onBack, privacy, setPrivacy })=>{
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "max-w-2xl mx-auto p-8",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "text-center mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                            className: "text-4xl font-bold text-gray-900 mb-4",
                            children: "Your Privacy Matters"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-xl text-gray-600",
                            children: "We believe in transparency and data protection"
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "space-y-6 mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-start space-x-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "text-3xl",
                                        children: "\uD83D\uDD12"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                                className: "text-lg font-semibold text-gray-900 mb-2",
                                                children: "Location Data"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                className: "text-gray-600",
                                                children: "We only need your state/district to find your representatives. We never store your exact address."
                                            })
                                        ]
                                    })
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-start space-x-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "text-3xl",
                                        children: "\uD83D\uDCCA"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                                className: "text-lg font-semibold text-gray-900 mb-2",
                                                children: "Demographics"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                className: "text-gray-600",
                                                children: "Age and education help us show you relevant polls and match you with similar voters."
                                            })
                                        ]
                                    })
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-start space-x-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "text-3xl",
                                        children: "\uD83D\uDEE1️"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                                className: "text-lg font-semibold text-gray-900 mb-2",
                                                children: "Data Protection"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                className: "text-gray-600",
                                                children: "All data is encrypted, anonymized, and never sold. You can delete your data anytime."
                                            })
                                        ]
                                    })
                                ]
                            })
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "bg-gray-50 rounded-lg p-6 mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                            className: "text-lg font-semibold text-gray-900 mb-4",
                            children: "Your Privacy Controls"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                    className: "flex items-center space-x-3",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            type: "checkbox",
                                            checked: privacy.location_sharing === "quantized",
                                            onChange: (e)=>setPrivacy((0, _objects.withOptional)(privacy, {
                                                    location_sharing: e.target.checked ? "quantized" : "disabled"
                                                })),
                                            className: "w-5 h-5 text-blue-600 rounded"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-gray-700",
                                            children: "Allow location sharing (quantized to state level)"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                    className: "flex items-center space-x-3",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            type: "checkbox",
                                            checked: privacy.demographic_sharing === "enabled",
                                            onChange: (e)=>setPrivacy((0, _objects.withOptional)(privacy, {
                                                    demographic_sharing: e.target.checked ? "enabled" : "disabled"
                                                })),
                                            className: "w-5 h-5 text-blue-600 rounded"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-gray-700",
                                            children: "Share demographics for better experience"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                    className: "flex items-center space-x-3",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            type: "checkbox",
                                            checked: privacy.analytics_sharing === "enabled",
                                            onChange: (e)=>setPrivacy((0, _objects.withOptional)(privacy, {
                                                    analytics_sharing: e.target.checked ? "enabled" : "limited"
                                                })),
                                            className: "w-5 h-5 text-blue-600 rounded"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-gray-700",
                                            children: "Share analytics to improve the platform"
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex justify-between",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onBack,
                            className: "text-gray-500 hover:text-gray-700 transition-colors",
                            children: "← Back"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onNext,
                            "data-testid": "privacy-next",
                            className: "bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",
                            children: "Continue"
                        })
                    ]
                })
            ]
        })
    });
};
// Step 3: Location & Demographics (60 seconds)
const DemographicsStep = ({ onNext, onBack, onSkip, demographics, setDemographics })=>{
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "max-w-2xl mx-auto p-8",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "text-center mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                            className: "text-4xl font-bold text-gray-900 mb-4",
                            children: "Help Us Personalize Your Experience"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-xl text-gray-600",
                            children: "This information helps us show you relevant content"
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "space-y-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("h3", {
                                    className: "text-lg font-semibold text-gray-900 mb-4 flex items-center",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-2xl mr-3",
                                            children: "\uD83D\uDCCD"
                                        }),
                                        "Location"
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-gray-600 mb-4",
                                    children: "We need this to find your representatives"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                    className: "block text-sm font-medium text-gray-700 mb-2",
                                                    children: "State"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                                    value: demographics.location.state,
                                                    onChange: (e)=>setDemographics((0, _objects.withOptional)(demographics, {
                                                            location: (0, _objects.withOptional)(demographics.location, {
                                                                state: e.target.value
                                                            })
                                                        })),
                                                    className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "",
                                                            children: "Select your state"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "AL",
                                                            children: "Alabama"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "AK",
                                                            children: "Alaska"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "AZ",
                                                            children: "Arizona"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "AR",
                                                            children: "Arkansas"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "CA",
                                                            children: "California"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "CO",
                                                            children: "Colorado"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "CT",
                                                            children: "Connecticut"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "DE",
                                                            children: "Delaware"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "FL",
                                                            children: "Florida"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "GA",
                                                            children: "Georgia"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "HI",
                                                            children: "Hawaii"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "ID",
                                                            children: "Idaho"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "IL",
                                                            children: "Illinois"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "IN",
                                                            children: "Indiana"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "IA",
                                                            children: "Iowa"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "KS",
                                                            children: "Kansas"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "KY",
                                                            children: "Kentucky"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "LA",
                                                            children: "Louisiana"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "ME",
                                                            children: "Maine"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MD",
                                                            children: "Maryland"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MA",
                                                            children: "Massachusetts"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MI",
                                                            children: "Michigan"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MN",
                                                            children: "Minnesota"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MS",
                                                            children: "Mississippi"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MO",
                                                            children: "Missouri"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MT",
                                                            children: "Montana"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NE",
                                                            children: "Nebraska"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NV",
                                                            children: "Nevada"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NH",
                                                            children: "New Hampshire"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NJ",
                                                            children: "New Jersey"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NM",
                                                            children: "New Mexico"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NY",
                                                            children: "New York"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NC",
                                                            children: "North Carolina"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "ND",
                                                            children: "North Dakota"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "OH",
                                                            children: "Ohio"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "OK",
                                                            children: "Oklahoma"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "OR",
                                                            children: "Oregon"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "PA",
                                                            children: "Pennsylvania"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "RI",
                                                            children: "Rhode Island"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "SC",
                                                            children: "South Carolina"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "SD",
                                                            children: "South Dakota"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "TN",
                                                            children: "Tennessee"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "TX",
                                                            children: "Texas"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "UT",
                                                            children: "Utah"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "VT",
                                                            children: "Vermont"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "VA",
                                                            children: "Virginia"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "WA",
                                                            children: "Washington"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "WV",
                                                            children: "West Virginia"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "WI",
                                                            children: "Wisconsin"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "WY",
                                                            children: "Wyoming"
                                                        })
                                                    ]
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                    className: "block text-sm font-medium text-gray-700 mb-2",
                                                    children: "District (Optional)"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                    type: "text",
                                                    value: demographics.location.district || "",
                                                    onChange: (e)=>setDemographics((0, _objects.withOptional)(demographics, {
                                                            location: (0, _objects.withOptional)(demographics.location, {
                                                                district: e.target.value
                                                            })
                                                        })),
                                                    placeholder: "Enter your congressional district",
                                                    className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-sm text-gray-500 mt-2",
                                    children: "We only store your state and district, not your exact address"
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("h3", {
                                    className: "text-lg font-semibold text-gray-900 mb-4 flex items-center",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-2xl mr-3",
                                            children: "\uD83D\uDC64"
                                        }),
                                        "Demographics"
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-gray-600 mb-4",
                                    children: "This helps us show you relevant polls and match you with similar voters"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                    className: "block text-sm font-medium text-gray-700 mb-2",
                                                    children: "Age Range"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                                    value: demographics.age_range,
                                                    onChange: (e)=>setDemographics((0, _objects.withOptional)(demographics, {
                                                            age_range: e.target.value
                                                        })),
                                                    className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "",
                                                            children: "Select age range"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "18-24",
                                                            children: "18-24"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "25-34",
                                                            children: "25-34"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "35-44",
                                                            children: "35-44"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "45-54",
                                                            children: "45-54"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "55-64",
                                                            children: "55-64"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "65+",
                                                            children: "65+"
                                                        })
                                                    ]
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                    className: "block text-sm font-medium text-gray-700 mb-2",
                                                    children: "Education Level"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                                    value: demographics.education,
                                                    onChange: (e)=>setDemographics((0, _objects.withOptional)(demographics, {
                                                            education: e.target.value
                                                        })),
                                                    className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "",
                                                            children: "Select education"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "high_school",
                                                            children: "High School"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "some_college",
                                                            children: "Some College"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "bachelor",
                                                            children: "Bachelor's Degree"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "graduate",
                                                            children: "Graduate Degree"
                                                        })
                                                    ]
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                    className: "block text-sm font-medium text-gray-700 mb-2",
                                                    children: "Political Engagement"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                                    value: demographics.political_engagement,
                                                    onChange: (e)=>setDemographics((0, _objects.withOptional)(demographics, {
                                                            political_engagement: e.target.value
                                                        })),
                                                    className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "",
                                                            children: "Select engagement"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "casual",
                                                            children: "Casual (vote occasionally)"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "moderate",
                                                            children: "Moderate (follow politics)"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "very_engaged",
                                                            children: "Very Engaged (very active)"
                                                        })
                                                    ]
                                                })
                                            ]
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex justify-between items-center mt-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onBack,
                            className: "text-gray-500 hover:text-gray-700 transition-colors",
                            children: "← Back"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex space-x-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                    onClick: onSkip,
                                    className: "text-gray-500 hover:text-gray-700 transition-colors",
                                    children: "Skip for now"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                    onClick: onNext,
                                    "data-testid": "profile-next",
                                    className: "bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",
                                    children: "Continue"
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    className: "text-sm text-gray-500 text-center mt-4",
                    children: "You can always add this information later"
                })
            ]
        })
    });
};
// Step 4: Authentication Setup (45 seconds)
const AuthStep = ({ onNext, onBack, onSkip, error, isLoading })=>{
    const [authMethod, setAuthMethod] = (0, _react.useState)(null);
    const [success, setSuccess] = (0, _react.useState)(false);
    const handleAuthMethodSelect = (method)=>{
        setAuthMethod(method);
        // Error is managed by the store
        setSuccess(false);
    };
    const handlePasskeySuccess = ()=>{
        setSuccess(true);
        setTimeout(()=>{
            onNext();
        }, 1000);
    };
    const handlePasskeyError = (error)=>{
        // Error is managed by the store
        console.error("Passkey error:", error);
    };
    const handleEmailAuth = async ()=>{
        try {
            // Redirect to registration page for email auth
            const { safeNavigate } = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../../lib/utils/ssr-safe")));
            safeNavigate("/register");
        } catch  {
            console.error("Failed to redirect to registration");
        }
    };
    const handleGoogleAuth = async ()=>{
        try {
            // Redirect to Google OAuth
            const { safeNavigate } = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../../lib/utils/ssr-safe")));
            safeNavigate("/auth/google");
        } catch  {
            console.error("Failed to redirect to Google authentication");
        }
    };
    // If user has selected a method, show the appropriate interface
    if (authMethod === "passkey") {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "max-w-2xl mx-auto p-8",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "text-center mb-8",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                                className: "text-4xl font-bold text-gray-900 mb-4",
                                children: "Set Up Your Passkey"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-xl text-gray-600",
                                children: "Create a secure, passwordless way to sign in"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "bg-white rounded-lg p-6 shadow-sm mb-8",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "text-center mb-6",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-3xl",
                                            children: "\uD83D\uDD10"
                                        })
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                        className: "text-lg font-semibold text-gray-900 mb-2",
                                        children: "Why Passkeys?"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("ul", {
                                        className: "text-gray-600 space-y-2 text-left",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Use your fingerprint, face, or device PIN"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• No passwords to remember or type"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Works across all your devices"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Maximum security with privacy"
                                            })
                                        ]
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_FeatureWrapper.FeatureWrapper, {
                                feature: "WEBAUTHN",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    "data-testid": "onboarding-passkey-setup",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PasskeyRegister.PasskeyRegister, {
                                        onSuccess: handlePasskeySuccess,
                                        onError: handlePasskeyError,
                                        className: "w-full"
                                    })
                                })
                            }),
                            error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "flex items-center gap-2 text-red-800",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-sm",
                                        children: error
                                    })
                                })
                            }),
                            success && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "flex items-center gap-2 text-green-800",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-sm",
                                        children: "✅ Passkey created successfully!"
                                    })
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex justify-between items-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: ()=>setAuthMethod(null),
                                className: "text-gray-500 hover:text-gray-700 transition-colors",
                                children: "← Back to options"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "flex space-x-4",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                    onClick: onSkip,
                                    className: "text-gray-500 hover:text-gray-700 transition-colors",
                                    children: "Skip for now"
                                })
                            })
                        ]
                    })
                ]
            })
        });
    }
    // Main authentication method selection
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "max-w-2xl mx-auto p-8",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "text-center mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                            className: "text-4xl font-bold text-gray-900 mb-4",
                            children: "Create Your Account"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-xl text-gray-600",
                            children: "Choose how you'd like to sign in"
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "space-y-4 mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_FeatureWrapper.FeatureWrapper, {
                            feature: "WEBAUTHN",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                onClick: ()=>handleAuthMethodSelect("passkey"),
                                disabled: isLoading,
                                "data-testid": "auth-passkey-option",
                                className: "w-full flex items-center space-x-4 p-6 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors disabled:opacity-50",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-3xl",
                                        children: "\uD83D\uDD10"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "text-left",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "text-lg font-semibold",
                                                children: "Passkey (Recommended)"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "text-gray-500",
                                                children: "Passwordless and secure"
                                            })
                                        ]
                                    })
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                            onClick: handleEmailAuth,
                            disabled: isLoading,
                            "data-testid": "auth-email-option",
                            className: "w-full flex items-center space-x-4 p-6 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors disabled:opacity-50",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    className: "text-3xl",
                                    children: "\uD83D\uDCE7"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-left",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-lg font-semibold",
                                            children: "Email & Password"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-gray-500",
                                            children: "Simple and secure"
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                            onClick: handleGoogleAuth,
                            disabled: isLoading,
                            "data-testid": "auth-google-option",
                            className: "w-full flex items-center space-x-4 p-6 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors disabled:opacity-50",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    className: "text-3xl",
                                    children: "\uD83D\uDCF1"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-left",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-lg font-semibold",
                                            children: "Continue with Google"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-gray-500",
                                            children: "Quick and easy"
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "bg-gray-50 rounded-lg p-6 mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                            className: "text-lg font-semibold text-gray-900 mb-2",
                            children: "Why do we need authentication?"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("ul", {
                            className: "text-gray-600 space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• Save your preferences and voting history"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• Show you personalized content"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• Keep your data secure and private"
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex justify-between items-center",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onBack,
                            className: "text-gray-500 hover:text-gray-700 transition-colors",
                            children: "← Back"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "flex space-x-4",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: onSkip,
                                className: "text-gray-500 hover:text-gray-700 transition-colors",
                                children: "Continue without account"
                            })
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    className: "text-sm text-gray-500 text-center mt-4",
                    children: "You can start without an account, but with limited features"
                })
            ]
        })
    });
};
// Step 5: Profile Setup (Optional - can be skipped)
const ProfileStep = ({ onNext, onBack, onSkip, profile, onUpdate })=>{
    const [displayName, setDisplayName] = (0, _react.useState)(profile?.display_name || "");
    const [bio, setBio] = (0, _react.useState)(profile?.bio || "");
    const [primaryConcerns] = (0, _react.useState)(profile?.primary_concerns || []);
    const [communityFocus] = (0, _react.useState)(profile?.community_focus || []);
    const [participationStyle, setParticipationStyle] = (0, _react.useState)(profile?.participation_style || "observer");
    const handleNext = ()=>{
        onUpdate({
            display_name: displayName,
            bio,
            primary_concerns: primaryConcerns,
            community_focus: communityFocus,
            participation_style: participationStyle
        });
        onNext();
    };
    const handleSkip = ()=>{
        onSkip();
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "max-w-2xl mx-auto",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "text-center mb-8",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                        className: "text-3xl font-bold text-gray-900 mb-4",
                        children: "Complete Your Profile"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-lg text-gray-600",
                        children: "Help us personalize your experience (optional)"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "space-y-6",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                className: "block text-sm font-medium text-gray-700 mb-2",
                                children: "Display Name"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                type: "text",
                                value: displayName,
                                onChange: (e)=>setDisplayName(e.target.value),
                                placeholder: "Enter your display name",
                                className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                className: "block text-sm font-medium text-gray-700 mb-2",
                                children: "Bio (Optional)"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                                value: bio,
                                onChange: (e)=>setBio(e.target.value),
                                placeholder: "Share a brief description about yourself (optional)",
                                rows: 3,
                                className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                className: "block text-sm font-medium text-gray-700 mb-2",
                                children: "How do you prefer to participate?"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "space-y-2",
                                children: [
                                    {
                                        value: "observer",
                                        label: "Observer",
                                        desc: "I prefer to read and learn"
                                    },
                                    {
                                        value: "contributor",
                                        label: "Contributor",
                                        desc: "I like to share my thoughts"
                                    },
                                    {
                                        value: "leader",
                                        label: "Leader",
                                        desc: "I want to drive discussions"
                                    }
                                ].map((option)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                        className: "flex items-center space-x-3 p-3 border rounded-md cursor-pointer hover:bg-gray-50",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                type: "radio",
                                                name: "participation",
                                                value: option.value,
                                                checked: participationStyle === option.value,
                                                onChange: (e)=>setParticipationStyle(e.target.value),
                                                className: "h-4 w-4 text-blue-600"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                        className: "font-medium",
                                                        children: option.label
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                        className: "text-sm text-gray-500",
                                                        children: option.desc
                                                    })
                                                ]
                                            })
                                        ]
                                    }, option.value))
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex justify-between mt-8",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: onBack,
                        className: "px-4 py-2 text-gray-600 hover:text-gray-800",
                        children: "← Back"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "space-x-3",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: handleSkip,
                                className: "px-4 py-2 text-gray-600 hover:text-gray-800",
                                children: "Skip for now"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: handleNext,
                                className: "px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",
                                children: "Complete Profile"
                            })
                        ]
                    })
                ]
            })
        ]
    });
};
// Step 6: Complete & First Experience (30 seconds)
const CompleteStep = ({ onFinish, demographics })=>{
    const router = (0, _navigation.useRouter)();
    const handleFindRepresentatives = ()=>{
        onFinish();
        router.push("/civics");
    };
    const handleBrowsePolls = ()=>{
        onFinish();
        router.push("/polls");
    };
    const handleExploreFeatures = ()=>{
        onFinish();
        router.push("/dashboard");
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "max-w-2xl mx-auto text-center p-8",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "text-4xl",
                                children: "\uD83C\uDF89"
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                            className: "text-4xl font-bold text-gray-900 mb-4",
                            children: "You're All Set!"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-xl text-gray-600",
                            children: "Let's find your representatives and explore what's available"
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "bg-white rounded-lg p-6 shadow-sm mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                            className: "text-lg font-semibold text-gray-900 mb-4",
                            children: "Your Personalized Dashboard"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-center p-4 bg-blue-50 rounded-lg",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-2xl mb-2",
                                            children: "\uD83C\uDFDB️"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                            className: "font-semibold text-gray-900",
                                            children: "Your Representatives"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                            className: "text-sm text-gray-600",
                                            children: [
                                                "Based on your location: ",
                                                demographics.location.state
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-center p-4 bg-green-50 rounded-lg",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-2xl mb-2",
                                            children: "\uD83D\uDDF3️"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                            className: "font-semibold text-gray-900",
                                            children: "Relevant Polls"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "text-sm text-gray-600",
                                            children: "Polls matching your interests"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-center p-4 bg-purple-50 rounded-lg",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-2xl mb-2",
                                            children: "\uD83D\uDCCA"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                            className: "font-semibold text-gray-900",
                                            children: "Campaign Finance"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "text-sm text-gray-600",
                                            children: "See who funds campaigns"
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "space-y-4 mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: handleFindRepresentatives,
                            "data-testid": "complete-onboarding",
                            className: "w-full bg-blue-600 text-white py-4 px-8 rounded-lg font-semibold text-lg hover:bg-blue-700 transition-colors",
                            children: "Find My Representatives"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: handleBrowsePolls,
                            className: "w-full bg-green-600 text-white py-4 px-8 rounded-lg font-semibold text-lg hover:bg-green-700 transition-colors",
                            children: "Browse Current Polls"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: handleExploreFeatures,
                            className: "w-full bg-purple-600 text-white py-4 px-8 rounded-lg font-semibold text-lg hover:bg-purple-700 transition-colors",
                            children: "Explore All Features"
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "bg-gray-50 rounded-lg p-6",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                            className: "text-lg font-semibold text-gray-900 mb-4",
                            children: "What's Next?"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("ul", {
                            className: "text-left text-gray-600 space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• Vote on polls that interest you"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• Track how your representatives vote"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• See campaign finance data"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• Get notified about important issues"
                                })
                            ]
                        })
                    ]
                })
            ]
        })
    });
};
/**
 * Balanced Onboarding Flow Component
 * 
 * A comprehensive onboarding flow that guides users through 6 essential steps:
 * 1. Welcome - Introduction and value proposition
 * 2. Privacy - Data usage and privacy preferences
 * 3. Demographics - User background information
 * 4. Auth - Authentication setup (email, social, passkey, or anonymous)
 * 5. Profile - Display name, visibility, and notification preferences
 * 6. Complete - Success confirmation and next steps
 * 
 * Features:
 * - Automatic auth step skipping for users with existing passkey credentials
 * - Progress tracking and data persistence
 * - Responsive design with mobile-first approach
 * - Integration with Supabase authentication
 * 
 * @returns {JSX.Element} The complete onboarding flow interface
 */ const BalancedOnboardingFlow = ()=>{
    const currentStep = (0, _stores.useOnboardingStep)();
    const onboardingData = (0, _stores.useOnboardingData)();
    const { nextStep, previousStep, updateFormData, completeOnboarding, setCurrentStep } = (0, _stores.useOnboardingActions)();
    const loading = (0, _stores.useOnboardingLoading)();
    const error = (0, _stores.useOnboardingError)();
    const user = (0, _stores.useUser)();
    const isLoading = (0, _stores.useUserLoading)();
    // Check if user has already completed onboarding
    (0, _react.useEffect)(()=>{
        const checkOnboardingStatus = async ()=>{
            if (!isLoading && user) {
                try {
                    const supabase = await (0, _client.getSupabaseBrowserClient)();
                    const { data: profile } = await supabase.from("user_profiles").select("onboarding_completed").eq("user_id", user.id).single();
                    if (profile?.onboarding_completed) {
                        // User has already completed onboarding, redirect to dashboard
                        const { safeNavigate } = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../../lib/utils/ssr-safe")));
                        safeNavigate("/dashboard");
                    }
                } catch (error) {
                    console.error("Error checking onboarding status:", error);
                // Continue with onboarding if we can't check status
                }
            }
        };
        checkOnboardingStatus();
    }, [
        user,
        isLoading
    ]);
    const handleNext = ()=>{
        nextStep();
    };
    const handleBack = ()=>{
        previousStep();
    };
    const handleSkip = ()=>{
        // Skip to complete step
        setCurrentStep(5); // Complete step
    };
    const handleFinish = async ()=>{
        try {
            // Update user profile to mark onboarding as completed
            if (user) {
                const supabase = await (0, _client.getSupabaseBrowserClient)();
                const { error } = await supabase.from("user_profiles").update({
                    onboarding_completed: true,
                    updated_at: new Date().toISOString()
                }).eq("user_id", user.id);
                if (error) {
                    console.error("Failed to update onboarding status:", error);
                }
            }
            // Complete onboarding
            completeOnboarding();
            // Redirect to main app
            window.location.href = "/civics";
        } catch (error) {
            console.error("Error completing onboarding:", error);
            // Still redirect even if database update fails
            window.location.href = "/civics";
        }
    };
    if (isLoading) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "text-center",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-gray-600",
                        children: "Loading..."
                    })
                ]
            })
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "balanced-onboarding",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                style: {
                    position: "absolute",
                    left: "-9999px",
                    top: "-9999px"
                },
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "tour-next",
                        onClick: handleNext,
                        children: "Tour Next"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "data-usage-next",
                        onClick: handleNext,
                        children: "Data Usage Next"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "interests-next",
                        onClick: handleNext,
                        children: "Interests Next"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": "experience-next",
                        onClick: handleNext,
                        children: "Experience Next"
                    })
                ]
            }),
            currentStep === 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)(WelcomeStep, {
                onNext: handleNext,
                onSkip: handleSkip
            }),
            currentStep === 1 && /*#__PURE__*/ (0, _jsxruntime.jsx)(PrivacyStep, {
                onNext: handleNext,
                onBack: handleBack,
                privacy: onboardingData.privacy,
                setPrivacy: (privacy)=>updateFormData(0, {
                        privacy
                    })
            }),
            currentStep === 2 && /*#__PURE__*/ (0, _jsxruntime.jsx)(DemographicsStep, {
                onNext: handleNext,
                onBack: handleBack,
                onSkip: handleNext,
                demographics: onboardingData.demographics,
                setDemographics: (demographics)=>updateFormData(0, {
                        demographics
                    })
            }),
            currentStep === 3 && /*#__PURE__*/ (0, _jsxruntime.jsx)(AuthStep, {
                onNext: handleNext,
                onBack: handleBack,
                onSkip: handleNext,
                error: error,
                isLoading: loading
            }),
            currentStep === 4 && /*#__PURE__*/ (0, _jsxruntime.jsx)(ProfileStep, {
                onNext: handleNext,
                onBack: handleBack,
                onSkip: handleSkip,
                profile: onboardingData.profile,
                onUpdate: (profile)=>updateFormData(0, {
                        profile
                    })
            }),
            currentStep === 5 && /*#__PURE__*/ (0, _jsxruntime.jsx)(CompleteStep, {
                onFinish: handleFinish,
                demographics: onboardingData.demographics
            })
        ]
    });
};
const _default = BalancedOnboardingFlow;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9mZWF0dXJlcy9vbmJvYXJkaW5nL2NvbXBvbmVudHMvQmFsYW5jZWRPbmJvYXJkaW5nRmxvdy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQmFsYW5jZWQgT25ib2FyZGluZyBGbG93XG4vLyA1IGVzc2VudGlhbCBzdGVwczogV2VsY29tZSwgUHJpdmFjeSwgRGVtb2dyYXBoaWNzLCBBdXRoLCBDb21wbGV0ZVxuLy8gQ3JlYXRlZDogT2N0b2JlciAyLCAyMDI1XG5cbid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBGZWF0dXJlV3JhcHBlciB9IGZyb20gJ0AvY29tcG9uZW50cy9zaGFyZWQvRmVhdHVyZVdyYXBwZXInO1xuaW1wb3J0IHsgUGFzc2tleVJlZ2lzdGVyIH0gZnJvbSAnQC9mZWF0dXJlcy9hdXRoL2NvbXBvbmVudHMvUGFzc2tleVJlZ2lzdGVyJztcbmltcG9ydCB0eXBlIHsgVXNlckRlbW9ncmFwaGljcywgUHJpdmFjeVByZWZlcmVuY2VzLCBPbmJvYXJkaW5nRGF0YSB9IGZyb20gJ0AvZmVhdHVyZXMvb25ib2FyZGluZy90eXBlcyc7XG5pbXBvcnQgeyB1c2VVc2VyLCB1c2VVc2VyTG9hZGluZyB9IGZyb20gJ0AvbGliL3N0b3Jlcyc7XG5pbXBvcnQgeyBcbiAgdXNlT25ib2FyZGluZ1N0ZXAsXG4gIHVzZU9uYm9hcmRpbmdEYXRhLFxuICB1c2VPbmJvYXJkaW5nQWN0aW9ucyxcbiAgdXNlT25ib2FyZGluZ0xvYWRpbmcsXG4gIHVzZU9uYm9hcmRpbmdFcnJvclxufSBmcm9tICdAL2xpYi9zdG9yZXMnO1xuaW1wb3J0IHsgd2l0aE9wdGlvbmFsIH0gZnJvbSAnQC9saWIvdXRpbHMvb2JqZWN0cyc7XG5pbXBvcnQgeyBnZXRTdXBhYmFzZUJyb3dzZXJDbGllbnQgfSBmcm9tICdAL3V0aWxzL3N1cGFiYXNlL2NsaWVudCc7XG5cblxuLy8gU3RlcCAxOiBXZWxjb21lICYgVmFsdWUgUHJvcG9zaXRpb24gKDMwIHNlY29uZHMpXG5jb25zdCBXZWxjb21lU3RlcDogUmVhY3QuRkM8e1xuICBvbk5leHQ6ICgpID0+IHZvaWQ7XG4gIG9uU2tpcDogKCkgPT4gdm9pZDtcbn0+ID0gKHsgb25OZXh0LCBvblNraXAgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS01MCB0by1pbmRpZ28tMTAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIHRleHQtY2VudGVyIHAtOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLThcIj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC01eGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItNlwiPlxuICAgICAgICAgICAgV2VsY29tZSB0byBDaG9pY2VzXG4gICAgICAgICAgPC9oMT5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhsIHRleHQtZ3JheS02MDAgbWItOFwiPlxuICAgICAgICAgICAgTWFrZSBpbmZvcm1lZCBkZWNpc2lvbnMgd2l0aCB0cmFuc3BhcmVudCwgZGF0YS1kcml2ZW4gaW5zaWdodHNcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMyBnYXAtNiBtYi04XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHAtNiBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC00eGwgbWItNFwiPvCfl7PvuI88L2Rpdj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+Vm90ZSBvbiBJc3N1ZXM8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCB0ZXh0LXNtXCI+UGFydGljaXBhdGUgaW4gcG9sbHMgb24gdG9waWNzIHRoYXQgbWF0dGVyIHRvIHlvdTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgcC02IHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtYi00XCI+8J+Pm++4jzwvZGl2PlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj5UcmFjayBSZXByZXNlbnRhdGl2ZXM8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCB0ZXh0LXNtXCI+U2VlIGhvdyB5b3VyIGVsZWN0ZWQgb2ZmaWNpYWxzIHZvdGUgYW5kIGZ1bmRyYWlzZTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgcC02IHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtYi00XCI+8J+TijwvZGl2PlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj5DYW1wYWlnbiBGaW5hbmNlPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgdGV4dC1zbVwiPlVuZGVyc3RhbmQgd2hvIGZ1bmRzIHBvbGl0aWNhbCBjYW1wYWlnbnM8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmx1ZS01MCByb3VuZGVkLWxnIHAtNCBtYi04XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTgwMCBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAg4o+x77iPIFRoaXMgd2lsbCB0YWtlIGFib3V0IDMgbWludXRlcyB0byBnZXQgeW91IHN0YXJ0ZWRcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25OZXh0fVxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9XCJ3ZWxjb21lLW5leHRcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktNCBweC04IHJvdW5kZWQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWxnIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBHZXQgU3RhcnRlZFxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uU2tpcH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCB0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIEkmYXBvczttIGEgcmV0dXJuaW5nIHVzZXJcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIFN0ZXAgMjogRGF0YSBTYWZldHkgJiBQcml2YWN5IFBoaWxvc29waHkgKDQ1IHNlY29uZHMpXG5jb25zdCBQcml2YWN5U3RlcDogUmVhY3QuRkM8e1xuICBvbk5leHQ6ICgpID0+IHZvaWQ7XG4gIG9uQmFjazogKCkgPT4gdm9pZDtcbiAgcHJpdmFjeTogUHJpdmFjeVByZWZlcmVuY2VzO1xuICBzZXRQcml2YWN5OiAocHJpdmFjeTogUHJpdmFjeVByZWZlcmVuY2VzKSA9PiB2b2lkO1xufT4gPSAoeyBvbk5leHQsIG9uQmFjaywgcHJpdmFjeSwgc2V0UHJpdmFjeSB9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwIHRvLWluZGlnby0xMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctMnhsIG14LWF1dG8gcC04XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItOFwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi00XCI+XG4gICAgICAgICAgICBZb3VyIFByaXZhY3kgTWF0dGVyc1xuICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14bCB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICBXZSBiZWxpZXZlIGluIHRyYW5zcGFyZW5jeSBhbmQgZGF0YSBwcm90ZWN0aW9uXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNiBtYi04XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHAtNiBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTN4bFwiPvCflJI8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItMlwiPkxvY2F0aW9uIERhdGE8L2gzPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgIFdlIG9ubHkgbmVlZCB5b3VyIHN0YXRlL2Rpc3RyaWN0IHRvIGZpbmQgeW91ciByZXByZXNlbnRhdGl2ZXMuIFxuICAgICAgICAgICAgICAgICAgV2UgbmV2ZXIgc3RvcmUgeW91ciBleGFjdCBhZGRyZXNzLlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBwLTYgc2hhZG93LXNtXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtc3RhcnQgc3BhY2UteC00XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0zeGxcIj7wn5OKPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj5EZW1vZ3JhcGhpY3M8L2gzPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICAgIEFnZSBhbmQgZWR1Y2F0aW9uIGhlbHAgdXMgc2hvdyB5b3UgcmVsZXZhbnQgcG9sbHMgYW5kIFxuICAgICAgICAgICAgICAgICAgbWF0Y2ggeW91IHdpdGggc2ltaWxhciB2b3RlcnMuXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHAtNiBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTN4bFwiPvCfm6HvuI88L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItMlwiPkRhdGEgUHJvdGVjdGlvbjwvaDM+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgQWxsIGRhdGEgaXMgZW5jcnlwdGVkLCBhbm9ueW1pemVkLCBhbmQgbmV2ZXIgc29sZC4gXG4gICAgICAgICAgICAgICAgICBZb3UgY2FuIGRlbGV0ZSB5b3VyIGRhdGEgYW55dGltZS5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS01MCByb3VuZGVkLWxnIHAtNiBtYi04XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj5Zb3VyIFByaXZhY3kgQ29udHJvbHM8L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17cHJpdmFjeS5sb2NhdGlvbl9zaGFyaW5nID09PSAncXVhbnRpemVkJ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFByaXZhY3kod2l0aE9wdGlvbmFsKHByaXZhY3ksIHtcbiAgICAgICAgICAgICAgICAgIGxvY2F0aW9uX3NoYXJpbmc6IGUudGFyZ2V0LmNoZWNrZWQgPyAncXVhbnRpemVkJyA6ICdkaXNhYmxlZCdcbiAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWJsdWUtNjAwIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgQWxsb3cgbG9jYXRpb24gc2hhcmluZyAocXVhbnRpemVkIHRvIHN0YXRlIGxldmVsKVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3ByaXZhY3kuZGVtb2dyYXBoaWNfc2hhcmluZyA9PT0gJ2VuYWJsZWQnfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJpdmFjeSh3aXRoT3B0aW9uYWwocHJpdmFjeSwge1xuICAgICAgICAgICAgICAgICAgZGVtb2dyYXBoaWNfc2hhcmluZzogZS50YXJnZXQuY2hlY2tlZCA/ICdlbmFibGVkJyA6ICdkaXNhYmxlZCdcbiAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWJsdWUtNjAwIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgU2hhcmUgZGVtb2dyYXBoaWNzIGZvciBiZXR0ZXIgZXhwZXJpZW5jZVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtM1wiPlxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgIGNoZWNrZWQ9e3ByaXZhY3kuYW5hbHl0aWNzX3NoYXJpbmcgPT09ICdlbmFibGVkJ31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFByaXZhY3kod2l0aE9wdGlvbmFsKHByaXZhY3ksIHtcbiAgICAgICAgICAgICAgICAgIGFuYWx5dGljc19zaGFyaW5nOiBlLnRhcmdldC5jaGVja2VkID8gJ2VuYWJsZWQnIDogJ2xpbWl0ZWQnXG4gICAgICAgICAgICAgICAgfSkpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctNSBoLTUgdGV4dC1ibHVlLTYwMCByb3VuZGVkXCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgIFNoYXJlIGFuYWx5dGljcyB0byBpbXByb3ZlIHRoZSBwbGF0Zm9ybVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25CYWNrfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDihpAgQmFja1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uTmV4dH1cbiAgICAgICAgICAgIGRhdGEtdGVzdGlkPVwicHJpdmFjeS1uZXh0XCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktMyBweC02IHJvdW5kZWQtbGcgZm9udC1zZW1pYm9sZCBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgQ29udGludWVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIFN0ZXAgMzogTG9jYXRpb24gJiBEZW1vZ3JhcGhpY3MgKDYwIHNlY29uZHMpXG5jb25zdCBEZW1vZ3JhcGhpY3NTdGVwOiBSZWFjdC5GQzx7XG4gIG9uTmV4dDogKCkgPT4gdm9pZDtcbiAgb25CYWNrOiAoKSA9PiB2b2lkO1xuICBvblNraXA6ICgpID0+IHZvaWQ7XG4gIGRlbW9ncmFwaGljczogVXNlckRlbW9ncmFwaGljcztcbiAgc2V0RGVtb2dyYXBoaWNzOiAoZGVtb2dyYXBoaWNzOiBVc2VyRGVtb2dyYXBoaWNzKSA9PiB2b2lkO1xufT4gPSAoeyBvbk5leHQsIG9uQmFjaywgb25Ta2lwLCBkZW1vZ3JhcGhpY3MsIHNldERlbW9ncmFwaGljcyB9KSA9PiB7XG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwIHRvLWluZGlnby0xMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctMnhsIG14LWF1dG8gcC04XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItOFwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi00XCI+XG4gICAgICAgICAgICBIZWxwIFVzIFBlcnNvbmFsaXplIFlvdXIgRXhwZXJpZW5jZVxuICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14bCB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICBUaGlzIGluZm9ybWF0aW9uIGhlbHBzIHVzIHNob3cgeW91IHJlbGV2YW50IGNvbnRlbnRcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS04XCI+XG4gICAgICAgICAgey8qIExvY2F0aW9uIFNlY3Rpb24gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHAtNiBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi00IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhsIG1yLTNcIj7wn5ONPC9zcGFuPlxuICAgICAgICAgICAgICBMb2NhdGlvblxuICAgICAgICAgICAgPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgbWItNFwiPlxuICAgICAgICAgICAgICBXZSBuZWVkIHRoaXMgdG8gZmluZCB5b3VyIHJlcHJlc2VudGF0aXZlc1xuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICBTdGF0ZVxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2RlbW9ncmFwaGljcy5sb2NhdGlvbi5zdGF0ZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVtb2dyYXBoaWNzKHdpdGhPcHRpb25hbChkZW1vZ3JhcGhpY3MsIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHdpdGhPcHRpb25hbChkZW1vZ3JhcGhpY3MubG9jYXRpb24sIHsgc3RhdGU6IGUudGFyZ2V0LnZhbHVlIH0pXG4gICAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgeW91ciBzdGF0ZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkFMXCI+QWxhYmFtYTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkFLXCI+QWxhc2thPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQVpcIj5Bcml6b25hPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQVJcIj5BcmthbnNhczwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkNBXCI+Q2FsaWZvcm5pYTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkNPXCI+Q29sb3JhZG88L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJDVFwiPkNvbm5lY3RpY3V0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiREVcIj5EZWxhd2FyZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkZMXCI+RmxvcmlkYTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkdBXCI+R2VvcmdpYTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkhJXCI+SGF3YWlpPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiSURcIj5JZGFobzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIklMXCI+SWxsaW5vaXM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJJTlwiPkluZGlhbmE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJJQVwiPklvd2E8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJLU1wiPkthbnNhczwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIktZXCI+S2VudHVja3k8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJMQVwiPkxvdWlzaWFuYTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1FXCI+TWFpbmU8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJNRFwiPk1hcnlsYW5kPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTUFcIj5NYXNzYWNodXNldHRzPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTUlcIj5NaWNoaWdhbjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1OXCI+TWlubmVzb3RhPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTVNcIj5NaXNzaXNzaXBwaTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1PXCI+TWlzc291cmk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJNVFwiPk1vbnRhbmE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJORVwiPk5lYnJhc2thPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTlZcIj5OZXZhZGE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJOSFwiPk5ldyBIYW1wc2hpcmU8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJOSlwiPk5ldyBKZXJzZXk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJOTVwiPk5ldyBNZXhpY288L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJOWVwiPk5ldyBZb3JrPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTkNcIj5Ob3J0aCBDYXJvbGluYTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk5EXCI+Tm9ydGggRGFrb3RhPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiT0hcIj5PaGlvPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiT0tcIj5Pa2xhaG9tYTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk9SXCI+T3JlZ29uPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiUEFcIj5QZW5uc3lsdmFuaWE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJSSVwiPlJob2RlIElzbGFuZDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlNDXCI+U291dGggQ2Fyb2xpbmE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJTRFwiPlNvdXRoIERha290YTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlROXCI+VGVubmVzc2VlPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiVFhcIj5UZXhhczwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlVUXCI+VXRhaDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlZUXCI+VmVybW9udDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlZBXCI+VmlyZ2luaWE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJXQVwiPldhc2hpbmd0b248L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJXVlwiPldlc3QgVmlyZ2luaWE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJXSVwiPldpc2NvbnNpbjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIldZXCI+V3lvbWluZzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIERpc3RyaWN0IChPcHRpb25hbClcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2RlbW9ncmFwaGljcy5sb2NhdGlvbi5kaXN0cmljdCB8fCAnJ31cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVtb2dyYXBoaWNzKHdpdGhPcHRpb25hbChkZW1vZ3JhcGhpY3MsIHtcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb246IHdpdGhPcHRpb25hbChkZW1vZ3JhcGhpY3MubG9jYXRpb24sIHsgZGlzdHJpY3Q6IGUudGFyZ2V0LnZhbHVlIH0pXG4gICAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIHlvdXIgY29uZ3Jlc3Npb25hbCBkaXN0cmljdFwiXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgbXQtMlwiPlxuICAgICAgICAgICAgICBXZSBvbmx5IHN0b3JlIHlvdXIgc3RhdGUgYW5kIGRpc3RyaWN0LCBub3QgeW91ciBleGFjdCBhZGRyZXNzXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICB7LyogRGVtb2dyYXBoaWNzIFNlY3Rpb24gKi99XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHAtNiBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi00IGZsZXggaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtMnhsIG1yLTNcIj7wn5GkPC9zcGFuPlxuICAgICAgICAgICAgICBEZW1vZ3JhcGhpY3NcbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgVGhpcyBoZWxwcyB1cyBzaG93IHlvdSByZWxldmFudCBwb2xscyBhbmQgbWF0Y2ggeW91IHdpdGggc2ltaWxhciB2b3RlcnNcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0zIGdhcC00XCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICBBZ2UgUmFuZ2VcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtkZW1vZ3JhcGhpY3MuYWdlX3JhbmdlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXREZW1vZ3JhcGhpY3Mod2l0aE9wdGlvbmFsKGRlbW9ncmFwaGljcywge1xuICAgICAgICAgICAgICAgICAgICBhZ2VfcmFuZ2U6IGUudGFyZ2V0LnZhbHVlIGFzIFVzZXJEZW1vZ3JhcGhpY3NbJ2FnZV9yYW5nZSddXG4gICAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgYWdlIHJhbmdlPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMTgtMjRcIj4xOC0yNDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjI1LTM0XCI+MjUtMzQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIzNS00NFwiPjM1LTQ0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiNDUtNTRcIj40NS01NDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjU1LTY0XCI+NTUtNjQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCI2NStcIj42NSs8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgRWR1Y2F0aW9uIExldmVsXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17ZGVtb2dyYXBoaWNzLmVkdWNhdGlvbn1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVtb2dyYXBoaWNzKHdpdGhPcHRpb25hbChkZW1vZ3JhcGhpY3MsIHtcbiAgICAgICAgICAgICAgICAgICAgZWR1Y2F0aW9uOiBlLnRhcmdldC52YWx1ZSBhcyBVc2VyRGVtb2dyYXBoaWNzWydlZHVjYXRpb24nXVxuICAgICAgICAgICAgICAgICAgfSkpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZm9jdXM6Ym9yZGVyLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0IGVkdWNhdGlvbjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImhpZ2hfc2Nob29sXCI+SGlnaCBTY2hvb2w8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJzb21lX2NvbGxlZ2VcIj5Tb21lIENvbGxlZ2U8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJiYWNoZWxvclwiPkJhY2hlbG9yJmFwb3M7cyBEZWdyZWU8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJncmFkdWF0ZVwiPkdyYWR1YXRlIERlZ3JlZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDwvc2VsZWN0PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICBQb2xpdGljYWwgRW5nYWdlbWVudFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2RlbW9ncmFwaGljcy5wb2xpdGljYWxfZW5nYWdlbWVudH1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVtb2dyYXBoaWNzKHdpdGhPcHRpb25hbChkZW1vZ3JhcGhpY3MsIHtcbiAgICAgICAgICAgICAgICAgICAgcG9saXRpY2FsX2VuZ2FnZW1lbnQ6IGUudGFyZ2V0LnZhbHVlIGFzIFVzZXJEZW1vZ3JhcGhpY3NbJ3BvbGl0aWNhbF9lbmdhZ2VtZW50J11cbiAgICAgICAgICAgICAgICAgIH0pKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGZvY3VzOmJvcmRlci1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCBlbmdhZ2VtZW50PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiY2FzdWFsXCI+Q2FzdWFsICh2b3RlIG9jY2FzaW9uYWxseSk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJtb2RlcmF0ZVwiPk1vZGVyYXRlIChmb2xsb3cgcG9saXRpY3MpPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwidmVyeV9lbmdhZ2VkXCI+VmVyeSBFbmdhZ2VkICh2ZXJ5IGFjdGl2ZSk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBpdGVtcy1jZW50ZXIgbXQtOFwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQmFja31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAg4oaQIEJhY2tcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC00XCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uU2tpcH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgU2tpcCBmb3Igbm93XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17b25OZXh0fVxuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cInByb2ZpbGUtbmV4dFwiXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktMyBweC02IHJvdW5kZWQtbGcgZm9udC1zZW1pYm9sZCBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIENvbnRpbnVlXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgdGV4dC1jZW50ZXIgbXQtNFwiPlxuICAgICAgICAgIFlvdSBjYW4gYWx3YXlzIGFkZCB0aGlzIGluZm9ybWF0aW9uIGxhdGVyXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gU3RlcCA0OiBBdXRoZW50aWNhdGlvbiBTZXR1cCAoNDUgc2Vjb25kcylcbmNvbnN0IEF1dGhTdGVwOiBSZWFjdC5GQzx7XG4gIG9uTmV4dDogKCkgPT4gdm9pZDtcbiAgb25CYWNrOiAoKSA9PiB2b2lkO1xuICBvblNraXA6ICgpID0+IHZvaWQ7XG4gIGVycm9yPzogc3RyaW5nIHwgbnVsbDtcbiAgaXNMb2FkaW5nPzogYm9vbGVhbjtcbn0+ID0gKHsgb25OZXh0LCBvbkJhY2ssIG9uU2tpcCwgZXJyb3IsIGlzTG9hZGluZyB9KSA9PiB7XG4gIGNvbnN0IFthdXRoTWV0aG9kLCBzZXRBdXRoTWV0aG9kXSA9IHVzZVN0YXRlPCdlbWFpbCcgfCAncGFzc2tleScgfCAnZ29vZ2xlJyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc3VjY2Vzcywgc2V0U3VjY2Vzc10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgaGFuZGxlQXV0aE1ldGhvZFNlbGVjdCA9IChtZXRob2Q6ICdlbWFpbCcgfCAncGFzc2tleScgfCAnZ29vZ2xlJykgPT4ge1xuICAgIHNldEF1dGhNZXRob2QobWV0aG9kKTtcbiAgICAvLyBFcnJvciBpcyBtYW5hZ2VkIGJ5IHRoZSBzdG9yZVxuICAgIHNldFN1Y2Nlc3MoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBhc3NrZXlTdWNjZXNzID0gKCkgPT4ge1xuICAgIHNldFN1Y2Nlc3ModHJ1ZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBvbk5leHQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQYXNza2V5RXJyb3IgPSAoZXJyb3I6IHN0cmluZykgPT4ge1xuICAgIC8vIEVycm9yIGlzIG1hbmFnZWQgYnkgdGhlIHN0b3JlXG4gICAgY29uc29sZS5lcnJvcignUGFzc2tleSBlcnJvcjonLCBlcnJvcik7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRW1haWxBdXRoID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBSZWRpcmVjdCB0byByZWdpc3RyYXRpb24gcGFnZSBmb3IgZW1haWwgYXV0aFxuICAgICAgY29uc3QgeyBzYWZlTmF2aWdhdGUgfSA9IGF3YWl0IGltcG9ydCgnQC9saWIvdXRpbHMvc3NyLXNhZmUnKTtcbiAgICAgIHNhZmVOYXZpZ2F0ZSgnL3JlZ2lzdGVyJyk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVkaXJlY3QgdG8gcmVnaXN0cmF0aW9uJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUdvb2dsZUF1dGggPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFJlZGlyZWN0IHRvIEdvb2dsZSBPQXV0aFxuICAgICAgY29uc3QgeyBzYWZlTmF2aWdhdGUgfSA9IGF3YWl0IGltcG9ydCgnQC9saWIvdXRpbHMvc3NyLXNhZmUnKTtcbiAgICAgIHNhZmVOYXZpZ2F0ZSgnL2F1dGgvZ29vZ2xlJyk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVkaXJlY3QgdG8gR29vZ2xlIGF1dGhlbnRpY2F0aW9uJyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIElmIHVzZXIgaGFzIHNlbGVjdGVkIGEgbWV0aG9kLCBzaG93IHRoZSBhcHByb3ByaWF0ZSBpbnRlcmZhY2VcbiAgaWYgKGF1dGhNZXRob2QgPT09ICdwYXNza2V5Jykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAgdG8taW5kaWdvLTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIHAtOFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItOFwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtNHhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgU2V0IFVwIFlvdXIgUGFzc2tleVxuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteGwgdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICBDcmVhdGUgYSBzZWN1cmUsIHBhc3N3b3JkbGVzcyB3YXkgdG8gc2lnbiBpblxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHAtNiBzaGFkb3ctc20gbWItOFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IGJnLWJsdWUtMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIG1iLTRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTN4bFwiPvCflJA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItMlwiPldoeSBQYXNza2V5cz88L2gzPlxuICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBzcGFjZS15LTIgdGV4dC1sZWZ0XCI+XG4gICAgICAgICAgICAgICAgPGxpPuKAoiBVc2UgeW91ciBmaW5nZXJwcmludCwgZmFjZSwgb3IgZGV2aWNlIFBJTjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPuKAoiBObyBwYXNzd29yZHMgdG8gcmVtZW1iZXIgb3IgdHlwZTwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPuKAoiBXb3JrcyBhY3Jvc3MgYWxsIHlvdXIgZGV2aWNlczwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPuKAoiBNYXhpbXVtIHNlY3VyaXR5IHdpdGggcHJpdmFjeTwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPEZlYXR1cmVXcmFwcGVyIGZlYXR1cmU9XCJXRUJBVVRITlwiPlxuICAgICAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPVwib25ib2FyZGluZy1wYXNza2V5LXNldHVwXCI+XG4gICAgICAgICAgICAgICAgPFBhc3NrZXlSZWdpc3RlclxuICAgICAgICAgICAgICAgICAgb25TdWNjZXNzPXtoYW5kbGVQYXNza2V5U3VjY2Vzc31cbiAgICAgICAgICAgICAgICAgIG9uRXJyb3I9e2hhbmRsZVBhc3NrZXlFcnJvcn1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbFwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L0ZlYXR1cmVXcmFwcGVyPlxuXG4gICAgICAgICAgICB7ZXJyb3IgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgcC00IGJnLXJlZC01MCBib3JkZXIgYm9yZGVyLXJlZC0yMDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1yZWQtODAwXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+e2Vycm9yfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuXG4gICAgICAgICAgICB7c3VjY2VzcyAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNCBwLTQgYmctZ3JlZW4tNTAgYm9yZGVyIGJvcmRlci1ncmVlbi0yMDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIgdGV4dC1ncmVlbi04MDBcIj5cbiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc21cIj7inIUgUGFzc2tleSBjcmVhdGVkIHN1Y2Nlc3NmdWxseSE8L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEF1dGhNZXRob2QobnVsbCl9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIOKGkCBCYWNrIHRvIG9wdGlvbnNcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC00XCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtvblNraXB9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIFNraXAgZm9yIG5vd1xuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICAvLyBNYWluIGF1dGhlbnRpY2F0aW9uIG1ldGhvZCBzZWxlY3Rpb25cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAgdG8taW5kaWdvLTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy0yeGwgbXgtYXV0byBwLThcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi04XCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtNHhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj5cbiAgICAgICAgICAgIENyZWF0ZSBZb3VyIEFjY291bnRcbiAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteGwgdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgQ2hvb3NlIGhvdyB5b3UmYXBvcztkIGxpa2UgdG8gc2lnbiBpblxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgbWItOFwiPlxuICAgICAgICAgIDxGZWF0dXJlV3JhcHBlciBmZWF0dXJlPVwiV0VCQVVUSE5cIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlQXV0aE1ldGhvZFNlbGVjdCgncGFzc2tleScpfVxuICAgICAgICAgICAgICBkaXNhYmxlZD17aXNMb2FkaW5nfVxuICAgICAgICAgICAgICBkYXRhLXRlc3RpZD1cImF1dGgtcGFzc2tleS1vcHRpb25cIlxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00IHAtNiBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgaG92ZXI6Ym9yZGVyLWJsdWUtMzAwIGhvdmVyOmJnLWJsdWUtNTAgdHJhbnNpdGlvbi1jb2xvcnMgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtM3hsXCI+8J+UkDwvc3Bhbj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxlZnRcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZFwiPlBhc3NrZXkgKFJlY29tbWVuZGVkKTwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlBhc3N3b3JkbGVzcyBhbmQgc2VjdXJlPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9GZWF0dXJlV3JhcHBlcj5cblxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUVtYWlsQXV0aH1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICBkYXRhLXRlc3RpZD1cImF1dGgtZW1haWwtb3B0aW9uXCJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTQgcC02IGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZyBob3Zlcjpib3JkZXItYmx1ZS0zMDAgaG92ZXI6YmctYmx1ZS01MCB0cmFuc2l0aW9uLWNvbG9ycyBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTN4bFwiPvCfk6c8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZFwiPkVtYWlsICYgUGFzc3dvcmQ8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+U2ltcGxlIGFuZCBzZWN1cmU8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR29vZ2xlQXV0aH1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICBkYXRhLXRlc3RpZD1cImF1dGgtZ29vZ2xlLW9wdGlvblwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00IHAtNiBib3JkZXIgYm9yZGVyLWdyYXktMjAwIHJvdW5kZWQtbGcgaG92ZXI6Ym9yZGVyLWJsdWUtMzAwIGhvdmVyOmJnLWJsdWUtNTAgdHJhbnNpdGlvbi1jb2xvcnMgZGlzYWJsZWQ6b3BhY2l0eS01MFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC0zeGxcIj7wn5OxPC9zcGFuPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxlZnRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGRcIj5Db250aW51ZSB3aXRoIEdvb2dsZTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDBcIj5RdWljayBhbmQgZWFzeTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS01MCByb3VuZGVkLWxnIHAtNiBtYi04XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj5XaHkgZG8gd2UgbmVlZCBhdXRoZW50aWNhdGlvbj88L2gzPlxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPGxpPuKAoiBTYXZlIHlvdXIgcHJlZmVyZW5jZXMgYW5kIHZvdGluZyBoaXN0b3J5PC9saT5cbiAgICAgICAgICAgIDxsaT7igKIgU2hvdyB5b3UgcGVyc29uYWxpemVkIGNvbnRlbnQ8L2xpPlxuICAgICAgICAgICAgPGxpPuKAoiBLZWVwIHlvdXIgZGF0YSBzZWN1cmUgYW5kIHByaXZhdGU8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25CYWNrfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICDihpAgQmFja1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBzcGFjZS14LTRcIj5cbiAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgb25DbGljaz17b25Ta2lwfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBDb250aW51ZSB3aXRob3V0IGFjY291bnRcbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCB0ZXh0LWNlbnRlciBtdC00XCI+XG4gICAgICAgICAgWW91IGNhbiBzdGFydCB3aXRob3V0IGFuIGFjY291bnQsIGJ1dCB3aXRoIGxpbWl0ZWQgZmVhdHVyZXNcbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBTdGVwIDU6IFByb2ZpbGUgU2V0dXAgKE9wdGlvbmFsIC0gY2FuIGJlIHNraXBwZWQpXG5jb25zdCBQcm9maWxlU3RlcDogUmVhY3QuRkM8e1xuICBvbk5leHQ6ICgpID0+IHZvaWQ7XG4gIG9uQmFjazogKCkgPT4gdm9pZDtcbiAgb25Ta2lwOiAoKSA9PiB2b2lkO1xuICBwcm9maWxlOiBPbmJvYXJkaW5nRGF0YVsncHJvZmlsZSddO1xuICBvblVwZGF0ZTogKHVwZGF0ZXM6IFBhcnRpYWw8T25ib2FyZGluZ0RhdGFbJ3Byb2ZpbGUnXT4pID0+IHZvaWQ7XG59PiA9ICh7IG9uTmV4dCwgb25CYWNrLCBvblNraXAsIHByb2ZpbGUsIG9uVXBkYXRlIH0pID0+IHtcbiAgY29uc3QgW2Rpc3BsYXlOYW1lLCBzZXREaXNwbGF5TmFtZV0gPSB1c2VTdGF0ZShwcm9maWxlPy5kaXNwbGF5X25hbWUgfHwgJycpO1xuICBjb25zdCBbYmlvLCBzZXRCaW9dID0gdXNlU3RhdGUocHJvZmlsZT8uYmlvIHx8ICcnKTtcbiAgY29uc3QgW3ByaW1hcnlDb25jZXJuc10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4ocHJvZmlsZT8ucHJpbWFyeV9jb25jZXJucyB8fCBbXSk7XG4gIGNvbnN0IFtjb21tdW5pdHlGb2N1c10gPSB1c2VTdGF0ZTxzdHJpbmdbXT4ocHJvZmlsZT8uY29tbXVuaXR5X2ZvY3VzIHx8IFtdKTtcbiAgY29uc3QgW3BhcnRpY2lwYXRpb25TdHlsZSwgc2V0UGFydGljaXBhdGlvblN0eWxlXSA9IHVzZVN0YXRlPCdvYnNlcnZlcicgfCAnY29udHJpYnV0b3InIHwgJ2xlYWRlcic+KHByb2ZpbGU/LnBhcnRpY2lwYXRpb25fc3R5bGUgfHwgJ29ic2VydmVyJyk7XG5cbiAgY29uc3QgaGFuZGxlTmV4dCA9ICgpID0+IHtcbiAgICBvblVwZGF0ZSh7XG4gICAgICBkaXNwbGF5X25hbWU6IGRpc3BsYXlOYW1lLFxuICAgICAgYmlvLFxuICAgICAgcHJpbWFyeV9jb25jZXJuczogcHJpbWFyeUNvbmNlcm5zLFxuICAgICAgY29tbXVuaXR5X2ZvY3VzOiBjb21tdW5pdHlGb2N1cyxcbiAgICAgIHBhcnRpY2lwYXRpb25fc3R5bGU6IHBhcnRpY2lwYXRpb25TdHlsZVxuICAgIH0pO1xuICAgIG9uTmV4dCgpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNraXAgPSAoKSA9PiB7XG4gICAgb25Ta2lwKCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLThcIj5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtM3hsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj5Db21wbGV0ZSBZb3VyIFByb2ZpbGU8L2gyPlxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICBIZWxwIHVzIHBlcnNvbmFsaXplIHlvdXIgZXhwZXJpZW5jZSAob3B0aW9uYWwpXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICB7LyogRGlzcGxheSBOYW1lICovfVxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgRGlzcGxheSBOYW1lXG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIHZhbHVlPXtkaXNwbGF5TmFtZX1cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGlzcGxheU5hbWUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciB5b3VyIGRpc3BsYXkgbmFtZVwiXG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBCaW8gKi99XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICBCaW8gKE9wdGlvbmFsKVxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICB2YWx1ZT17YmlvfVxuICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRCaW8oZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJTaGFyZSBhIGJyaWVmIGRlc2NyaXB0aW9uIGFib3V0IHlvdXJzZWxmIChvcHRpb25hbClcIlxuICAgICAgICAgICAgcm93cz17M31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMFwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgey8qIFBhcnRpY2lwYXRpb24gU3R5bGUgKi99XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICBIb3cgZG8geW91IHByZWZlciB0byBwYXJ0aWNpcGF0ZT9cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS0yXCI+XG4gICAgICAgICAgICB7W1xuICAgICAgICAgICAgICB7IHZhbHVlOiAnb2JzZXJ2ZXInLCBsYWJlbDogJ09ic2VydmVyJywgZGVzYzogJ0kgcHJlZmVyIHRvIHJlYWQgYW5kIGxlYXJuJyB9LFxuICAgICAgICAgICAgICB7IHZhbHVlOiAnY29udHJpYnV0b3InLCBsYWJlbDogJ0NvbnRyaWJ1dG9yJywgZGVzYzogJ0kgbGlrZSB0byBzaGFyZSBteSB0aG91Z2h0cycgfSxcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJ2xlYWRlcicsIGxhYmVsOiAnTGVhZGVyJywgZGVzYzogJ0kgd2FudCB0byBkcml2ZSBkaXNjdXNzaW9ucycgfVxuICAgICAgICAgICAgXS5tYXAoKG9wdGlvbikgPT4gKFxuICAgICAgICAgICAgICA8bGFiZWwga2V5PXtvcHRpb24udmFsdWV9IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMyBwLTMgYm9yZGVyIHJvdW5kZWQtbWQgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctZ3JheS01MFwiPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInJhZGlvXCJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJwYXJ0aWNpcGF0aW9uXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtvcHRpb24udmFsdWV9XG4gICAgICAgICAgICAgICAgICBjaGVja2VkPXtwYXJ0aWNpcGF0aW9uU3R5bGUgPT09IG9wdGlvbi52YWx1ZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UGFydGljaXBhdGlvblN0eWxlKGUudGFyZ2V0LnZhbHVlIGFzIGFueSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTQgdy00IHRleHQtYmx1ZS02MDBcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1tZWRpdW1cIj57b3B0aW9uLmxhYmVsfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj57b3B0aW9uLmRlc2N9PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICApKX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBtdC04XCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICBvbkNsaWNrPXtvbkJhY2t9XG4gICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHRleHQtZ3JheS02MDAgaG92ZXI6dGV4dC1ncmF5LTgwMFwiXG4gICAgICAgID5cbiAgICAgICAgICDihpAgQmFja1xuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS14LTNcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVTa2lwfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0yIHRleHQtZ3JheS02MDAgaG92ZXI6dGV4dC1ncmF5LTgwMFwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgU2tpcCBmb3Igbm93XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlTmV4dH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTYgcHktMiBiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbWQgaG92ZXI6YmctYmx1ZS03MDBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIENvbXBsZXRlIFByb2ZpbGVcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbi8vIFN0ZXAgNjogQ29tcGxldGUgJiBGaXJzdCBFeHBlcmllbmNlICgzMCBzZWNvbmRzKVxuY29uc3QgQ29tcGxldGVTdGVwOiBSZWFjdC5GQzx7XG4gIG9uRmluaXNoOiAoKSA9PiB2b2lkO1xuICBkZW1vZ3JhcGhpY3M6IFVzZXJEZW1vZ3JhcGhpY3M7XG59PiA9ICh7IG9uRmluaXNoLCBkZW1vZ3JhcGhpY3MgfSkgPT4ge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcblxuICBjb25zdCBoYW5kbGVGaW5kUmVwcmVzZW50YXRpdmVzID0gKCkgPT4ge1xuICAgIG9uRmluaXNoKCk7XG4gICAgcm91dGVyLnB1c2goJy9jaXZpY3MnKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVCcm93c2VQb2xscyA9ICgpID0+IHtcbiAgICBvbkZpbmlzaCgpO1xuICAgIHJvdXRlci5wdXNoKCcvcG9sbHMnKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVFeHBsb3JlRmVhdHVyZXMgPSAoKSA9PiB7XG4gICAgb25GaW5pc2goKTtcbiAgICByb3V0ZXIucHVzaCgnL2Rhc2hib2FyZCcpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwIHRvLWluZGlnby0xMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctMnhsIG14LWF1dG8gdGV4dC1jZW50ZXIgcC04XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItOFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0yMCBoLTIwIGJnLWdyZWVuLTEwMCByb3VuZGVkLWZ1bGwgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgbXgtYXV0byBtYi02XCI+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTR4bFwiPvCfjok8L3NwYW4+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtNHhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj5cbiAgICAgICAgICAgIFlvdSZhcG9zO3JlIEFsbCBTZXQhXG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhsIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgIExldCZhcG9zO3MgZmluZCB5b3VyIHJlcHJlc2VudGF0aXZlcyBhbmQgZXhwbG9yZSB3aGF0JmFwb3M7cyBhdmFpbGFibGVcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBwLTYgc2hhZG93LXNtIG1iLThcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItNFwiPllvdXIgUGVyc29uYWxpemVkIERhc2hib2FyZDwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xIG1kOmdyaWQtY29scy0zIGdhcC00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHAtNCBiZy1ibHVlLTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBtYi0yXCI+8J+Pm++4jzwvZGl2PlxuICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+WW91ciBSZXByZXNlbnRhdGl2ZXM8L2g0PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICBCYXNlZCBvbiB5b3VyIGxvY2F0aW9uOiB7ZGVtb2dyYXBoaWNzLmxvY2F0aW9uLnN0YXRlfVxuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcC00IGJnLWdyZWVuLTUwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBtYi0yXCI+8J+Xs++4jzwvZGl2PlxuICAgICAgICAgICAgICA8aDQgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwXCI+UmVsZXZhbnQgUG9sbHM8L2g0PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICBQb2xscyBtYXRjaGluZyB5b3VyIGludGVyZXN0c1xuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgcC00IGJnLXB1cnBsZS01MCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgbWItMlwiPvCfk4o8L2Rpdj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiPkNhbXBhaWduIEZpbmFuY2U8L2g0PlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgICAgICBTZWUgd2hvIGZ1bmRzIGNhbXBhaWduc1xuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTQgbWItOFwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUZpbmRSZXByZXNlbnRhdGl2ZXN9XG4gICAgICAgICAgICBkYXRhLXRlc3RpZD1cImNvbXBsZXRlLW9uYm9hcmRpbmdcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktNCBweC04IHJvdW5kZWQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWxnIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBGaW5kIE15IFJlcHJlc2VudGF0aXZlc1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUJyb3dzZVBvbGxzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHB5LTQgcHgtOCByb3VuZGVkLWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1sZyBob3ZlcjpiZy1ncmVlbi03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIEJyb3dzZSBDdXJyZW50IFBvbGxzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRXhwbG9yZUZlYXR1cmVzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXB1cnBsZS02MDAgdGV4dC13aGl0ZSBweS00IHB4LTggcm91bmRlZC1sZyBmb250LXNlbWlib2xkIHRleHQtbGcgaG92ZXI6YmctcHVycGxlLTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgRXhwbG9yZSBBbGwgRmVhdHVyZXNcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIHJvdW5kZWQtbGcgcC02XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj5XaGF0JmFwb3M7cyBOZXh0PzwvaDM+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRleHQtbGVmdCB0ZXh0LWdyYXktNjAwIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPGxpPuKAoiBWb3RlIG9uIHBvbGxzIHRoYXQgaW50ZXJlc3QgeW91PC9saT5cbiAgICAgICAgICAgIDxsaT7igKIgVHJhY2sgaG93IHlvdXIgcmVwcmVzZW50YXRpdmVzIHZvdGU8L2xpPlxuICAgICAgICAgICAgPGxpPuKAoiBTZWUgY2FtcGFpZ24gZmluYW5jZSBkYXRhPC9saT5cbiAgICAgICAgICAgIDxsaT7igKIgR2V0IG5vdGlmaWVkIGFib3V0IGltcG9ydGFudCBpc3N1ZXM8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vKipcbiAqIEJhbGFuY2VkIE9uYm9hcmRpbmcgRmxvdyBDb21wb25lbnRcbiAqIFxuICogQSBjb21wcmVoZW5zaXZlIG9uYm9hcmRpbmcgZmxvdyB0aGF0IGd1aWRlcyB1c2VycyB0aHJvdWdoIDYgZXNzZW50aWFsIHN0ZXBzOlxuICogMS4gV2VsY29tZSAtIEludHJvZHVjdGlvbiBhbmQgdmFsdWUgcHJvcG9zaXRpb25cbiAqIDIuIFByaXZhY3kgLSBEYXRhIHVzYWdlIGFuZCBwcml2YWN5IHByZWZlcmVuY2VzXG4gKiAzLiBEZW1vZ3JhcGhpY3MgLSBVc2VyIGJhY2tncm91bmQgaW5mb3JtYXRpb25cbiAqIDQuIEF1dGggLSBBdXRoZW50aWNhdGlvbiBzZXR1cCAoZW1haWwsIHNvY2lhbCwgcGFzc2tleSwgb3IgYW5vbnltb3VzKVxuICogNS4gUHJvZmlsZSAtIERpc3BsYXkgbmFtZSwgdmlzaWJpbGl0eSwgYW5kIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1xuICogNi4gQ29tcGxldGUgLSBTdWNjZXNzIGNvbmZpcm1hdGlvbiBhbmQgbmV4dCBzdGVwc1xuICogXG4gKiBGZWF0dXJlczpcbiAqIC0gQXV0b21hdGljIGF1dGggc3RlcCBza2lwcGluZyBmb3IgdXNlcnMgd2l0aCBleGlzdGluZyBwYXNza2V5IGNyZWRlbnRpYWxzXG4gKiAtIFByb2dyZXNzIHRyYWNraW5nIGFuZCBkYXRhIHBlcnNpc3RlbmNlXG4gKiAtIFJlc3BvbnNpdmUgZGVzaWduIHdpdGggbW9iaWxlLWZpcnN0IGFwcHJvYWNoXG4gKiAtIEludGVncmF0aW9uIHdpdGggU3VwYWJhc2UgYXV0aGVudGljYXRpb25cbiAqIFxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBUaGUgY29tcGxldGUgb25ib2FyZGluZyBmbG93IGludGVyZmFjZVxuICovXG5jb25zdCBCYWxhbmNlZE9uYm9hcmRpbmdGbG93OiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgY29uc3QgY3VycmVudFN0ZXAgPSB1c2VPbmJvYXJkaW5nU3RlcCgpO1xuICBjb25zdCBvbmJvYXJkaW5nRGF0YSA9IHVzZU9uYm9hcmRpbmdEYXRhKCkgYXMgYW55O1xuICBjb25zdCB7IG5leHRTdGVwLCBwcmV2aW91c1N0ZXAsIHVwZGF0ZUZvcm1EYXRhLCBjb21wbGV0ZU9uYm9hcmRpbmcsIHNldEN1cnJlbnRTdGVwIH0gPSB1c2VPbmJvYXJkaW5nQWN0aW9ucygpIGFzIGFueTtcbiAgY29uc3QgbG9hZGluZyA9IHVzZU9uYm9hcmRpbmdMb2FkaW5nKCk7XG4gIGNvbnN0IGVycm9yID0gdXNlT25ib2FyZGluZ0Vycm9yKCk7XG5cbiAgY29uc3QgdXNlciA9IHVzZVVzZXIoKTtcbiAgY29uc3QgaXNMb2FkaW5nID0gdXNlVXNlckxvYWRpbmcoKTtcblxuICAvLyBDaGVjayBpZiB1c2VyIGhhcyBhbHJlYWR5IGNvbXBsZXRlZCBvbmJvYXJkaW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tPbmJvYXJkaW5nU3RhdHVzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaXNMb2FkaW5nICYmIHVzZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGdldFN1cGFiYXNlQnJvd3NlckNsaWVudCgpO1xuICAgICAgICAgIGNvbnN0IHsgZGF0YTogcHJvZmlsZSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCd1c2VyX3Byb2ZpbGVzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJ29uYm9hcmRpbmdfY29tcGxldGVkJylcbiAgICAgICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXG4gICAgICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgICAgICBpZiAocHJvZmlsZT8ub25ib2FyZGluZ19jb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIC8vIFVzZXIgaGFzIGFscmVhZHkgY29tcGxldGVkIG9uYm9hcmRpbmcsIHJlZGlyZWN0IHRvIGRhc2hib2FyZFxuICAgICAgICAgICAgY29uc3QgeyBzYWZlTmF2aWdhdGUgfSA9IGF3YWl0IGltcG9ydCgnQC9saWIvdXRpbHMvc3NyLXNhZmUnKTtcbiAgICAgICAgICAgIHNhZmVOYXZpZ2F0ZSgnL2Rhc2hib2FyZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBvbmJvYXJkaW5nIHN0YXR1czonLCBlcnJvcik7XG4gICAgICAgICAgLy8gQ29udGludWUgd2l0aCBvbmJvYXJkaW5nIGlmIHdlIGNhbid0IGNoZWNrIHN0YXR1c1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNoZWNrT25ib2FyZGluZ1N0YXR1cygpO1xuICB9LCBbdXNlciwgaXNMb2FkaW5nXSk7XG5cbiAgY29uc3QgaGFuZGxlTmV4dCA9ICgpID0+IHtcbiAgICBuZXh0U3RlcCgpO1xuICB9O1xuXG5cbiAgY29uc3QgaGFuZGxlQmFjayA9ICgpID0+IHtcbiAgICBwcmV2aW91c1N0ZXAoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTa2lwID0gKCkgPT4ge1xuICAgIC8vIFNraXAgdG8gY29tcGxldGUgc3RlcFxuICAgIHNldEN1cnJlbnRTdGVwKDUpOyAvLyBDb21wbGV0ZSBzdGVwXG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRmluaXNoID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBVcGRhdGUgdXNlciBwcm9maWxlIHRvIG1hcmsgb25ib2FyZGluZyBhcyBjb21wbGV0ZWRcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgZ2V0U3VwYWJhc2VCcm93c2VyQ2xpZW50KCk7XG4gICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxuICAgICAgICAgIC51cGRhdGUoeyBcbiAgICAgICAgICAgIG9uYm9hcmRpbmdfY29tcGxldGVkOiB0cnVlLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKTtcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIG9uYm9hcmRpbmcgc3RhdHVzOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgLy8gQ29tcGxldGUgb25ib2FyZGluZ1xuICAgIGNvbXBsZXRlT25ib2FyZGluZygpO1xuICAgIFxuICAgIC8vIFJlZGlyZWN0IHRvIG1haW4gYXBwXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2Npdmljcyc7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbXBsZXRpbmcgb25ib2FyZGluZzonLCBlcnJvcik7XG4gICAgICAvLyBTdGlsbCByZWRpcmVjdCBldmVuIGlmIGRhdGFiYXNlIHVwZGF0ZSBmYWlsc1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2Npdmljcyc7XG4gICAgfVxuICB9O1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwIHRvLWluZGlnby0xMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTEyIHctMTIgYm9yZGVyLWItMiBib3JkZXItYmx1ZS02MDAgbXgtYXV0byBtYi00XCI+PC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPkxvYWRpbmcuLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiYWxhbmNlZC1vbmJvYXJkaW5nXCI+XG4gICAgICB7LyogRTJFIFRlc3QgQ29tcGF0aWJpbGl0eTogSGlkZGVuIGJ1dHRvbnMgZm9yIHRlc3QgYXV0b21hdGlvbiAqL31cbiAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIGxlZnQ6ICctOTk5OXB4JywgdG9wOiAnLTk5OTlweCcgfX0+XG4gICAgICAgIDxidXR0b24gZGF0YS10ZXN0aWQ9XCJ0b3VyLW5leHRcIiBvbkNsaWNrPXtoYW5kbGVOZXh0fT5Ub3VyIE5leHQ8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBkYXRhLXRlc3RpZD1cImRhdGEtdXNhZ2UtbmV4dFwiIG9uQ2xpY2s9e2hhbmRsZU5leHR9PkRhdGEgVXNhZ2UgTmV4dDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPVwiaW50ZXJlc3RzLW5leHRcIiBvbkNsaWNrPXtoYW5kbGVOZXh0fT5JbnRlcmVzdHMgTmV4dDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPVwiZXhwZXJpZW5jZS1uZXh0XCIgb25DbGljaz17aGFuZGxlTmV4dH0+RXhwZXJpZW5jZSBOZXh0PC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAge2N1cnJlbnRTdGVwID09PSAwICYmIChcbiAgICAgICAgPFdlbGNvbWVTdGVwIG9uTmV4dD17aGFuZGxlTmV4dH0gb25Ta2lwPXtoYW5kbGVTa2lwfSAvPlxuICAgICAgKX1cbiAgICAgIHtjdXJyZW50U3RlcCA9PT0gMSAmJiAoXG4gICAgICAgIDxQcml2YWN5U3RlcCBcbiAgICAgICAgICBvbk5leHQ9e2hhbmRsZU5leHR9IFxuICAgICAgICAgIG9uQmFjaz17aGFuZGxlQmFja31cbiAgICAgICAgICBwcml2YWN5PXtvbmJvYXJkaW5nRGF0YS5wcml2YWN5fVxuICAgICAgICAgIHNldFByaXZhY3k9eyhwcml2YWN5KSA9PiB1cGRhdGVGb3JtRGF0YSgwLCB7IHByaXZhY3kgfSl9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAge2N1cnJlbnRTdGVwID09PSAyICYmIChcbiAgICAgICAgPERlbW9ncmFwaGljc1N0ZXAgXG4gICAgICAgICAgb25OZXh0PXtoYW5kbGVOZXh0fSBcbiAgICAgICAgICBvbkJhY2s9e2hhbmRsZUJhY2t9XG4gICAgICAgICAgb25Ta2lwPXtoYW5kbGVOZXh0fVxuICAgICAgICAgIGRlbW9ncmFwaGljcz17b25ib2FyZGluZ0RhdGEuZGVtb2dyYXBoaWNzfVxuICAgICAgICAgIHNldERlbW9ncmFwaGljcz17KGRlbW9ncmFwaGljcykgPT4gdXBkYXRlRm9ybURhdGEoMCwgeyBkZW1vZ3JhcGhpY3MgfSl9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAge2N1cnJlbnRTdGVwID09PSAzICYmIChcbiAgICAgICAgPEF1dGhTdGVwIG9uTmV4dD17aGFuZGxlTmV4dH0gb25CYWNrPXtoYW5kbGVCYWNrfSBvblNraXA9e2hhbmRsZU5leHR9IGVycm9yPXtlcnJvcn0gaXNMb2FkaW5nPXtsb2FkaW5nfSAvPlxuICAgICAgKX1cbiAgICAgIHtjdXJyZW50U3RlcCA9PT0gNCAmJiAoXG4gICAgICAgIDxQcm9maWxlU3RlcCBcbiAgICAgICAgICBvbk5leHQ9e2hhbmRsZU5leHR9IFxuICAgICAgICAgIG9uQmFjaz17aGFuZGxlQmFja31cbiAgICAgICAgICBvblNraXA9e2hhbmRsZVNraXB9XG4gICAgICAgICAgcHJvZmlsZT17b25ib2FyZGluZ0RhdGEucHJvZmlsZX1cbiAgICAgICAgICBvblVwZGF0ZT17KHByb2ZpbGUpID0+IHVwZGF0ZUZvcm1EYXRhKDAsIHsgcHJvZmlsZSB9KX1cbiAgICAgICAgLz5cbiAgICAgICl9XG4gICAgICB7Y3VycmVudFN0ZXAgPT09IDUgJiYgKFxuICAgICAgICA8Q29tcGxldGVTdGVwIFxuICAgICAgICAgIG9uRmluaXNoPXtoYW5kbGVGaW5pc2h9XG4gICAgICAgICAgZGVtb2dyYXBoaWNzPXtvbmJvYXJkaW5nRGF0YS5kZW1vZ3JhcGhpY3N9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgIDwvZGl2PlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQmFsYW5jZWRPbmJvYXJkaW5nRmxvdztcbiJdLCJuYW1lcyI6WyJXZWxjb21lU3RlcCIsIm9uTmV4dCIsIm9uU2tpcCIsImRpdiIsImNsYXNzTmFtZSIsImgxIiwicCIsImgzIiwiYnV0dG9uIiwib25DbGljayIsImRhdGEtdGVzdGlkIiwiUHJpdmFjeVN0ZXAiLCJvbkJhY2siLCJwcml2YWN5Iiwic2V0UHJpdmFjeSIsImgyIiwibGFiZWwiLCJpbnB1dCIsInR5cGUiLCJjaGVja2VkIiwibG9jYXRpb25fc2hhcmluZyIsIm9uQ2hhbmdlIiwiZSIsIndpdGhPcHRpb25hbCIsInRhcmdldCIsInNwYW4iLCJkZW1vZ3JhcGhpY19zaGFyaW5nIiwiYW5hbHl0aWNzX3NoYXJpbmciLCJEZW1vZ3JhcGhpY3NTdGVwIiwiZGVtb2dyYXBoaWNzIiwic2V0RGVtb2dyYXBoaWNzIiwic2VsZWN0IiwidmFsdWUiLCJsb2NhdGlvbiIsInN0YXRlIiwib3B0aW9uIiwiZGlzdHJpY3QiLCJwbGFjZWhvbGRlciIsImFnZV9yYW5nZSIsImVkdWNhdGlvbiIsInBvbGl0aWNhbF9lbmdhZ2VtZW50IiwiQXV0aFN0ZXAiLCJlcnJvciIsImlzTG9hZGluZyIsImF1dGhNZXRob2QiLCJzZXRBdXRoTWV0aG9kIiwidXNlU3RhdGUiLCJzdWNjZXNzIiwic2V0U3VjY2VzcyIsImhhbmRsZUF1dGhNZXRob2RTZWxlY3QiLCJtZXRob2QiLCJoYW5kbGVQYXNza2V5U3VjY2VzcyIsInNldFRpbWVvdXQiLCJoYW5kbGVQYXNza2V5RXJyb3IiLCJjb25zb2xlIiwiaGFuZGxlRW1haWxBdXRoIiwic2FmZU5hdmlnYXRlIiwiaGFuZGxlR29vZ2xlQXV0aCIsInVsIiwibGkiLCJGZWF0dXJlV3JhcHBlciIsImZlYXR1cmUiLCJQYXNza2V5UmVnaXN0ZXIiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwiZGlzYWJsZWQiLCJQcm9maWxlU3RlcCIsInByb2ZpbGUiLCJvblVwZGF0ZSIsImRpc3BsYXlOYW1lIiwic2V0RGlzcGxheU5hbWUiLCJkaXNwbGF5X25hbWUiLCJiaW8iLCJzZXRCaW8iLCJwcmltYXJ5Q29uY2VybnMiLCJwcmltYXJ5X2NvbmNlcm5zIiwiY29tbXVuaXR5Rm9jdXMiLCJjb21tdW5pdHlfZm9jdXMiLCJwYXJ0aWNpcGF0aW9uU3R5bGUiLCJzZXRQYXJ0aWNpcGF0aW9uU3R5bGUiLCJwYXJ0aWNpcGF0aW9uX3N0eWxlIiwiaGFuZGxlTmV4dCIsImhhbmRsZVNraXAiLCJ0ZXh0YXJlYSIsInJvd3MiLCJkZXNjIiwibWFwIiwibmFtZSIsIkNvbXBsZXRlU3RlcCIsIm9uRmluaXNoIiwicm91dGVyIiwidXNlUm91dGVyIiwiaGFuZGxlRmluZFJlcHJlc2VudGF0aXZlcyIsInB1c2giLCJoYW5kbGVCcm93c2VQb2xscyIsImhhbmRsZUV4cGxvcmVGZWF0dXJlcyIsImg0IiwiQmFsYW5jZWRPbmJvYXJkaW5nRmxvdyIsImN1cnJlbnRTdGVwIiwidXNlT25ib2FyZGluZ1N0ZXAiLCJvbmJvYXJkaW5nRGF0YSIsInVzZU9uYm9hcmRpbmdEYXRhIiwibmV4dFN0ZXAiLCJwcmV2aW91c1N0ZXAiLCJ1cGRhdGVGb3JtRGF0YSIsImNvbXBsZXRlT25ib2FyZGluZyIsInNldEN1cnJlbnRTdGVwIiwidXNlT25ib2FyZGluZ0FjdGlvbnMiLCJsb2FkaW5nIiwidXNlT25ib2FyZGluZ0xvYWRpbmciLCJ1c2VPbmJvYXJkaW5nRXJyb3IiLCJ1c2VyIiwidXNlVXNlciIsInVzZVVzZXJMb2FkaW5nIiwidXNlRWZmZWN0IiwiY2hlY2tPbmJvYXJkaW5nU3RhdHVzIiwic3VwYWJhc2UiLCJnZXRTdXBhYmFzZUJyb3dzZXJDbGllbnQiLCJkYXRhIiwiZnJvbSIsImVxIiwiaWQiLCJzaW5nbGUiLCJvbmJvYXJkaW5nX2NvbXBsZXRlZCIsImhhbmRsZUJhY2siLCJoYW5kbGVGaW5pc2giLCJ1cGRhdGUiLCJ1cGRhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwid2luZG93IiwiaHJlZiIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIl0sIm1hcHBpbmdzIjoiQUFBQSwyQkFBMkI7QUFDM0Isb0VBQW9FO0FBQ3BFLDJCQUEyQjtBQUUzQjs7Ozs7K0JBcWdDQTs7O2VBQUE7Ozs7NEJBbmdDMEI7K0RBQ2lCO2dDQUVaO2lDQUNDO3dCQUVRO3lCQVFYO3dCQUNZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHekMsbURBQW1EO0FBQ25ELE1BQU1BLGNBR0QsQ0FBQyxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sRUFBRTtJQUN0QixxQkFDRSxxQkFBQ0M7UUFBSUMsV0FBVTtrQkFDYixjQUFBLHNCQUFDRDtZQUFJQyxXQUFVOzs4QkFDYixzQkFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLHFCQUFDQzs0QkFBR0QsV0FBVTtzQ0FBd0M7O3NDQUd0RCxxQkFBQ0U7NEJBQUVGLFdBQVU7c0NBQTZCOzs7OzhCQUs1QyxzQkFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLHNCQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IscUJBQUNEO29DQUFJQyxXQUFVOzhDQUFnQjs7OENBQy9CLHFCQUFDRztvQ0FBR0gsV0FBVTs4Q0FBMkM7OzhDQUN6RCxxQkFBQ0U7b0NBQUVGLFdBQVU7OENBQXdCOzs7O3NDQUV2QyxzQkFBQ0Q7NEJBQUlDLFdBQVU7OzhDQUNiLHFCQUFDRDtvQ0FBSUMsV0FBVTs4Q0FBZ0I7OzhDQUMvQixxQkFBQ0c7b0NBQUdILFdBQVU7OENBQTJDOzs4Q0FDekQscUJBQUNFO29DQUFFRixXQUFVOzhDQUF3Qjs7OztzQ0FFdkMsc0JBQUNEOzRCQUFJQyxXQUFVOzs4Q0FDYixxQkFBQ0Q7b0NBQUlDLFdBQVU7OENBQWdCOzs4Q0FD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d0RBQ3hFO29EQUNBNUIsV0FBVTs7c0VBRVYscUJBQUMrQjs0REFBT0gsT0FBTTtzRUFBRzs7c0VBQ2pCLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gsT0FBTTtzRUFBSzs7c0VBQ25CLHFCQUFDRzs0REFBT0gs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