423fff6409aaa2c62bd25e05cbdac794
/**
 * Feeds Store - Zustand Implementation
 * 
 * Comprehensive content feed state management including feed data,
 * filtering, search, user preferences, and content interactions.
 * Consolidates feed state management and content preferences.
 * 
 * Created: October 10, 2025
 * Status: âœ… ACTIVE
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    feedsStoreDebug: function() {
        return feedsStoreDebug;
    },
    feedsStoreSubscriptions: function() {
        return feedsStoreSubscriptions;
    },
    feedsStoreUtils: function() {
        return feedsStoreUtils;
    },
    useBookmarkedFeeds: function() {
        return useBookmarkedFeeds;
    },
    useFeedCategories: function() {
        return useFeedCategories;
    },
    useFeedFilters: function() {
        return useFeedFilters;
    },
    useFeedPreferences: function() {
        return useFeedPreferences;
    },
    useFeedSearch: function() {
        return useFeedSearch;
    },
    useFeeds: function() {
        return useFeeds;
    },
    useFeedsActions: function() {
        return useFeedsActions;
    },
    useFeedsError: function() {
        return useFeedsError;
    },
    useFeedsLoading: function() {
        return useFeedsLoading;
    },
    useFeedsStats: function() {
        return useFeedsStats;
    },
    useFeedsStore: function() {
        return useFeedsStore;
    },
    useFilteredFeeds: function() {
        return useFilteredFeeds;
    },
    useLikedFeeds: function() {
        return useLikedFeeds;
    },
    useSelectedFeed: function() {
        return useSelectedFeed;
    },
    useUnreadFeeds: function() {
        return useUnreadFeeds;
    }
});
const _zustand = require("zustand");
const _middleware = require("zustand/middleware");
const _logger = require("../utils/logger");
const _objects = require("../utils/objects");
// Default feed preferences
const defaultPreferences = {
    defaultView: "list",
    sortBy: "newest",
    itemsPerPage: 20,
    autoRefresh: true,
    refreshInterval: 15,
    notifications: {
        newContent: true,
        trendingContent: true,
        categoryUpdates: false,
        authorUpdates: false
    },
    privacy: {
        showReadHistory: false,
        showBookmarks: true,
        showLikes: true,
        shareActivity: false
    },
    content: {
        showImages: true,
        showVideos: true,
        showAudio: true,
        autoPlay: false,
        quality: "medium"
    }
};
// Default feed filters
const defaultFilters = {
    categories: [],
    types: [],
    sources: [],
    dateRange: {
        start: "",
        end: ""
    },
    readStatus: "all",
    engagement: "all",
    language: "en",
    tags: []
};
const useFeedsStore = (0, _zustand.create)()((0, _middleware.devtools)((0, _middleware.persist)((set, get)=>({
        // Initial state
        feeds: [],
        filteredFeeds: [],
        categories: [],
        search: {
            query: "",
            results: [],
            totalResults: 0,
            currentPage: 1,
            totalPages: 1,
            filters: defaultFilters,
            suggestions: [],
            recentSearches: []
        },
        currentView: "list",
        selectedFeed: null,
        selectedCategory: null,
        filters: defaultFilters,
        preferences: defaultPreferences,
        isLoading: false,
        isSearching: false,
        isRefreshing: false,
        isUpdating: false,
        error: null,
        // Feed management actions
        setFeeds: (feeds)=>set({
                feeds,
                filteredFeeds: feeds
            }),
        addFeed: (feed)=>set((state)=>({
                    feeds: [
                        feed,
                        ...state.feeds
                    ],
                    filteredFeeds: [
                        feed,
                        ...state.filteredFeeds
                    ]
                })),
        updateFeed: (id, updates)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, updates) : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, updates) : feed)
                })),
        removeFeed: (id)=>set((state)=>({
                    feeds: state.feeds.filter((feed)=>feed.id !== id),
                    filteredFeeds: state.filteredFeeds.filter((feed)=>feed.id !== id)
                })),
        refreshFeeds: async ()=>{
            const { isRefreshing } = get();
            if (isRefreshing) return; // Prevent multiple simultaneous calls
            try {
                set({
                    isRefreshing: true,
                    error: null
                });
                const response = await fetch("/api/feeds", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        category: null
                    })
                });
                if (!response.ok) {
                    throw new Error("Failed to refresh feeds");
                }
                const feeds = await response.json();
                set({
                    feeds,
                    filteredFeeds: feeds,
                    isRefreshing: false
                });
                _logger.logger.info("Feeds refreshed successfully");
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                set({
                    error: errorMessage,
                    isRefreshing: false
                });
                _logger.logger.error("Failed to refresh feeds:", error instanceof Error ? error : new Error(errorMessage));
            }
        },
        loadMoreFeeds: async ()=>{
            const { isLoading } = get();
            if (isLoading) return; // Prevent multiple simultaneous calls
            try {
                set({
                    isLoading: true,
                    error: null
                });
                const response = await fetch("/api/feeds", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        category: null
                    })
                });
                if (!response.ok) {
                    throw new Error("Failed to load more feeds");
                }
                const newFeeds = await response.json();
                set((state)=>({
                        feeds: [
                            ...state.feeds,
                            ...newFeeds
                        ],
                        filteredFeeds: [
                            ...state.filteredFeeds,
                            ...newFeeds
                        ],
                        isLoading: false
                    }));
                _logger.logger.info("More feeds loaded");
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                set({
                    error: errorMessage,
                    isLoading: false
                });
                _logger.logger.error("Failed to load more feeds:", error instanceof Error ? error : new Error(errorMessage));
            }
        },
        // Filtering and search actions
        setFilters: (filters)=>set((state)=>{
                const newFilters = (0, _objects.withOptional)(state.filters, filters);
                // Apply filters to feeds
                const filtered = state.feeds.filter((feed)=>{
                    if (newFilters.categories.length > 0 && !newFilters.categories.includes(feed.category)) {
                        return false;
                    }
                    if (newFilters.types.length > 0 && !newFilters.types.includes(feed.type)) {
                        return false;
                    }
                    if (newFilters.sources.length > 0 && !newFilters.sources.includes(feed.source.name)) {
                        return false;
                    }
                    if (newFilters.readStatus === "read" && !feed.userInteraction.read) {
                        return false;
                    }
                    if (newFilters.readStatus === "unread" && feed.userInteraction.read) {
                        return false;
                    }
                    if (newFilters.tags.length > 0 && !newFilters.tags.some((tag)=>feed.tags.includes(tag))) {
                        return false;
                    }
                    return true;
                });
                return {
                    filters: newFilters,
                    filteredFeeds: filtered
                };
            }),
        clearFilters: ()=>set((state)=>({
                    filters: defaultFilters,
                    filteredFeeds: state.feeds
                })),
        searchFeeds: async (query)=>{
            const { setSearching, setError } = get();
            try {
                setSearching(true);
                setError(null);
                const response = await fetch("/api/feeds/search", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        query
                    })
                });
                if (!response.ok) {
                    throw new Error("Failed to search feeds");
                }
                const results = await response.json();
                set((state)=>({
                        search: {
                            ...state.search,
                            query,
                            results: results.items,
                            totalResults: results.total,
                            currentPage: 1,
                            totalPages: Math.ceil(results.total / state.preferences.itemsPerPage)
                        }
                    }));
                _logger.logger.info("Feeds searched", {
                    query,
                    results: results.items.length,
                    total: results.total
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to search feeds:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setSearching(false);
            }
        },
        setSearchQuery: (query)=>set((state)=>({
                    search: {
                        ...state.search,
                        query
                    }
                })),
        clearSearch: ()=>set((state)=>({
                    search: {
                        ...state.search,
                        query: "",
                        results: [],
                        totalResults: 0,
                        currentPage: 1,
                        totalPages: 1
                    }
                })),
        // Feed interaction actions
        likeFeed: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                liked: true
                            }),
                            engagement: (0, _objects.withOptional)(feed.engagement, {
                                likes: feed.engagement.likes + 1
                            })
                        }) : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                liked: true
                            }),
                            engagement: {
                                ...feed.engagement,
                                likes: feed.engagement.likes + 1
                            }
                        }) : feed)
                })),
        unlikeFeed: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                liked: false
                            }),
                            engagement: (0, _objects.withOptional)(feed.engagement, {
                                likes: Math.max(0, feed.engagement.likes - 1)
                            })
                        }) : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                liked: false
                            }),
                            engagement: (0, _objects.withOptional)(feed.engagement, {
                                likes: Math.max(0, feed.engagement.likes - 1)
                            })
                        }) : feed)
                })),
        shareFeed: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                shared: true
                            }),
                            engagement: (0, _objects.withOptional)(feed.engagement, {
                                shares: feed.engagement.shares + 1
                            })
                        }) : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                shared: true
                            }),
                            engagement: (0, _objects.withOptional)(feed.engagement, {
                                shares: feed.engagement.shares + 1
                            })
                        }) : feed)
                })),
        bookmarkFeed: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                bookmarked: true
                            })
                        }) : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                bookmarked: true
                            })
                        }) : feed)
                })),
        unbookmarkFeed: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                bookmarked: false
                            })
                        }) : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                bookmarked: false
                            })
                        }) : feed)
                })),
        markAsRead: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                read: true,
                                readAt: new Date().toISOString()
                            })
                        }) : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                read: true,
                                readAt: new Date().toISOString()
                            })
                        }) : feed)
                })),
        markAsUnread: (id)=>set((state)=>({
                    feeds: state.feeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                read: false,
                                readAt: undefined
                            })
                        }) : feed),
                    filteredFeeds: state.filteredFeeds.map((feed)=>feed.id === id ? (0, _objects.withOptional)(feed, {
                            userInteraction: (0, _objects.withOptional)(feed.userInteraction, {
                                read: false,
                                readAt: undefined
                            })
                        }) : feed)
                })),
        // Category actions
        setCategories: (categories)=>set({
                categories
            }),
        toggleCategory: (categoryId)=>set((state)=>({
                    categories: state.categories.map((category)=>category.id === categoryId ? (0, _objects.withOptional)(category, {
                            enabled: !category.enabled
                        }) : category)
                })),
        setSelectedCategory: (categoryId)=>set({
                selectedCategory: categoryId
            }),
        // Preferences actions
        updatePreferences: (preferences)=>set((state)=>({
                    preferences: (0, _objects.withOptional)(state.preferences, preferences)
                })),
        resetPreferences: ()=>set({
                preferences: defaultPreferences
            }),
        // View management actions
        setCurrentView: (view)=>set({
                currentView: view
            }),
        setSelectedFeed: (feed)=>set({
                selectedFeed: feed
            }),
        // Data operations
        loadFeeds: async (category)=>{
            try {
                set({
                    isLoading: true,
                    error: null
                });
                const response = await fetch("/api/feeds", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        category
                    })
                });
                if (response && response.ok) {
                    const feeds = await response.json();
                    set({
                        feeds,
                        filteredFeeds: feeds,
                        isLoading: false
                    });
                    _logger.logger.info("Feeds loaded", {
                        category,
                        count: feeds.length
                    });
                } else {
                    // Fallback to mock data if API is not available
                    const mockFeeds = [
                        {
                            id: "1",
                            title: "Sample Civic Activity",
                            description: "A sample civic activity for testing",
                            category: "civic",
                            timestamp: new Date().toISOString(),
                            source: "test"
                        }
                    ];
                    set({
                        feeds: mockFeeds,
                        filteredFeeds: mockFeeds,
                        isLoading: false
                    });
                }
            } catch (error) {
                // Fallback to mock data on error
                const mockFeeds = [
                    {
                        id: "1",
                        title: "Sample Civic Activity",
                        description: "A sample civic activity for testing",
                        category: "civic",
                        timestamp: new Date().toISOString(),
                        source: "test"
                    }
                ];
                set({
                    feeds: mockFeeds,
                    filteredFeeds: mockFeeds,
                    isLoading: false
                });
                _logger.logger.info("Using fallback data due to API error:", error);
            }
        },
        loadCategories: async ()=>{
            try {
                set({
                    isLoading: true,
                    error: null
                });
                const response = await fetch("/api/feeds/categories");
                if (!response.ok) {
                    throw new Error("Failed to load categories");
                }
                const categories = await response.json();
                set({
                    categories,
                    isLoading: false
                });
                _logger.logger.info("Feed categories loaded", {
                    count: categories.length
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                set({
                    error: errorMessage,
                    isLoading: false
                });
                _logger.logger.error("Failed to load categories:", error instanceof Error ? error : new Error(errorMessage));
            }
        },
        saveUserInteraction: async (feedId, interaction)=>{
            try {
                set({
                    isUpdating: true,
                    error: null
                });
                const response = await fetch("/api/feeds/interactions", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        feedId,
                        interaction
                    })
                });
                if (!response.ok) {
                    throw new Error("Failed to save user interaction");
                }
                set({
                    isUpdating: false
                });
                _logger.logger.info("User interaction saved", {
                    feedId,
                    interaction
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                set({
                    error: errorMessage,
                    isUpdating: false
                });
                _logger.logger.error("Failed to save user interaction:", error instanceof Error ? error : new Error(errorMessage));
            }
        },
        // Loading state actions
        setLoading: (loading)=>set({
                isLoading: loading
            }),
        setSearching: (searching)=>set({
                isSearching: searching
            }),
        setRefreshing: (refreshing)=>set({
                isRefreshing: refreshing
            }),
        setUpdating: (updating)=>set({
                isUpdating: updating
            }),
        setError: (error)=>set({
                error
            }),
        clearError: ()=>set({
                error: null
            })
    }), {
    name: "feeds-store",
    partialize: (state)=>({
            feeds: state.feeds,
            categories: state.categories,
            preferences: state.preferences,
            filters: state.filters,
            currentView: state.currentView
        })
}), {
    name: "feeds-store"
}));
const useFeeds = ()=>useFeedsStore((state)=>state.feeds);
const useFilteredFeeds = ()=>useFeedsStore((state)=>state.filteredFeeds);
const useFeedCategories = ()=>useFeedsStore((state)=>state.categories);
const useFeedSearch = ()=>useFeedsStore((state)=>state.search);
const useSelectedFeed = ()=>useFeedsStore((state)=>state.selectedFeed);
const useFeedPreferences = ()=>useFeedsStore((state)=>state.preferences);
const useFeedFilters = ()=>useFeedsStore((state)=>state.filters);
const useFeedsLoading = ()=>useFeedsStore((state)=>state.isLoading);
const useFeedsError = ()=>useFeedsStore((state)=>state.error);
const useFeedsActions = ()=>useFeedsStore((state)=>state);
const useFeedsStats = ()=>useFeedsStore((state)=>({
            totalFeeds: state.feeds.length,
            filteredFeeds: state.filteredFeeds.length,
            totalCategories: state.categories.length,
            enabledCategories: state.categories.filter((cat)=>cat.enabled).length,
            searchResults: state.search.results.length,
            isLoading: state.isLoading,
            isSearching: state.isSearching,
            error: state.error
        }));
const useBookmarkedFeeds = ()=>useFeedsStore((state)=>state.feeds.filter((feed)=>feed.userInteraction.bookmarked));
const useUnreadFeeds = ()=>useFeedsStore((state)=>state.feeds.filter((feed)=>!feed.userInteraction.read));
const useLikedFeeds = ()=>useFeedsStore((state)=>state.feeds.filter((feed)=>feed.userInteraction.liked));
const feedsStoreUtils = {
    /**
   * Get feeds summary
   */ getFeedsSummary: ()=>{
        const state = useFeedsStore.getState();
        return {
            totalFeeds: state.feeds.length,
            filteredFeeds: state.filteredFeeds.length,
            categories: state.categories.length,
            searchResults: state.search.results.length,
            preferences: state.preferences
        };
    },
    /**
   * Get feeds by category
   */ getFeedsByCategory: (category)=>{
        const state = useFeedsStore.getState();
        return state.feeds.filter((feed)=>feed.category === category);
    },
    /**
   * Get feeds by type
   */ getFeedsByType: (type)=>{
        const state = useFeedsStore.getState();
        return state.feeds.filter((feed)=>feed.type === type);
    },
    /**
   * Get trending feeds
   */ getTrendingFeeds: ()=>{
        const state = useFeedsStore.getState();
        return state.feeds.sort((a, b)=>b.engagement.likes + b.engagement.shares - (a.engagement.likes + a.engagement.shares)).slice(0, 10);
    },
    /**
   * Get recent feeds
   */ getRecentFeeds: (limit = 10)=>{
        const state = useFeedsStore.getState();
        return state.feeds.sort((a, b)=>new Date(b.publishedAt).getTime() - new Date(a.publishedAt).getTime()).slice(0, limit);
    }
};
const feedsStoreSubscriptions = {
    /**
   * Subscribe to feeds changes
   */ onFeedsChange: (callback)=>{
        return useFeedsStore.subscribe((state)=>{
            callback(state.feeds);
        });
    },
    /**
   * Subscribe to search results changes
   */ onSearchResultsChange: (callback)=>{
        return useFeedsStore.subscribe((state)=>{
            callback(state.search.results);
        });
    },
    /**
   * Subscribe to preferences changes
   */ onPreferencesChange: (callback)=>{
        return useFeedsStore.subscribe((state)=>{
            callback(state.preferences);
        });
    }
};
const feedsStoreDebug = {
    /**
   * Log current feeds state
   */ logState: ()=>{
        const state = useFeedsStore.getState();
        console.log("Feeds Store State:", {
            totalFeeds: state.feeds.length,
            filteredFeeds: state.filteredFeeds.length,
            categories: state.categories.length,
            searchResults: state.search.results.length,
            currentView: state.currentView,
            selectedCategory: state.selectedCategory,
            isLoading: state.isLoading,
            error: state.error
        });
    },
    /**
   * Log feeds summary
   */ logSummary: ()=>{
        const summary = feedsStoreUtils.getFeedsSummary();
        console.log("Feeds Summary:", summary);
    },
    /**
   * Log feeds by category
   */ logFeedsByCategory: ()=>{
        const state = useFeedsStore.getState();
        const byCategory = state.feeds.reduce((acc, feed)=>{
            acc[feed.category] = (acc[feed.category] || 0) + 1;
            return acc;
        }, {});
        console.log("Feeds by Category:", byCategory);
    },
    /**
   * Reset feeds store
   */ reset: ()=>{
        useFeedsStore.getState().clearFilters();
        useFeedsStore.getState().resetPreferences();
        console.log("Feeds store reset");
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvc3RvcmVzL2ZlZWRzU3RvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBGZWVkcyBTdG9yZSAtIFp1c3RhbmQgSW1wbGVtZW50YXRpb25cbiAqIFxuICogQ29tcHJlaGVuc2l2ZSBjb250ZW50IGZlZWQgc3RhdGUgbWFuYWdlbWVudCBpbmNsdWRpbmcgZmVlZCBkYXRhLFxuICogZmlsdGVyaW5nLCBzZWFyY2gsIHVzZXIgcHJlZmVyZW5jZXMsIGFuZCBjb250ZW50IGludGVyYWN0aW9ucy5cbiAqIENvbnNvbGlkYXRlcyBmZWVkIHN0YXRlIG1hbmFnZW1lbnQgYW5kIGNvbnRlbnQgcHJlZmVyZW5jZXMuXG4gKiBcbiAqIENyZWF0ZWQ6IE9jdG9iZXIgMTAsIDIwMjVcbiAqIFN0YXR1czog4pyFIEFDVElWRVxuICovXG5cbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnO1xuaW1wb3J0IHsgZGV2dG9vbHMgfSBmcm9tICd6dXN0YW5kL21pZGRsZXdhcmUnO1xuaW1wb3J0IHsgcGVyc2lzdCB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0AvbGliL3V0aWxzL2xvZ2dlcic7XG5pbXBvcnQgeyB3aXRoT3B0aW9uYWwgfSBmcm9tICdAL2xpYi91dGlscy9vYmplY3RzJztcblxuLy8gRmVlZCBkYXRhIHR5cGVzXG5pbnRlcmZhY2UgRmVlZEl0ZW0ge1xuICBpZDogc3RyaW5nO1xuICB0aXRsZTogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIHN1bW1hcnk6IHN0cmluZztcbiAgYXV0aG9yOiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgYXZhdGFyPzogc3RyaW5nO1xuICAgIHZlcmlmaWVkOiBib29sZWFuO1xuICB9O1xuICBjYXRlZ29yeTogc3RyaW5nO1xuICB0YWdzOiBzdHJpbmdbXTtcbiAgdHlwZTogJ2FydGljbGUnIHwgJ3ZpZGVvJyB8ICdwb2RjYXN0JyB8ICdwb2xsJyB8ICdldmVudCcgfCAnbmV3cyc7XG4gIHNvdXJjZToge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICB1cmw6IHN0cmluZztcbiAgICBsb2dvPzogc3RyaW5nO1xuICAgIHZlcmlmaWVkOiBib29sZWFuO1xuICB9O1xuICBwdWJsaXNoZWRBdDogc3RyaW5nO1xuICB1cGRhdGVkQXQ6IHN0cmluZztcbiAgcmVhZFRpbWU6IG51bWJlcjsgLy8gbWludXRlc1xuICBlbmdhZ2VtZW50OiB7XG4gICAgbGlrZXM6IG51bWJlcjtcbiAgICBzaGFyZXM6IG51bWJlcjtcbiAgICBjb21tZW50czogbnVtYmVyO1xuICAgIHZpZXdzOiBudW1iZXI7XG4gIH07XG4gIHVzZXJJbnRlcmFjdGlvbjoge1xuICAgIGxpa2VkOiBib29sZWFuO1xuICAgIHNoYXJlZDogYm9vbGVhbjtcbiAgICBib29rbWFya2VkOiBib29sZWFuO1xuICAgIHJlYWQ6IGJvb2xlYW47XG4gICAgcmVhZEF0Pzogc3RyaW5nO1xuICB9O1xuICBtZXRhZGF0YToge1xuICAgIGltYWdlPzogc3RyaW5nO1xuICAgIHZpZGVvVXJsPzogc3RyaW5nO1xuICAgIGF1ZGlvVXJsPzogc3RyaW5nO1xuICAgIGV4dGVybmFsVXJsPzogc3RyaW5nO1xuICAgIGxvY2F0aW9uPzogc3RyaW5nO1xuICAgIGxhbmd1YWdlOiBzdHJpbmc7XG4gIH07XG59XG5cbmludGVyZmFjZSBGZWVkQ2F0ZWdvcnkge1xuICBpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGNvbG9yOiBzdHJpbmc7XG4gIGljb246IHN0cmluZztcbiAgY291bnQ6IG51bWJlcjtcbiAgZW5hYmxlZDogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIEZlZWRGaWx0ZXJzIHtcbiAgY2F0ZWdvcmllczogc3RyaW5nW107XG4gIHR5cGVzOiBzdHJpbmdbXTtcbiAgc291cmNlczogc3RyaW5nW107XG4gIGRhdGVSYW5nZToge1xuICAgIHN0YXJ0OiBzdHJpbmc7XG4gICAgZW5kOiBzdHJpbmc7XG4gIH07XG4gIHJlYWRTdGF0dXM6ICdhbGwnIHwgJ3JlYWQnIHwgJ3VucmVhZCc7XG4gIGVuZ2FnZW1lbnQ6ICdhbGwnIHwgJ3BvcHVsYXInIHwgJ3RyZW5kaW5nJztcbiAgbGFuZ3VhZ2U6IHN0cmluZztcbiAgdGFnczogc3RyaW5nW107XG59XG5cbmludGVyZmFjZSBGZWVkUHJlZmVyZW5jZXMge1xuICBkZWZhdWx0VmlldzogJ2xpc3QnIHwgJ2dyaWQnIHwgJ21hZ2F6aW5lJztcbiAgc29ydEJ5OiAnbmV3ZXN0JyB8ICdvbGRlc3QnIHwgJ3BvcHVsYXInIHwgJ3RyZW5kaW5nJyB8ICdyZWxldmFuY2UnO1xuICBpdGVtc1BlclBhZ2U6IG51bWJlcjtcbiAgYXV0b1JlZnJlc2g6IGJvb2xlYW47XG4gIHJlZnJlc2hJbnRlcnZhbDogbnVtYmVyOyAvLyBtaW51dGVzXG4gIG5vdGlmaWNhdGlvbnM6IHtcbiAgICBuZXdDb250ZW50OiBib29sZWFuO1xuICAgIHRyZW5kaW5nQ29udGVudDogYm9vbGVhbjtcbiAgICBjYXRlZ29yeVVwZGF0ZXM6IGJvb2xlYW47XG4gICAgYXV0aG9yVXBkYXRlczogYm9vbGVhbjtcbiAgfTtcbiAgcHJpdmFjeToge1xuICAgIHNob3dSZWFkSGlzdG9yeTogYm9vbGVhbjtcbiAgICBzaG93Qm9va21hcmtzOiBib29sZWFuO1xuICAgIHNob3dMaWtlczogYm9vbGVhbjtcbiAgICBzaGFyZUFjdGl2aXR5OiBib29sZWFuO1xuICB9O1xuICBjb250ZW50OiB7XG4gICAgc2hvd0ltYWdlczogYm9vbGVhbjtcbiAgICBzaG93VmlkZW9zOiBib29sZWFuO1xuICAgIHNob3dBdWRpbzogYm9vbGVhbjtcbiAgICBhdXRvUGxheTogYm9vbGVhbjtcbiAgICBxdWFsaXR5OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnO1xuICB9O1xufVxuXG5pbnRlcmZhY2UgRmVlZFNlYXJjaCB7XG4gIHF1ZXJ5OiBzdHJpbmc7XG4gIHJlc3VsdHM6IEZlZWRJdGVtW107XG4gIHRvdGFsUmVzdWx0czogbnVtYmVyO1xuICBjdXJyZW50UGFnZTogbnVtYmVyO1xuICB0b3RhbFBhZ2VzOiBudW1iZXI7XG4gIGZpbHRlcnM6IEZlZWRGaWx0ZXJzO1xuICBzdWdnZXN0aW9uczogc3RyaW5nW107XG4gIHJlY2VudFNlYXJjaGVzOiBzdHJpbmdbXTtcbn1cblxuLy8gRmVlZHMgc3RvcmUgc3RhdGUgaW50ZXJmYWNlXG5pbnRlcmZhY2UgRmVlZHNTdG9yZSB7XG4gIC8vIEZlZWQgZGF0YVxuICBmZWVkczogRmVlZEl0ZW1bXTtcbiAgZmlsdGVyZWRGZWVkczogRmVlZEl0ZW1bXTtcbiAgY2F0ZWdvcmllczogRmVlZENhdGVnb3J5W107XG4gIHNlYXJjaDogRmVlZFNlYXJjaDtcbiAgXG4gIC8vIFVJIHN0YXRlXG4gIGN1cnJlbnRWaWV3OiAnbGlzdCcgfCAnZ3JpZCcgfCAnbWFnYXppbmUnO1xuICBzZWxlY3RlZEZlZWQ6IEZlZWRJdGVtIHwgbnVsbDtcbiAgc2VsZWN0ZWRDYXRlZ29yeTogc3RyaW5nIHwgbnVsbDtcbiAgXG4gIC8vIEZpbHRlcnMgYW5kIHByZWZlcmVuY2VzXG4gIGZpbHRlcnM6IEZlZWRGaWx0ZXJzO1xuICBwcmVmZXJlbmNlczogRmVlZFByZWZlcmVuY2VzO1xuICBcbiAgLy8gTG9hZGluZyBzdGF0ZXNcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBpc1NlYXJjaGluZzogYm9vbGVhbjtcbiAgaXNSZWZyZXNoaW5nOiBib29sZWFuO1xuICBpc1VwZGF0aW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBGZWVkIG1hbmFnZW1lbnRcbiAgc2V0RmVlZHM6IChmZWVkczogRmVlZEl0ZW1bXSkgPT4gdm9pZDtcbiAgYWRkRmVlZDogKGZlZWQ6IEZlZWRJdGVtKSA9PiB2b2lkO1xuICB1cGRhdGVGZWVkOiAoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxGZWVkSXRlbT4pID0+IHZvaWQ7XG4gIHJlbW92ZUZlZWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICByZWZyZXNoRmVlZHM6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGxvYWRNb3JlRmVlZHM6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIFxuICAvLyBBY3Rpb25zIC0gRmlsdGVyaW5nIGFuZCBzZWFyY2hcbiAgc2V0RmlsdGVyczogKGZpbHRlcnM6IFBhcnRpYWw8RmVlZEZpbHRlcnM+KSA9PiB2b2lkO1xuICBjbGVhckZpbHRlcnM6ICgpID0+IHZvaWQ7XG4gIHNlYXJjaEZlZWRzOiAocXVlcnk6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc2V0U2VhcmNoUXVlcnk6IChxdWVyeTogc3RyaW5nKSA9PiB2b2lkO1xuICBjbGVhclNlYXJjaDogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBGZWVkIGludGVyYWN0aW9uc1xuICBsaWtlRmVlZDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHVubGlrZUZlZWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICBzaGFyZUZlZWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICBib29rbWFya0ZlZWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICB1bmJvb2ttYXJrRmVlZDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIG1hcmtBc1JlYWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICBtYXJrQXNVbnJlYWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICBcbiAgLy8gQWN0aW9ucyAtIENhdGVnb3JpZXNcbiAgc2V0Q2F0ZWdvcmllczogKGNhdGVnb3JpZXM6IEZlZWRDYXRlZ29yeVtdKSA9PiB2b2lkO1xuICB0b2dnbGVDYXRlZ29yeTogKGNhdGVnb3J5SWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgc2V0U2VsZWN0ZWRDYXRlZ29yeTogKGNhdGVnb3J5SWQ6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gUHJlZmVyZW5jZXNcbiAgdXBkYXRlUHJlZmVyZW5jZXM6IChwcmVmZXJlbmNlczogUGFydGlhbDxGZWVkUHJlZmVyZW5jZXM+KSA9PiB2b2lkO1xuICByZXNldFByZWZlcmVuY2VzOiAoKSA9PiB2b2lkO1xuICBcbiAgLy8gQWN0aW9ucyAtIFZpZXcgbWFuYWdlbWVudFxuICBzZXRDdXJyZW50VmlldzogKHZpZXc6ICdsaXN0JyB8ICdncmlkJyB8ICdtYWdhemluZScpID0+IHZvaWQ7XG4gIHNldFNlbGVjdGVkRmVlZDogKGZlZWQ6IEZlZWRJdGVtIHwgbnVsbCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBEYXRhIG9wZXJhdGlvbnNcbiAgbG9hZEZlZWRzOiAoY2F0ZWdvcnk/OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIGxvYWRDYXRlZ29yaWVzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzYXZlVXNlckludGVyYWN0aW9uOiAoZmVlZElkOiBzdHJpbmcsIGludGVyYWN0aW9uOiBQYXJ0aWFsPEZlZWRJdGVtWyd1c2VySW50ZXJhY3Rpb24nXT4pID0+IFByb21pc2U8dm9pZD47XG4gIFxuICAvLyBBY3Rpb25zIC0gTG9hZGluZyBzdGF0ZXNcbiAgc2V0TG9hZGluZzogKGxvYWRpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldFNlYXJjaGluZzogKHNlYXJjaGluZzogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0UmVmcmVzaGluZzogKHJlZnJlc2hpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldFVwZGF0aW5nOiAodXBkYXRpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldEVycm9yOiAoZXJyb3I6IHN0cmluZyB8IG51bGwpID0+IHZvaWQ7XG4gIGNsZWFyRXJyb3I6ICgpID0+IHZvaWQ7XG59XG5cbi8vIERlZmF1bHQgZmVlZCBwcmVmZXJlbmNlc1xuY29uc3QgZGVmYXVsdFByZWZlcmVuY2VzOiBGZWVkUHJlZmVyZW5jZXMgPSB7XG4gIGRlZmF1bHRWaWV3OiAnbGlzdCcsXG4gIHNvcnRCeTogJ25ld2VzdCcsXG4gIGl0ZW1zUGVyUGFnZTogMjAsXG4gIGF1dG9SZWZyZXNoOiB0cnVlLFxuICByZWZyZXNoSW50ZXJ2YWw6IDE1LFxuICBub3RpZmljYXRpb25zOiB7XG4gICAgbmV3Q29udGVudDogdHJ1ZSxcbiAgICB0cmVuZGluZ0NvbnRlbnQ6IHRydWUsXG4gICAgY2F0ZWdvcnlVcGRhdGVzOiBmYWxzZSxcbiAgICBhdXRob3JVcGRhdGVzOiBmYWxzZSxcbiAgfSxcbiAgcHJpdmFjeToge1xuICAgIHNob3dSZWFkSGlzdG9yeTogZmFsc2UsXG4gICAgc2hvd0Jvb2ttYXJrczogdHJ1ZSxcbiAgICBzaG93TGlrZXM6IHRydWUsXG4gICAgc2hhcmVBY3Rpdml0eTogZmFsc2UsXG4gIH0sXG4gIGNvbnRlbnQ6IHtcbiAgICBzaG93SW1hZ2VzOiB0cnVlLFxuICAgIHNob3dWaWRlb3M6IHRydWUsXG4gICAgc2hvd0F1ZGlvOiB0cnVlLFxuICAgIGF1dG9QbGF5OiBmYWxzZSxcbiAgICBxdWFsaXR5OiAnbWVkaXVtJyxcbiAgfSxcbn07XG5cbi8vIERlZmF1bHQgZmVlZCBmaWx0ZXJzXG5jb25zdCBkZWZhdWx0RmlsdGVyczogRmVlZEZpbHRlcnMgPSB7XG4gIGNhdGVnb3JpZXM6IFtdLFxuICB0eXBlczogW10sXG4gIHNvdXJjZXM6IFtdLFxuICBkYXRlUmFuZ2U6IHtcbiAgICBzdGFydDogJycsXG4gICAgZW5kOiAnJyxcbiAgfSxcbiAgcmVhZFN0YXR1czogJ2FsbCcsXG4gIGVuZ2FnZW1lbnQ6ICdhbGwnLFxuICBsYW5ndWFnZTogJ2VuJyxcbiAgdGFnczogW10sXG59O1xuXG4vLyBDcmVhdGUgZmVlZHMgc3RvcmUgd2l0aCBtaWRkbGV3YXJlXG5leHBvcnQgY29uc3QgdXNlRmVlZHNTdG9yZSA9IGNyZWF0ZTxGZWVkc1N0b3JlPigpKFxuICBkZXZ0b29scyhcbiAgICBwZXJzaXN0KFxuICAgICAgKHNldCwgZ2V0KSA9PiAoe1xuICAgICAgICAvLyBJbml0aWFsIHN0YXRlXG4gICAgICAgIGZlZWRzOiBbXSxcbiAgICAgICAgZmlsdGVyZWRGZWVkczogW10sXG4gICAgICAgIGNhdGVnb3JpZXM6IFtdLFxuICAgICAgICBzZWFyY2g6IHtcbiAgICAgICAgICBxdWVyeTogJycsXG4gICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgdG90YWxSZXN1bHRzOiAwLFxuICAgICAgICAgIGN1cnJlbnRQYWdlOiAxLFxuICAgICAgICAgIHRvdGFsUGFnZXM6IDEsXG4gICAgICAgICAgZmlsdGVyczogZGVmYXVsdEZpbHRlcnMsXG4gICAgICAgICAgc3VnZ2VzdGlvbnM6IFtdLFxuICAgICAgICAgIHJlY2VudFNlYXJjaGVzOiBbXSxcbiAgICAgICAgfSxcbiAgICAgICAgY3VycmVudFZpZXc6ICdsaXN0JyxcbiAgICAgICAgc2VsZWN0ZWRGZWVkOiBudWxsLFxuICAgICAgICBzZWxlY3RlZENhdGVnb3J5OiBudWxsLFxuICAgICAgICBmaWx0ZXJzOiBkZWZhdWx0RmlsdGVycyxcbiAgICAgICAgcHJlZmVyZW5jZXM6IGRlZmF1bHRQcmVmZXJlbmNlcyxcbiAgICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgaXNTZWFyY2hpbmc6IGZhbHNlLFxuICAgICAgICBpc1JlZnJlc2hpbmc6IGZhbHNlLFxuICAgICAgICBpc1VwZGF0aW5nOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIFxuICAgICAgICAvLyBGZWVkIG1hbmFnZW1lbnQgYWN0aW9uc1xuICAgICAgICBzZXRGZWVkczogKGZlZWRzKSA9PiBzZXQoeyBmZWVkcywgZmlsdGVyZWRGZWVkczogZmVlZHMgfSksXG4gICAgICAgIFxuICAgICAgICBhZGRGZWVkOiAoZmVlZCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBmZWVkczogW2ZlZWQsIC4uLnN0YXRlLmZlZWRzXSxcbiAgICAgICAgICBmaWx0ZXJlZEZlZWRzOiBbZmVlZCwgLi4uc3RhdGUuZmlsdGVyZWRGZWVkc10sXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZUZlZWQ6IChpZCwgdXBkYXRlcykgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBmZWVkczogc3RhdGUuZmVlZHMubWFwKGZlZWQgPT5cbiAgICAgICAgICAgIGZlZWQuaWQgPT09IGlkID8gd2l0aE9wdGlvbmFsKGZlZWQsIHVwZGF0ZXMpIDogZmVlZFxuICAgICAgICAgICksXG4gICAgICAgICAgZmlsdGVyZWRGZWVkczogc3RhdGUuZmlsdGVyZWRGZWVkcy5tYXAoZmVlZCA9PlxuICAgICAgICAgICAgZmVlZC5pZCA9PT0gaWQgPyB3aXRoT3B0aW9uYWwoZmVlZCwgdXBkYXRlcykgOiBmZWVkXG4gICAgICAgICAgKSxcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgcmVtb3ZlRmVlZDogKGlkKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGZlZWRzOiBzdGF0ZS5mZWVkcy5maWx0ZXIoZmVlZCA9PiBmZWVkLmlkICE9PSBpZCksXG4gICAgICAgICAgZmlsdGVyZWRGZWVkczogc3RhdGUuZmlsdGVyZWRGZWVkcy5maWx0ZXIoZmVlZCA9PiBmZWVkLmlkICE9PSBpZCksXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIHJlZnJlc2hGZWVkczogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgaXNSZWZyZXNoaW5nIH0gPSBnZXQoKTtcbiAgICAgICAgICBpZiAoaXNSZWZyZXNoaW5nKSByZXR1cm47IC8vIFByZXZlbnQgbXVsdGlwbGUgc2ltdWx0YW5lb3VzIGNhbGxzXG4gICAgICAgICAgXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldCh7IGlzUmVmcmVzaGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZmVlZHMnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjYXRlZ29yeTogbnVsbCB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHJlZnJlc2ggZmVlZHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgZmVlZHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBzZXQoeyBmZWVkcywgZmlsdGVyZWRGZWVkczogZmVlZHMsIGlzUmVmcmVzaGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdGZWVkcyByZWZyZXNoZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0KHsgZXJyb3I6IGVycm9yTWVzc2FnZSwgaXNSZWZyZXNoaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHJlZnJlc2ggZmVlZHM6JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGxvYWRNb3JlRmVlZHM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IGlzTG9hZGluZyB9ID0gZ2V0KCk7XG4gICAgICAgICAgaWYgKGlzTG9hZGluZykgcmV0dXJuOyAvLyBQcmV2ZW50IG11bHRpcGxlIHNpbXVsdGFuZW91cyBjYWxsc1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXQoeyBpc0xvYWRpbmc6IHRydWUsIGVycm9yOiBudWxsIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2ZlZWRzJywge1xuICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgY2F0ZWdvcnk6IG51bGwgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBsb2FkIG1vcmUgZmVlZHMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3QgbmV3RmVlZHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgICAgICBmZWVkczogWy4uLnN0YXRlLmZlZWRzLCAuLi5uZXdGZWVkc10sXG4gICAgICAgICAgICAgIGZpbHRlcmVkRmVlZHM6IFsuLi5zdGF0ZS5maWx0ZXJlZEZlZWRzLCAuLi5uZXdGZWVkc10sXG4gICAgICAgICAgICAgIGlzTG9hZGluZzogZmFsc2VcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ01vcmUgZmVlZHMgbG9hZGVkJyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0KHsgZXJyb3I6IGVycm9yTWVzc2FnZSwgaXNMb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGxvYWQgbW9yZSBmZWVkczonLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLy8gRmlsdGVyaW5nIGFuZCBzZWFyY2ggYWN0aW9uc1xuICAgICAgICBzZXRGaWx0ZXJzOiAoZmlsdGVycykgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld0ZpbHRlcnMgPSB3aXRoT3B0aW9uYWwoc3RhdGUuZmlsdGVycywgZmlsdGVycyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQXBwbHkgZmlsdGVycyB0byBmZWVkc1xuICAgICAgICAgIGNvbnN0IGZpbHRlcmVkID0gc3RhdGUuZmVlZHMuZmlsdGVyKGZlZWQgPT4ge1xuICAgICAgICAgICAgaWYgKG5ld0ZpbHRlcnMuY2F0ZWdvcmllcy5sZW5ndGggPiAwICYmICFuZXdGaWx0ZXJzLmNhdGVnb3JpZXMuaW5jbHVkZXMoZmVlZC5jYXRlZ29yeSkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG5ld0ZpbHRlcnMudHlwZXMubGVuZ3RoID4gMCAmJiAhbmV3RmlsdGVycy50eXBlcy5pbmNsdWRlcyhmZWVkLnR5cGUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdGaWx0ZXJzLnNvdXJjZXMubGVuZ3RoID4gMCAmJiAhbmV3RmlsdGVycy5zb3VyY2VzLmluY2x1ZGVzKGZlZWQuc291cmNlLm5hbWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdGaWx0ZXJzLnJlYWRTdGF0dXMgPT09ICdyZWFkJyAmJiAhZmVlZC51c2VySW50ZXJhY3Rpb24ucmVhZCkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobmV3RmlsdGVycy5yZWFkU3RhdHVzID09PSAndW5yZWFkJyAmJiBmZWVkLnVzZXJJbnRlcmFjdGlvbi5yZWFkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuZXdGaWx0ZXJzLnRhZ3MubGVuZ3RoID4gMCAmJiAhbmV3RmlsdGVycy50YWdzLnNvbWUodGFnID0+IGZlZWQudGFncy5pbmNsdWRlcyh0YWcpKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4geyBmaWx0ZXJzOiBuZXdGaWx0ZXJzLCBmaWx0ZXJlZEZlZWRzOiBmaWx0ZXJlZCB9O1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIGNsZWFyRmlsdGVyczogKCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBmaWx0ZXJzOiBkZWZhdWx0RmlsdGVycyxcbiAgICAgICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5mZWVkcyxcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgc2VhcmNoRmVlZHM6IGFzeW5jIChxdWVyeSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0U2VhcmNoaW5nLCBzZXRFcnJvciB9ID0gZ2V0KCk7XG4gICAgICAgICAgXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldFNlYXJjaGluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL2ZlZWRzL3NlYXJjaCcsIHtcbiAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LFxuICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHF1ZXJ5IH0pLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gc2VhcmNoIGZlZWRzJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgICAgIHNlYXJjaDoge1xuICAgICAgICAgICAgICAgIC4uLnN0YXRlLnNlYXJjaCxcbiAgICAgICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgICAgICByZXN1bHRzOiByZXN1bHRzLml0ZW1zLFxuICAgICAgICAgICAgICAgIHRvdGFsUmVzdWx0czogcmVzdWx0cy50b3RhbCxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcbiAgICAgICAgICAgICAgICB0b3RhbFBhZ2VzOiBNYXRoLmNlaWwocmVzdWx0cy50b3RhbCAvIHN0YXRlLnByZWZlcmVuY2VzLml0ZW1zUGVyUGFnZSksXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdGZWVkcyBzZWFyY2hlZCcsIHtcbiAgICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAgIHJlc3VsdHM6IHJlc3VsdHMuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICB0b3RhbDogcmVzdWx0cy50b3RhbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHNlYXJjaCBmZWVkczonLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldFNlYXJjaGluZyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgc2V0U2VhcmNoUXVlcnk6IChxdWVyeSkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBzZWFyY2g6IHsgLi4uc3RhdGUuc2VhcmNoLCBxdWVyeSB9XG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIGNsZWFyU2VhcmNoOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHNlYXJjaDoge1xuICAgICAgICAgICAgLi4uc3RhdGUuc2VhcmNoLFxuICAgICAgICAgICAgcXVlcnk6ICcnLFxuICAgICAgICAgICAgcmVzdWx0czogW10sXG4gICAgICAgICAgICB0b3RhbFJlc3VsdHM6IDAsXG4gICAgICAgICAgICBjdXJyZW50UGFnZTogMSxcbiAgICAgICAgICAgIHRvdGFsUGFnZXM6IDEsXG4gICAgICAgICAgfVxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICAvLyBGZWVkIGludGVyYWN0aW9uIGFjdGlvbnNcbiAgICAgICAgbGlrZUZlZWQ6IChpZCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBmZWVkczogc3RhdGUuZmVlZHMubWFwKGZlZWQgPT5cbiAgICAgICAgICAgIGZlZWQuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHdpdGhPcHRpb25hbChmZWVkLCB7IFxuICAgICAgICAgICAgICAgICAgdXNlckludGVyYWN0aW9uOiB3aXRoT3B0aW9uYWwoZmVlZC51c2VySW50ZXJhY3Rpb24sIHsgbGlrZWQ6IHRydWUgfSksXG4gICAgICAgICAgICAgICAgICBlbmdhZ2VtZW50OiB3aXRoT3B0aW9uYWwoZmVlZC5lbmdhZ2VtZW50LCB7IGxpa2VzOiBmZWVkLmVuZ2FnZW1lbnQubGlrZXMgKyAxIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgOiBmZWVkXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5maWx0ZXJlZEZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwoZmVlZCwgeyBcbiAgICAgICAgICAgICAgICAgIHVzZXJJbnRlcmFjdGlvbjogd2l0aE9wdGlvbmFsKGZlZWQudXNlckludGVyYWN0aW9uLCB7IGxpa2VkOiB0cnVlIH0pLFxuICAgICAgICAgICAgICAgICAgZW5nYWdlbWVudDogeyAuLi5mZWVkLmVuZ2FnZW1lbnQsIGxpa2VzOiBmZWVkLmVuZ2FnZW1lbnQubGlrZXMgKyAxIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICB1bmxpa2VGZWVkOiAoaWQpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgZmVlZHM6IHN0YXRlLmZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwoZmVlZCwgeyBcbiAgICAgICAgICAgICAgICAgIHVzZXJJbnRlcmFjdGlvbjogd2l0aE9wdGlvbmFsKGZlZWQudXNlckludGVyYWN0aW9uLCB7IGxpa2VkOiBmYWxzZSB9KSxcbiAgICAgICAgICAgICAgICAgIGVuZ2FnZW1lbnQ6IHdpdGhPcHRpb25hbChmZWVkLmVuZ2FnZW1lbnQsIHsgbGlrZXM6IE1hdGgubWF4KDAsIGZlZWQuZW5nYWdlbWVudC5saWtlcyAtIDEpIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgOiBmZWVkXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5maWx0ZXJlZEZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwoZmVlZCwgeyBcbiAgICAgICAgICAgICAgICAgIHVzZXJJbnRlcmFjdGlvbjogd2l0aE9wdGlvbmFsKGZlZWQudXNlckludGVyYWN0aW9uLCB7IGxpa2VkOiBmYWxzZSB9KSxcbiAgICAgICAgICAgICAgICAgIGVuZ2FnZW1lbnQ6IHdpdGhPcHRpb25hbChmZWVkLmVuZ2FnZW1lbnQsIHsgbGlrZXM6IE1hdGgubWF4KDAsIGZlZWQuZW5nYWdlbWVudC5saWtlcyAtIDEpIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgOiBmZWVkXG4gICAgICAgICAgKSxcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgc2hhcmVGZWVkOiAoaWQpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgZmVlZHM6IHN0YXRlLmZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwoZmVlZCwgeyBcbiAgICAgICAgICAgICAgICAgIHVzZXJJbnRlcmFjdGlvbjogd2l0aE9wdGlvbmFsKGZlZWQudXNlckludGVyYWN0aW9uLCB7IHNoYXJlZDogdHJ1ZSB9KSxcbiAgICAgICAgICAgICAgICAgIGVuZ2FnZW1lbnQ6IHdpdGhPcHRpb25hbChmZWVkLmVuZ2FnZW1lbnQsIHsgc2hhcmVzOiBmZWVkLmVuZ2FnZW1lbnQuc2hhcmVzICsgMSB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIDogZmVlZFxuICAgICAgICAgICksXG4gICAgICAgICAgZmlsdGVyZWRGZWVkczogc3RhdGUuZmlsdGVyZWRGZWVkcy5tYXAoZmVlZCA9PlxuICAgICAgICAgICAgZmVlZC5pZCA9PT0gaWQgXG4gICAgICAgICAgICAgID8gd2l0aE9wdGlvbmFsKGZlZWQsIHsgXG4gICAgICAgICAgICAgICAgICB1c2VySW50ZXJhY3Rpb246IHdpdGhPcHRpb25hbChmZWVkLnVzZXJJbnRlcmFjdGlvbiwgeyBzaGFyZWQ6IHRydWUgfSksXG4gICAgICAgICAgICAgICAgICBlbmdhZ2VtZW50OiB3aXRoT3B0aW9uYWwoZmVlZC5lbmdhZ2VtZW50LCB7IHNoYXJlczogZmVlZC5lbmdhZ2VtZW50LnNoYXJlcyArIDEgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICBib29rbWFya0ZlZWQ6IChpZCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBmZWVkczogc3RhdGUuZmVlZHMubWFwKGZlZWQgPT5cbiAgICAgICAgICAgIGZlZWQuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHdpdGhPcHRpb25hbChmZWVkLCB7IHVzZXJJbnRlcmFjdGlvbjogd2l0aE9wdGlvbmFsKGZlZWQudXNlckludGVyYWN0aW9uLCB7IGJvb2ttYXJrZWQ6IHRydWUgfSkgfSlcbiAgICAgICAgICAgICAgOiBmZWVkXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5maWx0ZXJlZEZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwoZmVlZCwgeyB1c2VySW50ZXJhY3Rpb246IHdpdGhPcHRpb25hbChmZWVkLnVzZXJJbnRlcmFjdGlvbiwgeyBib29rbWFya2VkOiB0cnVlIH0pIH0pXG4gICAgICAgICAgICAgIDogZmVlZFxuICAgICAgICAgICksXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIHVuYm9va21hcmtGZWVkOiAoaWQpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgZmVlZHM6IHN0YXRlLmZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwoZmVlZCwgeyB1c2VySW50ZXJhY3Rpb246IHdpdGhPcHRpb25hbChmZWVkLnVzZXJJbnRlcmFjdGlvbiwgeyBib29rbWFya2VkOiBmYWxzZSB9KSB9KVxuICAgICAgICAgICAgICA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICAgIGZpbHRlcmVkRmVlZHM6IHN0YXRlLmZpbHRlcmVkRmVlZHMubWFwKGZlZWQgPT5cbiAgICAgICAgICAgIGZlZWQuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHdpdGhPcHRpb25hbChmZWVkLCB7IHVzZXJJbnRlcmFjdGlvbjogd2l0aE9wdGlvbmFsKGZlZWQudXNlckludGVyYWN0aW9uLCB7IGJvb2ttYXJrZWQ6IGZhbHNlIH0pIH0pXG4gICAgICAgICAgICAgIDogZmVlZFxuICAgICAgICAgICksXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIG1hcmtBc1JlYWQ6IChpZCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBmZWVkczogc3RhdGUuZmVlZHMubWFwKGZlZWQgPT5cbiAgICAgICAgICAgIGZlZWQuaWQgPT09IGlkIFxuICAgICAgICAgICAgICA/IHdpdGhPcHRpb25hbChmZWVkLCB7IFxuICAgICAgICAgICAgICAgICAgdXNlckludGVyYWN0aW9uOiB3aXRoT3B0aW9uYWwoZmVlZC51c2VySW50ZXJhY3Rpb24sIHsgXG4gICAgICAgICAgICAgICAgICAgIHJlYWQ6IHRydWUsIFxuICAgICAgICAgICAgICAgICAgICByZWFkQXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSBcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgOiBmZWVkXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5maWx0ZXJlZEZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwoZmVlZCwgeyBcbiAgICAgICAgICAgICAgICAgIHVzZXJJbnRlcmFjdGlvbjogd2l0aE9wdGlvbmFsKGZlZWQudXNlckludGVyYWN0aW9uLCB7IFxuICAgICAgICAgICAgICAgICAgICByZWFkOiB0cnVlLCBcbiAgICAgICAgICAgICAgICAgICAgcmVhZEF0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIDogZmVlZFxuICAgICAgICAgICksXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIG1hcmtBc1VucmVhZDogKGlkKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGZlZWRzOiBzdGF0ZS5mZWVkcy5tYXAoZmVlZCA9PlxuICAgICAgICAgICAgZmVlZC5pZCA9PT0gaWQgXG4gICAgICAgICAgICAgID8gd2l0aE9wdGlvbmFsKGZlZWQsIHsgXG4gICAgICAgICAgICAgICAgICB1c2VySW50ZXJhY3Rpb246IHdpdGhPcHRpb25hbChmZWVkLnVzZXJJbnRlcmFjdGlvbiwgeyBcbiAgICAgICAgICAgICAgICAgICAgcmVhZDogZmFsc2UsIFxuICAgICAgICAgICAgICAgICAgICByZWFkQXQ6IHVuZGVmaW5lZCBcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgOiBmZWVkXG4gICAgICAgICAgKSxcbiAgICAgICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5maWx0ZXJlZEZlZWRzLm1hcChmZWVkID0+XG4gICAgICAgICAgICBmZWVkLmlkID09PSBpZCBcbiAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwoZmVlZCwgeyBcbiAgICAgICAgICAgICAgICAgIHVzZXJJbnRlcmFjdGlvbjogd2l0aE9wdGlvbmFsKGZlZWQudXNlckludGVyYWN0aW9uLCB7IFxuICAgICAgICAgICAgICAgICAgICByZWFkOiBmYWxzZSwgXG4gICAgICAgICAgICAgICAgICAgIHJlYWRBdDogdW5kZWZpbmVkIFxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICA6IGZlZWRcbiAgICAgICAgICApLFxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICAvLyBDYXRlZ29yeSBhY3Rpb25zXG4gICAgICAgIHNldENhdGVnb3JpZXM6IChjYXRlZ29yaWVzKSA9PiBzZXQoeyBjYXRlZ29yaWVzIH0pLFxuICAgICAgICBcbiAgICAgICAgdG9nZ2xlQ2F0ZWdvcnk6IChjYXRlZ29yeUlkKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGNhdGVnb3JpZXM6IHN0YXRlLmNhdGVnb3JpZXMubWFwKGNhdGVnb3J5ID0+XG4gICAgICAgICAgICBjYXRlZ29yeS5pZCA9PT0gY2F0ZWdvcnlJZCBcbiAgICAgICAgICAgICAgPyB3aXRoT3B0aW9uYWwoY2F0ZWdvcnksIHsgZW5hYmxlZDogIWNhdGVnb3J5LmVuYWJsZWQgfSlcbiAgICAgICAgICAgICAgOiBjYXRlZ29yeVxuICAgICAgICAgIClcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgc2V0U2VsZWN0ZWRDYXRlZ29yeTogKGNhdGVnb3J5SWQpID0+IHNldCh7IHNlbGVjdGVkQ2F0ZWdvcnk6IGNhdGVnb3J5SWQgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBQcmVmZXJlbmNlcyBhY3Rpb25zXG4gICAgICAgIHVwZGF0ZVByZWZlcmVuY2VzOiAocHJlZmVyZW5jZXMpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgcHJlZmVyZW5jZXM6IHdpdGhPcHRpb25hbChzdGF0ZS5wcmVmZXJlbmNlcywgcHJlZmVyZW5jZXMpXG4gICAgICAgIH0pKSxcbiAgICAgICAgXG4gICAgICAgIHJlc2V0UHJlZmVyZW5jZXM6ICgpID0+IHNldCh7IHByZWZlcmVuY2VzOiBkZWZhdWx0UHJlZmVyZW5jZXMgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBWaWV3IG1hbmFnZW1lbnQgYWN0aW9uc1xuICAgICAgICBzZXRDdXJyZW50VmlldzogKHZpZXcpID0+IHNldCh7IGN1cnJlbnRWaWV3OiB2aWV3IH0pLFxuICAgICAgICBcbiAgICAgICAgc2V0U2VsZWN0ZWRGZWVkOiAoZmVlZCkgPT4gc2V0KHsgc2VsZWN0ZWRGZWVkOiBmZWVkIH0pLFxuICAgICAgICBcbiAgICAgICAgLy8gRGF0YSBvcGVyYXRpb25zXG4gICAgICAgIGxvYWRGZWVkczogYXN5bmMgKGNhdGVnb3J5KSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldCh7IGlzTG9hZGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZmVlZHMnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBjYXRlZ29yeSB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgY29uc3QgZmVlZHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgICAgICAgICAgIHNldCh7IGZlZWRzLCBmaWx0ZXJlZEZlZWRzOiBmZWVkcywgaXNMb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdGZWVkcyBsb2FkZWQnLCB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnksXG4gICAgICAgICAgICAgICAgY291bnQ6IGZlZWRzLmxlbmd0aFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIG1vY2sgZGF0YSBpZiBBUEkgaXMgbm90IGF2YWlsYWJsZVxuICAgICAgICAgICAgICBjb25zdCBtb2NrRmVlZHMgPSBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnU2FtcGxlIENpdmljIEFjdGl2aXR5JyxcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQSBzYW1wbGUgY2l2aWMgYWN0aXZpdHkgZm9yIHRlc3RpbmcnLFxuICAgICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdjaXZpYycsXG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgIHNvdXJjZTogJ3Rlc3QnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICBzZXQoeyBmZWVkczogbW9ja0ZlZWRzLCBmaWx0ZXJlZEZlZWRzOiBtb2NrRmVlZHMsIGlzTG9hZGluZzogZmFsc2UgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIEZhbGxiYWNrIHRvIG1vY2sgZGF0YSBvbiBlcnJvclxuICAgICAgICAgICAgY29uc3QgbW9ja0ZlZWRzID0gW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1NhbXBsZSBDaXZpYyBBY3Rpdml0eScsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246ICdBIHNhbXBsZSBjaXZpYyBhY3Rpdml0eSBmb3IgdGVzdGluZycsXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6ICdjaXZpYycsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgc291cmNlOiAndGVzdCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIHNldCh7IGZlZWRzOiBtb2NrRmVlZHMsIGZpbHRlcmVkRmVlZHM6IG1vY2tGZWVkcywgaXNMb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdVc2luZyBmYWxsYmFjayBkYXRhIGR1ZSB0byBBUEkgZXJyb3I6JywgZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGxvYWRDYXRlZ29yaWVzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNldCh7IGlzTG9hZGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZmVlZHMvY2F0ZWdvcmllcycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgY2F0ZWdvcmllcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgc2V0KHsgY2F0ZWdvcmllcywgaXNMb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ0ZlZWQgY2F0ZWdvcmllcyBsb2FkZWQnLCB7XG4gICAgICAgICAgICAgIGNvdW50OiBjYXRlZ29yaWVzLmxlbmd0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0KHsgZXJyb3I6IGVycm9yTWVzc2FnZSwgaXNMb2FkaW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGxvYWQgY2F0ZWdvcmllczonLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgc2F2ZVVzZXJJbnRlcmFjdGlvbjogYXN5bmMgKGZlZWRJZCwgaW50ZXJhY3Rpb24pID0+IHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0KHsgaXNVcGRhdGluZzogdHJ1ZSwgZXJyb3I6IG51bGwgfSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZmVlZHMvaW50ZXJhY3Rpb25zJywge1xuICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXG4gICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZmVlZElkLCBpbnRlcmFjdGlvbiB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHNhdmUgdXNlciBpbnRlcmFjdGlvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXQoeyBpc1VwZGF0aW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGxvZ2dlci5pbmZvKCdVc2VyIGludGVyYWN0aW9uIHNhdmVkJywge1xuICAgICAgICAgICAgICBmZWVkSWQsXG4gICAgICAgICAgICAgIGludGVyYWN0aW9uXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICBzZXQoeyBlcnJvcjogZXJyb3JNZXNzYWdlLCBpc1VwZGF0aW5nOiBmYWxzZSB9KTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHNhdmUgdXNlciBpbnRlcmFjdGlvbjonLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLy8gTG9hZGluZyBzdGF0ZSBhY3Rpb25zXG4gICAgICAgIHNldExvYWRpbmc6IChsb2FkaW5nKSA9PiBzZXQoeyBpc0xvYWRpbmc6IGxvYWRpbmcgfSksXG4gICAgICAgIHNldFNlYXJjaGluZzogKHNlYXJjaGluZykgPT4gc2V0KHsgaXNTZWFyY2hpbmc6IHNlYXJjaGluZyB9KSxcbiAgICAgICAgc2V0UmVmcmVzaGluZzogKHJlZnJlc2hpbmcpID0+IHNldCh7IGlzUmVmcmVzaGluZzogcmVmcmVzaGluZyB9KSxcbiAgICAgICAgc2V0VXBkYXRpbmc6ICh1cGRhdGluZykgPT4gc2V0KHsgaXNVcGRhdGluZzogdXBkYXRpbmcgfSksXG4gICAgICAgIHNldEVycm9yOiAoZXJyb3IpID0+IHNldCh7IGVycm9yIH0pLFxuICAgICAgICBjbGVhckVycm9yOiAoKSA9PiBzZXQoeyBlcnJvcjogbnVsbCB9KSxcbiAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBuYW1lOiAnZmVlZHMtc3RvcmUnLFxuICAgICAgICBwYXJ0aWFsaXplOiAoc3RhdGUpID0+ICh7XG4gICAgICAgICAgZmVlZHM6IHN0YXRlLmZlZWRzLFxuICAgICAgICAgIGNhdGVnb3JpZXM6IHN0YXRlLmNhdGVnb3JpZXMsXG4gICAgICAgICAgcHJlZmVyZW5jZXM6IHN0YXRlLnByZWZlcmVuY2VzLFxuICAgICAgICAgIGZpbHRlcnM6IHN0YXRlLmZpbHRlcnMsXG4gICAgICAgICAgY3VycmVudFZpZXc6IHN0YXRlLmN1cnJlbnRWaWV3LFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICApLFxuICAgIHsgbmFtZTogJ2ZlZWRzLXN0b3JlJyB9XG4gIClcbik7XG5cbi8vIFN0b3JlIHNlbGVjdG9ycyBmb3Igb3B0aW1pemVkIHJlLXJlbmRlcnNcbmV4cG9ydCBjb25zdCB1c2VGZWVkcyA9ICgpID0+IHVzZUZlZWRzU3RvcmUoc3RhdGUgPT4gc3RhdGUuZmVlZHMpO1xuZXhwb3J0IGNvbnN0IHVzZUZpbHRlcmVkRmVlZHMgPSAoKSA9PiB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IHN0YXRlLmZpbHRlcmVkRmVlZHMpO1xuZXhwb3J0IGNvbnN0IHVzZUZlZWRDYXRlZ29yaWVzID0gKCkgPT4gdXNlRmVlZHNTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jYXRlZ29yaWVzKTtcbmV4cG9ydCBjb25zdCB1c2VGZWVkU2VhcmNoID0gKCkgPT4gdXNlRmVlZHNTdG9yZShzdGF0ZSA9PiBzdGF0ZS5zZWFyY2gpO1xuZXhwb3J0IGNvbnN0IHVzZVNlbGVjdGVkRmVlZCA9ICgpID0+IHVzZUZlZWRzU3RvcmUoc3RhdGUgPT4gc3RhdGUuc2VsZWN0ZWRGZWVkKTtcbmV4cG9ydCBjb25zdCB1c2VGZWVkUHJlZmVyZW5jZXMgPSAoKSA9PiB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IHN0YXRlLnByZWZlcmVuY2VzKTtcbmV4cG9ydCBjb25zdCB1c2VGZWVkRmlsdGVycyA9ICgpID0+IHVzZUZlZWRzU3RvcmUoc3RhdGUgPT4gc3RhdGUuZmlsdGVycyk7XG5leHBvcnQgY29uc3QgdXNlRmVlZHNMb2FkaW5nID0gKCkgPT4gdXNlRmVlZHNTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc0xvYWRpbmcpO1xuZXhwb3J0IGNvbnN0IHVzZUZlZWRzRXJyb3IgPSAoKSA9PiB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IHN0YXRlLmVycm9yKTtcblxuLy8gQWN0aW9uIHNlbGVjdG9ycyAtIEZJWEVEOiBVc2UgaW5kaXZpZHVhbCBzZWxlY3RvcnMgdG8gcHJldmVudCBpbmZpbml0ZSByZS1yZW5kZXJzXG5leHBvcnQgY29uc3QgdXNlRmVlZHNBY3Rpb25zID0gKCkgPT4gdXNlRmVlZHNTdG9yZShzdGF0ZSA9PiBzdGF0ZSk7XG5cbi8vIENvbXB1dGVkIHNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IHVzZUZlZWRzU3RhdHMgPSAoKSA9PiB1c2VGZWVkc1N0b3JlKHN0YXRlID0+ICh7XG4gIHRvdGFsRmVlZHM6IHN0YXRlLmZlZWRzLmxlbmd0aCxcbiAgZmlsdGVyZWRGZWVkczogc3RhdGUuZmlsdGVyZWRGZWVkcy5sZW5ndGgsXG4gIHRvdGFsQ2F0ZWdvcmllczogc3RhdGUuY2F0ZWdvcmllcy5sZW5ndGgsXG4gIGVuYWJsZWRDYXRlZ29yaWVzOiBzdGF0ZS5jYXRlZ29yaWVzLmZpbHRlcihjYXQgPT4gY2F0LmVuYWJsZWQpLmxlbmd0aCxcbiAgc2VhcmNoUmVzdWx0czogc3RhdGUuc2VhcmNoLnJlc3VsdHMubGVuZ3RoLFxuICBpc0xvYWRpbmc6IHN0YXRlLmlzTG9hZGluZyxcbiAgaXNTZWFyY2hpbmc6IHN0YXRlLmlzU2VhcmNoaW5nLFxuICBlcnJvcjogc3RhdGUuZXJyb3IsXG59KSk7XG5cbmV4cG9ydCBjb25zdCB1c2VCb29rbWFya2VkRmVlZHMgPSAoKSA9PiB1c2VGZWVkc1N0b3JlKHN0YXRlID0+IFxuICBzdGF0ZS5mZWVkcy5maWx0ZXIoZmVlZCA9PiBmZWVkLnVzZXJJbnRlcmFjdGlvbi5ib29rbWFya2VkKVxuKTtcblxuZXhwb3J0IGNvbnN0IHVzZVVucmVhZEZlZWRzID0gKCkgPT4gdXNlRmVlZHNTdG9yZShzdGF0ZSA9PiBcbiAgc3RhdGUuZmVlZHMuZmlsdGVyKGZlZWQgPT4gIWZlZWQudXNlckludGVyYWN0aW9uLnJlYWQpXG4pO1xuXG5leHBvcnQgY29uc3QgdXNlTGlrZWRGZWVkcyA9ICgpID0+IHVzZUZlZWRzU3RvcmUoc3RhdGUgPT4gXG4gIHN0YXRlLmZlZWRzLmZpbHRlcihmZWVkID0+IGZlZWQudXNlckludGVyYWN0aW9uLmxpa2VkKVxuKTtcblxuLy8gU3RvcmUgdXRpbGl0aWVzXG5leHBvcnQgY29uc3QgZmVlZHNTdG9yZVV0aWxzID0ge1xuICAvKipcbiAgICogR2V0IGZlZWRzIHN1bW1hcnlcbiAgICovXG4gIGdldEZlZWRzU3VtbWFyeTogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlRmVlZHNTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICB0b3RhbEZlZWRzOiBzdGF0ZS5mZWVkcy5sZW5ndGgsXG4gICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5maWx0ZXJlZEZlZWRzLmxlbmd0aCxcbiAgICAgIGNhdGVnb3JpZXM6IHN0YXRlLmNhdGVnb3JpZXMubGVuZ3RoLFxuICAgICAgc2VhcmNoUmVzdWx0czogc3RhdGUuc2VhcmNoLnJlc3VsdHMubGVuZ3RoLFxuICAgICAgcHJlZmVyZW5jZXM6IHN0YXRlLnByZWZlcmVuY2VzLFxuICAgIH07XG4gIH0sXG4gIFxuICAvKipcbiAgICogR2V0IGZlZWRzIGJ5IGNhdGVnb3J5XG4gICAqL1xuICBnZXRGZWVkc0J5Q2F0ZWdvcnk6IChjYXRlZ29yeTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VGZWVkc1N0b3JlLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHN0YXRlLmZlZWRzLmZpbHRlcihmZWVkID0+IGZlZWQuY2F0ZWdvcnkgPT09IGNhdGVnb3J5KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBHZXQgZmVlZHMgYnkgdHlwZVxuICAgKi9cbiAgZ2V0RmVlZHNCeVR5cGU6ICh0eXBlOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZUZlZWRzU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gc3RhdGUuZmVlZHMuZmlsdGVyKGZlZWQgPT4gZmVlZC50eXBlID09PSB0eXBlKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBHZXQgdHJlbmRpbmcgZmVlZHNcbiAgICovXG4gIGdldFRyZW5kaW5nRmVlZHM6ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZUZlZWRzU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gc3RhdGUuZmVlZHNcbiAgICAgIC5zb3J0KChhLCBiKSA9PiAoYi5lbmdhZ2VtZW50Lmxpa2VzICsgYi5lbmdhZ2VtZW50LnNoYXJlcykgLSAoYS5lbmdhZ2VtZW50Lmxpa2VzICsgYS5lbmdhZ2VtZW50LnNoYXJlcykpXG4gICAgICAuc2xpY2UoMCwgMTApO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIEdldCByZWNlbnQgZmVlZHNcbiAgICovXG4gIGdldFJlY2VudEZlZWRzOiAobGltaXQ6IG51bWJlciA9IDEwKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VGZWVkc1N0b3JlLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHN0YXRlLmZlZWRzXG4gICAgICAuc29ydCgoYSwgYikgPT4gbmV3IERhdGUoYi5wdWJsaXNoZWRBdCkuZ2V0VGltZSgpIC0gbmV3IERhdGUoYS5wdWJsaXNoZWRBdCkuZ2V0VGltZSgpKVxuICAgICAgLnNsaWNlKDAsIGxpbWl0KTtcbiAgfVxufTtcblxuLy8gU3RvcmUgc3Vic2NyaXB0aW9ucyBmb3IgZXh0ZXJuYWwgaW50ZWdyYXRpb25zXG5leHBvcnQgY29uc3QgZmVlZHNTdG9yZVN1YnNjcmlwdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gZmVlZHMgY2hhbmdlc1xuICAgKi9cbiAgb25GZWVkc0NoYW5nZTogKGNhbGxiYWNrOiAoZmVlZHM6IEZlZWRJdGVtW10pID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gdXNlRmVlZHNTdG9yZS5zdWJzY3JpYmUoXG4gICAgICAoc3RhdGUpID0+IHtcbiAgICAgICAgY2FsbGJhY2soc3RhdGUuZmVlZHMpO1xuICAgICAgfVxuICAgICk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHNlYXJjaCByZXN1bHRzIGNoYW5nZXNcbiAgICovXG4gIG9uU2VhcmNoUmVzdWx0c0NoYW5nZTogKGNhbGxiYWNrOiAocmVzdWx0czogRmVlZEl0ZW1bXSkgPT4gdm9pZCkgPT4ge1xuICAgIHJldHVybiB1c2VGZWVkc1N0b3JlLnN1YnNjcmliZShcbiAgICAgIChzdGF0ZSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhzdGF0ZS5zZWFyY2gucmVzdWx0cyk7XG4gICAgICB9XG4gICAgKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gcHJlZmVyZW5jZXMgY2hhbmdlc1xuICAgKi9cbiAgb25QcmVmZXJlbmNlc0NoYW5nZTogKGNhbGxiYWNrOiAocHJlZmVyZW5jZXM6IEZlZWRQcmVmZXJlbmNlcykgPT4gdm9pZCkgPT4ge1xuICAgIHJldHVybiB1c2VGZWVkc1N0b3JlLnN1YnNjcmliZShcbiAgICAgIChzdGF0ZSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhzdGF0ZS5wcmVmZXJlbmNlcyk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxufTtcblxuLy8gU3RvcmUgZGVidWdnaW5nIHV0aWxpdGllc1xuZXhwb3J0IGNvbnN0IGZlZWRzU3RvcmVEZWJ1ZyA9IHtcbiAgLyoqXG4gICAqIExvZyBjdXJyZW50IGZlZWRzIHN0YXRlXG4gICAqL1xuICBsb2dTdGF0ZTogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlRmVlZHNTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGNvbnNvbGUubG9nKCdGZWVkcyBTdG9yZSBTdGF0ZTonLCB7XG4gICAgICB0b3RhbEZlZWRzOiBzdGF0ZS5mZWVkcy5sZW5ndGgsXG4gICAgICBmaWx0ZXJlZEZlZWRzOiBzdGF0ZS5maWx0ZXJlZEZlZWRzLmxlbmd0aCxcbiAgICAgIGNhdGVnb3JpZXM6IHN0YXRlLmNhdGVnb3JpZXMubGVuZ3RoLFxuICAgICAgc2VhcmNoUmVzdWx0czogc3RhdGUuc2VhcmNoLnJlc3VsdHMubGVuZ3RoLFxuICAgICAgY3VycmVudFZpZXc6IHN0YXRlLmN1cnJlbnRWaWV3LFxuICAgICAgc2VsZWN0ZWRDYXRlZ29yeTogc3RhdGUuc2VsZWN0ZWRDYXRlZ29yeSxcbiAgICAgIGlzTG9hZGluZzogc3RhdGUuaXNMb2FkaW5nLFxuICAgICAgZXJyb3I6IHN0YXRlLmVycm9yXG4gICAgfSk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogTG9nIGZlZWRzIHN1bW1hcnlcbiAgICovXG4gIGxvZ1N1bW1hcnk6ICgpID0+IHtcbiAgICBjb25zdCBzdW1tYXJ5ID0gZmVlZHNTdG9yZVV0aWxzLmdldEZlZWRzU3VtbWFyeSgpO1xuICAgIGNvbnNvbGUubG9nKCdGZWVkcyBTdW1tYXJ5OicsIHN1bW1hcnkpO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIExvZyBmZWVkcyBieSBjYXRlZ29yeVxuICAgKi9cbiAgbG9nRmVlZHNCeUNhdGVnb3J5OiAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VGZWVkc1N0b3JlLmdldFN0YXRlKCk7XG4gICAgY29uc3QgYnlDYXRlZ29yeSA9IHN0YXRlLmZlZWRzLnJlZHVjZSgoYWNjLCBmZWVkKSA9PiB7XG4gICAgICBhY2NbZmVlZC5jYXRlZ29yeV0gPSAoYWNjW2ZlZWQuY2F0ZWdvcnldIHx8IDApICsgMTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgbnVtYmVyPik7XG4gICAgY29uc29sZS5sb2coJ0ZlZWRzIGJ5IENhdGVnb3J5OicsIGJ5Q2F0ZWdvcnkpO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIFJlc2V0IGZlZWRzIHN0b3JlXG4gICAqL1xuICByZXNldDogKCkgPT4ge1xuICAgIHVzZUZlZWRzU3RvcmUuZ2V0U3RhdGUoKS5jbGVhckZpbHRlcnMoKTtcbiAgICB1c2VGZWVkc1N0b3JlLmdldFN0YXRlKCkucmVzZXRQcmVmZXJlbmNlcygpO1xuICAgIGNvbnNvbGUubG9nKCdGZWVkcyBzdG9yZSByZXNldCcpO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbImZlZWRzU3RvcmVEZWJ1ZyIsImZlZWRzU3RvcmVTdWJzY3JpcHRpb25zIiwiZmVlZHNTdG9yZVV0aWxzIiwidXNlQm9va21hcmtlZEZlZWRzIiwidXNlRmVlZENhdGVnb3JpZXMiLCJ1c2VGZWVkRmlsdGVycyIsInVzZUZlZWRQcmVmZXJlbmNlcyIsInVzZUZlZWRTZWFyY2giLCJ1c2VGZWVkcyIsInVzZUZlZWRzQWN0aW9ucyIsInVzZUZlZWRzRXJyb3IiLCJ1c2VGZWVkc0xvYWRpbmciLCJ1c2VGZWVkc1N0YXRzIiwidXNlRmVlZHNTdG9yZSIsInVzZUZpbHRlcmVkRmVlZHMiLCJ1c2VMaWtlZEZlZWRzIiwidXNlU2VsZWN0ZWRGZWVkIiwidXNlVW5yZWFkRmVlZHMiLCJkZWZhdWx0UHJlZmVyZW5jZXMiLCJkZWZhdWx0VmlldyIsInNvcnRCeSIsIml0ZW1zUGVyUGFnZSIsImF1dG9SZWZyZXNoIiwicmVmcmVzaEludGVydmFsIiwibm90aWZpY2F0aW9ucyIsIm5ld0NvbnRlbnQiLCJ0cmVuZGluZ0NvbnRlbnQiLCJjYXRlZ29yeVVwZGF0ZXMiLCJhdXRob3JVcGRhdGVzIiwicHJpdmFjeSIsInNob3dSZWFkSGlzdG9yeSIsInNob3dCb29rbWFya3MiLCJzaG93TGlrZXMiLCJzaGFyZUFjdGl2aXR5IiwiY29udGVudCIsInNob3dJbWFnZXMiLCJzaG93VmlkZW9zIiwic2hvd0F1ZGlvIiwiYXV0b1BsYXkiLCJxdWFsaXR5IiwiZGVmYXVsdEZpbHRlcnMiLCJjYXRlZ29yaWVzIiwidHlwZXMiLCJzb3VyY2VzIiwiZGF0ZVJhbmdlIiwic3RhcnQiLCJlbmQiLCJyZWFkU3RhdHVzIiwiZW5nYWdlbWVudCIsImxhbmd1YWdlIiwidGFncyIsImNyZWF0ZSIsImRldnRvb2xzIiwicGVyc2lzdCIsInNldCIsImdldCIsImZlZWRzIiwiZmlsdGVyZWRGZWVkcyIsInNlYXJjaCIsInF1ZXJ5IiwicmVzdWx0cyIsInRvdGFsUmVzdWx0cyIsImN1cnJlbnRQYWdlIiwidG90YWxQYWdlcyIsImZpbHRlcnMiLCJzdWdnZXN0aW9ucyIsInJlY2VudFNlYXJjaGVzIiwiY3VycmVudFZpZXciLCJzZWxlY3RlZEZlZWQiLCJzZWxlY3RlZENhdGVnb3J5IiwicHJlZmVyZW5jZXMiLCJpc0xvYWRpbmciLCJpc1NlYXJjaGluZyIsImlzUmVmcmVzaGluZyIsImlzVXBkYXRpbmciLCJlcnJvciIsInNldEZlZWRzIiwiYWRkRmVlZCIsImZlZWQiLCJzdGF0ZSIsInVwZGF0ZUZlZWQiLCJpZCIsInVwZGF0ZXMiLCJtYXAiLCJ3aXRoT3B0aW9uYWwiLCJyZW1vdmVGZWVkIiwiZmlsdGVyIiwicmVmcmVzaEZlZWRzIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImNhdGVnb3J5Iiwib2siLCJFcnJvciIsImpzb24iLCJsb2dnZXIiLCJpbmZvIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImxvYWRNb3JlRmVlZHMiLCJuZXdGZWVkcyIsInNldEZpbHRlcnMiLCJuZXdGaWx0ZXJzIiwiZmlsdGVyZWQiLCJsZW5ndGgiLCJpbmNsdWRlcyIsInR5cGUiLCJzb3VyY2UiLCJuYW1lIiwidXNlckludGVyYWN0aW9uIiwicmVhZCIsInNvbWUiLCJ0YWciLCJjbGVhckZpbHRlcnMiLCJzZWFyY2hGZWVkcyIsInNldFNlYXJjaGluZyIsInNldEVycm9yIiwiaXRlbXMiLCJ0b3RhbCIsIk1hdGgiLCJjZWlsIiwic2V0U2VhcmNoUXVlcnkiLCJjbGVhclNlYXJjaCIsImxpa2VGZWVkIiwibGlrZWQiLCJsaWtlcyIsInVubGlrZUZlZWQiLCJtYXgiLCJzaGFyZUZlZWQiLCJzaGFyZWQiLCJzaGFyZXMiLCJib29rbWFya0ZlZWQiLCJib29rbWFya2VkIiwidW5ib29rbWFya0ZlZWQiLCJtYXJrQXNSZWFkIiwicmVhZEF0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwibWFya0FzVW5yZWFkIiwidW5kZWZpbmVkIiwic2V0Q2F0ZWdvcmllcyIsInRvZ2dsZUNhdGVnb3J5IiwiY2F0ZWdvcnlJZCIsImVuYWJsZWQiLCJzZXRTZWxlY3RlZENhdGVnb3J5IiwidXBkYXRlUHJlZmVyZW5jZXMiLCJyZXNldFByZWZlcmVuY2VzIiwic2V0Q3VycmVudFZpZXciLCJ2aWV3Iiwic2V0U2VsZWN0ZWRGZWVkIiwibG9hZEZlZWRzIiwiY291bnQiLCJtb2NrRmVlZHMiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidGltZXN0YW1wIiwibG9hZENhdGVnb3JpZXMiLCJzYXZlVXNlckludGVyYWN0aW9uIiwiZmVlZElkIiwiaW50ZXJhY3Rpb24iLCJzZXRMb2FkaW5nIiwibG9hZGluZyIsInNlYXJjaGluZyIsInNldFJlZnJlc2hpbmciLCJyZWZyZXNoaW5nIiwic2V0VXBkYXRpbmciLCJ1cGRhdGluZyIsImNsZWFyRXJyb3IiLCJwYXJ0aWFsaXplIiwidG90YWxGZWVkcyIsInRvdGFsQ2F0ZWdvcmllcyIsImVuYWJsZWRDYXRlZ29yaWVzIiwiY2F0Iiwic2VhcmNoUmVzdWx0cyIsImdldEZlZWRzU3VtbWFyeSIsImdldFN0YXRlIiwiZ2V0RmVlZHNCeUNhdGVnb3J5IiwiZ2V0RmVlZHNCeVR5cGUiLCJnZXRUcmVuZGluZ0ZlZWRzIiwic29ydCIsImEiLCJiIiwic2xpY2UiLCJnZXRSZWNlbnRGZWVkcyIsImxpbWl0IiwicHVibGlzaGVkQXQiLCJnZXRUaW1lIiwib25GZWVkc0NoYW5nZSIsImNhbGxiYWNrIiwic3Vic2NyaWJlIiwib25TZWFyY2hSZXN1bHRzQ2hhbmdlIiwib25QcmVmZXJlbmNlc0NoYW5nZSIsImxvZ1N0YXRlIiwiY29uc29sZSIsImxvZyIsImxvZ1N1bW1hcnkiLCJzdW1tYXJ5IiwibG9nRmVlZHNCeUNhdGVnb3J5IiwiYnlDYXRlZ29yeSIsInJlZHVjZSIsImFjYyIsInJlc2V0Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0NBU0M7Ozs7Ozs7Ozs7O0lBKzBCWUEsZUFBZTtlQUFmQTs7SUFwQ0FDLHVCQUF1QjtlQUF2QkE7O0lBckRBQyxlQUFlO2VBQWZBOztJQWJBQyxrQkFBa0I7ZUFBbEJBOztJQXZCQUMsaUJBQWlCO2VBQWpCQTs7SUFJQUMsY0FBYztlQUFkQTs7SUFEQUMsa0JBQWtCO2VBQWxCQTs7SUFGQUMsYUFBYTtlQUFiQTs7SUFIQUMsUUFBUTtlQUFSQTs7SUFXQUMsZUFBZTtlQUFmQTs7SUFIQUMsYUFBYTtlQUFiQTs7SUFEQUMsZUFBZTtlQUFmQTs7SUFPQUMsYUFBYTtlQUFiQTs7SUFqZkFDLGFBQWE7ZUFBYkE7O0lBb2VBQyxnQkFBZ0I7ZUFBaEJBOztJQWdDQUMsYUFBYTtlQUFiQTs7SUE3QkFDLGVBQWU7ZUFBZkE7O0lBeUJBQyxjQUFjO2VBQWRBOzs7eUJBM3VCVTs0QkFDRTt3QkFHRjt5QkFDTTtBQTBMN0IsMkJBQTJCO0FBQzNCLE1BQU1DLHFCQUFzQztJQUMxQ0MsYUFBYTtJQUNiQyxRQUFRO0lBQ1JDLGNBQWM7SUFDZEMs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