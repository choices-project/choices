eb6c92b853b5dccca538658b65f63fca
/**
 * Admin Store - Zustand Implementation
 * 
 * Admin-specific business logic and data management.
 * UI state (sidebar, notifications, navigation) moved to global stores.
 * 
 * Created: October 10, 2025
 * Status: âœ… ACTIVE
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    adminStoreDebug: function() {
        return adminStoreDebug;
    },
    adminStoreSubscriptions: function() {
        return adminStoreSubscriptions;
    },
    adminStoreUtils: function() {
        return adminStoreUtils;
    },
    useActivityFeed: function() {
        return useActivityFeed;
    },
    useActivityItems: function() {
        return useActivityItems;
    },
    useAdminActions: function() {
        return useAdminActions;
    },
    useAdminActiveTab: function() {
        return useAdminActiveTab;
    },
    useAdminDashboardActions: function() {
        return useAdminDashboardActions;
    },
    useAdminDashboardStats: function() {
        return useAdminDashboardStats;
    },
    useAdminError: function() {
        return useAdminError;
    },
    useAdminIsReimportRunning: function() {
        return useAdminIsReimportRunning;
    },
    useAdminIsSavingSettings: function() {
        return useAdminIsSavingSettings;
    },
    useAdminLoading: function() {
        return useAdminLoading;
    },
    useAdminNotifications: function() {
        return useAdminNotifications;
    },
    useAdminReimportActions: function() {
        return useAdminReimportActions;
    },
    useAdminReimportLogs: function() {
        return useAdminReimportLogs;
    },
    useAdminReimportProgress: function() {
        return useAdminReimportProgress;
    },
    useAdminSettingsTab: function() {
        return useAdminSettingsTab;
    },
    useAdminStats: function() {
        return useAdminStats;
    },
    useAdminStore: function() {
        return useAdminStore;
    },
    useAdminSystemSettings: function() {
        return useAdminSystemSettings;
    },
    useAdminSystemSettingsActions: function() {
        return useAdminSystemSettingsActions;
    },
    useAdminUserActions: function() {
        return useAdminUserActions;
    },
    useAdminUserFilters: function() {
        return useAdminUserFilters;
    },
    useAdminUsers: function() {
        return useAdminUsers;
    },
    useGeneratedPolls: function() {
        return useGeneratedPolls;
    },
    useRecentActivity: function() {
        return useRecentActivity;
    },
    useSystemMetrics: function() {
        return useSystemMetrics;
    },
    useTrendingTopics: function() {
        return useTrendingTopics;
    }
});
const _zustand = require("zustand");
const _middleware = require("zustand/middleware");
const _logger = require("../utils/logger");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
const useAdminStore = (0, _zustand.create)()((0, _middleware.devtools)((0, _middleware.persist)((set, get)=>({
        // Initial state
        trendingTopics: [],
        generatedPolls: [],
        systemMetrics: null,
        activityItems: [],
        activityFeed: [],
        users: [],
        userFilters: {
            searchTerm: "",
            roleFilter: "all",
            statusFilter: "all",
            selectedUsers: new Set(),
            showBulkActions: false
        },
        activeTab: "overview",
        dashboardStats: null,
        systemSettings: null,
        settingsTab: "general",
        isSavingSettings: false,
        reimportProgress: {
            totalStates: 0,
            processedStates: 0,
            successfulStates: 0,
            failedStates: 0,
            totalRepresentatives: 0,
            federalRepresentatives: 0,
            stateRepresentatives: 0,
            errors: [],
            stateResults: []
        },
        reimportLogs: [],
        isReimportRunning: false,
        isLoading: false,
        error: null,
        adminNotifications: [],
        // Data loading actions
        loadUsers: async ()=>{
            const { setLoading, setError } = get();
            try {
                setLoading(true);
                setError(null);
                // Fetch users directly from database
                const supabase = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../utils/supabase/client"))).then((m)=>m.getSupabaseClient());
                if (!supabase) {
                    throw new Error("Database connection not available");
                }
                const { data: users, error } = await supabase.from("user_profiles").select(`
                user_id,
                email,
                display_name,
                role,
                status,
                created_at,
                last_login
              `).order("created_at", {
                    ascending: false
                });
                if (error) {
                    throw new Error(`Failed to fetch users: ${error.message}`);
                }
                // Transform data to match AdminUser interface
                const adminUsers = users?.map((user)=>({
                        id: user.user_id,
                        email: user.email,
                        name: user.display_name || "Unknown User",
                        role: user.role || "user",
                        status: user.status || "active",
                        created_at: user.created_at,
                        last_login: user.last_login
                    })) || [];
                set({
                    users: adminUsers
                });
                _logger.logger.info("Users loaded successfully", {
                    userCount: adminUsers.length
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to load users:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setLoading(false);
            }
        },
        loadDashboardStats: async ()=>{
            const { setLoading, setError } = get();
            try {
                setLoading(true);
                setError(null);
                // Fetch dashboard stats directly from database
                const supabase = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../utils/supabase/client"))).then((m)=>m.getSupabaseClient());
                if (!supabase) {
                    throw new Error("Database connection not available");
                }
                // Get total users count
                const { count: totalUsers, error: usersError } = await supabase.from("user_profiles").select("*", {
                    count: "exact",
                    head: true
                });
                if (usersError) {
                    throw new Error(`Failed to fetch user count: ${usersError.message}`);
                }
                // Get active polls count
                const { count: activePolls, error: pollsError } = await supabase.from("polls").select("*", {
                    count: "exact",
                    head: true
                }).eq("status", "active");
                if (pollsError) {
                    throw new Error(`Failed to fetch polls count: ${pollsError.message}`);
                }
                // Get total votes count
                const { count: totalVotes, error: votesError } = await supabase.from("votes").select("*", {
                    count: "exact",
                    head: true
                });
                if (votesError) {
                    throw new Error(`Failed to fetch votes count: ${votesError.message}`);
                }
                // Determine system health based on recent activity
                const { data: recentActivity } = await supabase.from("analytics_events").select("created_at").gte("created_at", new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString()).limit(1);
                const systemHealth = recentActivity && recentActivity.length > 0 ? "healthy" : "warning";
                const stats = {
                    totalUsers: totalUsers || 0,
                    activePolls: activePolls || 0,
                    totalVotes: totalVotes || 0,
                    systemHealth: systemHealth
                };
                set({
                    dashboardStats: stats
                });
                _logger.logger.info("Dashboard stats loaded successfully", {
                    totalUsers: stats.totalUsers,
                    activePolls: stats.activePolls,
                    totalVotes: stats.totalVotes,
                    systemHealth: stats.systemHealth
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to load dashboard stats:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setLoading(false);
            }
        },
        loadSystemSettings: async ()=>{
            const { setLoading, setError } = get();
            try {
                setLoading(true);
                setError(null);
                // Fetch system settings from database
                const supabase = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../utils/supabase/client"))).then((m)=>m.getSupabaseClient());
                if (!supabase) {
                    throw new Error("Database connection not available");
                }
                const { data: settingsData, error } = await supabase.from("system_settings").select("*").single();
                if (error && error.code !== "PGRST116") {
                    throw new Error(`Failed to fetch system settings: ${error.message}`);
                }
                // Use default settings if none exist in database
                const defaultSettings = {
                    general: {
                        siteName: "Choices Platform",
                        siteDescription: "A modern voting platform for democratic decision making",
                        maintenanceMode: false,
                        allowRegistration: true,
                        requireEmailVerification: true
                    },
                    performance: {
                        enableCaching: true,
                        cacheTTL: 3600,
                        enableCompression: true,
                        maxFileSize: 10485760
                    },
                    security: {
                        enableRateLimiting: true,
                        maxRequestsPerMinute: 100,
                        enableCSP: true,
                        enableHSTS: true
                    },
                    notifications: {
                        enableEmailNotifications: true,
                        enablePushNotifications: false,
                        notificationFrequency: "immediate"
                    }
                };
                const settings = settingsData?.settings || defaultSettings;
                set({
                    systemSettings: settings
                });
                _logger.logger.info("System settings loaded successfully");
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to load system settings:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setLoading(false);
            }
        },
        // User management actions
        setUserFilters: (filters)=>set((state)=>({
                    userFilters: {
                        ...state.userFilters,
                        ...filters
                    }
                })),
        selectUser: (userId)=>set((state)=>({
                    userFilters: {
                        ...state.userFilters,
                        selectedUsers: new Set([
                            ...state.userFilters.selectedUsers,
                            userId
                        ])
                    }
                })),
        deselectUser: (userId)=>set((state)=>{
                const newSelected = new Set(state.userFilters.selectedUsers);
                newSelected.delete(userId);
                return {
                    userFilters: {
                        ...state.userFilters,
                        selectedUsers: newSelected
                    }
                };
            }),
        selectAllUsers: ()=>set((state)=>({
                    userFilters: {
                        ...state.userFilters,
                        selectedUsers: new Set(state.users.map((user)=>user.id))
                    }
                })),
        deselectAllUsers: ()=>set((state)=>({
                    userFilters: {
                        ...state.userFilters,
                        selectedUsers: new Set()
                    }
                })),
        updateUserRole: async (userId, role)=>{
            try {
                const supabase = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../utils/supabase/client"))).then((m)=>m.getSupabaseClient());
                if (!supabase) {
                    throw new Error("Database connection not available");
                }
                const { error } = await supabase.from("user_profiles").update({
                    role
                }).eq("user_id", userId);
                if (error) {
                    throw new Error(`Failed to update user role: ${error.message}`);
                }
                // Update local state
                set((state)=>({
                        users: state.users.map((user)=>user.id === userId ? {
                                ...user,
                                role: role
                            } : user)
                    }));
                _logger.logger.info("User role updated successfully", {
                    userId,
                    role
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                set({
                    error: errorMessage
                });
                _logger.logger.error("Failed to update user role:", error instanceof Error ? error : new Error(errorMessage));
            }
        },
        updateUserStatus: async (userId, status)=>{
            try {
                const supabase = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../utils/supabase/client"))).then((m)=>m.getSupabaseClient());
                if (!supabase) {
                    throw new Error("Database connection not available");
                }
                const { error } = await supabase.from("user_profiles").update({
                    status
                }).eq("user_id", userId);
                if (error) {
                    throw new Error(`Failed to update user status: ${error.message}`);
                }
                // Update local state
                set((state)=>({
                        users: state.users.map((user)=>user.id === userId ? {
                                ...user,
                                status: status
                            } : user)
                    }));
                _logger.logger.info("User status updated successfully", {
                    userId,
                    status
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                set({
                    error: errorMessage
                });
                _logger.logger.error("Failed to update user status:", error instanceof Error ? error : new Error(errorMessage));
            }
        },
        deleteUser: async (userId)=>{
            try {
                const supabase = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../utils/supabase/client"))).then((m)=>m.getSupabaseClient());
                if (!supabase) {
                    throw new Error("Database connection not available");
                }
                const { error } = await supabase.from("user_profiles").delete().eq("user_id", userId);
                if (error) {
                    throw new Error(`Failed to delete user: ${error.message}`);
                }
                // Update local state
                set((state)=>({
                        users: state.users.filter((user)=>user.id !== userId)
                    }));
                _logger.logger.info("User deleted successfully", {
                    userId
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                set({
                    error: errorMessage
                });
                _logger.logger.error("Failed to delete user:", error instanceof Error ? error : new Error(errorMessage));
            }
        },
        // Dashboard actions
        setActiveTab: (tab)=>set({
                activeTab: tab
            }),
        // System settings actions
        setSystemSettings: (settings)=>set({
                systemSettings: settings
            }),
        updateSystemSetting: (section, key, value)=>set((state)=>{
                if (!state.systemSettings) return state;
                return {
                    systemSettings: {
                        ...state.systemSettings,
                        [section]: {
                            ...state.systemSettings[section],
                            [key]: value
                        }
                    }
                };
            }),
        setSettingsTab: (tab)=>set({
                settingsTab: tab
            }),
        saveSystemSettings: async ()=>{
            const { setIsSavingSettings, setError } = get();
            try {
                setIsSavingSettings(true);
                setError(null);
                const { systemSettings } = get();
                if (!systemSettings) {
                    throw new Error("No settings to save");
                }
                const supabase = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../utils/supabase/client"))).then((m)=>m.getSupabaseClient());
                if (!supabase) {
                    throw new Error("Database connection not available");
                }
                const { error } = await supabase.from("system_settings").upsert({
                    settings: systemSettings
                });
                if (error) {
                    throw new Error(`Failed to save system settings: ${error.message}`);
                }
                _logger.logger.info("System settings saved successfully");
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to save system settings:", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setIsSavingSettings(false);
            }
        },
        // Reimport actions
        setReimportProgress: (progress)=>set((state)=>({
                    reimportProgress: {
                        ...state.reimportProgress,
                        ...progress
                    }
                })),
        addReimportLog: (message)=>set((state)=>({
                    reimportLogs: [
                        ...state.reimportLogs,
                        message
                    ]
                })),
        clearReimportLogs: ()=>set({
                reimportLogs: []
            }),
        setIsReimportRunning: (running)=>set({
                isReimportRunning: running
            }),
        startReimport: async ()=>{
            const { setIsReimportRunning, addReimportLog, setReimportProgress } = get();
            try {
                setIsReimportRunning(true);
                addReimportLog("Starting reimport process...");
                // Reset progress
                setReimportProgress({
                    totalStates: 0,
                    processedStates: 0,
                    successfulStates: 0,
                    failedStates: 0,
                    totalRepresentatives: 0,
                    federalRepresentatives: 0,
                    stateRepresentatives: 0,
                    errors: [],
                    stateResults: []
                });
                // Implementation would go here
                addReimportLog("Reimport process completed");
            } catch (error) {
                addReimportLog(`Reimport failed: ${error instanceof Error ? error.message : "Unknown error"}`);
            } finally{
                setIsReimportRunning(false);
            }
        },
        // Activity and notifications
        addActivityItem: (item)=>set((state)=>({
                    activityItems: [
                        item,
                        ...state.activityItems.slice(0, 99)
                    ] // Keep last 100 items
                })),
        clearActivityItems: ()=>set({
                activityItems: []
            }),
        addAdminNotification: (notification)=>set((state)=>({
                    adminNotifications: [
                        notification,
                        ...state.adminNotifications
                    ]
                })),
        clearAdminNotifications: ()=>set({
                adminNotifications: []
            }),
        markNotificationAsRead: (id)=>set((state)=>({
                    adminNotifications: state.adminNotifications.map((notification)=>notification.id === id ? {
                            ...notification,
                            read: true
                        } : notification)
                })),
        // Utility actions
        setLoading: (loading)=>set({
                isLoading: loading
            }),
        setUpdating: (updating)=>set({
                isSavingSettings: updating
            }),
        setError: (error)=>set({
                error
            }),
        clearError: ()=>set({
                error: null
            }),
        setIsSavingSettings: (saving)=>set({
                isSavingSettings: saving
            }),
        refreshData: async ()=>{
            const { loadUsers, loadDashboardStats, loadSystemSettings } = get();
            await Promise.all([
                loadUsers(),
                loadDashboardStats(),
                loadSystemSettings()
            ]);
        },
        syncData: async ()=>{
            const { refreshData } = get();
            await refreshData();
        }
    }), {
    name: "admin-store",
    partialize: (state)=>({
            activeTab: state.activeTab,
            settingsTab: state.settingsTab,
            userFilters: state.userFilters
        })
}), {
    name: "admin-store"
}));
const useTrendingTopics = ()=>useAdminStore((state)=>state.trendingTopics);
const useGeneratedPolls = ()=>useAdminStore((state)=>state.generatedPolls);
const useSystemMetrics = ()=>useAdminStore((state)=>state.systemMetrics);
const useActivityItems = ()=>useAdminStore((state)=>state.activityItems);
const useActivityFeed = ()=>useAdminStore((state)=>state.activityFeed);
const useAdminNotifications = ()=>useAdminStore((state)=>state.adminNotifications);
const useAdminLoading = ()=>useAdminStore((state)=>state.isLoading);
const useAdminError = ()=>useAdminStore((state)=>state.error);
const useAdminUsers = ()=>useAdminStore((state)=>state.users);
const useAdminUserFilters = ()=>useAdminStore((state)=>state.userFilters);
const useAdminUserActions = ()=>useAdminStore((state)=>({
            setUserFilters: state.setUserFilters,
            selectUser: state.selectUser,
            deselectUser: state.deselectUser,
            selectAllUsers: state.selectAllUsers,
            deselectAllUsers: state.deselectAllUsers,
            updateUserRole: state.updateUserRole,
            updateUserStatus: state.updateUserStatus,
            deleteUser: state.deleteUser
        }));
const useAdminActiveTab = ()=>useAdminStore((state)=>state.activeTab);
const useAdminDashboardStats = ()=>useAdminStore((state)=>state.dashboardStats);
const useAdminDashboardActions = ()=>useAdminStore((state)=>({
            setActiveTab: state.setActiveTab,
            loadDashboardStats: state.loadDashboardStats
        }));
const useAdminSystemSettings = ()=>useAdminStore((state)=>state.systemSettings);
const useAdminSettingsTab = ()=>useAdminStore((state)=>state.settingsTab);
const useAdminIsSavingSettings = ()=>useAdminStore((state)=>state.isSavingSettings);
const useAdminSystemSettingsActions = ()=>useAdminStore((state)=>({
            setSystemSettings: state.setSystemSettings,
            updateSystemSetting: state.updateSystemSetting,
            setSettingsTab: state.setSettingsTab,
            saveSystemSettings: state.saveSystemSettings,
            loadSystemSettings: state.loadSystemSettings
        }));
const useAdminReimportProgress = ()=>useAdminStore((state)=>state.reimportProgress);
const useAdminReimportLogs = ()=>useAdminStore((state)=>state.reimportLogs);
const useAdminIsReimportRunning = ()=>useAdminStore((state)=>state.isReimportRunning);
const useAdminReimportActions = ()=>useAdminStore((state)=>({
            setReimportProgress: state.setReimportProgress,
            addReimportLog: state.addReimportLog,
            clearReimportLogs: state.clearReimportLogs,
            setIsReimportRunning: state.setIsReimportRunning,
            startReimport: state.startReimport
        }));
const useAdminActions = ()=>useAdminStore((state)=>({
            loadUsers: state.loadUsers,
            loadDashboardStats: state.loadDashboardStats,
            loadSystemSettings: state.loadSystemSettings,
            addActivityItem: state.addActivityItem,
            clearActivityItems: state.clearActivityItems,
            addAdminNotification: state.addAdminNotification,
            clearAdminNotifications: state.clearAdminNotifications,
            markNotificationAsRead: state.markNotificationAsRead,
            setLoading: state.setLoading,
            setUpdating: state.setUpdating,
            setError: state.setError,
            clearError: state.clearError,
            refreshData: state.refreshData,
            syncData: state.syncData
        }));
const useAdminStats = ()=>useAdminStore((state)=>({
            totalUsers: state.users.length,
            totalNotifications: state.adminNotifications.length,
            unreadNotifications: state.adminNotifications.filter((n)=>!n.read).length,
            totalActivity: state.activityItems.length
        }));
const useRecentActivity = ()=>useAdminStore((state)=>state.activityItems.slice(0, 10));
const adminStoreUtils = {
    getAdminStats: ()=>{
        const state = useAdminStore.getState();
        return {
            totalUsers: state.users.length,
            totalNotifications: state.adminNotifications.length,
            unreadNotifications: state.adminNotifications.filter((n)=>!n.read).length,
            totalActivity: state.activityItems.length
        };
    },
    getDataSummary: ()=>{
        const state = useAdminStore.getState();
        return {
            users: state.users.length,
            trendingTopics: state.trendingTopics.length,
            generatedPolls: state.generatedPolls.length,
            activityItems: state.activityItems.length,
            notifications: state.adminNotifications.length
        };
    }
};
const adminStoreSubscriptions = {
    subscribeToUsers: (callback)=>{
        return useAdminStore.subscribe((state)=>{
            callback(state.users);
        });
    },
    subscribeToDashboardStats: (callback)=>{
        return useAdminStore.subscribe((state)=>{
            callback(state.dashboardStats);
        });
    },
    subscribeToNotifications: (callback)=>{
        return useAdminStore.subscribe((state)=>{
            callback(state.adminNotifications);
        });
    }
};
const adminStoreDebug = {
    logState: ()=>{
        const state = useAdminStore.getState();
        console.log("Admin store state:", state);
    },
    logStats: ()=>{
        const stats = adminStoreUtils.getAdminStats();
        console.log("Admin statistics:", stats);
    },
    logDataSummary: ()=>{
        const summary = adminStoreUtils.getDataSummary();
        console.log("Admin data summary:", summary);
    },
    reset: ()=>{
        useAdminStore.getState().clearActivityItems();
        useAdminStore.getState().clearAdminNotifications();
    // Admin store reset
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvc3RvcmVzL2FkbWluU3RvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBZG1pbiBTdG9yZSAtIFp1c3RhbmQgSW1wbGVtZW50YXRpb25cbiAqIFxuICogQWRtaW4tc3BlY2lmaWMgYnVzaW5lc3MgbG9naWMgYW5kIGRhdGEgbWFuYWdlbWVudC5cbiAqIFVJIHN0YXRlIChzaWRlYmFyLCBub3RpZmljYXRpb25zLCBuYXZpZ2F0aW9uKSBtb3ZlZCB0byBnbG9iYWwgc3RvcmVzLlxuICogXG4gKiBDcmVhdGVkOiBPY3RvYmVyIDEwLCAyMDI1XG4gKiBTdGF0dXM6IOKchSBBQ1RJVkVcbiAqL1xuXG5pbXBvcnQgeyBjcmVhdGUgfSBmcm9tICd6dXN0YW5kJztcbmltcG9ydCB7IGRldnRvb2xzIH0gZnJvbSAnenVzdGFuZC9taWRkbGV3YXJlJztcbmltcG9ydCB7IHBlcnNpc3QgfSBmcm9tICd6dXN0YW5kL21pZGRsZXdhcmUnO1xuXG5pbXBvcnQgdHlwZSB7XG4gIEFkbWluTm90aWZpY2F0aW9uLFxuICBUcmVuZGluZ1RvcGljLFxuICBHZW5lcmF0ZWRQb2xsLFxuICBTeXN0ZW1NZXRyaWNzLFxuICBBY3Rpdml0eUl0ZW0sXG4gIEFkbWluVXNlcixcbn0gZnJvbSAnQC9mZWF0dXJlcy9hZG1pbi90eXBlcyc7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tICdAL2xpYi91dGlscy9sb2dnZXInO1xuXG4vLyBBZG1pbiBzdG9yZSBzdGF0ZSBpbnRlcmZhY2UgKGJ1c2luZXNzIGxvZ2ljIG9ubHkpXG5pbnRlcmZhY2UgQWRtaW5TdG9yZSB7XG4gIC8vIEFkbWluLXNwZWNpZmljIGRhdGFcbiAgdHJlbmRpbmdUb3BpY3M6IFRyZW5kaW5nVG9waWNbXTtcbiAgZ2VuZXJhdGVkUG9sbHM6IEdlbmVyYXRlZFBvbGxbXTtcbiAgc3lzdGVtTWV0cmljczogU3lzdGVtTWV0cmljcyB8IG51bGw7XG4gIGFjdGl2aXR5SXRlbXM6IEFjdGl2aXR5SXRlbVtdO1xuICBhY3Rpdml0eUZlZWQ6IEFjdGl2aXR5SXRlbVtdO1xuICBcbiAgLy8gVXNlciBtYW5hZ2VtZW50IGRhdGFcbiAgdXNlcnM6IEFkbWluVXNlcltdO1xuICB1c2VyRmlsdGVyczoge1xuICAgIHNlYXJjaFRlcm06IHN0cmluZztcbiAgICByb2xlRmlsdGVyOiAnYWxsJyB8ICdhZG1pbicgfCAnbW9kZXJhdG9yJyB8ICd1c2VyJztcbiAgICBzdGF0dXNGaWx0ZXI6ICdhbGwnIHwgJ2FjdGl2ZScgfCAnaW5hY3RpdmUnIHwgJ3N1c3BlbmRlZCc7XG4gICAgc2VsZWN0ZWRVc2VyczogU2V0PHN0cmluZz47XG4gICAgc2hvd0J1bGtBY3Rpb25zOiBib29sZWFuO1xuICB9O1xuICBcbiAgLy8gRGFzaGJvYXJkIHN0YXRlXG4gIGFjdGl2ZVRhYjogJ292ZXJ2aWV3JyB8ICd1c2VycycgfCAnYW5hbHl0aWNzJyB8ICdzZXR0aW5ncycgfCAnYXVkaXQnO1xuICBkYXNoYm9hcmRTdGF0czoge1xuICAgIHRvdGFsVXNlcnM6IG51bWJlcjtcbiAgICBhY3RpdmVQb2xsczogbnVtYmVyO1xuICAgIHRvdGFsVm90ZXM6IG51bWJlcjtcbiAgICBzeXN0ZW1IZWFsdGg6ICdoZWFsdGh5JyB8ICd3YXJuaW5nJyB8ICdjcml0aWNhbCc7XG4gIH0gfCBudWxsO1xuICBcbiAgLy8gU3lzdGVtIHNldHRpbmdzIHN0YXRlXG4gIHN5c3RlbVNldHRpbmdzOiB7XG4gICAgZ2VuZXJhbDoge1xuICAgICAgc2l0ZU5hbWU6IHN0cmluZztcbiAgICAgIHNpdGVEZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgICAgbWFpbnRlbmFuY2VNb2RlOiBib29sZWFuO1xuICAgICAgYWxsb3dSZWdpc3RyYXRpb246IGJvb2xlYW47XG4gICAgICByZXF1aXJlRW1haWxWZXJpZmljYXRpb246IGJvb2xlYW47XG4gICAgfTtcbiAgICBwZXJmb3JtYW5jZToge1xuICAgICAgZW5hYmxlQ2FjaGluZzogYm9vbGVhbjtcbiAgICAgIGNhY2hlVFRMOiBudW1iZXI7XG4gICAgICBlbmFibGVDb21wcmVzc2lvbjogYm9vbGVhbjtcbiAgICAgIG1heEZpbGVTaXplOiBudW1iZXI7XG4gICAgfTtcbiAgICBzZWN1cml0eToge1xuICAgICAgZW5hYmxlUmF0ZUxpbWl0aW5nOiBib29sZWFuO1xuICAgICAgbWF4UmVxdWVzdHNQZXJNaW51dGU6IG51bWJlcjtcbiAgICAgIGVuYWJsZUNTUDogYm9vbGVhbjtcbiAgICAgIGVuYWJsZUhTVFM6IGJvb2xlYW47XG4gICAgfTtcbiAgICBub3RpZmljYXRpb25zOiB7XG4gICAgICBlbmFibGVFbWFpbE5vdGlmaWNhdGlvbnM6IGJvb2xlYW47XG4gICAgICBlbmFibGVQdXNoTm90aWZpY2F0aW9uczogYm9vbGVhbjtcbiAgICAgIG5vdGlmaWNhdGlvbkZyZXF1ZW5jeTogJ2ltbWVkaWF0ZScgfCAnZGFpbHknIHwgJ3dlZWtseSc7XG4gICAgfTtcbiAgfSB8IG51bGw7XG4gIHNldHRpbmdzVGFiOiAnZ2VuZXJhbCcgfCAncGVyZm9ybWFuY2UnIHwgJ3NlY3VyaXR5JyB8ICdub3RpZmljYXRpb25zJztcbiAgaXNTYXZpbmdTZXR0aW5nczogYm9vbGVhbjtcbiAgXG4gIC8vIFJlaW1wb3J0IHN0YXRlXG4gIHJlaW1wb3J0UHJvZ3Jlc3M6IHtcbiAgICB0b3RhbFN0YXRlczogbnVtYmVyO1xuICAgIHByb2Nlc3NlZFN0YXRlczogbnVtYmVyO1xuICAgIHN1Y2Nlc3NmdWxTdGF0ZXM6IG51bWJlcjtcbiAgICBmYWlsZWRTdGF0ZXM6IG51bWJlcjtcbiAgICB0b3RhbFJlcHJlc2VudGF0aXZlczogbnVtYmVyO1xuICAgIGZlZGVyYWxSZXByZXNlbnRhdGl2ZXM6IG51bWJlcjtcbiAgICBzdGF0ZVJlcHJlc2VudGF0aXZlczogbnVtYmVyO1xuICAgIGVycm9yczogc3RyaW5nW107XG4gICAgc3RhdGVSZXN1bHRzOiBBcnJheTx7XG4gICAgICBzdGF0ZTogc3RyaW5nO1xuICAgICAgc3VjY2VzczogYm9vbGVhbjtcbiAgICAgIHJlcHJlc2VudGF0aXZlczogbnVtYmVyO1xuICAgICAgZHVyYXRpb24/OiBzdHJpbmc7XG4gICAgICBlcnJvcj86IHN0cmluZztcbiAgICB9PjtcbiAgfTtcbiAgcmVpbXBvcnRMb2dzOiBzdHJpbmdbXTtcbiAgaXNSZWltcG9ydFJ1bm5pbmc6IGJvb2xlYW47XG4gIFxuICAvLyBMb2FkaW5nIGFuZCBlcnJvciBzdGF0ZXNcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgXG4gIC8vIEFkbWluIG5vdGlmaWNhdGlvbnNcbiAgYWRtaW5Ob3RpZmljYXRpb25zOiBBZG1pbk5vdGlmaWNhdGlvbltdO1xuICBcbiAgLy8gQWN0aW9uc1xuICAvLyBEYXRhIGxvYWRpbmcgYWN0aW9uc1xuICBsb2FkVXNlcnM6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGxvYWREYXNoYm9hcmRTdGF0czogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgbG9hZFN5c3RlbVNldHRpbmdzOiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBcbiAgLy8gVXNlciBtYW5hZ2VtZW50IGFjdGlvbnNcbiAgc2V0VXNlckZpbHRlcnM6IChmaWx0ZXJzOiBQYXJ0aWFsPEFkbWluU3RvcmVbJ3VzZXJGaWx0ZXJzJ10+KSA9PiB2b2lkO1xuICBzZWxlY3RVc2VyOiAodXNlcklkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGRlc2VsZWN0VXNlcjogKHVzZXJJZDogc3RyaW5nKSA9PiB2b2lkO1xuICBzZWxlY3RBbGxVc2VyczogKCkgPT4gdm9pZDtcbiAgZGVzZWxlY3RBbGxVc2VyczogKCkgPT4gdm9pZDtcbiAgdXBkYXRlVXNlclJvbGU6ICh1c2VySWQ6IHN0cmluZywgcm9sZTogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICB1cGRhdGVVc2VyU3RhdHVzOiAodXNlcklkOiBzdHJpbmcsIHN0YXR1czogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBkZWxldGVVc2VyOiAodXNlcklkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XG4gIFxuICAvLyBEYXNoYm9hcmQgYWN0aW9uc1xuICBzZXRBY3RpdmVUYWI6ICh0YWI6IEFkbWluU3RvcmVbJ2FjdGl2ZVRhYiddKSA9PiB2b2lkO1xuICBcbiAgLy8gU3lzdGVtIHNldHRpbmdzIGFjdGlvbnNcbiAgc2V0U3lzdGVtU2V0dGluZ3M6IChzZXR0aW5nczogQWRtaW5TdG9yZVsnc3lzdGVtU2V0dGluZ3MnXSkgPT4gdm9pZDtcbiAgdXBkYXRlU3lzdGVtU2V0dGluZzogKHNlY3Rpb246IGtleW9mIE5vbk51bGxhYmxlPEFkbWluU3RvcmVbJ3N5c3RlbVNldHRpbmdzJ10+LCBrZXk6IHN0cmluZywgdmFsdWU6IGFueSkgPT4gdm9pZDtcbiAgc2V0U2V0dGluZ3NUYWI6ICh0YWI6IEFkbWluU3RvcmVbJ3NldHRpbmdzVGFiJ10pID0+IHZvaWQ7XG4gIHNhdmVTeXN0ZW1TZXR0aW5nczogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgXG4gIC8vIFJlaW1wb3J0IGFjdGlvbnNcbiAgc2V0UmVpbXBvcnRQcm9ncmVzczogKHByb2dyZXNzOiBQYXJ0aWFsPEFkbWluU3RvcmVbJ3JlaW1wb3J0UHJvZ3Jlc3MnXT4pID0+IHZvaWQ7XG4gIGFkZFJlaW1wb3J0TG9nOiAobWVzc2FnZTogc3RyaW5nKSA9PiB2b2lkO1xuICBjbGVhclJlaW1wb3J0TG9nczogKCkgPT4gdm9pZDtcbiAgc2V0SXNSZWltcG9ydFJ1bm5pbmc6IChydW5uaW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzdGFydFJlaW1wb3J0OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBcbiAgLy8gQWN0aXZpdHkgYW5kIG5vdGlmaWNhdGlvbnNcbiAgYWRkQWN0aXZpdHlJdGVtOiAoaXRlbTogQWN0aXZpdHlJdGVtKSA9PiB2b2lkO1xuICBjbGVhckFjdGl2aXR5SXRlbXM6ICgpID0+IHZvaWQ7XG4gIGFkZEFkbWluTm90aWZpY2F0aW9uOiAobm90aWZpY2F0aW9uOiBBZG1pbk5vdGlmaWNhdGlvbikgPT4gdm9pZDtcbiAgY2xlYXJBZG1pbk5vdGlmaWNhdGlvbnM6ICgpID0+IHZvaWQ7XG4gIG1hcmtOb3RpZmljYXRpb25Bc1JlYWQ6IChpZDogc3RyaW5nKSA9PiB2b2lkO1xuICBcbiAgLy8gVXRpbGl0eSBhY3Rpb25zXG4gIHNldExvYWRpbmc6IChsb2FkaW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRVcGRhdGluZzogKHVwZGF0aW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRFcnJvcjogKGVycm9yOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkO1xuICBjbGVhckVycm9yOiAoKSA9PiB2b2lkO1xuICBzZXRJc1NhdmluZ1NldHRpbmdzOiAoc2F2aW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICByZWZyZXNoRGF0YTogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc3luY0RhdGE6ICgpID0+IFByb21pc2U8dm9pZD47XG59XG5cbi8vIENyZWF0ZSB0aGUgYWRtaW4gc3RvcmVcbmV4cG9ydCBjb25zdCB1c2VBZG1pblN0b3JlID0gY3JlYXRlPEFkbWluU3RvcmU+KCkoXG4gIGRldnRvb2xzKFxuICAgIHBlcnNpc3QoXG4gICAgICAoc2V0LCBnZXQpID0+ICh7XG4gICAgICAgIC8vIEluaXRpYWwgc3RhdGVcbiAgICAgICAgdHJlbmRpbmdUb3BpY3M6IFtdLFxuICAgICAgICBnZW5lcmF0ZWRQb2xsczogW10sXG4gICAgICAgIHN5c3RlbU1ldHJpY3M6IG51bGwsXG4gICAgICAgIGFjdGl2aXR5SXRlbXM6IFtdLFxuICAgICAgICBhY3Rpdml0eUZlZWQ6IFtdLFxuICAgICAgICB1c2VyczogW10sXG4gICAgICAgIHVzZXJGaWx0ZXJzOiB7XG4gICAgICAgICAgc2VhcmNoVGVybTogJycsXG4gICAgICAgICAgcm9sZUZpbHRlcjogJ2FsbCcsXG4gICAgICAgICAgc3RhdHVzRmlsdGVyOiAnYWxsJyxcbiAgICAgICAgICBzZWxlY3RlZFVzZXJzOiBuZXcgU2V0KCksXG4gICAgICAgICAgc2hvd0J1bGtBY3Rpb25zOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aXZlVGFiOiAnb3ZlcnZpZXcnLFxuICAgICAgICBkYXNoYm9hcmRTdGF0czogbnVsbCxcbiAgICAgICAgc3lzdGVtU2V0dGluZ3M6IG51bGwsXG4gICAgICAgIHNldHRpbmdzVGFiOiAnZ2VuZXJhbCcsXG4gICAgICAgIGlzU2F2aW5nU2V0dGluZ3M6IGZhbHNlLFxuICAgICAgICByZWltcG9ydFByb2dyZXNzOiB7XG4gICAgICAgICAgdG90YWxTdGF0ZXM6IDAsXG4gICAgICAgICAgcHJvY2Vzc2VkU3RhdGVzOiAwLFxuICAgICAgICAgIHN1Y2Nlc3NmdWxTdGF0ZXM6IDAsXG4gICAgICAgICAgZmFpbGVkU3RhdGVzOiAwLFxuICAgICAgICAgIHRvdGFsUmVwcmVzZW50YXRpdmVzOiAwLFxuICAgICAgICAgIGZlZGVyYWxSZXByZXNlbnRhdGl2ZXM6IDAsXG4gICAgICAgICAgc3RhdGVSZXByZXNlbnRhdGl2ZXM6IDAsXG4gICAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgICBzdGF0ZVJlc3VsdHM6IFtdLFxuICAgICAgICB9LFxuICAgICAgICByZWltcG9ydExvZ3M6IFtdLFxuICAgICAgICBpc1JlaW1wb3J0UnVubmluZzogZmFsc2UsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICBhZG1pbk5vdGlmaWNhdGlvbnM6IFtdLFxuXG4gICAgICAgIC8vIERhdGEgbG9hZGluZyBhY3Rpb25zXG4gICAgICAgIGxvYWRVc2VyczogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0TG9hZGluZywgc2V0RXJyb3IgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEZldGNoIHVzZXJzIGRpcmVjdGx5IGZyb20gZGF0YWJhc2VcbiAgICAgICAgICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgaW1wb3J0KCdAL3V0aWxzL3N1cGFiYXNlL2NsaWVudCcpLnRoZW4obSA9PiBtLmdldFN1cGFiYXNlQ2xpZW50KCkpO1xuICAgICAgICAgICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gbm90IGF2YWlsYWJsZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IHVzZXJzLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxuICAgICAgICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICAgICAgICB1c2VyX2lkLFxuICAgICAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgICAgIGRpc3BsYXlfbmFtZSxcbiAgICAgICAgICAgICAgICByb2xlLFxuICAgICAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgICAgICBjcmVhdGVkX2F0LFxuICAgICAgICAgICAgICAgIGxhc3RfbG9naW5cbiAgICAgICAgICAgICAgYClcbiAgICAgICAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pO1xuXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggdXNlcnM6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVHJhbnNmb3JtIGRhdGEgdG8gbWF0Y2ggQWRtaW5Vc2VyIGludGVyZmFjZVxuICAgICAgICAgICAgY29uc3QgYWRtaW5Vc2VyczogQWRtaW5Vc2VyW10gPSB1c2Vycz8ubWFwKHVzZXIgPT4gKHtcbiAgICAgICAgICAgICAgaWQ6IHVzZXIudXNlcl9pZCxcbiAgICAgICAgICAgICAgZW1haWw6IHVzZXIuZW1haWwsXG4gICAgICAgICAgICAgIG5hbWU6IHVzZXIuZGlzcGxheV9uYW1lIHx8ICdVbmtub3duIFVzZXInLFxuICAgICAgICAgICAgICByb2xlOiAodXNlci5yb2xlIGFzICdhZG1pbicgfCAnbW9kZXJhdG9yJyB8ICd1c2VyJykgfHwgJ3VzZXInLFxuICAgICAgICAgICAgICBzdGF0dXM6ICh1c2VyLnN0YXR1cyBhcyAnYWN0aXZlJyB8ICdpbmFjdGl2ZScgfCAnc3VzcGVuZGVkJykgfHwgJ2FjdGl2ZScsXG4gICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IHVzZXIuY3JlYXRlZF9hdCxcbiAgICAgICAgICAgICAgbGFzdF9sb2dpbjogdXNlci5sYXN0X2xvZ2luXG4gICAgICAgICAgICB9KSkgfHwgW107XG5cbiAgICAgICAgICAgIHNldCh7IHVzZXJzOiBhZG1pblVzZXJzIH0pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnVXNlcnMgbG9hZGVkIHN1Y2Nlc3NmdWxseScsIHtcbiAgICAgICAgICAgICAgdXNlckNvdW50OiBhZG1pblVzZXJzLmxlbmd0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGxvYWQgdXNlcnM6JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBsb2FkRGFzaGJvYXJkU3RhdHM6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldExvYWRpbmcsIHNldEVycm9yIH0gPSBnZXQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGZXRjaCBkYXNoYm9hcmQgc3RhdHMgZGlyZWN0bHkgZnJvbSBkYXRhYmFzZVxuICAgICAgICAgICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBpbXBvcnQoJ0AvdXRpbHMvc3VwYWJhc2UvY2xpZW50JykudGhlbihtID0+IG0uZ2V0U3VwYWJhc2VDbGllbnQoKSk7XG4gICAgICAgICAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCB0b3RhbCB1c2VycyBjb3VudFxuICAgICAgICAgICAgY29uc3QgeyBjb3VudDogdG90YWxVc2VycywgZXJyb3I6IHVzZXJzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgIC5mcm9tKCd1c2VyX3Byb2ZpbGVzJylcbiAgICAgICAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSk7XG5cbiAgICAgICAgICAgIGlmICh1c2Vyc0Vycm9yKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIHVzZXIgY291bnQ6ICR7dXNlcnNFcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBHZXQgYWN0aXZlIHBvbGxzIGNvdW50XG4gICAgICAgICAgICBjb25zdCB7IGNvdW50OiBhY3RpdmVQb2xscywgZXJyb3I6IHBvbGxzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgIC5mcm9tKCdwb2xscycpXG4gICAgICAgICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG4gICAgICAgICAgICAgIC5lcSgnc3RhdHVzJywgJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICBpZiAocG9sbHNFcnJvcikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBwb2xscyBjb3VudDogJHtwb2xsc0Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEdldCB0b3RhbCB2b3RlcyBjb3VudFxuICAgICAgICAgICAgY29uc3QgeyBjb3VudDogdG90YWxWb3RlcywgZXJyb3I6IHZvdGVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgIC5mcm9tKCd2b3RlcycpXG4gICAgICAgICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pO1xuXG4gICAgICAgICAgICBpZiAodm90ZXNFcnJvcikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCB2b3RlcyBjb3VudDogJHt2b3Rlc0Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIERldGVybWluZSBzeXN0ZW0gaGVhbHRoIGJhc2VkIG9uIHJlY2VudCBhY3Rpdml0eVxuICAgICAgICAgICAgY29uc3QgeyBkYXRhOiByZWNlbnRBY3Rpdml0eSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oJ2FuYWx5dGljc19ldmVudHMnKVxuICAgICAgICAgICAgICAuc2VsZWN0KCdjcmVhdGVkX2F0JylcbiAgICAgICAgICAgICAgLmd0ZSgnY3JlYXRlZF9hdCcsIG5ldyBEYXRlKERhdGUubm93KCkgLSAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpKVxuICAgICAgICAgICAgICAubGltaXQoMSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHN5c3RlbUhlYWx0aCA9IHJlY2VudEFjdGl2aXR5ICYmIHJlY2VudEFjdGl2aXR5Lmxlbmd0aCA+IDAgPyAnaGVhbHRoeScgOiAnd2FybmluZyc7XG5cbiAgICAgICAgICAgIGNvbnN0IHN0YXRzID0ge1xuICAgICAgICAgICAgICB0b3RhbFVzZXJzOiB0b3RhbFVzZXJzIHx8IDAsXG4gICAgICAgICAgICAgIGFjdGl2ZVBvbGxzOiBhY3RpdmVQb2xscyB8fCAwLFxuICAgICAgICAgICAgICB0b3RhbFZvdGVzOiB0b3RhbFZvdGVzIHx8IDAsXG4gICAgICAgICAgICAgIHN5c3RlbUhlYWx0aDogc3lzdGVtSGVhbHRoIGFzICdoZWFsdGh5JyB8ICd3YXJuaW5nJyB8ICdjcml0aWNhbCdcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHNldCh7IGRhc2hib2FyZFN0YXRzOiBzdGF0cyB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ0Rhc2hib2FyZCBzdGF0cyBsb2FkZWQgc3VjY2Vzc2Z1bGx5Jywge1xuICAgICAgICAgICAgICB0b3RhbFVzZXJzOiBzdGF0cy50b3RhbFVzZXJzLFxuICAgICAgICAgICAgICBhY3RpdmVQb2xsczogc3RhdHMuYWN0aXZlUG9sbHMsXG4gICAgICAgICAgICAgIHRvdGFsVm90ZXM6IHN0YXRzLnRvdGFsVm90ZXMsXG4gICAgICAgICAgICAgIHN5c3RlbUhlYWx0aDogc3RhdHMuc3lzdGVtSGVhbHRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBkYXNoYm9hcmQgc3RhdHM6JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBsb2FkU3lzdGVtU2V0dGluZ3M6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldExvYWRpbmcsIHNldEVycm9yIH0gPSBnZXQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBGZXRjaCBzeXN0ZW0gc2V0dGluZ3MgZnJvbSBkYXRhYmFzZVxuICAgICAgICAgICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBpbXBvcnQoJ0AvdXRpbHMvc3VwYWJhc2UvY2xpZW50JykudGhlbihtID0+IG0uZ2V0U3VwYWJhc2VDbGllbnQoKSk7XG4gICAgICAgICAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHsgZGF0YTogc2V0dGluZ3NEYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oJ3N5c3RlbV9zZXR0aW5ncycpXG4gICAgICAgICAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgICAgICAgIGlmIChlcnJvciAmJiBlcnJvci5jb2RlICE9PSAnUEdSU1QxMTYnKSB7IC8vIFBHUlNUMTE2ID0gbm8gcm93cyByZXR1cm5lZFxuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBzeXN0ZW0gc2V0dGluZ3M6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVXNlIGRlZmF1bHQgc2V0dGluZ3MgaWYgbm9uZSBleGlzdCBpbiBkYXRhYmFzZVxuICAgICAgICAgICAgY29uc3QgZGVmYXVsdFNldHRpbmdzID0ge1xuICAgICAgICAgICAgICBnZW5lcmFsOiB7XG4gICAgICAgICAgICAgICAgc2l0ZU5hbWU6ICdDaG9pY2VzIFBsYXRmb3JtJyxcbiAgICAgICAgICAgICAgICBzaXRlRGVzY3JpcHRpb246ICdBIG1vZGVybiB2b3RpbmcgcGxhdGZvcm0gZm9yIGRlbW9jcmF0aWMgZGVjaXNpb24gbWFraW5nJyxcbiAgICAgICAgICAgICAgICBtYWludGVuYW5jZU1vZGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGFsbG93UmVnaXN0cmF0aW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVFbWFpbFZlcmlmaWNhdGlvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgcGVyZm9ybWFuY2U6IHtcbiAgICAgICAgICAgICAgICBlbmFibGVDYWNoaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIGNhY2hlVFRMOiAzNjAwLFxuICAgICAgICAgICAgICAgIGVuYWJsZUNvbXByZXNzaW9uOiB0cnVlLFxuICAgICAgICAgICAgICAgIG1heEZpbGVTaXplOiAxMDQ4NTc2MCwgLy8gMTBNQlxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzZWN1cml0eToge1xuICAgICAgICAgICAgICAgIGVuYWJsZVJhdGVMaW1pdGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBtYXhSZXF1ZXN0c1Blck1pbnV0ZTogMTAwLFxuICAgICAgICAgICAgICAgIGVuYWJsZUNTUDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBlbmFibGVIU1RTOiB0cnVlLFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBub3RpZmljYXRpb25zOiB7XG4gICAgICAgICAgICAgICAgZW5hYmxlRW1haWxOb3RpZmljYXRpb25zOiB0cnVlLFxuICAgICAgICAgICAgICAgIGVuYWJsZVB1c2hOb3RpZmljYXRpb25zOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25GcmVxdWVuY3k6ICdpbW1lZGlhdGUnIGFzIGNvbnN0LFxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSBzZXR0aW5nc0RhdGE/LnNldHRpbmdzIHx8IGRlZmF1bHRTZXR0aW5ncztcbiAgICAgICAgICAgIHNldCh7IHN5c3RlbVNldHRpbmdzOiBzZXR0aW5ncyB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ1N5c3RlbSBzZXR0aW5ncyBsb2FkZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIGxvYWQgc3lzdGVtIHNldHRpbmdzOicsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpKTtcbiAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBcbiAgICAgICAgLy8gVXNlciBtYW5hZ2VtZW50IGFjdGlvbnNcbiAgICAgICAgc2V0VXNlckZpbHRlcnM6IChmaWx0ZXJzKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHVzZXJGaWx0ZXJzOiB7IC4uLnN0YXRlLnVzZXJGaWx0ZXJzLCAuLi5maWx0ZXJzIH1cbiAgICAgICAgfSkpLFxuXG4gICAgICAgIHNlbGVjdFVzZXI6ICh1c2VySWQpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgdXNlckZpbHRlcnM6IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLnVzZXJGaWx0ZXJzLFxuICAgICAgICAgICAgc2VsZWN0ZWRVc2VyczogbmV3IFNldChbLi4uc3RhdGUudXNlckZpbHRlcnMuc2VsZWN0ZWRVc2VycywgdXNlcklkXSlcbiAgICAgICAgICB9XG4gICAgICAgIH0pKSxcblxuICAgICAgICBkZXNlbGVjdFVzZXI6ICh1c2VySWQpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXdTZWxlY3RlZCA9IG5ldyBTZXQoc3RhdGUudXNlckZpbHRlcnMuc2VsZWN0ZWRVc2Vycyk7XG4gICAgICAgICAgbmV3U2VsZWN0ZWQuZGVsZXRlKHVzZXJJZCk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVzZXJGaWx0ZXJzOiB7XG4gICAgICAgICAgICAgIC4uLnN0YXRlLnVzZXJGaWx0ZXJzLFxuICAgICAgICAgICAgICBzZWxlY3RlZFVzZXJzOiBuZXdTZWxlY3RlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuXG4gICAgICAgIHNlbGVjdEFsbFVzZXJzOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHVzZXJGaWx0ZXJzOiB7XG4gICAgICAgICAgICAuLi5zdGF0ZS51c2VyRmlsdGVycyxcbiAgICAgICAgICAgIHNlbGVjdGVkVXNlcnM6IG5ldyBTZXQoc3RhdGUudXNlcnMubWFwKHVzZXIgPT4gdXNlci5pZCkpXG4gICAgICAgICAgfVxuICAgICAgICB9KSksXG5cbiAgICAgICAgZGVzZWxlY3RBbGxVc2VyczogKCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICB1c2VyRmlsdGVyczoge1xuICAgICAgICAgICAgLi4uc3RhdGUudXNlckZpbHRlcnMsXG4gICAgICAgICAgICBzZWxlY3RlZFVzZXJzOiBuZXcgU2V0KClcbiAgICAgICAgICB9XG4gICAgICAgIH0pKSxcblxuICAgICAgICB1cGRhdGVVc2VyUm9sZTogYXN5bmMgKHVzZXJJZCwgcm9sZSkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGltcG9ydCgnQC91dGlscy9zdXBhYmFzZS9jbGllbnQnKS50aGVuKG0gPT4gbS5nZXRTdXBhYmFzZUNsaWVudCgpKTtcbiAgICAgICAgICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxuICAgICAgICAgICAgICAudXBkYXRlKHsgcm9sZSB9KVxuICAgICAgICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpO1xuXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gdXBkYXRlIHVzZXIgcm9sZTogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgICAgICAgIHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgICAgIHVzZXJzOiBzdGF0ZS51c2Vycy5tYXAodXNlciA9PiBcbiAgICAgICAgICAgICAgICB1c2VyLmlkID09PSB1c2VySWQgPyB7IC4uLnVzZXIsIHJvbGU6IHJvbGUgYXMgJ2FkbWluJyB8ICdtb2RlcmF0b3InIHwgJ3VzZXInIH0gOiB1c2VyXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ1VzZXIgcm9sZSB1cGRhdGVkIHN1Y2Nlc3NmdWxseScsIHsgdXNlcklkLCByb2xlIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIHNldCh7IGVycm9yOiBlcnJvck1lc3NhZ2UgfSk7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgdXNlciByb2xlOicsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgdXBkYXRlVXNlclN0YXR1czogYXN5bmMgKHVzZXJJZCwgc3RhdHVzKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgaW1wb3J0KCdAL3V0aWxzL3N1cGFiYXNlL2NsaWVudCcpLnRoZW4obSA9PiBtLmdldFN1cGFiYXNlQ2xpZW50KCkpO1xuICAgICAgICAgICAgaWYgKCFzdXBhYmFzZSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gbm90IGF2YWlsYWJsZScpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgICAgICAuZnJvbSgndXNlcl9wcm9maWxlcycpXG4gICAgICAgICAgICAgIC51cGRhdGUoeyBzdGF0dXMgfSlcbiAgICAgICAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKTtcblxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHVwZGF0ZSB1c2VyIHN0YXR1czogJHtlcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBVcGRhdGUgbG9jYWwgc3RhdGVcbiAgICAgICAgICAgIHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgICAgIHVzZXJzOiBzdGF0ZS51c2Vycy5tYXAodXNlciA9PiBcbiAgICAgICAgICAgICAgICB1c2VyLmlkID09PSB1c2VySWQgPyB7IC4uLnVzZXIsIHN0YXR1czogc3RhdHVzIGFzICdhY3RpdmUnIHwgJ2luYWN0aXZlJyB8ICdzdXNwZW5kZWQnIH0gOiB1c2VyXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ1VzZXIgc3RhdHVzIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JywgeyB1c2VySWQsIHN0YXR1cyB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICBzZXQoeyBlcnJvcjogZXJyb3JNZXNzYWdlIH0pO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIHVzZXIgc3RhdHVzOicsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvciA6IG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgZGVsZXRlVXNlcjogYXN5bmMgKHVzZXJJZCkgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGltcG9ydCgnQC91dGlscy9zdXBhYmFzZS9jbGllbnQnKS50aGVuKG0gPT4gbS5nZXRTdXBhYmFzZUNsaWVudCgpKTtcbiAgICAgICAgICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEYXRhYmFzZSBjb25uZWN0aW9uIG5vdCBhdmFpbGFibGUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxuICAgICAgICAgICAgICAuZGVsZXRlKClcbiAgICAgICAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKTtcblxuICAgICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGRlbGV0ZSB1c2VyOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFVwZGF0ZSBsb2NhbCBzdGF0ZVxuICAgICAgICAgICAgc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICAgICAgdXNlcnM6IHN0YXRlLnVzZXJzLmZpbHRlcih1c2VyID0+IHVzZXIuaWQgIT09IHVzZXJJZClcbiAgICAgICAgICAgIH0pKTtcblxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ1VzZXIgZGVsZXRlZCBzdWNjZXNzZnVsbHknLCB7IHVzZXJJZCB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICBzZXQoeyBlcnJvcjogZXJyb3JNZXNzYWdlIH0pO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gZGVsZXRlIHVzZXI6JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcblxuICAgICAgICAvLyBEYXNoYm9hcmQgYWN0aW9uc1xuICAgICAgICBzZXRBY3RpdmVUYWI6ICh0YWIpID0+IHNldCh7IGFjdGl2ZVRhYjogdGFiIH0pLFxuXG4gICAgICAgIC8vIFN5c3RlbSBzZXR0aW5ncyBhY3Rpb25zXG4gICAgICAgIHNldFN5c3RlbVNldHRpbmdzOiAoc2V0dGluZ3MpID0+IHNldCh7IHN5c3RlbVNldHRpbmdzOiBzZXR0aW5ncyB9KSxcbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZVN5c3RlbVNldHRpbmc6IChzZWN0aW9uLCBrZXksIHZhbHVlKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgaWYgKCFzdGF0ZS5zeXN0ZW1TZXR0aW5ncykgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzeXN0ZW1TZXR0aW5nczoge1xuICAgICAgICAgICAgICAuLi5zdGF0ZS5zeXN0ZW1TZXR0aW5ncyxcbiAgICAgICAgICAgICAgW3NlY3Rpb25dOiB7XG4gICAgICAgICAgICAgICAgLi4uc3RhdGUuc3lzdGVtU2V0dGluZ3Nbc2VjdGlvbl0sXG4gICAgICAgICAgICAgICAgW2tleV06IHZhbHVlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHNldFNldHRpbmdzVGFiOiAodGFiKSA9PiBzZXQoeyBzZXR0aW5nc1RhYjogdGFiIH0pLFxuXG4gICAgICAgIHNhdmVTeXN0ZW1TZXR0aW5nczogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0SXNTYXZpbmdTZXR0aW5ncywgc2V0RXJyb3IgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRJc1NhdmluZ1NldHRpbmdzKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHsgc3lzdGVtU2V0dGluZ3MgfSA9IGdldCgpO1xuICAgICAgICAgICAgaWYgKCFzeXN0ZW1TZXR0aW5ncykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNldHRpbmdzIHRvIHNhdmUnKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBpbXBvcnQoJ0AvdXRpbHMvc3VwYWJhc2UvY2xpZW50JykudGhlbihtID0+IG0uZ2V0U3VwYWJhc2VDbGllbnQoKSk7XG4gICAgICAgICAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRGF0YWJhc2UgY29ubmVjdGlvbiBub3QgYXZhaWxhYmxlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAgIC5mcm9tKCdzeXN0ZW1fc2V0dGluZ3MnKVxuICAgICAgICAgICAgICAudXBzZXJ0KHsgc2V0dGluZ3M6IHN5c3RlbVNldHRpbmdzIH0pO1xuXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gc2F2ZSBzeXN0ZW0gc2V0dGluZ3M6ICR7ZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ1N5c3RlbSBzZXR0aW5ncyBzYXZlZCBzdWNjZXNzZnVsbHknKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBzeXN0ZW0gc2V0dGluZ3M6JywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRJc1NhdmluZ1NldHRpbmdzKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gUmVpbXBvcnQgYWN0aW9uc1xuICAgICAgICBzZXRSZWltcG9ydFByb2dyZXNzOiAocHJvZ3Jlc3MpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgcmVpbXBvcnRQcm9ncmVzczogeyAuLi5zdGF0ZS5yZWltcG9ydFByb2dyZXNzLCAuLi5wcm9ncmVzcyB9XG4gICAgICAgIH0pKSxcblxuICAgICAgICBhZGRSZWltcG9ydExvZzogKG1lc3NhZ2UpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgcmVpbXBvcnRMb2dzOiBbLi4uc3RhdGUucmVpbXBvcnRMb2dzLCBtZXNzYWdlXVxuICAgICAgICB9KSksXG5cbiAgICAgICAgY2xlYXJSZWltcG9ydExvZ3M6ICgpID0+IHNldCh7IHJlaW1wb3J0TG9nczogW10gfSksXG5cbiAgICAgICAgc2V0SXNSZWltcG9ydFJ1bm5pbmc6IChydW5uaW5nKSA9PiBzZXQoeyBpc1JlaW1wb3J0UnVubmluZzogcnVubmluZyB9KSxcblxuICAgICAgICBzdGFydFJlaW1wb3J0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBzZXRJc1JlaW1wb3J0UnVubmluZywgYWRkUmVpbXBvcnRMb2csIHNldFJlaW1wb3J0UHJvZ3Jlc3MgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRJc1JlaW1wb3J0UnVubmluZyh0cnVlKTtcbiAgICAgICAgICAgIGFkZFJlaW1wb3J0TG9nKCdTdGFydGluZyByZWltcG9ydCBwcm9jZXNzLi4uJyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFJlc2V0IHByb2dyZXNzXG4gICAgICAgICAgICBzZXRSZWltcG9ydFByb2dyZXNzKHtcbiAgICAgICAgICAgICAgdG90YWxTdGF0ZXM6IDAsXG4gICAgICAgICAgICAgIHByb2Nlc3NlZFN0YXRlczogMCxcbiAgICAgICAgICAgICAgc3VjY2Vzc2Z1bFN0YXRlczogMCxcbiAgICAgICAgICAgICAgZmFpbGVkU3RhdGVzOiAwLFxuICAgICAgICAgICAgICB0b3RhbFJlcHJlc2VudGF0aXZlczogMCxcbiAgICAgICAgICAgICAgZmVkZXJhbFJlcHJlc2VudGF0aXZlczogMCxcbiAgICAgICAgICAgICAgc3RhdGVSZXByZXNlbnRhdGl2ZXM6IDAsXG4gICAgICAgICAgICAgIGVycm9yczogW10sXG4gICAgICAgICAgICAgIHN0YXRlUmVzdWx0czogW10sXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gSW1wbGVtZW50YXRpb24gd291bGQgZ28gaGVyZVxuICAgICAgICAgICAgYWRkUmVpbXBvcnRMb2coJ1JlaW1wb3J0IHByb2Nlc3MgY29tcGxldGVkJyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGFkZFJlaW1wb3J0TG9nKGBSZWltcG9ydCBmYWlsZWQ6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldElzUmVpbXBvcnRSdW5uaW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgLy8gQWN0aXZpdHkgYW5kIG5vdGlmaWNhdGlvbnNcbiAgICAgICAgYWRkQWN0aXZpdHlJdGVtOiAoaXRlbSkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBhY3Rpdml0eUl0ZW1zOiBbaXRlbSwgLi4uc3RhdGUuYWN0aXZpdHlJdGVtcy5zbGljZSgwLCA5OSldIC8vIEtlZXAgbGFzdCAxMDAgaXRlbXNcbiAgICAgICAgfSkpLFxuXG4gICAgICAgIGNsZWFyQWN0aXZpdHlJdGVtczogKCkgPT4gc2V0KHsgYWN0aXZpdHlJdGVtczogW10gfSksXG5cbiAgICAgICAgYWRkQWRtaW5Ob3RpZmljYXRpb246IChub3RpZmljYXRpb24pID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgYWRtaW5Ob3RpZmljYXRpb25zOiBbbm90aWZpY2F0aW9uLCAuLi5zdGF0ZS5hZG1pbk5vdGlmaWNhdGlvbnNdXG4gICAgICAgIH0pKSxcblxuICAgICAgICBjbGVhckFkbWluTm90aWZpY2F0aW9uczogKCkgPT4gc2V0KHsgYWRtaW5Ob3RpZmljYXRpb25zOiBbXSB9KSxcblxuICAgICAgICBtYXJrTm90aWZpY2F0aW9uQXNSZWFkOiAoaWQpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgYWRtaW5Ob3RpZmljYXRpb25zOiBzdGF0ZS5hZG1pbk5vdGlmaWNhdGlvbnMubWFwKG5vdGlmaWNhdGlvbiA9PlxuICAgICAgICAgICAgbm90aWZpY2F0aW9uLmlkID09PSBpZCA/IHsgLi4ubm90aWZpY2F0aW9uLCByZWFkOiB0cnVlIH0gOiBub3RpZmljYXRpb25cbiAgICAgICAgICApXG4gICAgICAgIH0pKSxcblxuICAgICAgICAvLyBVdGlsaXR5IGFjdGlvbnNcbiAgICAgICAgc2V0TG9hZGluZzogKGxvYWRpbmcpID0+IHNldCh7IGlzTG9hZGluZzogbG9hZGluZyB9KSxcbiAgICAgICAgc2V0VXBkYXRpbmc6ICh1cGRhdGluZykgPT4gc2V0KHsgaXNTYXZpbmdTZXR0aW5nczogdXBkYXRpbmcgfSksXG4gICAgICAgIHNldEVycm9yOiAoZXJyb3IpID0+IHNldCh7IGVycm9yIH0pLFxuICAgICAgICBjbGVhckVycm9yOiAoKSA9PiBzZXQoeyBlcnJvcjogbnVsbCB9KSxcbiAgICAgICAgc2V0SXNTYXZpbmdTZXR0aW5nczogKHNhdmluZykgPT4gc2V0KHsgaXNTYXZpbmdTZXR0aW5nczogc2F2aW5nIH0pLFxuXG4gICAgICAgIHJlZnJlc2hEYXRhOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBsb2FkVXNlcnMsIGxvYWREYXNoYm9hcmRTdGF0cywgbG9hZFN5c3RlbVNldHRpbmdzIH0gPSBnZXQoKTtcbiAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBsb2FkVXNlcnMoKSxcbiAgICAgICAgICAgIGxvYWREYXNoYm9hcmRTdGF0cygpLFxuICAgICAgICAgICAgbG9hZFN5c3RlbVNldHRpbmdzKClcbiAgICAgICAgICBdKTtcbiAgICAgICAgfSxcblxuICAgICAgICBzeW5jRGF0YTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgcmVmcmVzaERhdGEgfSA9IGdldCgpO1xuICAgICAgICAgIGF3YWl0IHJlZnJlc2hEYXRhKCk7XG4gICAgICAgIH0sXG4gICAgICB9KSxcbiAgICAgIHtcbiAgICAgICAgbmFtZTogJ2FkbWluLXN0b3JlJyxcbiAgICAgICAgcGFydGlhbGl6ZTogKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGFjdGl2ZVRhYjogc3RhdGUuYWN0aXZlVGFiLFxuICAgICAgICAgIHNldHRpbmdzVGFiOiBzdGF0ZS5zZXR0aW5nc1RhYixcbiAgICAgICAgICB1c2VyRmlsdGVyczogc3RhdGUudXNlckZpbHRlcnMsXG4gICAgICAgIH0pLFxuICAgICAgfVxuICAgICksXG4gICAge1xuICAgICAgbmFtZTogJ2FkbWluLXN0b3JlJyxcbiAgICB9XG4gIClcbik7XG5cbi8vIEV4cG9ydCBpbmRpdmlkdWFsIHNlbGVjdG9ycyBmb3IgYmV0dGVyIHBlcmZvcm1hbmNlXG5leHBvcnQgY29uc3QgdXNlVHJlbmRpbmdUb3BpY3MgPSAoKSA9PiB1c2VBZG1pblN0b3JlKChzdGF0ZSkgPT4gc3RhdGUudHJlbmRpbmdUb3BpY3MpO1xuZXhwb3J0IGNvbnN0IHVzZUdlbmVyYXRlZFBvbGxzID0gKCkgPT4gdXNlQWRtaW5TdG9yZSgoc3RhdGUpID0+IHN0YXRlLmdlbmVyYXRlZFBvbGxzKTtcbmV4cG9ydCBjb25zdCB1c2VTeXN0ZW1NZXRyaWNzID0gKCkgPT4gdXNlQWRtaW5TdG9yZSgoc3RhdGUpID0+IHN0YXRlLnN5c3RlbU1ldHJpY3MpO1xuZXhwb3J0IGNvbnN0IHVzZUFjdGl2aXR5SXRlbXMgPSAoKSA9PiB1c2VBZG1pblN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuYWN0aXZpdHlJdGVtcyk7XG5leHBvcnQgY29uc3QgdXNlQWN0aXZpdHlGZWVkID0gKCkgPT4gdXNlQWRtaW5TdG9yZSgoc3RhdGUpID0+IHN0YXRlLmFjdGl2aXR5RmVlZCk7XG5leHBvcnQgY29uc3QgdXNlQWRtaW5Ob3RpZmljYXRpb25zID0gKCkgPT4gdXNlQWRtaW5TdG9yZSgoc3RhdGUpID0+IHN0YXRlLmFkbWluTm90aWZpY2F0aW9ucyk7XG5leHBvcnQgY29uc3QgdXNlQWRtaW5Mb2FkaW5nID0gKCkgPT4gdXNlQWRtaW5TdG9yZSgoc3RhdGUpID0+IHN0YXRlLmlzTG9hZGluZyk7XG5leHBvcnQgY29uc3QgdXNlQWRtaW5FcnJvciA9ICgpID0+IHVzZUFkbWluU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5lcnJvcik7XG5cbi8vIFVzZXIgbWFuYWdlbWVudCBzZWxlY3RvcnNcbmV4cG9ydCBjb25zdCB1c2VBZG1pblVzZXJzID0gKCkgPT4gdXNlQWRtaW5TdG9yZSgoc3RhdGUpID0+IHN0YXRlLnVzZXJzKTtcbmV4cG9ydCBjb25zdCB1c2VBZG1pblVzZXJGaWx0ZXJzID0gKCkgPT4gdXNlQWRtaW5TdG9yZSgoc3RhdGUpID0+IHN0YXRlLnVzZXJGaWx0ZXJzKTtcbmV4cG9ydCBjb25zdCB1c2VBZG1pblVzZXJBY3Rpb25zID0gKCkgPT4gdXNlQWRtaW5TdG9yZSgoc3RhdGUpID0+ICh7XG4gIHNldFVzZXJGaWx0ZXJzOiBzdGF0ZS5zZXRVc2VyRmlsdGVycyxcbiAgc2VsZWN0VXNlcjogc3RhdGUuc2VsZWN0VXNlcixcbiAgZGVzZWxlY3RVc2VyOiBzdGF0ZS5kZXNlbGVjdFVzZXIsXG4gIHNlbGVjdEFsbFVzZXJzOiBzdGF0ZS5zZWxlY3RBbGxVc2VycyxcbiAgZGVzZWxlY3RBbGxVc2Vyczogc3RhdGUuZGVzZWxlY3RBbGxVc2VycyxcbiAgdXBkYXRlVXNlclJvbGU6IHN0YXRlLnVwZGF0ZVVzZXJSb2xlLFxuICB1cGRhdGVVc2VyU3RhdHVzOiBzdGF0ZS51cGRhdGVVc2VyU3RhdHVzLFxuICBkZWxldGVVc2VyOiBzdGF0ZS5kZWxldGVVc2VyLFxufSkpO1xuXG4vLyBEYXNoYm9hcmQgc2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlQWRtaW5BY3RpdmVUYWIgPSAoKSA9PiB1c2VBZG1pblN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuYWN0aXZlVGFiKTtcbmV4cG9ydCBjb25zdCB1c2VBZG1pbkRhc2hib2FyZFN0YXRzID0gKCkgPT4gdXNlQWRtaW5TdG9yZSgoc3RhdGUpID0+IHN0YXRlLmRhc2hib2FyZFN0YXRzKTtcbmV4cG9ydCBjb25zdCB1c2VBZG1pbkRhc2hib2FyZEFjdGlvbnMgPSAoKSA9PiB1c2VBZG1pblN0b3JlKChzdGF0ZSkgPT4gKHtcbiAgc2V0QWN0aXZlVGFiOiBzdGF0ZS5zZXRBY3RpdmVUYWIsXG4gIGxvYWREYXNoYm9hcmRTdGF0czogc3RhdGUubG9hZERhc2hib2FyZFN0YXRzLFxufSkpO1xuXG4vLyBTeXN0ZW0gc2V0dGluZ3Mgc2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlQWRtaW5TeXN0ZW1TZXR0aW5ncyA9ICgpID0+IHVzZUFkbWluU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5zeXN0ZW1TZXR0aW5ncyk7XG5leHBvcnQgY29uc3QgdXNlQWRtaW5TZXR0aW5nc1RhYiA9ICgpID0+IHVzZUFkbWluU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5zZXR0aW5nc1RhYik7XG5leHBvcnQgY29uc3QgdXNlQWRtaW5Jc1NhdmluZ1NldHRpbmdzID0gKCkgPT4gdXNlQWRtaW5TdG9yZSgoc3RhdGUpID0+IHN0YXRlLmlzU2F2aW5nU2V0dGluZ3MpO1xuZXhwb3J0IGNvbnN0IHVzZUFkbWluU3lzdGVtU2V0dGluZ3NBY3Rpb25zID0gKCkgPT4gdXNlQWRtaW5TdG9yZSgoc3RhdGUpID0+ICh7XG4gIHNldFN5c3RlbVNldHRpbmdzOiBzdGF0ZS5zZXRTeXN0ZW1TZXR0aW5ncyxcbiAgdXBkYXRlU3lzdGVtU2V0dGluZzogc3RhdGUudXBkYXRlU3lzdGVtU2V0dGluZyxcbiAgc2V0U2V0dGluZ3NUYWI6IHN0YXRlLnNldFNldHRpbmdzVGFiLFxuICBzYXZlU3lzdGVtU2V0dGluZ3M6IHN0YXRlLnNhdmVTeXN0ZW1TZXR0aW5ncyxcbiAgbG9hZFN5c3RlbVNldHRpbmdzOiBzdGF0ZS5sb2FkU3lzdGVtU2V0dGluZ3MsXG59KSk7XG5cbi8vIFJlaW1wb3J0IHNlbGVjdG9yc1xuZXhwb3J0IGNvbnN0IHVzZUFkbWluUmVpbXBvcnRQcm9ncmVzcyA9ICgpID0+IHVzZUFkbWluU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5yZWltcG9ydFByb2dyZXNzKTtcbmV4cG9ydCBjb25zdCB1c2VBZG1pblJlaW1wb3J0TG9ncyA9ICgpID0+IHVzZUFkbWluU3RvcmUoKHN0YXRlKSA9PiBzdGF0ZS5yZWltcG9ydExvZ3MpO1xuZXhwb3J0IGNvbnN0IHVzZUFkbWluSXNSZWltcG9ydFJ1bm5pbmcgPSAoKSA9PiB1c2VBZG1pblN0b3JlKChzdGF0ZSkgPT4gc3RhdGUuaXNSZWltcG9ydFJ1bm5pbmcpO1xuZXhwb3J0IGNvbnN0IHVzZUFkbWluUmVpbXBvcnRBY3Rpb25zID0gKCkgPT4gdXNlQWRtaW5TdG9yZSgoc3RhdGUpID0+ICh7XG4gIHNldFJlaW1wb3J0UHJvZ3Jlc3M6IHN0YXRlLnNldFJlaW1wb3J0UHJvZ3Jlc3MsXG4gIGFkZFJlaW1wb3J0TG9nOiBzdGF0ZS5hZGRSZWltcG9ydExvZyxcbiAgY2xlYXJSZWltcG9ydExvZ3M6IHN0YXRlLmNsZWFyUmVpbXBvcnRMb2dzLFxuICBzZXRJc1JlaW1wb3J0UnVubmluZzogc3RhdGUuc2V0SXNSZWltcG9ydFJ1bm5pbmcsXG4gIHN0YXJ0UmVpbXBvcnQ6IHN0YXRlLnN0YXJ0UmVpbXBvcnQsXG59KSk7XG5cbi8vIEdlbmVyYWwgYWRtaW4gYWN0aW9uc1xuZXhwb3J0IGNvbnN0IHVzZUFkbWluQWN0aW9ucyA9ICgpID0+IHVzZUFkbWluU3RvcmUoKHN0YXRlKSA9PiAoe1xuICBsb2FkVXNlcnM6IHN0YXRlLmxvYWRVc2VycyxcbiAgbG9hZERhc2hib2FyZFN0YXRzOiBzdGF0ZS5sb2FkRGFzaGJvYXJkU3RhdHMsXG4gIGxvYWRTeXN0ZW1TZXR0aW5nczogc3RhdGUubG9hZFN5c3RlbVNldHRpbmdzLFxuICBhZGRBY3Rpdml0eUl0ZW06IHN0YXRlLmFkZEFjdGl2aXR5SXRlbSxcbiAgY2xlYXJBY3Rpdml0eUl0ZW1zOiBzdGF0ZS5jbGVhckFjdGl2aXR5SXRlbXMsXG4gIGFkZEFkbWluTm90aWZpY2F0aW9uOiBzdGF0ZS5hZGRBZG1pbk5vdGlmaWNhdGlvbixcbiAgY2xlYXJBZG1pbk5vdGlmaWNhdGlvbnM6IHN0YXRlLmNsZWFyQWRtaW5Ob3RpZmljYXRpb25zLFxuICBtYXJrTm90aWZpY2F0aW9uQXNSZWFkOiBzdGF0ZS5tYXJrTm90aWZpY2F0aW9uQXNSZWFkLFxuICBzZXRMb2FkaW5nOiBzdGF0ZS5zZXRMb2FkaW5nLFxuICBzZXRVcGRhdGluZzogc3RhdGUuc2V0VXBkYXRpbmcsXG4gIHNldEVycm9yOiBzdGF0ZS5zZXRFcnJvcixcbiAgY2xlYXJFcnJvcjogc3RhdGUuY2xlYXJFcnJvcixcbiAgcmVmcmVzaERhdGE6IHN0YXRlLnJlZnJlc2hEYXRhLFxuICBzeW5jRGF0YTogc3RhdGUuc3luY0RhdGEsXG59KSk7XG5cbi8vIEFkbWluIHN0b3JlIHV0aWxpdGllc1xuZXhwb3J0IGNvbnN0IHVzZUFkbWluU3RhdHMgPSAoKSA9PiB1c2VBZG1pblN0b3JlKChzdGF0ZSkgPT4gKHtcbiAgdG90YWxVc2Vyczogc3RhdGUudXNlcnMubGVuZ3RoLFxuICB0b3RhbE5vdGlmaWNhdGlvbnM6IHN0YXRlLmFkbWluTm90aWZpY2F0aW9ucy5sZW5ndGgsXG4gIHVucmVhZE5vdGlmaWNhdGlvbnM6IHN0YXRlLmFkbWluTm90aWZpY2F0aW9ucy5maWx0ZXIobiA9PiAhbi5yZWFkKS5sZW5ndGgsXG4gIHRvdGFsQWN0aXZpdHk6IHN0YXRlLmFjdGl2aXR5SXRlbXMubGVuZ3RoLFxufSkpO1xuXG4vLyBSZWNlbnQgYWN0aXZpdHkgc2VsZWN0b3JcbmV4cG9ydCBjb25zdCB1c2VSZWNlbnRBY3Rpdml0eSA9ICgpID0+IHVzZUFkbWluU3RvcmUoKHN0YXRlKSA9PiBcbiAgc3RhdGUuYWN0aXZpdHlJdGVtcy5zbGljZSgwLCAxMClcbik7XG5cbi8vIEFkbWluIHN0b3JlIHV0aWxpdGllc1xuZXhwb3J0IGNvbnN0IGFkbWluU3RvcmVVdGlscyA9IHtcbiAgZ2V0QWRtaW5TdGF0czogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlQWRtaW5TdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICB0b3RhbFVzZXJzOiBzdGF0ZS51c2Vycy5sZW5ndGgsXG4gICAgICB0b3RhbE5vdGlmaWNhdGlvbnM6IHN0YXRlLmFkbWluTm90aWZpY2F0aW9ucy5sZW5ndGgsXG4gICAgICB1bnJlYWROb3RpZmljYXRpb25zOiBzdGF0ZS5hZG1pbk5vdGlmaWNhdGlvbnMuZmlsdGVyKG4gPT4gIW4ucmVhZCkubGVuZ3RoLFxuICAgICAgdG90YWxBY3Rpdml0eTogc3RhdGUuYWN0aXZpdHlJdGVtcy5sZW5ndGgsXG4gICAgfTtcbiAgfSxcblxuICBnZXREYXRhU3VtbWFyeTogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlQWRtaW5TdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiB7XG4gICAgICB1c2Vyczogc3RhdGUudXNlcnMubGVuZ3RoLFxuICAgICAgdHJlbmRpbmdUb3BpY3M6IHN0YXRlLnRyZW5kaW5nVG9waWNzLmxlbmd0aCxcbiAgICAgIGdlbmVyYXRlZFBvbGxzOiBzdGF0ZS5nZW5lcmF0ZWRQb2xscy5sZW5ndGgsXG4gICAgICBhY3Rpdml0eUl0ZW1zOiBzdGF0ZS5hY3Rpdml0eUl0ZW1zLmxlbmd0aCxcbiAgICAgIG5vdGlmaWNhdGlvbnM6IHN0YXRlLmFkbWluTm90aWZpY2F0aW9ucy5sZW5ndGgsXG4gICAgfTtcbiAgfSxcbn07XG5cbi8vIEFkbWluIHN0b3JlIHN1YnNjcmlwdGlvbnNcbmV4cG9ydCBjb25zdCBhZG1pblN0b3JlU3Vic2NyaXB0aW9ucyA9IHtcbiAgc3Vic2NyaWJlVG9Vc2VyczogKGNhbGxiYWNrOiAodXNlcnM6IEFkbWluVXNlcltdKSA9PiB2b2lkKSA9PiB7XG4gICAgcmV0dXJuIHVzZUFkbWluU3RvcmUuc3Vic2NyaWJlKChzdGF0ZSkgPT4ge1xuICAgICAgY2FsbGJhY2soc3RhdGUudXNlcnMpO1xuICAgIH0pO1xuICB9LFxuXG4gIHN1YnNjcmliZVRvRGFzaGJvYXJkU3RhdHM6IChjYWxsYmFjazogKHN0YXRzOiBBZG1pblN0b3JlWydkYXNoYm9hcmRTdGF0cyddKSA9PiB2b2lkKSA9PiB7XG4gICAgcmV0dXJuIHVzZUFkbWluU3RvcmUuc3Vic2NyaWJlKChzdGF0ZSkgPT4ge1xuICAgICAgY2FsbGJhY2soc3RhdGUuZGFzaGJvYXJkU3RhdHMpO1xuICAgIH0pO1xuICB9LFxuXG4gIHN1YnNjcmliZVRvTm90aWZpY2F0aW9uczogKGNhbGxiYWNrOiAobm90aWZpY2F0aW9uczogQWRtaW5Ob3RpZmljYXRpb25bXSkgPT4gdm9pZCkgPT4ge1xuICAgIHJldHVybiB1c2VBZG1pblN0b3JlLnN1YnNjcmliZSgoc3RhdGUpID0+IHtcbiAgICAgIGNhbGxiYWNrKHN0YXRlLmFkbWluTm90aWZpY2F0aW9ucyk7XG4gICAgfSk7XG4gIH0sXG59O1xuXG4vLyBBZG1pbiBzdG9yZSBkZWJ1ZyB1dGlsaXRpZXNcbmV4cG9ydCBjb25zdCBhZG1pblN0b3JlRGVidWcgPSB7XG4gIGxvZ1N0YXRlOiAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VBZG1pblN0b3JlLmdldFN0YXRlKCk7XG4gICAgY29uc29sZS5sb2coJ0FkbWluIHN0b3JlIHN0YXRlOicsIHN0YXRlKTtcbiAgfSxcbiAgXG4gIGxvZ1N0YXRzOiAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdHMgPSBhZG1pblN0b3JlVXRpbHMuZ2V0QWRtaW5TdGF0cygpO1xuICAgIGNvbnNvbGUubG9nKCdBZG1pbiBzdGF0aXN0aWNzOicsIHN0YXRzKTtcbiAgfSxcbiAgXG4gIGxvZ0RhdGFTdW1tYXJ5OiAoKSA9PiB7XG4gICAgY29uc3Qgc3VtbWFyeSA9IGFkbWluU3RvcmVVdGlscy5nZXREYXRhU3VtbWFyeSgpO1xuICAgIGNvbnNvbGUubG9nKCdBZG1pbiBkYXRhIHN1bW1hcnk6Jywgc3VtbWFyeSk7XG4gIH0sXG4gIFxuICByZXNldDogKCkgPT4ge1xuICAgIHVzZUFkbWluU3RvcmUuZ2V0U3RhdGUoKS5jbGVhckFjdGl2aXR5SXRlbXMoKTtcbiAgICB1c2VBZG1pblN0b3JlLmdldFN0YXRlKCkuY2xlYXJBZG1pbk5vdGlmaWNhdGlvbnMoKTtcbiAgICAvLyBBZG1pbiBzdG9yZSByZXNldFxuICB9XG59OyJdLCJuYW1lcyI6WyJhZG1pblN0b3JlRGVidWciLCJhZG1pblN0b3JlU3Vic2NyaXB0aW9ucyIsImFkbWluU3RvcmVVdGlscyIsInVzZUFjdGl2aXR5RmVlZCIsInVzZUFjdGl2aXR5SXRlbXMiLCJ1c2VBZG1pbkFjdGlvbnMiLCJ1c2VBZG1pbkFjdGl2ZVRhYiIsInVzZUFkbWluRGFzaGJvYXJkQWN0aW9ucyIsInVzZUFkbWluRGFzaGJvYXJkU3RhdHMiLCJ1c2VBZG1pbkVycm9yIiwidXNlQWRtaW5Jc1JlaW1wb3J0UnVubmluZyIsInVzZUFkbWluSXNTYXZpbmdTZXR0aW5ncyIsInVzZUFkbWluTG9hZGluZyIsInVzZUFkbWluTm90aWZpY2F0aW9ucyIsInVzZUFkbWluUmVpbXBvcnRBY3Rpb25zIiwidXNlQWRtaW5SZWltcG9ydExvZ3MiLCJ1c2VBZG1pblJlaW1wb3J0UHJvZ3Jlc3MiLCJ1c2VBZG1pblNldHRpbmdzVGFiIiwidXNlQWRtaW5TdGF0cyIsInVzZUFkbWluU3RvcmUiLCJ1c2VBZG1pblN5c3RlbVNldHRpbmdzIiwidXNlQWRtaW5TeXN0ZW1TZXR0aW5nc0FjdGlvbnMiLCJ1c2VBZG1pblVzZXJBY3Rpb25zIiwidXNlQWRtaW5Vc2VyRmlsdGVycyIsInVzZUFkbWluVXNlcnMiLCJ1c2VHZW5lcmF0ZWRQb2xscyIsInVzZVJlY2VudEFjdGl2aXR5IiwidXNlU3lzdGVtTWV0cmljcyIsInVzZVRyZW5kaW5nVG9waWNzIiwiY3JlYXRlIiwiZGV2dG9vbHMiLCJwZXJzaXN0Iiwic2V0IiwiZ2V0IiwidHJlbmRpbmdUb3BpY3MiLCJnZW5lcmF0ZWRQb2xscyIsInN5c3RlbU1ldHJpY3MiLCJhY3Rpdml0eUl0ZW1zIiwiYWN0aXZpdHlGZWVkIiwidXNlcnMiLCJ1c2VyRmlsdGVycyIsInNlYXJjaFRlcm0iLCJyb2xlRmlsdGVyIiwic3RhdHVzRmlsdGVyIiwic2VsZWN0ZWRVc2VycyIsIlNldCIsInNob3dCdWxrQWN0aW9ucyIsImFjdGl2ZVRhYiIsImRhc2hib2FyZFN0YXRzIiwic3lzdGVtU2V0dGluZ3MiLCJzZXR0aW5nc1RhYiIsImlzU2F2aW5nU2V0dGluZ3MiLCJyZWltcG9ydFByb2dyZXNzIiwidG90YWxTdGF0ZXMiLCJwcm9jZXNzZWRTdGF0ZXMiLCJzdWNjZXNzZnVsU3RhdGVzIiwiZmFpbGVkU3RhdGVzIiwidG90YWxSZXByZXNlbnRhdGl2ZXMiLCJmZWRlcmFsUmVwcmVzZW50YXRpdmVzIiwic3RhdGVSZXByZXNlbnRhdGl2ZXMiLCJlcnJvcnMiLCJzdGF0ZVJlc3VsdHMiLCJyZWltcG9ydExvZ3MiLCJpc1JlaW1wb3J0UnVubmluZyIsImlzTG9hZGluZyIsImVycm9yIiwiYWRtaW5Ob3RpZmljYXRpb25zIiwibG9hZFVzZXJzIiwic2V0TG9hZGluZyIsInNldEVycm9yIiwic3VwYWJhc2UiLCJ0aGVuIiwibSIsImdldFN1cGFiYXNlQ2xpZW50IiwiRXJyb3IiLCJkYXRhIiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwibWVzc2FnZSIsImFkbWluVXNlcnMiLCJtYXAiLCJ1c2VyIiwiaWQiLCJ1c2VyX2lkIiwiZW1haWwiLCJuYW1lIiwiZGlzcGxheV9uYW1lIiwicm9sZSIsInN0YXR1cyIsImNyZWF0ZWRfYXQiLCJsYXN0X2xvZ2luIiwibG9nZ2VyIiwiaW5mbyIsInVzZXJDb3VudCIsImxlbmd0aCIsImVycm9yTWVzc2FnZSIsImxvYWREYXNoYm9hcmRTdGF0cyIsImNvdW50IiwidG90YWxVc2VycyIsInVzZXJzRXJyb3IiLCJoZWFkIiwiYWN0aXZlUG9sbHMiLCJwb2xsc0Vycm9yIiwiZXEiLCJ0b3RhbFZvdGVzIiwidm90ZXNFcnJvciIsInJlY2VudEFjdGl2aXR5IiwiZ3RlIiwiRGF0ZSIsIm5vdyIsInRvSVNPU3RyaW5nIiwibGltaXQiLCJzeXN0ZW1IZWFsdGgiLCJzdGF0cyIsImxvYWRTeXN0ZW1TZXR0aW5ncyIsInNldHRpbmdzRGF0YSIsInNpbmdsZSIsImNvZGUiLCJkZWZhdWx0U2V0dGluZ3MiLCJnZW5lcmFsIiwic2l0ZU5hbWUiLCJzaXRlRGVzY3JpcHRpb24iLCJtYWludGVuYW5jZU1vZGUiLCJhbGxvd1JlZ2lzdHJhdGlvbiIsInJlcXVpcmVFbWFpbFZlcmlmaWNhdGlvbiIsInBlcmZvcm1hbmNlIiwiZW5hYmxlQ2FjaGluZyIsImNhY2hlVFRMIiwiZW5hYmxlQ29tcHJlc3Npb24iLCJtYXhGaWxlU2l6ZSIsInNlY3VyaXR5IiwiZW5hYmxlUmF0ZUxpbWl0aW5nIiwibWF4UmVxdWVzdHNQZXJNaW51dGUiLCJlbmFibGVDU1AiLCJlbmFibGVIU1RTIiwibm90aWZpY2F0aW9ucyIsImVuYWJsZUVtYWlsTm90aWZpY2F0aW9ucyIsImVuYWJsZVB1c2hOb3RpZmljYXRpb25zIiwibm90aWZpY2F0aW9uRnJlcXVlbmN5Iiwic2V0dGluZ3MiLCJzZXRVc2VyRmlsdGVycyIsImZpbHRlcnMiLCJzdGF0ZSIsInNlbGVjdFVzZXIiLCJ1c2VySWQiLCJkZXNlbGVjdFVzZXIiLCJuZXdTZWxlY3RlZCIsImRlbGV0ZSIsInNlbGVjdEFsbFVzZXJzIiwiZGVzZWxlY3RBbGxVc2VycyIsInVwZGF0ZVVzZXJSb2xlIiwidXBkYXRlIiwidXBkYXRlVXNlclN0YXR1cyIsImRlbGV0ZVVzZXIiLCJmaWx0ZXIiLCJzZXRBY3RpdmVUYWIiLCJ0YWIiLCJzZXRTeXN0ZW1TZXR0aW5ncyIsInVwZGF0ZVN5c3RlbVNldHRpbmciLCJzZWN0aW9uIiwia2V5IiwidmFsdWUiLCJzZXRTZXR0aW5nc1RhYiIsInNhdmVTeXN0ZW1TZXR0aW5ncyIsInNldElzU2F2aW5nU2V0dGluZ3MiLCJ1cHNlcnQiLCJzZXRSZWltcG9ydFByb2dyZXNzIiwicHJvZ3Jlc3MiLCJhZGRSZWltcG9ydExvZyIsImNsZWFyUmVpbXBvcnRMb2dzIiwic2V0SXNSZWltcG9ydFJ1bm5pbmciLCJydW5uaW5nIiwic3RhcnRSZWltcG9ydCIsImFkZEFjdGl2aXR5SXRlbSIsIml0ZW0iLCJzbGljZSIsImNsZWFyQWN0aXZpdHlJdGVtcyIsImFkZEFkbWluTm90aWZpY2F0aW9uIiwibm90aWZpY2F0aW9uIiwiY2xlYXJBZG1pbk5vdGlmaWNhdGlvbnMiLCJtYXJrTm90aWZpY2F0aW9uQXNSZWFkIiwicmVhZCIsImxvYWRpbmciLCJzZXRVcGRhdGluZyIsInVwZGF0aW5nIiwiY2xlYXJFcnJvciIsInNhdmluZyIsInJlZnJlc2hEYXRhIiwiUHJvbWlzZSIsImFsbCIsInN5bmNEYXRhIiwicGFydGlhbGl6ZSIsInRvdGFsTm90aWZpY2F0aW9ucyIsInVucmVhZE5vdGlmaWNhdGlvbnMiLCJuIiwidG90YWxBY3Rpdml0eSIsImdldEFkbWluU3RhdHMiLCJnZXRTdGF0ZSIsImdldERhdGFTdW1tYXJ5Iiwic3Vic2NyaWJlVG9Vc2VycyIsImNhbGxiYWNrIiwic3Vic2NyaWJlIiwic3Vic2NyaWJlVG9EYXNoYm9hcmRTdGF0cyIsInN1YnNjcmliZVRvTm90aWZpY2F0aW9ucyIsImxvZ1N0YXRlIiwiY29uc29sZSIsImxvZyIsImxvZ1N0YXRzIiwibG9nRGF0YVN1bW1hcnkiLCJzdW1tYXJ5IiwicmVzZXQiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztDQVFDOzs7Ozs7Ozs7OztJQWd5QllBLGVBQWU7ZUFBZkE7O0lBckJBQyx1QkFBdUI7ZUFBdkJBOztJQXhCQUMsZUFBZTtlQUFmQTs7SUFuRkFDLGVBQWU7ZUFBZkE7O0lBREFDLGdCQUFnQjtlQUFoQkE7O0lBcURBQyxlQUFlO2VBQWZBOztJQWhDQUMsaUJBQWlCO2VBQWpCQTs7SUFFQUMsd0JBQXdCO2VBQXhCQTs7SUFEQUMsc0JBQXNCO2VBQXRCQTs7SUFsQkFDLGFBQWE7ZUFBYkE7O0lBdUNBQyx5QkFBeUI7ZUFBekJBOztJQVpBQyx3QkFBd0I7ZUFBeEJBOztJQTVCQUMsZUFBZTtlQUFmQTs7SUFEQUMscUJBQXFCO2VBQXJCQTs7SUEwQ0FDLHVCQUF1QjtlQUF2QkE7O0lBRkFDLG9CQUFvQjtlQUFwQkE7O0lBREFDLHdCQUF3QjtlQUF4QkE7O0lBWEFDLG1CQUFtQjtlQUFuQkE7O0lBeUNBQyxhQUFhO2VBQWJBOztJQTlrQkFDLGFBQWE7ZUFBYkE7O0lBb2lCQUMsc0JBQXNCO2VBQXRCQTs7SUFHQUMsNkJBQTZCO2VBQTdCQTs7SUF2QkFDLG1CQUFtQjtlQUFuQkE7O0lBREFDLG1CQUFtQjtlQUFuQkE7O0lBREFDLGFBQWE7ZUFBYkE7O0lBVEFDLGlCQUFpQjtlQUFqQkE7O0lBaUZBQyxpQkFBaUI7ZUFBakJBOztJQWhGQUMsZ0JBQWdCO2VBQWhCQTs7SUFGQUMsaUJBQWlCO2VBQWpCQTs7O3lCQTFwQlU7NEJBQ0U7d0JBV0Y7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztB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