0dce288334386a0ee2543be3fc047d36
// Balanced Onboarding Flow
// 5 essential steps: Welcome, Privacy, Demographics, Auth, Complete
// Created: October 2, 2025
"use client";
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
Object.defineProperty(exports, "default", {
    enumerable: true,
    get: function() {
        return _default;
    }
});
const _jsxruntime = require("react/jsx-runtime");
const _navigation = require("next/navigation");
const _react = /*#__PURE__*/ _interop_require_wildcard(require("react"));
const _FeatureWrapper = require("../../../components/shared/FeatureWrapper");
const _PasskeyRegister = require("../../auth/components/PasskeyRegister");
const _stores = require("../../../lib/stores");
const _objects = require("../../../lib/utils/objects");
const _client = require("../../../utils/supabase/client");
function _getRequireWildcardCache(nodeInterop) {
    if (typeof WeakMap !== "function") return null;
    var cacheBabelInterop = new WeakMap();
    var cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
        return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
}
function _interop_require_wildcard(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
        return obj;
    }
    if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
        return {
            default: obj
        };
    }
    var cache = _getRequireWildcardCache(nodeInterop);
    if (cache && cache.has(obj)) {
        return cache.get(obj);
    }
    var newObj = {
        __proto__: null
    };
    var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
    for(var key in obj){
        if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) {
            var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
            if (desc && (desc.get || desc.set)) {
                Object.defineProperty(newObj, key, desc);
            } else {
                newObj[key] = obj[key];
            }
        }
    }
    newObj.default = obj;
    if (cache) {
        cache.set(obj, newObj);
    }
    return newObj;
}
// Step 1: Welcome & Value Proposition (30 seconds)
const WelcomeStep = ({ onNext, onSkip })=>{
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "max-w-2xl mx-auto text-center p-8",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h1", {
                            className: "text-5xl font-bold text-gray-900 mb-6",
                            children: "Welcome to Choices"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-xl text-gray-600 mb-8",
                            children: "Make informed decisions with transparent, data-driven insights"
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "text-4xl mb-4",
                                    children: "\uD83D\uDDF3️"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                    className: "text-lg font-semibold text-gray-900 mb-2",
                                    children: "Vote on Issues"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-gray-600 text-sm",
                                    children: "Participate in polls on topics that matter to you"
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "text-4xl mb-4",
                                    children: "\uD83C\uDFDB️"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                    className: "text-lg font-semibold text-gray-900 mb-2",
                                    children: "Track Representatives"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-gray-600 text-sm",
                                    children: "See how your elected officials vote and fundraise"
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "text-4xl mb-4",
                                    children: "\uD83D\uDCCA"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                    className: "text-lg font-semibold text-gray-900 mb-2",
                                    children: "Campaign Finance"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-gray-600 text-sm",
                                    children: "Understand who funds political campaigns"
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                    className: "bg-blue-50 rounded-lg p-4 mb-8",
                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-blue-800 font-medium",
                        children: "⏱️ This will take about 3 minutes to get you started"
                    })
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "space-y-4",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onNext,
                            "data-testid": T.welcomeNext,
                            className: "w-full bg-blue-600 text-white py-4 px-8 rounded-lg font-semibold text-lg hover:bg-blue-700 transition-colors",
                            children: "Get Started"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onSkip,
                            className: "w-full text-gray-500 hover:text-gray-700 transition-colors",
                            children: "I'm a returning user"
                        })
                    ]
                })
            ]
        })
    });
};
// Step 2: Data Safety & Privacy Philosophy (45 seconds)
const PrivacyStep = ({ onNext, onBack, privacy, setPrivacy })=>{
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "max-w-2xl mx-auto p-8",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "text-center mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                            className: "text-4xl font-bold text-gray-900 mb-4",
                            children: "Your Privacy Matters"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-xl text-gray-600",
                            children: "We believe in transparency and data protection"
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "space-y-6 mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-start space-x-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "text-3xl",
                                        children: "\uD83D\uDD12"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                                className: "text-lg font-semibold text-gray-900 mb-2",
                                                children: "Location Data"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                className: "text-gray-600",
                                                children: "We only need your state/district to find your representatives. We never store your exact address."
                                            })
                                        ]
                                    })
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-start space-x-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "text-3xl",
                                        children: "\uD83D\uDCCA"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                                className: "text-lg font-semibold text-gray-900 mb-2",
                                                children: "Demographics"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                className: "text-gray-600",
                                                children: "Age and education help us show you relevant polls and match you with similar voters."
                                            })
                                        ]
                                    })
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "flex items-start space-x-4",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "text-3xl",
                                        children: "\uD83D\uDEE1️"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                                className: "text-lg font-semibold text-gray-900 mb-2",
                                                children: "Data Protection"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                                className: "text-gray-600",
                                                children: "All data is encrypted, anonymized, and never sold. You can delete your data anytime."
                                            })
                                        ]
                                    })
                                ]
                            })
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "bg-gray-50 rounded-lg p-6 mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                            className: "text-lg font-semibold text-gray-900 mb-4",
                            children: "Your Privacy Controls"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "space-y-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                    className: "flex items-center space-x-3",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            type: "checkbox",
                                            checked: privacy.location_sharing === "quantized",
                                            onChange: (e)=>setPrivacy((0, _objects.withOptional)(privacy, {
                                                    location_sharing: e.target.checked ? "quantized" : "disabled"
                                                })),
                                            className: "w-5 h-5 text-blue-600 rounded"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-gray-700",
                                            children: "Allow location sharing (quantized to state level)"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                    className: "flex items-center space-x-3",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            type: "checkbox",
                                            checked: privacy.demographic_sharing === "enabled",
                                            onChange: (e)=>setPrivacy((0, _objects.withOptional)(privacy, {
                                                    demographic_sharing: e.target.checked ? "enabled" : "disabled"
                                                })),
                                            className: "w-5 h-5 text-blue-600 rounded"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-gray-700",
                                            children: "Share demographics for better experience"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                    className: "flex items-center space-x-3",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                            type: "checkbox",
                                            checked: privacy.analytics_sharing === "enabled",
                                            onChange: (e)=>setPrivacy((0, _objects.withOptional)(privacy, {
                                                    analytics_sharing: e.target.checked ? "enabled" : "limited"
                                                })),
                                            className: "w-5 h-5 text-blue-600 rounded"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-gray-700",
                                            children: "Share analytics to improve the platform"
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex justify-between",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onBack,
                            className: "text-gray-500 hover:text-gray-700 transition-colors",
                            children: "← Back"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onNext,
                            "data-testid": T.privacyNext,
                            className: "bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",
                            children: "Continue"
                        })
                    ]
                })
            ]
        })
    });
};
// Step 3: Location & Demographics (60 seconds)
const DemographicsStep = ({ onNext, onBack, onSkip, demographics, setDemographics })=>{
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "max-w-2xl mx-auto p-8",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "text-center mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                            className: "text-4xl font-bold text-gray-900 mb-4",
                            children: "Help Us Personalize Your Experience"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-xl text-gray-600",
                            children: "This information helps us show you relevant content"
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "space-y-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("h3", {
                                    className: "text-lg font-semibold text-gray-900 mb-4 flex items-center",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-2xl mr-3",
                                            children: "\uD83D\uDCCD"
                                        }),
                                        "Location"
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-gray-600 mb-4",
                                    children: "We need this to find your representatives"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "grid grid-cols-1 md:grid-cols-2 gap-4",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                    className: "block text-sm font-medium text-gray-700 mb-2",
                                                    children: "State"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                                    value: demographics.location.state,
                                                    onChange: (e)=>setDemographics((0, _objects.withOptional)(demographics, {
                                                            location: (0, _objects.withOptional)(demographics.location, {
                                                                state: e.target.value
                                                            })
                                                        })),
                                                    className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "",
                                                            children: "Select your state"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "AL",
                                                            children: "Alabama"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "AK",
                                                            children: "Alaska"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "AZ",
                                                            children: "Arizona"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "AR",
                                                            children: "Arkansas"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "CA",
                                                            children: "California"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "CO",
                                                            children: "Colorado"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "CT",
                                                            children: "Connecticut"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "DE",
                                                            children: "Delaware"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "FL",
                                                            children: "Florida"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "GA",
                                                            children: "Georgia"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "HI",
                                                            children: "Hawaii"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "ID",
                                                            children: "Idaho"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "IL",
                                                            children: "Illinois"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "IN",
                                                            children: "Indiana"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "IA",
                                                            children: "Iowa"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "KS",
                                                            children: "Kansas"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "KY",
                                                            children: "Kentucky"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "LA",
                                                            children: "Louisiana"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "ME",
                                                            children: "Maine"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MD",
                                                            children: "Maryland"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MA",
                                                            children: "Massachusetts"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MI",
                                                            children: "Michigan"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MN",
                                                            children: "Minnesota"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MS",
                                                            children: "Mississippi"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MO",
                                                            children: "Missouri"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "MT",
                                                            children: "Montana"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NE",
                                                            children: "Nebraska"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NV",
                                                            children: "Nevada"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NH",
                                                            children: "New Hampshire"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NJ",
                                                            children: "New Jersey"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NM",
                                                            children: "New Mexico"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NY",
                                                            children: "New York"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "NC",
                                                            children: "North Carolina"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "ND",
                                                            children: "North Dakota"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "OH",
                                                            children: "Ohio"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "OK",
                                                            children: "Oklahoma"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "OR",
                                                            children: "Oregon"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "PA",
                                                            children: "Pennsylvania"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "RI",
                                                            children: "Rhode Island"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "SC",
                                                            children: "South Carolina"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "SD",
                                                            children: "South Dakota"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "TN",
                                                            children: "Tennessee"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "TX",
                                                            children: "Texas"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "UT",
                                                            children: "Utah"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "VT",
                                                            children: "Vermont"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "VA",
                                                            children: "Virginia"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "WA",
                                                            children: "Washington"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "WV",
                                                            children: "West Virginia"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "WI",
                                                            children: "Wisconsin"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "WY",
                                                            children: "Wyoming"
                                                        })
                                                    ]
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                    className: "block text-sm font-medium text-gray-700 mb-2",
                                                    children: "District (Optional)"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                    type: "text",
                                                    value: demographics.location.district || "",
                                                    onChange: (e)=>setDemographics((0, _objects.withOptional)(demographics, {
                                                            location: (0, _objects.withOptional)(demographics.location, {
                                                                district: e.target.value
                                                            })
                                                        })),
                                                    placeholder: "Enter your congressional district",
                                                    className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"
                                                })
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-sm text-gray-500 mt-2",
                                    children: "We only store your state and district, not your exact address"
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "bg-white rounded-lg p-6 shadow-sm",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("h3", {
                                    className: "text-lg font-semibold text-gray-900 mb-4 flex items-center",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-2xl mr-3",
                                            children: "\uD83D\uDC64"
                                        }),
                                        "Demographics"
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                    className: "text-gray-600 mb-4",
                                    children: "This helps us show you relevant polls and match you with similar voters"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                    className: "block text-sm font-medium text-gray-700 mb-2",
                                                    children: "Age Range"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                                    value: demographics.age_range,
                                                    onChange: (e)=>setDemographics((0, _objects.withOptional)(demographics, {
                                                            age_range: e.target.value
                                                        })),
                                                    className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "",
                                                            children: "Select age range"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "18-24",
                                                            children: "18-24"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "25-34",
                                                            children: "25-34"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "35-44",
                                                            children: "35-44"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "45-54",
                                                            children: "45-54"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "55-64",
                                                            children: "55-64"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "65+",
                                                            children: "65+"
                                                        })
                                                    ]
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                    className: "block text-sm font-medium text-gray-700 mb-2",
                                                    children: "Education Level"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                                    value: demographics.education,
                                                    onChange: (e)=>setDemographics((0, _objects.withOptional)(demographics, {
                                                            education: e.target.value
                                                        })),
                                                    className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "",
                                                            children: "Select education"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "high_school",
                                                            children: "High School"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "some_college",
                                                            children: "Some College"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "bachelor",
                                                            children: "Bachelor's Degree"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "graduate",
                                                            children: "Graduate Degree"
                                                        })
                                                    ]
                                                })
                                            ]
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                            children: [
                                                /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                                    className: "block text-sm font-medium text-gray-700 mb-2",
                                                    children: "Political Engagement"
                                                }),
                                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("select", {
                                                    value: demographics.political_engagement,
                                                    onChange: (e)=>setDemographics((0, _objects.withOptional)(demographics, {
                                                            political_engagement: e.target.value
                                                        })),
                                                    className: "w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",
                                                    children: [
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "",
                                                            children: "Select engagement"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "casual",
                                                            children: "Casual (vote occasionally)"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "moderate",
                                                            children: "Moderate (follow politics)"
                                                        }),
                                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("option", {
                                                            value: "very_engaged",
                                                            children: "Very Engaged (very active)"
                                                        })
                                                    ]
                                                })
                                            ]
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex justify-between items-center mt-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onBack,
                            className: "text-gray-500 hover:text-gray-700 transition-colors",
                            children: "← Back"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "flex space-x-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                    onClick: onSkip,
                                    className: "text-gray-500 hover:text-gray-700 transition-colors",
                                    children: "Skip for now"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                    onClick: onNext,
                                    "data-testid": T.profileNext,
                                    className: "bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition-colors",
                                    children: "Continue"
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    className: "text-sm text-gray-500 text-center mt-4",
                    children: "You can always add this information later"
                })
            ]
        })
    });
};
// Step 4: Authentication Setup (45 seconds)
const AuthStep = ({ onNext, onBack, onSkip, error, isLoading })=>{
    const [authMethod, setAuthMethod] = (0, _react.useState)(null);
    const [success, setSuccess] = (0, _react.useState)(false);
    const handleAuthMethodSelect = (method)=>{
        setAuthMethod(method);
        // Error is managed by the store
        setSuccess(false);
    };
    const handlePasskeySuccess = ()=>{
        setSuccess(true);
        setTimeout(()=>{
            onNext();
        }, 1000);
    };
    const handlePasskeyError = (error)=>{
        // Error is managed by the store
        console.error("Passkey error:", error);
    };
    const handleEmailAuth = async ()=>{
        try {
            // Redirect to registration page for email auth
            const { safeNavigate } = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../../lib/utils/ssr-safe")));
            safeNavigate("/register");
        } catch  {
            console.error("Failed to redirect to registration");
        }
    };
    const handleGoogleAuth = async ()=>{
        try {
            // Redirect to Google OAuth
            const { safeNavigate } = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../../lib/utils/ssr-safe")));
            safeNavigate("/auth/google");
        } catch  {
            console.error("Failed to redirect to Google authentication");
        }
    };
    // If user has selected a method, show the appropriate interface
    if (authMethod === "passkey") {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "max-w-2xl mx-auto p-8",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "text-center mb-8",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                                className: "text-4xl font-bold text-gray-900 mb-4",
                                children: "Set Up Your Passkey"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                className: "text-xl text-gray-600",
                                children: "Create a secure, passwordless way to sign in"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "bg-white rounded-lg p-6 shadow-sm mb-8",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                className: "text-center mb-6",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                        className: "w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",
                                        children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                            className: "text-3xl",
                                            children: "\uD83D\uDD10"
                                        })
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                                        className: "text-lg font-semibold text-gray-900 mb-2",
                                        children: "Why Passkeys?"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("ul", {
                                        className: "text-gray-600 space-y-2 text-left",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Use your fingerprint, face, or device PIN"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• No passwords to remember or type"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Works across all your devices"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                                children: "• Maximum security with privacy"
                                            })
                                        ]
                                    })
                                ]
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)(_FeatureWrapper.FeatureWrapper, {
                                feature: "WEBAUTHN",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    "data-testid": T.onboardingPasskeySetup,
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PasskeyRegister.PasskeyRegister, {
                                        onSuccess: handlePasskeySuccess,
                                        onError: handlePasskeyError,
                                        className: "w-full"
                                    })
                                })
                            }),
                            error && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "flex items-center gap-2 text-red-800",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-sm",
                                        children: error
                                    })
                                })
                            }),
                            success && /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "mt-4 p-4 bg-green-50 border border-green-200 rounded-lg",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                    className: "flex items-center gap-2 text-green-800",
                                    children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-sm",
                                        children: "✅ Passkey created successfully!"
                                    })
                                })
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "flex justify-between items-center",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: ()=>setAuthMethod(null),
                                className: "text-gray-500 hover:text-gray-700 transition-colors",
                                children: "← Back to options"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "flex space-x-4",
                                children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                    onClick: onSkip,
                                    className: "text-gray-500 hover:text-gray-700 transition-colors",
                                    children: "Skip for now"
                                })
                            })
                        ]
                    })
                ]
            })
        });
    }
    // Main authentication method selection
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "max-w-2xl mx-auto p-8",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "text-center mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                            className: "text-4xl font-bold text-gray-900 mb-4",
                            children: "Create Your Account"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-xl text-gray-600",
                            children: "Choose how you'd like to sign in"
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "space-y-4 mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)(_FeatureWrapper.FeatureWrapper, {
                            feature: "WEBAUTHN",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                                onClick: ()=>handleAuthMethodSelect("passkey"),
                                disabled: isLoading,
                                "data-testid": T.authPasskeyOption,
                                className: "w-full flex items-center space-x-4 p-6 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors disabled:opacity-50",
                                children: [
                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                        className: "text-3xl",
                                        children: "\uD83D\uDD10"
                                    }),
                                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                        className: "text-left",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "text-lg font-semibold",
                                                children: "Passkey (Recommended)"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                className: "text-gray-500",
                                                children: "Passwordless and secure"
                                            })
                                        ]
                                    })
                                ]
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                            onClick: handleEmailAuth,
                            disabled: isLoading,
                            "data-testid": T.authEmailOption,
                            className: "w-full flex items-center space-x-4 p-6 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors disabled:opacity-50",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    className: "text-3xl",
                                    children: "\uD83D\uDCE7"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-left",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-lg font-semibold",
                                            children: "Email & Password"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-gray-500",
                                            children: "Simple and secure"
                                        })
                                    ]
                                })
                            ]
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("button", {
                            onClick: handleGoogleAuth,
                            disabled: isLoading,
                            "data-testid": T.authGoogleOption,
                            className: "w-full flex items-center space-x-4 p-6 border border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors disabled:opacity-50",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                    className: "text-3xl",
                                    children: "\uD83D\uDCF1"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-left",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-lg font-semibold",
                                            children: "Continue with Google"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-gray-500",
                                            children: "Quick and easy"
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "bg-gray-50 rounded-lg p-6 mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                            className: "text-lg font-semibold text-gray-900 mb-2",
                            children: "Why do we need authentication?"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("ul", {
                            className: "text-gray-600 space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• Save your preferences and voting history"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• Show you personalized content"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• Keep your data secure and private"
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "flex justify-between items-center",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: onBack,
                            className: "text-gray-500 hover:text-gray-700 transition-colors",
                            children: "← Back"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "flex space-x-4",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: onSkip,
                                className: "text-gray-500 hover:text-gray-700 transition-colors",
                                children: "Continue without account"
                            })
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                    className: "text-sm text-gray-500 text-center mt-4",
                    children: "You can start without an account, but with limited features"
                })
            ]
        })
    });
};
// Step 5: Profile Setup (Optional - can be skipped)
const ProfileStep = ({ onNext, onBack, onSkip, profile, onUpdate })=>{
    const [displayName, setDisplayName] = (0, _react.useState)(profile?.display_name || "");
    const [bio, setBio] = (0, _react.useState)(profile?.bio || "");
    const [primaryConcerns] = (0, _react.useState)(profile?.primary_concerns || []);
    const [communityFocus] = (0, _react.useState)(profile?.community_focus || []);
    const [participationStyle, setParticipationStyle] = (0, _react.useState)(profile?.participation_style || "observer");
    const handleNext = ()=>{
        onUpdate({
            display_name: displayName,
            bio,
            primary_concerns: primaryConcerns,
            community_focus: communityFocus,
            participation_style: participationStyle
        });
        onNext();
    };
    const handleSkip = ()=>{
        onSkip();
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "max-w-2xl mx-auto",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "text-center mb-8",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                        className: "text-3xl font-bold text-gray-900 mb-4",
                        children: "Complete Your Profile"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-lg text-gray-600",
                        children: "Help us personalize your experience (optional)"
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "space-y-6",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                className: "block text-sm font-medium text-gray-700 mb-2",
                                children: "Display Name"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                type: "text",
                                value: displayName,
                                onChange: (e)=>setDisplayName(e.target.value),
                                placeholder: "Enter your display name",
                                className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                className: "block text-sm font-medium text-gray-700 mb-2",
                                children: "Bio (Optional)"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("textarea", {
                                value: bio,
                                onChange: (e)=>setBio(e.target.value),
                                placeholder: "Share a brief description about yourself (optional)",
                                rows: 3,
                                className: "w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"
                            })
                        ]
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("label", {
                                className: "block text-sm font-medium text-gray-700 mb-2",
                                children: "How do you prefer to participate?"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                className: "space-y-2",
                                children: [
                                    {
                                        value: "observer",
                                        label: "Observer",
                                        desc: "I prefer to read and learn"
                                    },
                                    {
                                        value: "contributor",
                                        label: "Contributor",
                                        desc: "I like to share my thoughts"
                                    },
                                    {
                                        value: "leader",
                                        label: "Leader",
                                        desc: "I want to drive discussions"
                                    }
                                ].map((option)=>/*#__PURE__*/ (0, _jsxruntime.jsxs)("label", {
                                        className: "flex items-center space-x-3 p-3 border rounded-md cursor-pointer hover:bg-gray-50",
                                        children: [
                                            /*#__PURE__*/ (0, _jsxruntime.jsx)("input", {
                                                type: "radio",
                                                name: "participation",
                                                value: option.value,
                                                checked: participationStyle === option.value,
                                                onChange: (e)=>setParticipationStyle(e.target.value),
                                                className: "h-4 w-4 text-blue-600"
                                            }),
                                            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                                children: [
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                        className: "font-medium",
                                                        children: option.label
                                                    }),
                                                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                                        className: "text-sm text-gray-500",
                                                        children: option.desc
                                                    })
                                                ]
                                            })
                                        ]
                                    }, option.value))
                            })
                        ]
                    })
                ]
            }),
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "flex justify-between mt-8",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        onClick: onBack,
                        className: "px-4 py-2 text-gray-600 hover:text-gray-800",
                        children: "← Back"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                        className: "space-x-3",
                        children: [
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: handleSkip,
                                className: "px-4 py-2 text-gray-600 hover:text-gray-800",
                                children: "Skip for now"
                            }),
                            /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                                onClick: handleNext,
                                className: "px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",
                                children: "Complete Profile"
                            })
                        ]
                    })
                ]
            })
        ]
    });
};
// Step 6: Complete & First Experience (30 seconds)
const CompleteStep = ({ onFinish, demographics })=>{
    const router = (0, _navigation.useRouter)();
    const handleFindRepresentatives = ()=>{
        onFinish();
        router.push("/civics");
    };
    const handleBrowsePolls = ()=>{
        onFinish();
        router.push("/polls");
    };
    const handleExploreFeatures = ()=>{
        onFinish();
        router.push("/dashboard");
    };
    return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
        className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
        children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
            className: "max-w-2xl mx-auto text-center p-8",
            children: [
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                            className: "w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",
                            children: /*#__PURE__*/ (0, _jsxruntime.jsx)("span", {
                                className: "text-4xl",
                                children: "\uD83C\uDF89"
                            })
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h2", {
                            className: "text-4xl font-bold text-gray-900 mb-4",
                            children: "You're All Set!"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                            className: "text-xl text-gray-600",
                            children: "Let's find your representatives and explore what's available"
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "bg-white rounded-lg p-6 shadow-sm mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                            className: "text-lg font-semibold text-gray-900 mb-4",
                            children: "Your Personalized Dashboard"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                            className: "grid grid-cols-1 md:grid-cols-3 gap-4",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-center p-4 bg-blue-50 rounded-lg",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-2xl mb-2",
                                            children: "\uD83C\uDFDB️"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                            className: "font-semibold text-gray-900",
                                            children: "Your Representatives"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("p", {
                                            className: "text-sm text-gray-600",
                                            children: [
                                                "Based on your location: ",
                                                demographics.location.state
                                            ]
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-center p-4 bg-green-50 rounded-lg",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-2xl mb-2",
                                            children: "\uD83D\uDDF3️"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                            className: "font-semibold text-gray-900",
                                            children: "Relevant Polls"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "text-sm text-gray-600",
                                            children: "Polls matching your interests"
                                        })
                                    ]
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                                    className: "text-center p-4 bg-purple-50 rounded-lg",
                                    children: [
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                                            className: "text-2xl mb-2",
                                            children: "\uD83D\uDCCA"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h4", {
                                            className: "font-semibold text-gray-900",
                                            children: "Campaign Finance"
                                        }),
                                        /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                                            className: "text-sm text-gray-600",
                                            children: "See who funds campaigns"
                                        })
                                    ]
                                })
                            ]
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "space-y-4 mb-8",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: handleFindRepresentatives,
                            "data-testid": T.completeOnboarding,
                            className: "w-full bg-blue-600 text-white py-4 px-8 rounded-lg font-semibold text-lg hover:bg-blue-700 transition-colors",
                            children: "Find My Representatives"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: handleBrowsePolls,
                            className: "w-full bg-green-600 text-white py-4 px-8 rounded-lg font-semibold text-lg hover:bg-green-700 transition-colors",
                            children: "Browse Current Polls"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                            onClick: handleExploreFeatures,
                            className: "w-full bg-purple-600 text-white py-4 px-8 rounded-lg font-semibold text-lg hover:bg-purple-700 transition-colors",
                            children: "Explore All Features"
                        })
                    ]
                }),
                /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                    className: "bg-gray-50 rounded-lg p-6",
                    children: [
                        /*#__PURE__*/ (0, _jsxruntime.jsx)("h3", {
                            className: "text-lg font-semibold text-gray-900 mb-4",
                            children: "What's Next?"
                        }),
                        /*#__PURE__*/ (0, _jsxruntime.jsxs)("ul", {
                            className: "text-left text-gray-600 space-y-2",
                            children: [
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• Vote on polls that interest you"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• Track how your representatives vote"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• See campaign finance data"
                                }),
                                /*#__PURE__*/ (0, _jsxruntime.jsx)("li", {
                                    children: "• Get notified about important issues"
                                })
                            ]
                        })
                    ]
                })
            ]
        })
    });
};
/**
 * Balanced Onboarding Flow Component
 * 
 * A comprehensive onboarding flow that guides users through 6 essential steps:
 * 1. Welcome - Introduction and value proposition
 * 2. Privacy - Data usage and privacy preferences
 * 3. Demographics - User background information
 * 4. Auth - Authentication setup (email, social, passkey, or anonymous)
 * 5. Profile - Display name, visibility, and notification preferences
 * 6. Complete - Success confirmation and next steps
 * 
 * Features:
 * - Automatic auth step skipping for users with existing passkey credentials
 * - Progress tracking and data persistence
 * - Responsive design with mobile-first approach
 * - Integration with Supabase authentication
 * 
 * @returns {JSX.Element} The complete onboarding flow interface
 */ const BalancedOnboardingFlow = ()=>{
    const currentStep = (0, _stores.useOnboardingStep)();
    const onboardingData = (0, _stores.useOnboardingData)();
    const { nextStep, previousStep, updateFormData, completeOnboarding, setCurrentStep } = (0, _stores.useOnboardingActions)();
    const loading = (0, _stores.useOnboardingLoading)();
    const error = (0, _stores.useOnboardingError)();
    const user = (0, _stores.useUser)();
    const isLoading = (0, _stores.useUserLoading)();
    // Check if user has already completed onboarding
    (0, _react.useEffect)(()=>{
        const checkOnboardingStatus = async ()=>{
            if (!isLoading && user) {
                try {
                    const supabase = await (0, _client.getSupabaseBrowserClient)();
                    const { data: profile } = await supabase.from("user_profiles").select("onboarding_completed").eq("user_id", user.id).single();
                    if (profile?.onboarding_completed) {
                        // User has already completed onboarding, redirect to dashboard
                        const { safeNavigate } = await Promise.resolve().then(()=>/*#__PURE__*/ _interop_require_wildcard(require("../../../lib/utils/ssr-safe")));
                        safeNavigate("/dashboard");
                    }
                } catch (error) {
                    console.error("Error checking onboarding status:", error);
                // Continue with onboarding if we can't check status
                }
            }
        };
        checkOnboardingStatus();
    }, [
        user,
        isLoading
    ]);
    const handleNext = ()=>{
        nextStep();
    };
    const handleBack = ()=>{
        previousStep();
    };
    const handleSkip = ()=>{
        // Skip to complete step
        setCurrentStep(5); // Complete step
    };
    const handleFinish = async ()=>{
        try {
            // Update user profile to mark onboarding as completed
            if (user) {
                const supabase = await (0, _client.getSupabaseBrowserClient)();
                const { error } = await supabase.from("user_profiles").update({
                    onboarding_completed: true,
                    updated_at: new Date().toISOString()
                }).eq("user_id", user.id);
                if (error) {
                    console.error("Failed to update onboarding status:", error);
                }
            }
            // Complete onboarding
            completeOnboarding();
            // Redirect to main app
            window.location.href = "/civics";
        } catch (error) {
            console.error("Error completing onboarding:", error);
            // Still redirect even if database update fails
            window.location.href = "/civics";
        }
    };
    if (isLoading) {
        return /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
            className: "min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",
            children: /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                className: "text-center",
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                        className: "animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("p", {
                        className: "text-gray-600",
                        children: "Loading..."
                    })
                ]
            })
        });
    }
    return /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
        className: "balanced-onboarding",
        children: [
            /*#__PURE__*/ (0, _jsxruntime.jsxs)("div", {
                style: {
                    position: "absolute",
                    left: "-9999px",
                    top: "-9999px"
                },
                children: [
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": T.tourNext,
                        onClick: handleNext,
                        children: "Tour Next"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": T.dataUsageNext,
                        onClick: handleNext,
                        children: "Data Usage Next"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": T.interestsNext,
                        onClick: handleNext,
                        children: "Interests Next"
                    }),
                    /*#__PURE__*/ (0, _jsxruntime.jsx)("button", {
                        "data-testid": T.experienceNext,
                        onClick: handleNext,
                        children: "Experience Next"
                    })
                ]
            }),
            currentStep === 0 && /*#__PURE__*/ (0, _jsxruntime.jsx)(WelcomeStep, {
                onNext: handleNext,
                onSkip: handleSkip
            }),
            currentStep === 1 && /*#__PURE__*/ (0, _jsxruntime.jsx)(PrivacyStep, {
                onNext: handleNext,
                onBack: handleBack,
                privacy: onboardingData?.privacy || {
                    location_sharing: "disabled",
                    demographic_sharing: "disabled",
                    analytics_sharing: "disabled"
                },
                setPrivacy: (privacy)=>updateFormData(2, {
                        privacy
                    })
            }),
            currentStep === 2 && /*#__PURE__*/ (0, _jsxruntime.jsx)(DemographicsStep, {
                onNext: handleNext,
                onBack: handleBack,
                onSkip: handleNext,
                demographics: onboardingData.demographics,
                setDemographics: (demographics)=>updateFormData(0, {
                        demographics
                    })
            }),
            currentStep === 3 && /*#__PURE__*/ (0, _jsxruntime.jsx)(AuthStep, {
                onNext: handleNext,
                onBack: handleBack,
                onSkip: handleNext,
                error: error,
                isLoading: loading
            }),
            currentStep === 4 && /*#__PURE__*/ (0, _jsxruntime.jsx)(ProfileStep, {
                onNext: handleNext,
                onBack: handleBack,
                onSkip: handleSkip,
                profile: onboardingData.profile,
                onUpdate: (profile)=>updateFormData(0, {
                        profile
                    })
            }),
            currentStep === 5 && /*#__PURE__*/ (0, _jsxruntime.jsx)(CompleteStep, {
                onFinish: handleFinish,
                demographics: onboardingData.demographics
            })
        ]
    });
};
const _default = BalancedOnboardingFlow;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9mZWF0dXJlcy9vbmJvYXJkaW5nL2NvbXBvbmVudHMvQmFsYW5jZWRPbmJvYXJkaW5nRmxvdy50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQmFsYW5jZWQgT25ib2FyZGluZyBGbG93XG4vLyA1IGVzc2VudGlhbCBzdGVwczogV2VsY29tZSwgUHJpdmFjeSwgRGVtb2dyYXBoaWNzLCBBdXRoLCBDb21wbGV0ZVxuLy8gQ3JlYXRlZDogT2N0b2JlciAyLCAyMDI1XG5cbid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAnbmV4dC9uYXZpZ2F0aW9uJztcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgeyBGZWF0dXJlV3JhcHBlciB9IGZyb20gJ0AvY29tcG9uZW50cy9zaGFyZWQvRmVhdHVyZVdyYXBwZXInO1xuaW1wb3J0IHsgUGFzc2tleVJlZ2lzdGVyIH0gZnJvbSAnQC9mZWF0dXJlcy9hdXRoL2NvbXBvbmVudHMvUGFzc2tleVJlZ2lzdGVyJztcbmltcG9ydCB0eXBlIHsgVXNlckRlbW9ncmFwaGljcywgUHJpdmFjeVByZWZlcmVuY2VzLCBPbmJvYXJkaW5nRGF0YSB9IGZyb20gJ0AvZmVhdHVyZXMvb25ib2FyZGluZy90eXBlcyc7XG5pbXBvcnQgeyB1c2VVc2VyLCB1c2VVc2VyTG9hZGluZyB9IGZyb20gJ0AvbGliL3N0b3Jlcyc7XG5pbXBvcnQgeyBcbiAgdXNlT25ib2FyZGluZ1N0ZXAsXG4gIHVzZU9uYm9hcmRpbmdEYXRhLFxuICB1c2VPbmJvYXJkaW5nQWN0aW9ucyxcbiAgdXNlT25ib2FyZGluZ0xvYWRpbmcsXG4gIHVzZU9uYm9hcmRpbmdFcnJvclxufSBmcm9tICdAL2xpYi9zdG9yZXMnO1xuaW1wb3J0IHsgd2l0aE9wdGlvbmFsIH0gZnJvbSAnQC9saWIvdXRpbHMvb2JqZWN0cyc7XG5pbXBvcnQgeyBnZXRTdXBhYmFzZUJyb3dzZXJDbGllbnQgfSBmcm9tICdAL3V0aWxzL3N1cGFiYXNlL2NsaWVudCc7XG5cblxuLy8gU3RlcCAxOiBXZWxjb21lICYgVmFsdWUgUHJvcG9zaXRpb24gKDMwIHNlY29uZHMpXG5jb25zdCBXZWxjb21lU3RlcDogUmVhY3QuRkM8e1xuICBvbk5leHQ6ICgpID0+IHZvaWQ7XG4gIG9uU2tpcDogKCkgPT4gdm9pZDtcbn0+ID0gKHsgb25OZXh0LCBvblNraXAgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS01MCB0by1pbmRpZ28tMTAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIHRleHQtY2VudGVyIHAtOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLThcIj5cbiAgICAgICAgICA8aDEgY2xhc3NOYW1lPVwidGV4dC01eGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItNlwiPlxuICAgICAgICAgICAgV2VsY29tZSB0byBDaG9pY2VzXG4gICAgICAgICAgPC9oMT5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhsIHRleHQtZ3JheS02MDAgbWItOFwiPlxuICAgICAgICAgICAgTWFrZSBpbmZvcm1lZCBkZWNpc2lvbnMgd2l0aCB0cmFuc3BhcmVudCwgZGF0YS1kcml2ZW4gaW5zaWdodHNcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMyBnYXAtNiBtYi04XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHAtNiBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC00eGwgbWItNFwiPvCfl7PvuI88L2Rpdj5cbiAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+Vm90ZSBvbiBJc3N1ZXM8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCB0ZXh0LXNtXCI+UGFydGljaXBhdGUgaW4gcG9sbHMgb24gdG9waWNzIHRoYXQgbWF0dGVyIHRvIHlvdTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgcC02IHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtYi00XCI+8J+Pm++4jzwvZGl2PlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj5UcmFjayBSZXByZXNlbnRhdGl2ZXM8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCB0ZXh0LXNtXCI+U2VlIGhvdyB5b3VyIGVsZWN0ZWQgb2ZmaWNpYWxzIHZvdGUgYW5kIGZ1bmRyYWlzZTwvcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgcC02IHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBtYi00XCI+8J+TijwvZGl2PlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTJcIj5DYW1wYWlnbiBGaW5hbmNlPC9oMz5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtZ3JheS02MDAgdGV4dC1zbVwiPlVuZGVyc3RhbmQgd2hvIGZ1bmRzIHBvbGl0aWNhbCBjYW1wYWlnbnM8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctYmx1ZS01MCByb3VuZGVkLWxnIHAtNCBtYi04XCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ibHVlLTgwMCBmb250LW1lZGl1bVwiPlxuICAgICAgICAgICAg4o+x77iPIFRoaXMgd2lsbCB0YWtlIGFib3V0IDMgbWludXRlcyB0byBnZXQgeW91IHN0YXJ0ZWRcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00XCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25OZXh0fVxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e1Qud2VsY29tZU5leHR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSBweS00IHB4LTggcm91bmRlZC1sZyBmb250LXNlbWlib2xkIHRleHQtbGcgaG92ZXI6YmctYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIEdldCBTdGFydGVkXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25Ta2lwfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgSSZhcG9zO20gYSByZXR1cm5pbmcgdXNlclxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gU3RlcCAyOiBEYXRhIFNhZmV0eSAmIFByaXZhY3kgUGhpbG9zb3BoeSAoNDUgc2Vjb25kcylcbmNvbnN0IFByaXZhY3lTdGVwOiBSZWFjdC5GQzx7XG4gIG9uTmV4dDogKCkgPT4gdm9pZDtcbiAgb25CYWNrOiAoKSA9PiB2b2lkO1xuICBwcml2YWN5OiBQcml2YWN5UHJlZmVyZW5jZXM7XG4gIHNldFByaXZhY3k6IChwcml2YWN5OiBQcml2YWN5UHJlZmVyZW5jZXMpID0+IHZvaWQ7XG59PiA9ICh7IG9uTmV4dCwgb25CYWNrLCBwcml2YWN5LCBzZXRQcml2YWN5IH0pID0+IHtcbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAgdG8taW5kaWdvLTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy0yeGwgbXgtYXV0byBwLThcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi04XCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtNHhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj5cbiAgICAgICAgICAgIFlvdXIgUHJpdmFjeSBNYXR0ZXJzXG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhsIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgIFdlIGJlbGlldmUgaW4gdHJhbnNwYXJlbmN5IGFuZCBkYXRhIHByb3RlY3Rpb25cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS02IG1iLThcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgcC02IHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtM3hsXCI+8J+UkjwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+TG9jYXRpb24gRGF0YTwvaDM+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgV2Ugb25seSBuZWVkIHlvdXIgc3RhdGUvZGlzdHJpY3QgdG8gZmluZCB5b3VyIHJlcHJlc2VudGF0aXZlcy4gXG4gICAgICAgICAgICAgICAgICBXZSBuZXZlciBzdG9yZSB5b3VyIGV4YWN0IGFkZHJlc3MuXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHAtNiBzaGFkb3ctc21cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1zdGFydCBzcGFjZS14LTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTN4bFwiPvCfk4o8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItMlwiPkRlbW9ncmFwaGljczwvaDM+XG4gICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICAgICAgQWdlIGFuZCBlZHVjYXRpb24gaGVscCB1cyBzaG93IHlvdSByZWxldmFudCBwb2xscyBhbmQgXG4gICAgICAgICAgICAgICAgICBtYXRjaCB5b3Ugd2l0aCBzaW1pbGFyIHZvdGVycy5cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgcC02IHNoYWRvdy1zbVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLXN0YXJ0IHNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtM3hsXCI+8J+boe+4jzwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+RGF0YSBQcm90ZWN0aW9uPC9oMz5cbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgICBBbGwgZGF0YSBpcyBlbmNyeXB0ZWQsIGFub255bWl6ZWQsIGFuZCBuZXZlciBzb2xkLiBcbiAgICAgICAgICAgICAgICAgIFlvdSBjYW4gZGVsZXRlIHlvdXIgZGF0YSBhbnl0aW1lLlxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIHJvdW5kZWQtbGcgcC02IG1iLThcIj5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItNFwiPllvdXIgUHJpdmFjeSBDb250cm9sczwvaDM+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTNcIj5cbiAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICBjaGVja2VkPXtwcml2YWN5LmxvY2F0aW9uX3NoYXJpbmcgPT09ICdxdWFudGl6ZWQnfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJpdmFjeSh3aXRoT3B0aW9uYWwocHJpdmFjeSwge1xuICAgICAgICAgICAgICAgICAgbG9jYXRpb25fc2hhcmluZzogZS50YXJnZXQuY2hlY2tlZCA/ICdxdWFudGl6ZWQnIDogJ2Rpc2FibGVkJ1xuICAgICAgICAgICAgICAgIH0pKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtYmx1ZS02MDAgcm91bmRlZFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICBBbGxvdyBsb2NhdGlvbiBzaGFyaW5nIChxdWFudGl6ZWQgdG8gc3RhdGUgbGV2ZWwpXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17cHJpdmFjeS5kZW1vZ3JhcGhpY19zaGFyaW5nID09PSAnZW5hYmxlZCd9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRQcml2YWN5KHdpdGhPcHRpb25hbChwcml2YWN5LCB7XG4gICAgICAgICAgICAgICAgICBkZW1vZ3JhcGhpY19zaGFyaW5nOiBlLnRhcmdldC5jaGVja2VkID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJ1xuICAgICAgICAgICAgICAgIH0pKX1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTUgaC01IHRleHQtYmx1ZS02MDAgcm91bmRlZFwiXG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICBTaGFyZSBkZW1vZ3JhcGhpY3MgZm9yIGJldHRlciBleHBlcmllbmNlXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0zXCI+XG4gICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgY2hlY2tlZD17cHJpdmFjeS5hbmFseXRpY3Nfc2hhcmluZyA9PT0gJ2VuYWJsZWQnfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0UHJpdmFjeSh3aXRoT3B0aW9uYWwocHJpdmFjeSwge1xuICAgICAgICAgICAgICAgICAgYW5hbHl0aWNzX3NoYXJpbmc6IGUudGFyZ2V0LmNoZWNrZWQgPyAnZW5hYmxlZCcgOiAnbGltaXRlZCdcbiAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy01IGgtNSB0ZXh0LWJsdWUtNjAwIHJvdW5kZWRcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgU2hhcmUgYW5hbHl0aWNzIHRvIGltcHJvdmUgdGhlIHBsYXRmb3JtXG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtvbkJhY2t9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIOKGkCBCYWNrXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17b25OZXh0fVxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e1QucHJpdmFjeU5leHR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlIHB5LTMgcHgtNiByb3VuZGVkLWxnIGZvbnQtc2VtaWJvbGQgaG92ZXI6YmctYmx1ZS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIENvbnRpbnVlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBTdGVwIDM6IExvY2F0aW9uICYgRGVtb2dyYXBoaWNzICg2MCBzZWNvbmRzKVxuY29uc3QgRGVtb2dyYXBoaWNzU3RlcDogUmVhY3QuRkM8e1xuICBvbk5leHQ6ICgpID0+IHZvaWQ7XG4gIG9uQmFjazogKCkgPT4gdm9pZDtcbiAgb25Ta2lwOiAoKSA9PiB2b2lkO1xuICBkZW1vZ3JhcGhpY3M6IFVzZXJEZW1vZ3JhcGhpY3M7XG4gIHNldERlbW9ncmFwaGljczogKGRlbW9ncmFwaGljczogVXNlckRlbW9ncmFwaGljcykgPT4gdm9pZDtcbn0+ID0gKHsgb25OZXh0LCBvbkJhY2ssIG9uU2tpcCwgZGVtb2dyYXBoaWNzLCBzZXREZW1vZ3JhcGhpY3MgfSkgPT4ge1xuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS01MCB0by1pbmRpZ28tMTAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIHAtOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLThcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC00eGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgbWItNFwiPlxuICAgICAgICAgICAgSGVscCBVcyBQZXJzb25hbGl6ZSBZb3VyIEV4cGVyaWVuY2VcbiAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteGwgdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgVGhpcyBpbmZvcm1hdGlvbiBoZWxwcyB1cyBzaG93IHlvdSByZWxldmFudCBjb250ZW50XG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktOFwiPlxuICAgICAgICAgIHsvKiBMb2NhdGlvbiBTZWN0aW9uICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBwLTYgc2hhZG93LXNtXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItNCBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBtci0zXCI+8J+TjTwvc3Bhbj5cbiAgICAgICAgICAgICAgTG9jYXRpb25cbiAgICAgICAgICAgIDwvaDM+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgV2UgbmVlZCB0aGlzIHRvIGZpbmQgeW91ciByZXByZXNlbnRhdGl2ZXNcbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNFwiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgU3RhdGVcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtkZW1vZ3JhcGhpY3MubG9jYXRpb24uc3RhdGV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERlbW9ncmFwaGljcyh3aXRoT3B0aW9uYWwoZGVtb2dyYXBoaWNzLCB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB3aXRoT3B0aW9uYWwoZGVtb2dyYXBoaWNzLmxvY2F0aW9uLCB7IHN0YXRlOiBlLnRhcmdldC52YWx1ZSB9KVxuICAgICAgICAgICAgICAgICAgfSkpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZm9jdXM6Ym9yZGVyLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0IHlvdXIgc3RhdGU8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJBTFwiPkFsYWJhbWE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJBS1wiPkFsYXNrYTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkFaXCI+QXJpem9uYTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkFSXCI+QXJrYW5zYXM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJDQVwiPkNhbGlmb3JuaWE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJDT1wiPkNvbG9yYWRvPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiQ1RcIj5Db25uZWN0aWN1dDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIkRFXCI+RGVsYXdhcmU8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJGTFwiPkZsb3JpZGE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJHQVwiPkdlb3JnaWE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJISVwiPkhhd2FpaTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIklEXCI+SWRhaG88L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJJTFwiPklsbGlub2lzPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiSU5cIj5JbmRpYW5hPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiSUFcIj5Jb3dhPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiS1NcIj5LYW5zYXM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJLWVwiPktlbnR1Y2t5PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTEFcIj5Mb3Vpc2lhbmE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJNRVwiPk1haW5lPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTURcIj5NYXJ5bGFuZDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1BXCI+TWFzc2FjaHVzZXR0czwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1JXCI+TWljaGlnYW48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJNTlwiPk1pbm5lc290YTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk1TXCI+TWlzc2lzc2lwcGk8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJNT1wiPk1pc3NvdXJpPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTVRcIj5Nb250YW5hPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTkVcIj5OZWJyYXNrYTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk5WXCI+TmV2YWRhPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTkhcIj5OZXcgSGFtcHNoaXJlPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTkpcIj5OZXcgSmVyc2V5PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTk1cIj5OZXcgTWV4aWNvPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiTllcIj5OZXcgWW9yazwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk5DXCI+Tm9ydGggQ2Fyb2xpbmE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJORFwiPk5vcnRoIERha290YTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk9IXCI+T2hpbzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIk9LXCI+T2tsYWhvbWE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJPUlwiPk9yZWdvbjwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlBBXCI+UGVubnN5bHZhbmlhPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiUklcIj5SaG9kZSBJc2xhbmQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJTQ1wiPlNvdXRoIENhcm9saW5hPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiU0RcIj5Tb3V0aCBEYWtvdGE8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJUTlwiPlRlbm5lc3NlZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlRYXCI+VGV4YXM8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJVVFwiPlV0YWg8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJWVFwiPlZlcm1vbnQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJWQVwiPlZpcmdpbmlhPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiV0FcIj5XYXNoaW5ndG9uPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiV1ZcIj5XZXN0IFZpcmdpbmlhPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiV0lcIj5XaXNjb25zaW48L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJXWVwiPld5b21pbmc8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cImJsb2NrIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTcwMCBtYi0yXCI+XG4gICAgICAgICAgICAgICAgICBEaXN0cmljdCAoT3B0aW9uYWwpXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtkZW1vZ3JhcGhpY3MubG9jYXRpb24uZGlzdHJpY3QgfHwgJyd9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERlbW9ncmFwaGljcyh3aXRoT3B0aW9uYWwoZGVtb2dyYXBoaWNzLCB7XG4gICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uOiB3aXRoT3B0aW9uYWwoZGVtb2dyYXBoaWNzLmxvY2F0aW9uLCB7IGRpc3RyaWN0OiBlLnRhcmdldC52YWx1ZSB9KVxuICAgICAgICAgICAgICAgICAgfSkpfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJFbnRlciB5b3VyIGNvbmdyZXNzaW9uYWwgZGlzdHJpY3RcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZm9jdXM6Ym9yZGVyLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIG10LTJcIj5cbiAgICAgICAgICAgICAgV2Ugb25seSBzdG9yZSB5b3VyIHN0YXRlIGFuZCBkaXN0cmljdCwgbm90IHlvdXIgZXhhY3QgYWRkcmVzc1xuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgey8qIERlbW9ncmFwaGljcyBTZWN0aW9uICovfVxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctd2hpdGUgcm91bmRlZC1sZyBwLTYgc2hhZG93LXNtXCI+XG4gICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItNCBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBtci0zXCI+8J+RpDwvc3Bhbj5cbiAgICAgICAgICAgICAgRGVtb2dyYXBoaWNzXG4gICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBtYi00XCI+XG4gICAgICAgICAgICAgIFRoaXMgaGVscHMgdXMgc2hvdyB5b3UgcmVsZXZhbnQgcG9sbHMgYW5kIG1hdGNoIHlvdSB3aXRoIHNpbWlsYXIgdm90ZXJzXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMyBnYXAtNFwiPlxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgQWdlIFJhbmdlXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8c2VsZWN0XG4gICAgICAgICAgICAgICAgICB2YWx1ZT17ZGVtb2dyYXBoaWNzLmFnZV9yYW5nZX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0RGVtb2dyYXBoaWNzKHdpdGhPcHRpb25hbChkZW1vZ3JhcGhpY3MsIHtcbiAgICAgICAgICAgICAgICAgICAgYWdlX3JhbmdlOiBlLnRhcmdldC52YWx1ZSBhcyBVc2VyRGVtb2dyYXBoaWNzWydhZ2VfcmFuZ2UnXVxuICAgICAgICAgICAgICAgICAgfSkpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHAtMyBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbGcgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDAgZm9jdXM6Ym9yZGVyLWJsdWUtNTAwXCJcbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+U2VsZWN0IGFnZSByYW5nZTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjE4LTI0XCI+MTgtMjQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCIyNS0zNFwiPjI1LTM0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiMzUtNDRcIj4zNS00NDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIjQ1LTU0XCI+NDUtNTQ8L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCI1NS02NFwiPjU1LTY0PC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiNjUrXCI+NjUrPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgIEVkdWNhdGlvbiBMZXZlbFxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgPHNlbGVjdFxuICAgICAgICAgICAgICAgICAgdmFsdWU9e2RlbW9ncmFwaGljcy5lZHVjYXRpb259XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERlbW9ncmFwaGljcyh3aXRoT3B0aW9uYWwoZGVtb2dyYXBoaWNzLCB7XG4gICAgICAgICAgICAgICAgICAgIGVkdWNhdGlvbjogZS50YXJnZXQudmFsdWUgYXMgVXNlckRlbW9ncmFwaGljc1snZWR1Y2F0aW9uJ11cbiAgICAgICAgICAgICAgICAgIH0pKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwLTMgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwIGZvY3VzOmJvcmRlci1ibHVlLTUwMFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPlNlbGVjdCBlZHVjYXRpb248L29wdGlvbj5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJoaWdoX3NjaG9vbFwiPkhpZ2ggU2Nob29sPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwic29tZV9jb2xsZWdlXCI+U29tZSBDb2xsZWdlPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiYmFjaGVsb3JcIj5CYWNoZWxvciZhcG9zO3MgRGVncmVlPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiZ3JhZHVhdGVcIj5HcmFkdWF0ZSBEZWdyZWU8L29wdGlvbj5cbiAgICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgUG9saXRpY2FsIEVuZ2FnZW1lbnRcbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtkZW1vZ3JhcGhpY3MucG9saXRpY2FsX2VuZ2FnZW1lbnR9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERlbW9ncmFwaGljcyh3aXRoT3B0aW9uYWwoZGVtb2dyYXBoaWNzLCB7XG4gICAgICAgICAgICAgICAgICAgIHBvbGl0aWNhbF9lbmdhZ2VtZW50OiBlLnRhcmdldC52YWx1ZSBhcyBVc2VyRGVtb2dyYXBoaWNzWydwb2xpdGljYWxfZW5nYWdlbWVudCddXG4gICAgICAgICAgICAgICAgICB9KSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcC0zIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1sZyBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1ibHVlLTUwMCBmb2N1czpib3JkZXItYmx1ZS01MDBcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj5TZWxlY3QgZW5nYWdlbWVudDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImNhc3VhbFwiPkNhc3VhbCAodm90ZSBvY2Nhc2lvbmFsbHkpPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwibW9kZXJhdGVcIj5Nb2RlcmF0ZSAoZm9sbG93IHBvbGl0aWNzKTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInZlcnlfZW5nYWdlZFwiPlZlcnkgRW5nYWdlZCAodmVyeSBhY3RpdmUpPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIG10LThcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtvbkJhY2t9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIOKGkCBCYWNrXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXtvblNraXB9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIFNraXAgZm9yIG5vd1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uTmV4dH1cbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e1QucHJvZmlsZU5leHR9XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktMyBweC02IHJvdW5kZWQtbGcgZm9udC1zZW1pYm9sZCBob3ZlcjpiZy1ibHVlLTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIENvbnRpbnVlXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgdGV4dC1jZW50ZXIgbXQtNFwiPlxuICAgICAgICAgIFlvdSBjYW4gYWx3YXlzIGFkZCB0aGlzIGluZm9ybWF0aW9uIGxhdGVyXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gU3RlcCA0OiBBdXRoZW50aWNhdGlvbiBTZXR1cCAoNDUgc2Vjb25kcylcbmNvbnN0IEF1dGhTdGVwOiBSZWFjdC5GQzx7XG4gIG9uTmV4dDogKCkgPT4gdm9pZDtcbiAgb25CYWNrOiAoKSA9PiB2b2lkO1xuICBvblNraXA6ICgpID0+IHZvaWQ7XG4gIGVycm9yPzogc3RyaW5nIHwgbnVsbDtcbiAgaXNMb2FkaW5nPzogYm9vbGVhbjtcbn0+ID0gKHsgb25OZXh0LCBvbkJhY2ssIG9uU2tpcCwgZXJyb3IsIGlzTG9hZGluZyB9KSA9PiB7XG4gIGNvbnN0IFthdXRoTWV0aG9kLCBzZXRBdXRoTWV0aG9kXSA9IHVzZVN0YXRlPCdlbWFpbCcgfCAncGFzc2tleScgfCAnZ29vZ2xlJyB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc3VjY2Vzcywgc2V0U3VjY2Vzc10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgY29uc3QgaGFuZGxlQXV0aE1ldGhvZFNlbGVjdCA9IChtZXRob2Q6ICdlbWFpbCcgfCAncGFzc2tleScgfCAnZ29vZ2xlJykgPT4ge1xuICAgIHNldEF1dGhNZXRob2QobWV0aG9kKTtcbiAgICAvLyBFcnJvciBpcyBtYW5hZ2VkIGJ5IHRoZSBzdG9yZVxuICAgIHNldFN1Y2Nlc3MoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVBhc3NrZXlTdWNjZXNzID0gKCkgPT4ge1xuICAgIHNldFN1Y2Nlc3ModHJ1ZSk7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBvbk5leHQoKTtcbiAgICB9LCAxMDAwKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVQYXNza2V5RXJyb3IgPSAoZXJyb3I6IHN0cmluZykgPT4ge1xuICAgIC8vIEVycm9yIGlzIG1hbmFnZWQgYnkgdGhlIHN0b3JlXG4gICAgY29uc29sZS5lcnJvcignUGFzc2tleSBlcnJvcjonLCBlcnJvcik7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRW1haWxBdXRoID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBSZWRpcmVjdCB0byByZWdpc3RyYXRpb24gcGFnZSBmb3IgZW1haWwgYXV0aFxuICAgICAgY29uc3QgeyBzYWZlTmF2aWdhdGUgfSA9IGF3YWl0IGltcG9ydCgnQC9saWIvdXRpbHMvc3NyLXNhZmUnKTtcbiAgICAgIHNhZmVOYXZpZ2F0ZSgnL3JlZ2lzdGVyJyk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVkaXJlY3QgdG8gcmVnaXN0cmF0aW9uJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUdvb2dsZUF1dGggPSBhc3luYyAoKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFJlZGlyZWN0IHRvIEdvb2dsZSBPQXV0aFxuICAgICAgY29uc3QgeyBzYWZlTmF2aWdhdGUgfSA9IGF3YWl0IGltcG9ydCgnQC9saWIvdXRpbHMvc3NyLXNhZmUnKTtcbiAgICAgIHNhZmVOYXZpZ2F0ZSgnL2F1dGgvZ29vZ2xlJyk7XG4gICAgfSBjYXRjaCB7XG4gICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gcmVkaXJlY3QgdG8gR29vZ2xlIGF1dGhlbnRpY2F0aW9uJyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIElmIHVzZXIgaGFzIHNlbGVjdGVkIGEgbWV0aG9kLCBzaG93IHRoZSBhcHByb3ByaWF0ZSBpbnRlcmZhY2VcbiAgaWYgKGF1dGhNZXRob2QgPT09ICdwYXNza2V5Jykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAgdG8taW5kaWdvLTEwMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIHAtOFwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItOFwiPlxuICAgICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtNHhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj5cbiAgICAgICAgICAgICAgU2V0IFVwIFlvdXIgUGFzc2tleVxuICAgICAgICAgICAgPC9oMj5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteGwgdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgICBDcmVhdGUgYSBzZWN1cmUsIHBhc3N3b3JkbGVzcyB3YXkgdG8gc2lnbiBpblxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZSByb3VuZGVkLWxnIHAtNiBzaGFkb3ctc20gbWItOFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi02XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0xNiBoLTE2IGJnLWJsdWUtMTAwIHJvdW5kZWQtZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBteC1hdXRvIG1iLTRcIj5cbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTN4bFwiPvCflJA8L3NwYW4+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgbWItMlwiPldoeSBQYXNza2V5cz88L2gzPlxuICAgICAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBzcGFjZS15LTIgdGV4dC1sZWZ0XCI+XG4gICAgICAgICAgICAgICAgPGxpPuKAoiBVc2UgeW91ciBmaW5nZXJwcmludCwgZmFjZSwgb3IgZGV2aWNlIFBJTjwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPuKAoiBObyBwYXNzd29yZHMgdG8gcmVtZW1iZXIgb3IgdHlwZTwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPuKAoiBXb3JrcyBhY3Jvc3MgYWxsIHlvdXIgZGV2aWNlczwvbGk+XG4gICAgICAgICAgICAgICAgPGxpPuKAoiBNYXhpbXVtIHNlY3VyaXR5IHdpdGggcHJpdmFjeTwvbGk+XG4gICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPEZlYXR1cmVXcmFwcGVyIGZlYXR1cmU9XCJXRUJBVVRITlwiPlxuICAgICAgICAgICAgICA8ZGl2IGRhdGEtdGVzdGlkPXtULm9uYm9hcmRpbmdQYXNza2V5U2V0dXB9PlxuICAgICAgICAgICAgICAgIDxQYXNza2V5UmVnaXN0ZXJcbiAgICAgICAgICAgICAgICAgIG9uU3VjY2Vzcz17aGFuZGxlUGFzc2tleVN1Y2Nlc3N9XG4gICAgICAgICAgICAgICAgICBvbkVycm9yPXtoYW5kbGVQYXNza2V5RXJyb3J9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9GZWF0dXJlV3JhcHBlcj5cblxuICAgICAgICAgICAge2Vycm9yICYmIChcbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC00IHAtNCBiZy1yZWQtNTAgYm9yZGVyIGJvcmRlci1yZWQtMjAwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtcmVkLTgwMFwiPlxuICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbVwiPntlcnJvcn08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgKX1cblxuICAgICAgICAgICAge3N1Y2Nlc3MgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm10LTQgcC00IGJnLWdyZWVuLTUwIGJvcmRlciBib3JkZXItZ3JlZW4tMjAwIHJvdW5kZWQtbGdcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yIHRleHQtZ3JlZW4tODAwXCI+XG4gICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtXCI+4pyFIFBhc3NrZXkgY3JlYXRlZCBzdWNjZXNzZnVsbHkhPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRBdXRoTWV0aG9kKG51bGwpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGhvdmVyOnRleHQtZ3JheS03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICDihpAgQmFjayB0byBvcHRpb25zXG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IHNwYWNlLXgtNFwiPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgb25DbGljaz17b25Ta2lwfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICBTa2lwIGZvciBub3dcbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgLy8gTWFpbiBhdXRoZW50aWNhdGlvbiBtZXRob2Qgc2VsZWN0aW9uXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwIHRvLWluZGlnby0xMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWF4LXctMnhsIG14LWF1dG8gcC04XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItOFwiPlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi00XCI+XG4gICAgICAgICAgICBDcmVhdGUgWW91ciBBY2NvdW50XG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhsIHRleHQtZ3JheS02MDBcIj5cbiAgICAgICAgICAgIENob29zZSBob3cgeW91JmFwb3M7ZCBsaWtlIHRvIHNpZ24gaW5cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IG1iLThcIj5cbiAgICAgICAgICA8RmVhdHVyZVdyYXBwZXIgZmVhdHVyZT1cIldFQkFVVEhOXCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUF1dGhNZXRob2RTZWxlY3QoJ3Bhc3NrZXknKX1cbiAgICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e1QuYXV0aFBhc3NrZXlPcHRpb259XG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTQgcC02IGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZyBob3Zlcjpib3JkZXItYmx1ZS0zMDAgaG92ZXI6YmctYmx1ZS01MCB0cmFuc2l0aW9uLWNvbG9ycyBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC0zeGxcIj7wn5SQPC9zcGFuPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+UGFzc2tleSAoUmVjb21tZW5kZWQpPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+UGFzc3dvcmRsZXNzIGFuZCBzZWN1cmU8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L0ZlYXR1cmVXcmFwcGVyPlxuXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRW1haWxBdXRofVxuICAgICAgICAgICAgZGlzYWJsZWQ9e2lzTG9hZGluZ31cbiAgICAgICAgICAgIGRhdGEtdGVzdGlkPXtULmF1dGhFbWFpbE9wdGlvbn1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTQgcC02IGJvcmRlciBib3JkZXItZ3JheS0yMDAgcm91bmRlZC1sZyBob3Zlcjpib3JkZXItYmx1ZS0zMDAgaG92ZXI6YmctYmx1ZS01MCB0cmFuc2l0aW9uLWNvbG9ycyBkaXNhYmxlZDpvcGFjaXR5LTUwXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LTN4bFwiPvCfk6c8L3NwYW4+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGVmdFwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZFwiPkVtYWlsICYgUGFzc3dvcmQ8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+U2ltcGxlIGFuZCBzZWN1cmU8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlR29vZ2xlQXV0aH1cbiAgICAgICAgICAgIGRpc2FibGVkPXtpc0xvYWRpbmd9XG4gICAgICAgICAgICBkYXRhLXRlc3RpZD17VC5hdXRoR29vZ2xlT3B0aW9ufVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNCBwLTYgYm9yZGVyIGJvcmRlci1ncmF5LTIwMCByb3VuZGVkLWxnIGhvdmVyOmJvcmRlci1ibHVlLTMwMCBob3ZlcjpiZy1ibHVlLTUwIHRyYW5zaXRpb24tY29sb3JzIGRpc2FibGVkOm9wYWNpdHktNTBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtM3hsXCI+8J+TsTwvc3Bhbj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZWZ0XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+Q29udGludWUgd2l0aCBHb29nbGU8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+UXVpY2sgYW5kIGVhc3k8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgcm91bmRlZC1sZyBwLTYgbWItOFwiPlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBtYi0yXCI+V2h5IGRvIHdlIG5lZWQgYXV0aGVudGljYXRpb24/PC9oMz5cbiAgICAgICAgICA8dWwgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMCBzcGFjZS15LTJcIj5cbiAgICAgICAgICAgIDxsaT7igKIgU2F2ZSB5b3VyIHByZWZlcmVuY2VzIGFuZCB2b3RpbmcgaGlzdG9yeTwvbGk+XG4gICAgICAgICAgICA8bGk+4oCiIFNob3cgeW91IHBlcnNvbmFsaXplZCBjb250ZW50PC9saT5cbiAgICAgICAgICAgIDxsaT7igKIgS2VlcCB5b3VyIGRhdGEgc2VjdXJlIGFuZCBwcml2YXRlPC9saT5cbiAgICAgICAgICA8L3VsPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e29uQmFja31cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInRleHQtZ3JheS01MDAgaG92ZXI6dGV4dC1ncmF5LTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAg4oaQIEJhY2tcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggc3BhY2UteC00XCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e29uU2tpcH1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMCBob3Zlcjp0ZXh0LWdyYXktNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQ29udGludWUgd2l0aG91dCBhY2NvdW50XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDAgdGV4dC1jZW50ZXIgbXQtNFwiPlxuICAgICAgICAgIFlvdSBjYW4gc3RhcnQgd2l0aG91dCBhbiBhY2NvdW50LCBidXQgd2l0aCBsaW1pdGVkIGZlYXR1cmVzXG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICApO1xufTtcblxuLy8gU3RlcCA1OiBQcm9maWxlIFNldHVwIChPcHRpb25hbCAtIGNhbiBiZSBza2lwcGVkKVxuY29uc3QgUHJvZmlsZVN0ZXA6IFJlYWN0LkZDPHtcbiAgb25OZXh0OiAoKSA9PiB2b2lkO1xuICBvbkJhY2s6ICgpID0+IHZvaWQ7XG4gIG9uU2tpcDogKCkgPT4gdm9pZDtcbiAgcHJvZmlsZTogT25ib2FyZGluZ0RhdGFbJ3Byb2ZpbGUnXTtcbiAgb25VcGRhdGU6ICh1cGRhdGVzOiBQYXJ0aWFsPE9uYm9hcmRpbmdEYXRhWydwcm9maWxlJ10+KSA9PiB2b2lkO1xufT4gPSAoeyBvbk5leHQsIG9uQmFjaywgb25Ta2lwLCBwcm9maWxlLCBvblVwZGF0ZSB9KSA9PiB7XG4gIGNvbnN0IFtkaXNwbGF5TmFtZSwgc2V0RGlzcGxheU5hbWVdID0gdXNlU3RhdGUocHJvZmlsZT8uZGlzcGxheV9uYW1lIHx8ICcnKTtcbiAgY29uc3QgW2Jpbywgc2V0QmlvXSA9IHVzZVN0YXRlKHByb2ZpbGU/LmJpbyB8fCAnJyk7XG4gIGNvbnN0IFtwcmltYXJ5Q29uY2VybnNdID0gdXNlU3RhdGU8c3RyaW5nW10+KHByb2ZpbGU/LnByaW1hcnlfY29uY2VybnMgfHwgW10pO1xuICBjb25zdCBbY29tbXVuaXR5Rm9jdXNdID0gdXNlU3RhdGU8c3RyaW5nW10+KHByb2ZpbGU/LmNvbW11bml0eV9mb2N1cyB8fCBbXSk7XG4gIGNvbnN0IFtwYXJ0aWNpcGF0aW9uU3R5bGUsIHNldFBhcnRpY2lwYXRpb25TdHlsZV0gPSB1c2VTdGF0ZTwnb2JzZXJ2ZXInIHwgJ2NvbnRyaWJ1dG9yJyB8ICdsZWFkZXInPihwcm9maWxlPy5wYXJ0aWNpcGF0aW9uX3N0eWxlIHx8ICdvYnNlcnZlcicpO1xuXG4gIGNvbnN0IGhhbmRsZU5leHQgPSAoKSA9PiB7XG4gICAgb25VcGRhdGUoe1xuICAgICAgZGlzcGxheV9uYW1lOiBkaXNwbGF5TmFtZSxcbiAgICAgIGJpbyxcbiAgICAgIHByaW1hcnlfY29uY2VybnM6IHByaW1hcnlDb25jZXJucyxcbiAgICAgIGNvbW11bml0eV9mb2N1czogY29tbXVuaXR5Rm9jdXMsXG4gICAgICBwYXJ0aWNpcGF0aW9uX3N0eWxlOiBwYXJ0aWNpcGF0aW9uU3R5bGVcbiAgICB9KTtcbiAgICBvbk5leHQoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTa2lwID0gKCkgPT4ge1xuICAgIG9uU2tpcCgpO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy0yeGwgbXgtYXV0b1wiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBtYi04XCI+XG4gICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi00XCI+Q29tcGxldGUgWW91ciBQcm9maWxlPC9oMj5cbiAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZyB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgSGVscCB1cyBwZXJzb25hbGl6ZSB5b3VyIGV4cGVyaWVuY2UgKG9wdGlvbmFsKVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTZcIj5cbiAgICAgICAgey8qIERpc3BsYXkgTmFtZSAqL31cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIG1iLTJcIj5cbiAgICAgICAgICAgIERpc3BsYXkgTmFtZVxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICB2YWx1ZT17ZGlzcGxheU5hbWV9XG4gICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldERpc3BsYXlOYW1lKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRW50ZXIgeW91ciBkaXNwbGF5IG5hbWVcIlxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIHJvdW5kZWQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLWJsdWUtNTAwXCJcbiAgICAgICAgICAvPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICB7LyogQmlvICovfVxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgQmlvIChPcHRpb25hbClcbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgIDx0ZXh0YXJlYVxuICAgICAgICAgICAgdmFsdWU9e2Jpb31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0QmlvKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU2hhcmUgYSBicmllZiBkZXNjcmlwdGlvbiBhYm91dCB5b3Vyc2VsZiAob3B0aW9uYWwpXCJcbiAgICAgICAgICAgIHJvd3M9ezN9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcm91bmRlZC1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBQYXJ0aWNpcGF0aW9uIFN0eWxlICovfVxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS03MDAgbWItMlwiPlxuICAgICAgICAgICAgSG93IGRvIHlvdSBwcmVmZXIgdG8gcGFydGljaXBhdGU/XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktMlwiPlxuICAgICAgICAgICAge1tcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJ29ic2VydmVyJywgbGFiZWw6ICdPYnNlcnZlcicsIGRlc2M6ICdJIHByZWZlciB0byByZWFkIGFuZCBsZWFybicgfSxcbiAgICAgICAgICAgICAgeyB2YWx1ZTogJ2NvbnRyaWJ1dG9yJywgbGFiZWw6ICdDb250cmlidXRvcicsIGRlc2M6ICdJIGxpa2UgdG8gc2hhcmUgbXkgdGhvdWdodHMnIH0sXG4gICAgICAgICAgICAgIHsgdmFsdWU6ICdsZWFkZXInLCBsYWJlbDogJ0xlYWRlcicsIGRlc2M6ICdJIHdhbnQgdG8gZHJpdmUgZGlzY3Vzc2lvbnMnIH1cbiAgICAgICAgICAgIF0ubWFwKChvcHRpb24pID0+IChcbiAgICAgICAgICAgICAgPGxhYmVsIGtleT17b3B0aW9uLnZhbHVlfSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTMgcC0zIGJvcmRlciByb3VuZGVkLW1kIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktNTBcIj5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwicGFydGljaXBhdGlvblwiXG4gICAgICAgICAgICAgICAgICB2YWx1ZT17b3B0aW9uLnZhbHVlfVxuICAgICAgICAgICAgICAgICAgY2hlY2tlZD17cGFydGljaXBhdGlvblN0eWxlID09PSBvcHRpb24udmFsdWV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFBhcnRpY2lwYXRpb25TdHlsZShlLnRhcmdldC52YWx1ZSBhcyBhbnkpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC00IHctNCB0ZXh0LWJsdWUtNjAwXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtXCI+e29wdGlvbi5sYWJlbH08L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+e29wdGlvbi5kZXNjfTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgKSl9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gbXQtOFwiPlxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgb25DbGljaz17b25CYWNrfVxuICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS04MDBcIlxuICAgICAgICA+XG4gICAgICAgICAg4oaQIEJhY2tcbiAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteC0zXCI+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlU2tpcH1cbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMiB0ZXh0LWdyYXktNjAwIGhvdmVyOnRleHQtZ3JheS04MDBcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIFNraXAgZm9yIG5vd1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZU5leHR9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJweC02IHB5LTIgYmctYmx1ZS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIGhvdmVyOmJnLWJsdWUtNzAwXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBDb21wbGV0ZSBQcm9maWxlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBTdGVwIDY6IENvbXBsZXRlICYgRmlyc3QgRXhwZXJpZW5jZSAoMzAgc2Vjb25kcylcbmNvbnN0IENvbXBsZXRlU3RlcDogUmVhY3QuRkM8e1xuICBvbkZpbmlzaDogKCkgPT4gdm9pZDtcbiAgZGVtb2dyYXBoaWNzOiBVc2VyRGVtb2dyYXBoaWNzO1xufT4gPSAoeyBvbkZpbmlzaCwgZGVtb2dyYXBoaWNzIH0pID0+IHtcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKCk7XG5cbiAgY29uc3QgaGFuZGxlRmluZFJlcHJlc2VudGF0aXZlcyA9ICgpID0+IHtcbiAgICBvbkZpbmlzaCgpO1xuICAgIHJvdXRlci5wdXNoKCcvY2l2aWNzJyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlQnJvd3NlUG9sbHMgPSAoKSA9PiB7XG4gICAgb25GaW5pc2goKTtcbiAgICByb3V0ZXIucHVzaCgnL3BvbGxzJyk7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRXhwbG9yZUZlYXR1cmVzID0gKCkgPT4ge1xuICAgIG9uRmluaXNoKCk7XG4gICAgcm91dGVyLnB1c2goJy9kYXNoYm9hcmQnKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwibWluLWgtc2NyZWVuIGJnLWdyYWRpZW50LXRvLWJyIGZyb20tYmx1ZS01MCB0by1pbmRpZ28tMTAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1heC13LTJ4bCBteC1hdXRvIHRleHQtY2VudGVyIHAtOFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1iLThcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMjAgaC0yMCBiZy1ncmVlbi0xMDAgcm91bmRlZC1mdWxsIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG14LWF1dG8gbWItNlwiPlxuICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC00eGxcIj7wn46JPC9zcGFuPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJ0ZXh0LTR4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBtYi00XCI+XG4gICAgICAgICAgICBZb3UmYXBvcztyZSBBbGwgU2V0IVxuICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14bCB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICBMZXQmYXBvcztzIGZpbmQgeW91ciByZXByZXNlbnRhdGl2ZXMgYW5kIGV4cGxvcmUgd2hhdCZhcG9zO3MgYXZhaWxhYmxlXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlIHJvdW5kZWQtbGcgcC02IHNoYWRvdy1zbSBtYi04XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj5Zb3VyIFBlcnNvbmFsaXplZCBEYXNoYm9hcmQ8L2gzPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMyBnYXAtNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciBwLTQgYmctYmx1ZS01MCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgbWItMlwiPvCfj5vvuI88L2Rpdj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiPllvdXIgUmVwcmVzZW50YXRpdmVzPC9oND5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgQmFzZWQgb24geW91ciBsb2NhdGlvbjoge2RlbW9ncmFwaGljcy5sb2NhdGlvbi5zdGF0ZX1cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHAtNCBiZy1ncmVlbi01MCByb3VuZGVkLWxnXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgbWItMlwiPvCfl7PvuI88L2Rpdj5cbiAgICAgICAgICAgICAgPGg0IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMFwiPlJlbGV2YW50IFBvbGxzPC9oND5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgUG9sbHMgbWF0Y2hpbmcgeW91ciBpbnRlcmVzdHNcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIHAtNCBiZy1wdXJwbGUtNTAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIG1iLTJcIj7wn5OKPC9kaXY+XG4gICAgICAgICAgICAgIDxoNCBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDBcIj5DYW1wYWlnbiBGaW5hbmNlPC9oND5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgU2VlIHdobyBmdW5kcyBjYW1wYWlnbnNcbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwic3BhY2UteS00IG1iLThcIj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVGaW5kUmVwcmVzZW50YXRpdmVzfVxuICAgICAgICAgICAgZGF0YS10ZXN0aWQ9e1QuY29tcGxldGVPbmJvYXJkaW5nfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcHktNCBweC04IHJvdW5kZWQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWxnIGhvdmVyOmJnLWJsdWUtNzAwIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICBGaW5kIE15IFJlcHJlc2VudGF0aXZlc1xuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZUJyb3dzZVBvbGxzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHB5LTQgcHgtOCByb3VuZGVkLWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1sZyBob3ZlcjpiZy1ncmVlbi03MDAgdHJhbnNpdGlvbi1jb2xvcnNcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIEJyb3dzZSBDdXJyZW50IFBvbGxzXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgb25DbGljaz17aGFuZGxlRXhwbG9yZUZlYXR1cmVzfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIGJnLXB1cnBsZS02MDAgdGV4dC13aGl0ZSBweS00IHB4LTggcm91bmRlZC1sZyBmb250LXNlbWlib2xkIHRleHQtbGcgaG92ZXI6YmctcHVycGxlLTcwMCB0cmFuc2l0aW9uLWNvbG9yc1wiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgRXhwbG9yZSBBbGwgRmVhdHVyZXNcbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIHJvdW5kZWQtbGcgcC02XCI+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIG1iLTRcIj5XaGF0JmFwb3M7cyBOZXh0PzwvaDM+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInRleHQtbGVmdCB0ZXh0LWdyYXktNjAwIHNwYWNlLXktMlwiPlxuICAgICAgICAgICAgPGxpPuKAoiBWb3RlIG9uIHBvbGxzIHRoYXQgaW50ZXJlc3QgeW91PC9saT5cbiAgICAgICAgICAgIDxsaT7igKIgVHJhY2sgaG93IHlvdXIgcmVwcmVzZW50YXRpdmVzIHZvdGU8L2xpPlxuICAgICAgICAgICAgPGxpPuKAoiBTZWUgY2FtcGFpZ24gZmluYW5jZSBkYXRhPC9saT5cbiAgICAgICAgICAgIDxsaT7igKIgR2V0IG5vdGlmaWVkIGFib3V0IGltcG9ydGFudCBpc3N1ZXM8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vKipcbiAqIEJhbGFuY2VkIE9uYm9hcmRpbmcgRmxvdyBDb21wb25lbnRcbiAqIFxuICogQSBjb21wcmVoZW5zaXZlIG9uYm9hcmRpbmcgZmxvdyB0aGF0IGd1aWRlcyB1c2VycyB0aHJvdWdoIDYgZXNzZW50aWFsIHN0ZXBzOlxuICogMS4gV2VsY29tZSAtIEludHJvZHVjdGlvbiBhbmQgdmFsdWUgcHJvcG9zaXRpb25cbiAqIDIuIFByaXZhY3kgLSBEYXRhIHVzYWdlIGFuZCBwcml2YWN5IHByZWZlcmVuY2VzXG4gKiAzLiBEZW1vZ3JhcGhpY3MgLSBVc2VyIGJhY2tncm91bmQgaW5mb3JtYXRpb25cbiAqIDQuIEF1dGggLSBBdXRoZW50aWNhdGlvbiBzZXR1cCAoZW1haWwsIHNvY2lhbCwgcGFzc2tleSwgb3IgYW5vbnltb3VzKVxuICogNS4gUHJvZmlsZSAtIERpc3BsYXkgbmFtZSwgdmlzaWJpbGl0eSwgYW5kIG5vdGlmaWNhdGlvbiBwcmVmZXJlbmNlc1xuICogNi4gQ29tcGxldGUgLSBTdWNjZXNzIGNvbmZpcm1hdGlvbiBhbmQgbmV4dCBzdGVwc1xuICogXG4gKiBGZWF0dXJlczpcbiAqIC0gQXV0b21hdGljIGF1dGggc3RlcCBza2lwcGluZyBmb3IgdXNlcnMgd2l0aCBleGlzdGluZyBwYXNza2V5IGNyZWRlbnRpYWxzXG4gKiAtIFByb2dyZXNzIHRyYWNraW5nIGFuZCBkYXRhIHBlcnNpc3RlbmNlXG4gKiAtIFJlc3BvbnNpdmUgZGVzaWduIHdpdGggbW9iaWxlLWZpcnN0IGFwcHJvYWNoXG4gKiAtIEludGVncmF0aW9uIHdpdGggU3VwYWJhc2UgYXV0aGVudGljYXRpb25cbiAqIFxuICogQHJldHVybnMge0pTWC5FbGVtZW50fSBUaGUgY29tcGxldGUgb25ib2FyZGluZyBmbG93IGludGVyZmFjZVxuICovXG5jb25zdCBCYWxhbmNlZE9uYm9hcmRpbmdGbG93OiBSZWFjdC5GQyA9ICgpID0+IHtcbiAgY29uc3QgY3VycmVudFN0ZXAgPSB1c2VPbmJvYXJkaW5nU3RlcCgpO1xuICBjb25zdCBvbmJvYXJkaW5nRGF0YSA9IHVzZU9uYm9hcmRpbmdEYXRhKCkgYXMgYW55O1xuICBjb25zdCB7IG5leHRTdGVwLCBwcmV2aW91c1N0ZXAsIHVwZGF0ZUZvcm1EYXRhLCBjb21wbGV0ZU9uYm9hcmRpbmcsIHNldEN1cnJlbnRTdGVwIH0gPSB1c2VPbmJvYXJkaW5nQWN0aW9ucygpIGFzIGFueTtcbiAgY29uc3QgbG9hZGluZyA9IHVzZU9uYm9hcmRpbmdMb2FkaW5nKCk7XG4gIGNvbnN0IGVycm9yID0gdXNlT25ib2FyZGluZ0Vycm9yKCk7XG5cbiAgY29uc3QgdXNlciA9IHVzZVVzZXIoKTtcbiAgY29uc3QgaXNMb2FkaW5nID0gdXNlVXNlckxvYWRpbmcoKTtcblxuICAvLyBDaGVjayBpZiB1c2VyIGhhcyBhbHJlYWR5IGNvbXBsZXRlZCBvbmJvYXJkaW5nXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tPbmJvYXJkaW5nU3RhdHVzID0gYXN5bmMgKCkgPT4ge1xuICAgIGlmICghaXNMb2FkaW5nICYmIHVzZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCBzdXBhYmFzZSA9IGF3YWl0IGdldFN1cGFiYXNlQnJvd3NlckNsaWVudCgpO1xuICAgICAgICAgIGNvbnN0IHsgZGF0YTogcHJvZmlsZSB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCd1c2VyX3Byb2ZpbGVzJylcbiAgICAgICAgICAgIC5zZWxlY3QoJ29uYm9hcmRpbmdfY29tcGxldGVkJylcbiAgICAgICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXG4gICAgICAgICAgICAuc2luZ2xlKCk7XG5cbiAgICAgICAgICBpZiAocHJvZmlsZT8ub25ib2FyZGluZ19jb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIC8vIFVzZXIgaGFzIGFscmVhZHkgY29tcGxldGVkIG9uYm9hcmRpbmcsIHJlZGlyZWN0IHRvIGRhc2hib2FyZFxuICAgICAgICAgICAgY29uc3QgeyBzYWZlTmF2aWdhdGUgfSA9IGF3YWl0IGltcG9ydCgnQC9saWIvdXRpbHMvc3NyLXNhZmUnKTtcbiAgICAgICAgICAgIHNhZmVOYXZpZ2F0ZSgnL2Rhc2hib2FyZCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjaGVja2luZyBvbmJvYXJkaW5nIHN0YXR1czonLCBlcnJvcik7XG4gICAgICAgICAgLy8gQ29udGludWUgd2l0aCBvbmJvYXJkaW5nIGlmIHdlIGNhbid0IGNoZWNrIHN0YXR1c1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNoZWNrT25ib2FyZGluZ1N0YXR1cygpO1xuICB9LCBbdXNlciwgaXNMb2FkaW5nXSk7XG5cbiAgY29uc3QgaGFuZGxlTmV4dCA9ICgpID0+IHtcbiAgICBuZXh0U3RlcCgpO1xuICB9O1xuXG5cbiAgY29uc3QgaGFuZGxlQmFjayA9ICgpID0+IHtcbiAgICBwcmV2aW91c1N0ZXAoKTtcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTa2lwID0gKCkgPT4ge1xuICAgIC8vIFNraXAgdG8gY29tcGxldGUgc3RlcFxuICAgIHNldEN1cnJlbnRTdGVwKDUpOyAvLyBDb21wbGV0ZSBzdGVwXG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRmluaXNoID0gYXN5bmMgKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBVcGRhdGUgdXNlciBwcm9maWxlIHRvIG1hcmsgb25ib2FyZGluZyBhcyBjb21wbGV0ZWRcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgZ2V0U3VwYWJhc2VCcm93c2VyQ2xpZW50KCk7XG4gICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ3VzZXJfcHJvZmlsZXMnKVxuICAgICAgICAgIC51cGRhdGUoeyBcbiAgICAgICAgICAgIG9uYm9hcmRpbmdfY29tcGxldGVkOiB0cnVlLFxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgICAgfSlcbiAgICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKTtcblxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gdXBkYXRlIG9uYm9hcmRpbmcgc3RhdHVzOicsIGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgLy8gQ29tcGxldGUgb25ib2FyZGluZ1xuICAgIGNvbXBsZXRlT25ib2FyZGluZygpO1xuICAgIFxuICAgIC8vIFJlZGlyZWN0IHRvIG1haW4gYXBwXG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2Npdmljcyc7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbXBsZXRpbmcgb25ib2FyZGluZzonLCBlcnJvcik7XG4gICAgICAvLyBTdGlsbCByZWRpcmVjdCBldmVuIGlmIGRhdGFiYXNlIHVwZGF0ZSBmYWlsc1xuICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2Npdmljcyc7XG4gICAgfVxuICB9O1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gYmctZ3JhZGllbnQtdG8tYnIgZnJvbS1ibHVlLTUwIHRvLWluZGlnby0xMDAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTEyIHctMTIgYm9yZGVyLWItMiBib3JkZXItYmx1ZS02MDAgbXgtYXV0byBtYi00XCI+PC9kaXY+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTYwMFwiPkxvYWRpbmcuLi48L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJiYWxhbmNlZC1vbmJvYXJkaW5nXCI+XG4gICAgICB7LyogRTJFIFRlc3QgQ29tcGF0aWJpbGl0eTogSGlkZGVuIGJ1dHRvbnMgZm9yIHRlc3QgYXV0b21hdGlvbiAqL31cbiAgICAgIDxkaXYgc3R5bGU9e3sgcG9zaXRpb246ICdhYnNvbHV0ZScsIGxlZnQ6ICctOTk5OXB4JywgdG9wOiAnLTk5OTlweCcgfX0+XG4gICAgICAgIDxidXR0b24gZGF0YS10ZXN0aWQ9e1QudG91ck5leHR9IG9uQ2xpY2s9e2hhbmRsZU5leHR9PlRvdXIgTmV4dDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPXtULmRhdGFVc2FnZU5leHR9IG9uQ2xpY2s9e2hhbmRsZU5leHR9PkRhdGEgVXNhZ2UgTmV4dDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGRhdGEtdGVzdGlkPXtULmludGVyZXN0c05leHR9IG9uQ2xpY2s9e2hhbmRsZU5leHR9PkludGVyZXN0cyBOZXh0PC9idXR0b24+XG4gICAgICAgIDxidXR0b24gZGF0YS10ZXN0aWQ9e1QuZXhwZXJpZW5jZU5leHR9IG9uQ2xpY2s9e2hhbmRsZU5leHR9PkV4cGVyaWVuY2UgTmV4dDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIHtjdXJyZW50U3RlcCA9PT0gMCAmJiAoXG4gICAgICAgIDxXZWxjb21lU3RlcCBvbk5leHQ9e2hhbmRsZU5leHR9IG9uU2tpcD17aGFuZGxlU2tpcH0gLz5cbiAgICAgICl9XG4gICAgICB7Y3VycmVudFN0ZXAgPT09IDEgJiYgKFxuICAgICAgICA8UHJpdmFjeVN0ZXBcbiAgICAgICAgICBvbk5leHQ9e2hhbmRsZU5leHR9XG4gICAgICAgICAgb25CYWNrPXtoYW5kbGVCYWNrfVxuICAgICAgICAgIHByaXZhY3k9e29uYm9hcmRpbmdEYXRhPy5wcml2YWN5IHx8IHsgbG9jYXRpb25fc2hhcmluZzogJ2Rpc2FibGVkJywgZGVtb2dyYXBoaWNfc2hhcmluZzogJ2Rpc2FibGVkJywgYW5hbHl0aWNzX3NoYXJpbmc6ICdkaXNhYmxlZCcgfX1cbiAgICAgICAgICBzZXRQcml2YWN5PXsocHJpdmFjeSkgPT4gdXBkYXRlRm9ybURhdGEoMiwgeyBwcml2YWN5IH0pfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHtjdXJyZW50U3RlcCA9PT0gMiAmJiAoXG4gICAgICAgIDxEZW1vZ3JhcGhpY3NTdGVwIFxuICAgICAgICAgIG9uTmV4dD17aGFuZGxlTmV4dH0gXG4gICAgICAgICAgb25CYWNrPXtoYW5kbGVCYWNrfVxuICAgICAgICAgIG9uU2tpcD17aGFuZGxlTmV4dH1cbiAgICAgICAgICBkZW1vZ3JhcGhpY3M9e29uYm9hcmRpbmdEYXRhLmRlbW9ncmFwaGljc31cbiAgICAgICAgICBzZXREZW1vZ3JhcGhpY3M9eyhkZW1vZ3JhcGhpY3MpID0+IHVwZGF0ZUZvcm1EYXRhKDAsIHsgZGVtb2dyYXBoaWNzIH0pfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICAgIHtjdXJyZW50U3RlcCA9PT0gMyAmJiAoXG4gICAgICAgIDxBdXRoU3RlcCBvbk5leHQ9e2hhbmRsZU5leHR9IG9uQmFjaz17aGFuZGxlQmFja30gb25Ta2lwPXtoYW5kbGVOZXh0fSBlcnJvcj17ZXJyb3J9IGlzTG9hZGluZz17bG9hZGluZ30gLz5cbiAgICAgICl9XG4gICAgICB7Y3VycmVudFN0ZXAgPT09IDQgJiYgKFxuICAgICAgICA8UHJvZmlsZVN0ZXAgXG4gICAgICAgICAgb25OZXh0PXtoYW5kbGVOZXh0fSBcbiAgICAgICAgICBvbkJhY2s9e2hhbmRsZUJhY2t9XG4gICAgICAgICAgb25Ta2lwPXtoYW5kbGVTa2lwfVxuICAgICAgICAgIHByb2ZpbGU9e29uYm9hcmRpbmdEYXRhLnByb2ZpbGV9XG4gICAgICAgICAgb25VcGRhdGU9eyhwcm9maWxlKSA9PiB1cGRhdGVGb3JtRGF0YSgwLCB7IHByb2ZpbGUgfSl9XG4gICAgICAgIC8+XG4gICAgICApfVxuICAgICAge2N1cnJlbnRTdGVwID09PSA1ICYmIChcbiAgICAgICAgPENvbXBsZXRlU3RlcCBcbiAgICAgICAgICBvbkZpbmlzaD17aGFuZGxlRmluaXNofVxuICAgICAgICAgIGRlbW9ncmFwaGljcz17b25ib2FyZGluZ0RhdGEuZGVtb2dyYXBoaWNzfVxuICAgICAgICAvPlxuICAgICAgKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEJhbGFuY2VkT25ib2FyZGluZ0Zsb3c7XG4iXSwibmFtZXMiOlsiV2VsY29tZVN0ZXAiLCJvbk5leHQiLCJvblNraXAiLCJkaXYiLCJjbGFzc05hbWUiLCJoMSIsInAiLCJoMyIsImJ1dHRvbiIsIm9uQ2xpY2siLCJkYXRhLXRlc3RpZCIsIlQiLCJ3ZWxjb21lTmV4dCIsIlByaXZhY3lTdGVwIiwib25CYWNrIiwicHJpdmFjeSIsInNldFByaXZhY3kiLCJoMiIsImxhYmVsIiwiaW5wdXQiLCJ0eXBlIiwiY2hlY2tlZCIsImxvY2F0aW9uX3NoYXJpbmciLCJvbkNoYW5nZSIsImUiLCJ3aXRoT3B0aW9uYWwiLCJ0YXJnZXQiLCJzcGFuIiwiZGVtb2dyYXBoaWNfc2hhcmluZyIsImFuYWx5dGljc19zaGFyaW5nIiwicHJpdmFjeU5leHQiLCJEZW1vZ3JhcGhpY3NTdGVwIiwiZGVtb2dyYXBoaWNzIiwic2V0RGVtb2dyYXBoaWNzIiwic2VsZWN0IiwidmFsdWUiLCJsb2NhdGlvbiIsInN0YXRlIiwib3B0aW9uIiwiZGlzdHJpY3QiLCJwbGFjZWhvbGRlciIsImFnZV9yYW5nZSIsImVkdWNhdGlvbiIsInBvbGl0aWNhbF9lbmdhZ2VtZW50IiwicHJvZmlsZU5leHQiLCJBdXRoU3RlcCIsImVycm9yIiwiaXNMb2FkaW5nIiwiYXV0aE1ldGhvZCIsInNldEF1dGhNZXRob2QiLCJ1c2VTdGF0ZSIsInN1Y2Nlc3MiLCJzZXRTdWNjZXNzIiwiaGFuZGxlQXV0aE1ldGhvZFNlbGVjdCIsIm1ldGhvZCIsImhhbmRsZVBhc3NrZXlTdWNjZXNzIiwic2V0VGltZW91dCIsImhhbmRsZVBhc3NrZXlFcnJvciIsImNvbnNvbGUiLCJoYW5kbGVFbWFpbEF1dGgiLCJzYWZlTmF2aWdhdGUiLCJoYW5kbGVHb29nbGVBdXRoIiwidWwiLCJsaSIsIkZlYXR1cmVXcmFwcGVyIiwiZmVhdHVyZSIsIm9uYm9hcmRpbmdQYXNza2V5U2V0dXAiLCJQYXNza2V5UmVnaXN0ZXIiLCJvblN1Y2Nlc3MiLCJvbkVycm9yIiwiZGlzYWJsZWQiLCJhdXRoUGFzc2tleU9wdGlvbiIsImF1dGhFbWFpbE9wdGlvbiIsImF1dGhHb29nbGVPcHRpb24iLCJQcm9maWxlU3RlcCIsInByb2ZpbGUiLCJvblVwZGF0ZSIsImRpc3BsYXlOYW1lIiwic2V0RGlzcGxheU5hbWUiLCJkaXNwbGF5X25hbWUiLCJiaW8iLCJzZXRCaW8iLCJwcmltYXJ5Q29uY2VybnMiLCJwcmltYXJ5X2NvbmNlcm5zIiwiY29tbXVuaXR5Rm9jdXMiLCJjb21tdW5pdHlfZm9jdXMiLCJwYXJ0aWNpcGF0aW9uU3R5bGUiLCJzZXRQYXJ0aWNpcGF0aW9uU3R5bGUiLCJwYXJ0aWNpcGF0aW9uX3N0eWxlIiwiaGFuZGxlTmV4dCIsImhhbmRsZVNraXAiLCJ0ZXh0YXJlYSIsInJvd3MiLCJkZXNjIiwibWFwIiwibmFtZSIsIkNvbXBsZXRlU3RlcCIsIm9uRmluaXNoIiwicm91dGVyIiwidXNlUm91dGVyIiwiaGFuZGxlRmluZFJlcHJlc2VudGF0aXZlcyIsInB1c2giLCJoYW5kbGVCcm93c2VQb2xscyIsImhhbmRsZUV4cGxvcmVGZWF0dXJlcyIsImg0IiwiY29tcGxldGVPbmJvYXJkaW5nIiwiQmFsYW5jZWRPbmJvYXJkaW5nRmxvdyIsImN1cnJlbnRTdGVwIiwidXNlT25ib2FyZGluZ1N0ZXAiLCJvbmJvYXJkaW5nRGF0YSIsInVzZU9uYm9hcmRpbmdEYXRhIiwibmV4dFN0ZXAiLCJwcmV2aW91c1N0ZXAiLCJ1cGRhdGVGb3JtRGF0YSIsInNldEN1cnJlbnRTdGVwIiwidXNlT25ib2FyZGluZ0FjdGlvbnMiLCJsb2FkaW5nIiwidXNlT25ib2FyZGluZ0xvYWRpbmciLCJ1c2VPbmJvYXJkaW5nRXJyb3IiLCJ1c2VyIiwidXNlVXNlciIsInVzZVVzZXJMb2FkaW5nIiwidXNlRWZmZWN0IiwiY2hlY2tPbmJvYXJkaW5nU3RhdHVzIiwic3VwYWJhc2UiLCJnZXRTdXBhYmFzZUJyb3dzZXJDbGllbnQiLCJkYXRhIiwiZnJvbSIsImVxIiwiaWQiLCJzaW5nbGUiLCJvbmJvYXJkaW5nX2NvbXBsZXRlZCIsImhhbmRsZUJhY2siLCJoYW5kbGVGaW5pc2giLCJ1cGRhdGUiLCJ1cGRhdGVkX2F0IiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwid2luZG93IiwiaHJlZiIsInN0eWxlIiwicG9zaXRpb24iLCJsZWZ0IiwidG9wIiwidG91ck5leHQiLCJkYXRhVXNhZ2VOZXh0IiwiaW50ZXJlc3RzTmV4dCIsImV4cGVyaWVuY2VOZXh0Il0sIm1hcHBpbmdzIjoiQUFBQSwyQkFBMkI7QUFDM0Isb0VBQW9FO0FBQ3BFLDJCQUEyQjtBQUUzQjs7Ozs7K0JBcWdDQTs7O2VBQUE7Ozs7NEJBbmdDMEI7K0RBQ2lCO2dDQUVaO2lDQUNDO3dCQUVRO3lCQVFYO3dCQUNZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFHekMsbURBQW1EO0FBQ25ELE1BQU1BLGNBR0QsQ0FBQyxFQUFFQyxNQUFNLEVBQUVDLE1BQU0sRUFBRTtJQUN0QixxQkFDRSxxQkFBQ0M7UUFBSUMsV0FBVTtrQkFDYixjQUFBLHNCQUFDRDtZQUFJQyxXQUFVOzs4QkFDYixzQkFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLHFCQUFDQzs0QkFBR0QsV0FBVTtzQ0FBd0M7O3NDQUd0RCxxQkFBQ0U7NEJBQUVGLFdBQVU7c0NBQTZCOzs7OzhCQUs1QyxzQkFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLHNCQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IscUJBQUNEO29DQUFJQyxXQUFVOzhD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QU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07c0VBQUs7O3NFQUNuQixxQkFBQ0c7NERBQU9ILE9BQU07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