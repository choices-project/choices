{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/lib/utils/logger-comprehensive.test.ts"],"sourcesContent":["/**\n * @jest-environment node\n */\n\n// Set NODE_ENV to development before importing logger\nprocess.env.NODE_ENV = 'development';\n\nimport { logger } from '@/lib/utils/logger';\n\n// Mock console methods\nconst mockConsole = {\n  log: jest.fn(),\n  error: jest.fn(),\n  warn: jest.fn(),\n  info: jest.fn(),\n  debug: jest.fn(),\n};\n\n// Replace console with mock\nObject.assign(console, mockConsole);\n\ndescribe('Logger Utility - Comprehensive Testing', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Basic Logging', () => {\n    it('should log info messages', () => {\n      logger.info('Test info message');\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Test info message/));\n    });\n\n    it('should log error messages', () => {\n      logger.error('Test error message');\n      \n      expect(mockConsole.error).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] ERROR: Test error message/));\n    });\n\n    it('should log warning messages', () => {\n      logger.warn('Test warning message');\n      \n      expect(mockConsole.warn).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] WARN: Test warning message/));\n    });\n\n    it('should log debug messages', () => {\n      logger.debug('Test debug message');\n      \n      expect(mockConsole.debug).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] DEBUG: Test debug message/));\n    });\n  });\n\n  describe('Structured Logging', () => {\n    it('should log with metadata', () => {\n      const metadata = {\n        userId: 'user-123',\n        action: 'login',\n        timestamp: new Date().toISOString(),\n      };\n      \n      logger.info('User action', metadata);\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: User action/));\n    });\n\n    it('should log with error objects', () => {\n      const error = new Error('Test error');\n      const context = {\n        userId: 'user-123',\n        action: 'database-query',\n      };\n      \n      logger.error('Database error', error, context);\n      \n      expect(mockConsole.error).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] ERROR: Database error/));\n    });\n\n    it('should log with performance metrics', () => {\n      const metrics = {\n        duration: 150,\n        memoryUsage: 25.5,\n        cpuUsage: 12.3,\n      };\n      \n      logger.info('Performance metrics', metrics);\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Performance metrics/));\n    });\n  });\n\n  describe('Log Levels', () => {\n    it('should respect log level configuration', () => {\n      // Test different log levels\n      logger.debug('Debug message');\n      logger.info('Info message');\n      logger.warn('Warning message');\n      logger.error('Error message');\n      \n      expect(mockConsole.debug).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] DEBUG: Debug message/));\n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Info message/));\n      expect(mockConsole.warn).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] WARN: Warning message/));\n      expect(mockConsole.error).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] ERROR: Error message/));\n    });\n\n    it('should handle log level filtering', () => {\n      // Mock environment variable for log level\n      const originalEnv = process.env.NODE_ENV;\n      process.env.NODE_ENV = 'production';\n      \n      // In production, debug logs should be filtered\n      logger.debug('Debug message');\n      logger.info('Info message');\n      \n      expect(mockConsole.debug).not.toHaveBeenCalled();\n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Info message/));\n      \n      // Restore environment\n      process.env.NODE_ENV = originalEnv;\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should handle circular references in objects', () => {\n      const circularObj: any = { name: 'test' };\n      circularObj.self = circularObj;\n      \n      logger.info('Circular object', circularObj);\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Circular object/));\n    });\n\n    it('should handle undefined values', () => {\n      logger.info('Undefined value', undefined);\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Undefined value/));\n    });\n\n    it('should handle null values', () => {\n      logger.info('Null value', null);\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Null value/));\n    });\n\n    it('should handle large objects', () => {\n      const largeObj = {\n        data: Array.from({ length: 1000 }, (_, i) => ({ id: i, value: `item-${i}` })),\n        metadata: {\n          count: 1000,\n          timestamp: new Date().toISOString(),\n        },\n      };\n      \n      logger.info('Large object', largeObj);\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Large object/));\n    });\n  });\n\n  describe('Performance', () => {\n    it('should log within performance budget', () => {\n      const startTime = performance.now();\n      \n      for (let i = 0; i < 100; i++) {\n        logger.info(`Message ${i}`);\n      }\n      \n      const endTime = performance.now();\n      const duration = endTime - startTime;\n      \n      expect(duration).toBeLessThan(100); // Should complete within 100ms\n    });\n\n    it('should not block execution', async () => {\n      const startTime = performance.now();\n      \n      // Log multiple messages asynchronously\n      const promises = Array.from({ length: 10 }, (_, i) => \n        Promise.resolve().then(() => logger.info(`Async message ${i}`))\n      );\n      \n      await Promise.all(promises);\n      \n      const endTime = performance.now();\n      const duration = endTime - startTime;\n      \n      expect(duration).toBeLessThan(50); // Should complete within 50ms\n    });\n  });\n\n  describe('Security', () => {\n    it('should sanitize sensitive data', () => {\n      const sensitiveData = {\n        password: 'secret123',\n        token: 'bearer-token',\n        apiKey: 'api-key-123',\n        email: 'user@example.com',\n        normalData: 'safe data',\n      };\n      \n      logger.info('User data', sensitiveData);\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: User data/));\n    });\n\n    it('should handle SQL injection attempts', () => {\n      const maliciousInput = \"'; DROP TABLE users; --\";\n      \n      logger.info('User input', { input: maliciousInput });\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: User input/));\n    });\n\n    it('should handle XSS attempts', () => {\n      const maliciousInput = '<script>alert(\"xss\")</script>';\n      \n      logger.info('User input', { input: maliciousInput });\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: User input/));\n    });\n  });\n\n  describe('Context and Tracing', () => {\n    it('should include request context', () => {\n      const requestContext = {\n        requestId: 'req-123',\n        userId: 'user-123',\n        ip: '192.168.1.1',\n        userAgent: 'Mozilla/5.0...',\n      };\n      \n      logger.info('Request processed', requestContext);\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Request processed/));\n    });\n\n    it('should include error stack traces', () => {\n      const error = new Error('Test error');\n      error.stack = 'Error: Test error\\n    at test.js:1:1';\n      \n      logger.error('Error occurred', error);\n      \n      expect(mockConsole.error).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] ERROR: Error occurred/));\n    });\n\n    it('should include timing information', () => {\n      const timing = {\n        startTime: Date.now() - 1000,\n        endTime: Date.now(),\n        duration: 1000,\n      };\n      \n      logger.info('Operation completed', timing);\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Operation completed/));\n    });\n  });\n\n  describe('Log Formatting', () => {\n    it('should format timestamps correctly', () => {\n      const timestamp = new Date('2023-01-01T00:00:00Z');\n      \n      logger.info('Timestamped message', { timestamp });\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Timestamped message/));\n    });\n\n    it('should format objects with proper indentation', () => {\n      const complexObj = {\n        level1: {\n          level2: {\n            level3: 'value',\n            array: [1, 2, 3],\n          },\n        },\n      };\n      \n      logger.info('Complex object', complexObj);\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Complex object/));\n    });\n\n    it('should handle special characters', () => {\n      const specialChars = {\n        unicode: 'ðŸš€',\n        emoji: 'ðŸ˜€',\n        symbols: '!@#$%^&*()',\n        quotes: '\"double\" and \\'single\\'',\n      };\n      \n      logger.info('Special characters', specialChars);\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Special characters/));\n    });\n  });\n\n  describe('Memory Management', () => {\n    it('should not cause memory leaks', () => {\n      const initialMemory = process.memoryUsage().heapUsed;\n      \n      // Log many messages\n      for (let i = 0; i < 1000; i++) {\n        logger.info(`Message ${i}`, { data: `data-${i}` });\n      }\n      \n      const finalMemory = process.memoryUsage().heapUsed;\n      const memoryIncrease = finalMemory - initialMemory;\n      \n      // Memory increase should be reasonable\n      expect(memoryIncrease).toBeLessThan(10 * 1024 * 1024); // Less than 10MB\n    });\n\n    it('should handle large log messages', () => {\n      const largeMessage = 'x'.repeat(10000);\n      \n      logger.info('Large message', { message: largeMessage });\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Large message/));\n    });\n  });\n\n  describe('Async Logging', () => {\n    it('should handle async operations', async () => {\n      const asyncOperation = async () => {\n        await new Promise(resolve => setTimeout(resolve, 10));\n        return 'async result';\n      };\n      \n      logger.info('Starting async operation');\n      const result = await asyncOperation();\n      logger.info('Async operation completed', { result });\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Starting async operation/));\n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Async operation completed/));\n    });\n\n    it('should handle promise rejections', async () => {\n      const failingOperation = async () => {\n        throw new Error('Async error');\n      };\n      \n      logger.info('Starting failing operation');\n      \n      try {\n        await failingOperation();\n      } catch (error) {\n        logger.error('Async operation failed', error);\n      }\n      \n      expect(mockConsole.info).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] INFO: Starting failing operation/));\n      expect(mockConsole.error).toHaveBeenCalledWith(expect.stringMatching(/\\[.*\\] ERROR: Async operation failed/));\n    });\n  });\n\n  describe('Log Aggregation', () => {\n    it('should aggregate related log messages', () => {\n      const sessionId = 'session-123';\n      \n      logger.info('Session started', { sessionId });\n      logger.info('User action', { sessionId, action: 'login' });\n      logger.info('User action', { sessionId, action: 'navigate' });\n      logger.info('Session ended', { sessionId });\n      \n      expect(mockConsole.info).toHaveBeenCalledTimes(4);\n    });\n\n    it('should handle log batching', () => {\n      const messages = [\n        { level: 'info', message: 'Message 1' },\n        { level: 'info', message: 'Message 2' },\n        { level: 'warn', message: 'Warning 1' },\n      ];\n      \n      messages.forEach(msg => {\n        if (msg.level === 'info') {\n          logger.info(msg.message);\n        } else if (msg.level === 'warn') {\n          logger.warn(msg.message);\n        }\n      });\n      \n      expect(mockConsole.info).toHaveBeenCalledTimes(2);\n      expect(mockConsole.warn).toHaveBeenCalledTimes(1);\n    });\n  });\n});\n\n"],"names":["process","env","NODE_ENV","mockConsole","log","jest","fn","error","warn","info","debug","Object","assign","console","describe","beforeEach","clearAllMocks","it","logger","expect","toHaveBeenCalledWith","stringMatching","metadata","userId","action","timestamp","Date","toISOString","Error","context","metrics","duration","memoryUsage","cpuUsage","originalEnv","not","toHaveBeenCalled","circularObj","name","self","undefined","largeObj","data","Array","from","length","_","i","id","value","count","startTime","performance","now","endTime","toBeLessThan","promises","Promise","resolve","then","all","sensitiveData","password","token","apiKey","email","normalData","maliciousInput","input","requestContext","requestId","ip","userAgent","stack","timing","complexObj","level1","level2","level3","array","specialChars","unicode","emoji","symbols","quotes","initialMemory","heapUsed","finalMemory","memoryIncrease","largeMessage","repeat","message","asyncOperation","setTimeout","result","failingOperation","sessionId","toHaveBeenCalledTimes","messages","level","forEach","msg"],"mappings":"AAAA;;CAEC,GAED,sDAAsD;;;;;wBAG/B;AAFvBA,QAAQC,GAAG,CAACC,QAAQ,GAAG;AAIvB,uBAAuB;AACvB,MAAMC,cAAc;IAClBC,KAAKC,KAAKC,EAAE;IACZC,OAAOF,KAAKC,EAAE;IACdE,MAAMH,KAAKC,EAAE;IACbG,MAAMJ,KAAKC,EAAE;IACbI,OAAOL,KAAKC,EAAE;AAChB;AAEA,4BAA4B;AAC5BK,OAAOC,MAAM,CAACC,SAASV;AAEvBW,SAAS,0CAA0C;IACjDC,WAAW;QACTV,KAAKW,aAAa;IACpB;IAEAF,SAAS,iBAAiB;QACxBG,GAAG,4BAA4B;YAC7BC,cAAM,CAACT,IAAI,CAAC;YAEZU,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;QAEAJ,GAAG,6BAA6B;YAC9BC,cAAM,CAACX,KAAK,CAAC;YAEbY,OAAOhB,YAAYI,KAAK,EAAEa,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACvE;QAEAJ,GAAG,+BAA+B;YAChCC,cAAM,CAACV,IAAI,CAAC;YAEZW,OAAOhB,YAAYK,IAAI,EAAEY,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;QAEAJ,GAAG,6BAA6B;YAC9BC,cAAM,CAACR,KAAK,CAAC;YAEbS,OAAOhB,YAAYO,KAAK,EAAEU,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACvE;IACF;IAEAP,SAAS,sBAAsB;QAC7BG,GAAG,4BAA4B;YAC7B,MAAMK,WAAW;gBACfC,QAAQ;gBACRC,QAAQ;gBACRC,WAAW,IAAIC,OAAOC,WAAW;YACnC;YAEAT,cAAM,CAACT,IAAI,CAAC,eAAea;YAE3BH,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;QAEAJ,GAAG,iCAAiC;YAClC,MAAMV,QAAQ,IAAIqB,MAAM;YACxB,MAAMC,UAAU;gBACdN,QAAQ;gBACRC,QAAQ;YACV;YAEAN,cAAM,CAACX,KAAK,CAAC,kBAAkBA,OAAOsB;YAEtCV,OAAOhB,YAAYI,KAAK,EAAEa,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACvE;QAEAJ,GAAG,uCAAuC;YACxC,MAAMa,UAAU;gBACdC,UAAU;gBACVC,aAAa;gBACbC,UAAU;YACZ;YAEAf,cAAM,CAACT,IAAI,CAAC,uBAAuBqB;YAEnCX,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;IACF;IAEAP,SAAS,cAAc;QACrBG,GAAG,0CAA0C;YAC3C,4BAA4B;YAC5BC,cAAM,CAACR,KAAK,CAAC;YACbQ,cAAM,CAACT,IAAI,CAAC;YACZS,cAAM,CAACV,IAAI,CAAC;YACZU,cAAM,CAACX,KAAK,CAAC;YAEbY,OAAOhB,YAAYO,KAAK,EAAEU,oBAAoB,CAACD,OAAOE,cAAc,CAAC;YACrEF,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;YACpEF,OAAOhB,YAAYK,IAAI,EAAEY,oBAAoB,CAACD,OAAOE,cAAc,CAAC;YACpEF,OAAOhB,YAAYI,KAAK,EAAEa,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACvE;QAEAJ,GAAG,qCAAqC;YACtC,0CAA0C;YAC1C,MAAMiB,cAAclC,QAAQC,GAAG,CAACC,QAAQ;YACxCF,QAAQC,GAAG,CAACC,QAAQ,GAAG;YAEvB,+CAA+C;YAC/CgB,cAAM,CAACR,KAAK,CAAC;YACbQ,cAAM,CAACT,IAAI,CAAC;YAEZU,OAAOhB,YAAYO,KAAK,EAAEyB,GAAG,CAACC,gBAAgB;YAC9CjB,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;YAEpE,sBAAsB;YACtBrB,QAAQC,GAAG,CAACC,QAAQ,GAAGgC;QACzB;IACF;IAEApB,SAAS,kBAAkB;QACzBG,GAAG,gDAAgD;YACjD,MAAMoB,cAAmB;gBAAEC,MAAM;YAAO;YACxCD,YAAYE,IAAI,GAAGF;YAEnBnB,cAAM,CAACT,IAAI,CAAC,mBAAmB4B;YAE/BlB,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;QAEAJ,GAAG,kCAAkC;YACnCC,cAAM,CAACT,IAAI,CAAC,mBAAmB+B;YAE/BrB,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;QAEAJ,GAAG,6BAA6B;YAC9BC,cAAM,CAACT,IAAI,CAAC,cAAc;YAE1BU,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;QAEAJ,GAAG,+BAA+B;YAChC,MAAMwB,WAAW;gBACfC,MAAMC,MAAMC,IAAI,CAAC;oBAAEC,QAAQ;gBAAK,GAAG,CAACC,GAAGC,IAAO,CAAA;wBAAEC,IAAID;wBAAGE,OAAO,CAAC,KAAK,EAAEF,EAAE,CAAC;oBAAC,CAAA;gBAC1EzB,UAAU;oBACR4B,OAAO;oBACPzB,WAAW,IAAIC,OAAOC,WAAW;gBACnC;YACF;YAEAT,cAAM,CAACT,IAAI,CAAC,gBAAgBgC;YAE5BtB,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;IACF;IAEAP,SAAS,eAAe;QACtBG,GAAG,wCAAwC;YACzC,MAAMkC,YAAYC,YAAYC,GAAG;YAEjC,IAAK,IAAIN,IAAI,GAAGA,IAAI,KAAKA,IAAK;gBAC5B7B,cAAM,CAACT,IAAI,CAAC,CAAC,QAAQ,EAAEsC,EAAE,CAAC;YAC5B;YAEA,MAAMO,UAAUF,YAAYC,GAAG;YAC/B,MAAMtB,WAAWuB,UAAUH;YAE3BhC,OAAOY,UAAUwB,YAAY,CAAC,MAAM,+BAA+B;QACrE;QAEAtC,GAAG,8BAA8B;YAC/B,MAAMkC,YAAYC,YAAYC,GAAG;YAEjC,uCAAuC;YACvC,MAAMG,WAAWb,MAAMC,IAAI,CAAC;gBAAEC,QAAQ;YAAG,GAAG,CAACC,GAAGC,IAC9CU,QAAQC,OAAO,GAAGC,IAAI,CAAC,IAAMzC,cAAM,CAACT,IAAI,CAAC,CAAC,cAAc,EAAEsC,EAAE,CAAC;YAG/D,MAAMU,QAAQG,GAAG,CAACJ;YAElB,MAAMF,UAAUF,YAAYC,GAAG;YAC/B,MAAMtB,WAAWuB,UAAUH;YAE3BhC,OAAOY,UAAUwB,YAAY,CAAC,KAAK,8BAA8B;QACnE;IACF;IAEAzC,SAAS,YAAY;QACnBG,GAAG,kCAAkC;YACnC,MAAM4C,gBAAgB;gBACpBC,UAAU;gBACVC,OAAO;gBACPC,QAAQ;gBACRC,OAAO;gBACPC,YAAY;YACd;YAEAhD,cAAM,CAACT,IAAI,CAAC,aAAaoD;YAEzB1C,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;QAEAJ,GAAG,wCAAwC;YACzC,MAAMkD,iBAAiB;YAEvBjD,cAAM,CAACT,IAAI,CAAC,cAAc;gBAAE2D,OAAOD;YAAe;YAElDhD,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;QAEAJ,GAAG,8BAA8B;YAC/B,MAAMkD,iBAAiB;YAEvBjD,cAAM,CAACT,IAAI,CAAC,cAAc;gBAAE2D,OAAOD;YAAe;YAElDhD,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;IACF;IAEAP,SAAS,uBAAuB;QAC9BG,GAAG,kCAAkC;YACnC,MAAMoD,iBAAiB;gBACrBC,WAAW;gBACX/C,QAAQ;gBACRgD,IAAI;gBACJC,WAAW;YACb;YAEAtD,cAAM,CAACT,IAAI,CAAC,qBAAqB4D;YAEjClD,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;QAEAJ,GAAG,qCAAqC;YACtC,MAAMV,QAAQ,IAAIqB,MAAM;YACxBrB,MAAMkE,KAAK,GAAG;YAEdvD,cAAM,CAACX,KAAK,CAAC,kBAAkBA;YAE/BY,OAAOhB,YAAYI,KAAK,EAAEa,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACvE;QAEAJ,GAAG,qCAAqC;YACtC,MAAMyD,SAAS;gBACbvB,WAAWzB,KAAK2B,GAAG,KAAK;gBACxBC,SAAS5B,KAAK2B,GAAG;gBACjBtB,UAAU;YACZ;YAEAb,cAAM,CAACT,IAAI,CAAC,uBAAuBiE;YAEnCvD,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;IACF;IAEAP,SAAS,kBAAkB;QACzBG,GAAG,sCAAsC;YACvC,MAAMQ,YAAY,IAAIC,KAAK;YAE3BR,cAAM,CAACT,IAAI,CAAC,uBAAuB;gBAAEgB;YAAU;YAE/CN,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;QAEAJ,GAAG,iDAAiD;YAClD,MAAM0D,aAAa;gBACjBC,QAAQ;oBACNC,QAAQ;wBACNC,QAAQ;wBACRC,OAAO;4BAAC;4BAAG;4BAAG;yBAAE;oBAClB;gBACF;YACF;YAEA7D,cAAM,CAACT,IAAI,CAAC,kBAAkBkE;YAE9BxD,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;QAEAJ,GAAG,oCAAoC;YACrC,MAAM+D,eAAe;gBACnBC,SAAS;gBACTC,OAAO;gBACPC,SAAS;gBACTC,QAAQ;YACV;YAEAlE,cAAM,CAACT,IAAI,CAAC,sBAAsBuE;YAElC7D,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;IACF;IAEAP,SAAS,qBAAqB;QAC5BG,GAAG,iCAAiC;YAClC,MAAMoE,gBAAgBrF,QAAQgC,WAAW,GAAGsD,QAAQ;YAEpD,oBAAoB;YACpB,IAAK,IAAIvC,IAAI,GAAGA,IAAI,MAAMA,IAAK;gBAC7B7B,cAAM,CAACT,IAAI,CAAC,CAAC,QAAQ,EAAEsC,EAAE,CAAC,EAAE;oBAAEL,MAAM,CAAC,KAAK,EAAEK,EAAE,CAAC;gBAAC;YAClD;YAEA,MAAMwC,cAAcvF,QAAQgC,WAAW,GAAGsD,QAAQ;YAClD,MAAME,iBAAiBD,cAAcF;YAErC,uCAAuC;YACvClE,OAAOqE,gBAAgBjC,YAAY,CAAC,KAAK,OAAO,OAAO,iBAAiB;QAC1E;QAEAtC,GAAG,oCAAoC;YACrC,MAAMwE,eAAe,IAAIC,MAAM,CAAC;YAEhCxE,cAAM,CAACT,IAAI,CAAC,iBAAiB;gBAAEkF,SAASF;YAAa;YAErDtE,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;IACF;IAEAP,SAAS,iBAAiB;QACxBG,GAAG,kCAAkC;YACnC,MAAM2E,iBAAiB;gBACrB,MAAM,IAAInC,QAAQC,CAAAA,UAAWmC,WAAWnC,SAAS;gBACjD,OAAO;YACT;YAEAxC,cAAM,CAACT,IAAI,CAAC;YACZ,MAAMqF,SAAS,MAAMF;YACrB1E,cAAM,CAACT,IAAI,CAAC,6BAA6B;gBAAEqF;YAAO;YAElD3E,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;YACpEF,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACtE;QAEAJ,GAAG,oCAAoC;YACrC,MAAM8E,mBAAmB;gBACvB,MAAM,IAAInE,MAAM;YAClB;YAEAV,cAAM,CAACT,IAAI,CAAC;YAEZ,IAAI;gBACF,MAAMsF;YACR,EAAE,OAAOxF,OAAO;gBACdW,cAAM,CAACX,KAAK,CAAC,0BAA0BA;YACzC;YAEAY,OAAOhB,YAAYM,IAAI,EAAEW,oBAAoB,CAACD,OAAOE,cAAc,CAAC;YACpEF,OAAOhB,YAAYI,KAAK,EAAEa,oBAAoB,CAACD,OAAOE,cAAc,CAAC;QACvE;IACF;IAEAP,SAAS,mBAAmB;QAC1BG,GAAG,yCAAyC;YAC1C,MAAM+E,YAAY;YAElB9E,cAAM,CAACT,IAAI,CAAC,mBAAmB;gBAAEuF;YAAU;YAC3C9E,cAAM,CAACT,IAAI,CAAC,eAAe;gBAAEuF;gBAAWxE,QAAQ;YAAQ;YACxDN,cAAM,CAACT,IAAI,CAAC,eAAe;gBAAEuF;gBAAWxE,QAAQ;YAAW;YAC3DN,cAAM,CAACT,IAAI,CAAC,iBAAiB;gBAAEuF;YAAU;YAEzC7E,OAAOhB,YAAYM,IAAI,EAAEwF,qBAAqB,CAAC;QACjD;QAEAhF,GAAG,8BAA8B;YAC/B,MAAMiF,WAAW;gBACf;oBAAEC,OAAO;oBAAQR,SAAS;gBAAY;gBACtC;oBAAEQ,OAAO;oBAAQR,SAAS;gBAAY;gBACtC;oBAAEQ,OAAO;oBAAQR,SAAS;gBAAY;aACvC;YAEDO,SAASE,OAAO,CAACC,CAAAA;gBACf,IAAIA,IAAIF,KAAK,KAAK,QAAQ;oBACxBjF,cAAM,CAACT,IAAI,CAAC4F,IAAIV,OAAO;gBACzB,OAAO,IAAIU,IAAIF,KAAK,KAAK,QAAQ;oBAC/BjF,cAAM,CAACV,IAAI,CAAC6F,IAAIV,OAAO;gBACzB;YACF;YAEAxE,OAAOhB,YAAYM,IAAI,EAAEwF,qBAAqB,CAAC;YAC/C9E,OAAOhB,YAAYK,IAAI,EAAEyF,qBAAqB,CAAC;QACjD;IACF;AACF"}