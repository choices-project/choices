{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/components/pages/dashboard-accessibility.test.tsx"],"sourcesContent":["/**\n * Dashboard Accessibility Tests - PHASE 3 COMPREHENSIVE TESTING\n * \n * Tests accessibility compliance for the SuperiorMobileFeed component:\n * - WCAG 2.1 AA compliance\n * - Screen reader compatibility\n * - Keyboard navigation\n * - Color contrast validation\n * - Focus management\n * - ARIA attributes\n * - Mobile accessibility\n */\n\nimport { describe, it, expect, beforeEach, jest } from '@jest/globals';\nimport { render, screen, fireEvent, waitFor } from '@testing-library/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport SuperiorMobileFeed from '@/features/feeds/components/SuperiorMobileFeed';\nimport { T } from '@/lib/testing/testIds';\n\n// Mock Next.js router\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    prefetch: jest.fn(),\n  }),\n  usePathname: () => '/dashboard',\n  useSearchParams: () => new URLSearchParams(),\n}));\n\n// Mock the feeds store with real functionality\nconst mockFeeds = [\n  {\n    id: 'feed-1',\n    title: 'City Council Meeting Update',\n    content: 'The city council discussed the new infrastructure proposal...',\n    summary: 'City council infrastructure discussion',\n    author: {\n      id: 'author-1',\n      name: 'City Council',\n      avatar: '',\n      verified: true\n    },\n    category: 'civic',\n    tags: ['infrastructure', 'city-council'],\n    type: 'article',\n    source: {\n      name: 'City Council',\n      url: 'https://city.gov',\n      logo: '',\n      verified: true\n    },\n    publishedAt: '2024-01-15T10:00:00Z',\n    updatedAt: '2024-01-15T10:00:00Z',\n    url: 'https://city.gov/meeting-update',\n    imageUrl: '',\n    engagement: {\n      likes: 45,\n      comments: 12,\n      shares: 8,\n      bookmarks: 23\n    },\n    isLiked: false,\n    isBookmarked: false,\n    isRead: false,\n    isVerified: true,\n    priority: 'high',\n    relevanceScore: 0.95\n  }\n];\n\n// Mock Zustand stores\njest.mock('@/lib/stores', () => ({\n  useFeeds: () => mockFeeds,\n  useFeedsStore: (selector) => {\n    const state = {\n      feeds: mockFeeds,\n      isLoading: false,\n      error: null,\n      loadFeeds: jest.fn(),\n      refreshFeeds: jest.fn(),\n      loadMoreFeeds: jest.fn(),\n      setFilters: jest.fn()\n    };\n    return selector ? selector(state) : state;\n  },\n  useFeedsLoading: () => false,\n  useFeedsError: () => null,\n  useFeedPreferences: () => ({\n    categories: ['civic'],\n    sources: ['city-council'],\n    tags: ['infrastructure']\n  }),\n  useFeedFilters: () => ({\n    category: 'all',\n    source: 'all',\n    dateRange: 'all'\n  })\n}));\n\n// Mock browser APIs\nObject.defineProperty(window, 'localStorage', {\n  value: {\n    getItem: jest.fn(() => null),\n    setItem: jest.fn(),\n    removeItem: jest.fn(),\n    clear: jest.fn(),\n  },\n  writable: true,\n});\n\nObject.defineProperty(window, 'navigator', {\n  value: {\n    onLine: true,\n  },\n  writable: true,\n});\n\n// Mock fetch for API calls\nglobal.fetch = jest.fn().mockImplementation((url, options) => {\n  return Promise.resolve({\n    ok: true,\n    status: 200,\n    json: () => Promise.resolve(mockFeeds),\n    text: () => Promise.resolve(''),\n    headers: new Map()\n  });\n});\n\ndescribe('Dashboard Accessibility Tests', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('WCAG 2.1 AA Compliance', () => {\n    it('should have proper heading hierarchy', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check for main heading\n      const mainHeading = screen.getByRole('heading', { level: 1 });\n      expect(mainHeading).toBeInTheDocument();\n      expect(mainHeading).toHaveTextContent(/feed|dashboard|news/i);\n      expect(mainHeading).toHaveAttribute('data-testid', T.accessibility.mainHeading);\n\n      // Check for section headings\n      const sectionHeadings = screen.getAllByRole('heading', { level: 2 });\n      expect(sectionHeadings.length).toBeGreaterThan(0);\n      sectionHeadings.forEach(heading => {\n        expect(heading).toHaveAttribute('data-testid', T.accessibility.sectionHeading);\n      });\n    });\n\n    it('should have proper ARIA landmarks', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check for main landmark\n      const main = screen.getByRole('main');\n      expect(main).toBeInTheDocument();\n      expect(main).toHaveAttribute('data-testid', T.accessibility.main);\n\n      // Check for navigation landmark\n      const nav = screen.getByRole('navigation');\n      expect(nav).toBeInTheDocument();\n      expect(nav).toHaveAttribute('data-testid', T.accessibility.navigation);\n\n      // Check for complementary landmarks\n      const complementary = screen.getAllByRole('complementary');\n      expect(complementary.length).toBeGreaterThan(0);\n      complementary.forEach(comp => {\n        expect(comp).toHaveAttribute('data-testid', T.accessibility.complementary);\n      });\n    });\n\n    it('should have proper form labels and controls', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check for search input with proper label\n      const searchInput = screen.getByRole('searchbox');\n      expect(searchInput).toBeInTheDocument();\n      expect(searchInput).toHaveAttribute('aria-label');\n      expect(searchInput).toHaveAttribute('data-testid', T.accessibility.searchInput);\n\n      // Check for filter controls\n      const filterButtons = screen.getAllByRole('button');\n      expect(filterButtons.length).toBeGreaterThan(0);\n      \n      filterButtons.forEach(button => {\n        expect(button).toHaveAttribute('aria-label');\n        expect(button).toHaveAttribute('data-testid', T.accessibility.filterButton);\n      });\n    });\n\n    it('should have proper button accessibility', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      const buttons = screen.getAllByRole('button');\n      \n      buttons.forEach(button => {\n        // Check for accessible button text or aria-label\n        expect(\n          button.textContent || \n          button.getAttribute('aria-label') || \n          button.getAttribute('aria-labelledby')\n        ).toBeTruthy();\n        \n        // Check for proper button roles\n        expect(button).toHaveAttribute('type', 'button');\n        expect(button).toHaveAttribute('data-testid', T.accessibility.button);\n      });\n    });\n  });\n\n  describe('Screen Reader Compatibility', () => {\n    it('should have proper alt text for images', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      const images = screen.getAllByRole('img');\n      \n      images.forEach(img => {\n        expect(img).toHaveAttribute('alt');\n        expect(img.getAttribute('alt')).not.toBe('');\n        expect(img).toHaveAttribute('data-testid', T.accessibility.img);\n      });\n    });\n\n    it('should have proper ARIA descriptions for complex elements', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check for feed items with proper descriptions\n      const feedItems = screen.getAllByRole('article');\n      expect(feedItems.length).toBeGreaterThan(0);\n      \n      feedItems.forEach(item => {\n        expect(item).toHaveAttribute('aria-describedby');\n        expect(item).toHaveAttribute('data-testid', T.accessibility.article);\n      });\n    });\n\n    it('should announce dynamic content changes', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check for live regions for dynamic content\n      const liveRegions = screen.getAllByRole('status');\n      expect(liveRegions.length).toBeGreaterThan(0);\n      \n      liveRegions.forEach(region => {\n        expect(region).toHaveAttribute('aria-live');\n        expect(region).toHaveAttribute('data-testid', T.accessibility.liveRegion);\n      });\n    });\n  });\n\n  describe('Keyboard Navigation', () => {\n    it('should be fully navigable with keyboard', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check that all interactive elements are focusable\n      const interactiveElements = screen.getAllByRole('button', { hidden: true })\n        .concat(screen.getAllByRole('link', { hidden: true }))\n        .concat(screen.getAllByRole('searchbox', { hidden: true }));\n\n      interactiveElements.forEach(element => {\n        expect(element).toBeInTheDocument();\n        // Check that elements can receive focus\n        element.focus();\n        expect(document.activeElement).toBe(element);\n      });\n    });\n\n    it('should have proper tab order', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Test tab navigation\n      const firstFocusable = screen.getByRole('searchbox');\n      firstFocusable.focus();\n      expect(document.activeElement).toBe(firstFocusable);\n      expect(firstFocusable).toHaveAttribute('data-testid', T.accessibility.searchInput);\n\n      // Test tab key navigation\n      fireEvent.keyDown(firstFocusable, { key: 'Tab' });\n      // Should move to next focusable element\n    });\n\n    it('should handle keyboard shortcuts', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Test escape key functionality\n      fireEvent.keyDown(document, { key: 'Escape' });\n      \n      // Test enter key on buttons\n      const buttons = screen.getAllByRole('button');\n      if (buttons.length > 0) {\n        fireEvent.keyDown(buttons[0], { key: 'Enter' });\n        expect(buttons[0]).toHaveAttribute('data-testid', T.accessibility.button);\n      }\n    });\n  });\n\n  describe('Color Contrast and Visual Accessibility', () => {\n    it('should have sufficient color contrast', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check for proper color contrast indicators\n      const textElements = screen.getAllByText(/./);\n      expect(textElements.length).toBeGreaterThan(0);\n      \n      // Note: Actual color contrast testing would require CSS analysis\n      // This test ensures the structure supports proper contrast\n    });\n\n    it('should not rely solely on color for information', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check that important information is not conveyed by color alone\n      const statusIndicators = screen.getAllByRole('status');\n      statusIndicators.forEach(indicator => {\n        expect(indicator.textContent || indicator.getAttribute('aria-label')).toBeTruthy();\n        expect(indicator).toHaveAttribute('data-testid', T.accessibility.status);\n      });\n    });\n  });\n\n  describe('Focus Management', () => {\n    it('should manage focus properly on navigation', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Test focus management on route changes\n      const navigationLinks = screen.getAllByRole('link');\n      if (navigationLinks.length > 0) {\n        navigationLinks[0].focus();\n        expect(document.activeElement).toBe(navigationLinks[0]);\n        expect(navigationLinks[0]).toHaveAttribute('data-testid', T.accessibility.link);\n      }\n    });\n\n    it('should trap focus in modals and overlays', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check for modal focus management\n      const modals = screen.queryAllByRole('dialog');\n      modals.forEach(modal => {\n        expect(modal).toHaveAttribute('aria-modal', 'true');\n        expect(modal).toHaveAttribute('aria-hidden', 'false');\n        expect(modal).toHaveAttribute('data-testid', T.accessibility.dialog);\n      });\n    });\n  });\n\n  describe('Mobile Accessibility', () => {\n    it('should be accessible on mobile devices', async () => {\n      // Mock mobile viewport\n      Object.defineProperty(window, 'innerWidth', {\n        writable: true,\n        configurable: true,\n        value: 375,\n      });\n\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check for mobile-specific accessibility features\n      const touchTargets = screen.getAllByRole('button');\n      touchTargets.forEach(target => {\n        // Check for minimum touch target size (44px)\n        const rect = target.getBoundingClientRect();\n        expect(rect.width).toBeGreaterThanOrEqual(44);\n        expect(rect.height).toBeGreaterThanOrEqual(44);\n      });\n    });\n\n    it('should support touch accessibility', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check for touch-friendly interactions\n      const interactiveElements = screen.getAllByRole('button');\n      interactiveElements.forEach(element => {\n        expect(element).toHaveAttribute('tabindex', '0');\n        expect(element).toHaveAttribute('data-testid', T.accessibility.button);\n      });\n    });\n  });\n\n  describe('ARIA Attributes', () => {\n    it('should have proper ARIA attributes on all interactive elements', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      const buttons = screen.getAllByRole('button');\n      buttons.forEach(button => {\n        // Check for proper ARIA attributes\n        expect(button).toHaveAttribute('aria-label');\n        expect(button.getAttribute('aria-label')).not.toBe('');\n        expect(button).toHaveAttribute('data-testid', T.accessibility.button);\n      });\n    });\n\n    it('should have proper ARIA states and properties', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check for proper ARIA states\n      const expandableElements = screen.getAllByRole('button');\n      expandableElements.forEach(element => {\n        if (element.getAttribute('aria-expanded') !== null) {\n          expect(['true', 'false']).toContain(element.getAttribute('aria-expanded'));\n        }\n        expect(element).toHaveAttribute('data-testid', T.accessibility.button);\n      });\n    });\n  });\n\n  describe('Error Handling Accessibility', () => {\n    it('should announce errors to screen readers', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Trigger error message by clicking the test error button\n      const testErrorButton = screen.getByLabelText('Trigger test error for accessibility testing');\n      await userEvent.click(testErrorButton);\n\n      // Wait for error to appear\n      await waitFor(() => {\n        const errorElements = screen.getAllByRole('alert');\n        expect(errorElements.length).toBeGreaterThan(0);\n      });\n      \n      const errorElements = screen.getAllByRole('alert');\n      errorElements.forEach(error => {\n        expect(error).toHaveAttribute('role', 'alert');\n        expect(error).toHaveAttribute('data-testid', T.accessibility.alert);\n      });\n    });\n\n    it('should provide accessible error messages', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Trigger error message by clicking the test error button\n      const testErrorButton = screen.getByLabelText('Trigger test error for accessibility testing');\n      await userEvent.click(testErrorButton);\n\n      // Wait for error to appear\n      await waitFor(() => {\n        const errorMessages = screen.getAllByRole('alert');\n        expect(errorMessages.length).toBeGreaterThan(0);\n      });\n\n      // Check for accessible error messages\n      const errorMessages = screen.getAllByRole('alert');\n      errorMessages.forEach(message => {\n        expect(message.textContent).toBeTruthy();\n        expect(message).toHaveAttribute('role', 'alert');\n        expect(message).toHaveAttribute('data-testid', T.accessibility.alert);\n      });\n    });\n  });\n\n  describe('Performance and Accessibility', () => {\n    it('should load quickly for screen readers', async () => {\n      const startTime = performance.now();\n      \n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      await waitFor(() => {\n        expect(screen.getByRole('main')).toBeInTheDocument();\n      });\n\n      const endTime = performance.now();\n      const loadTime = endTime - startTime;\n      \n      // Should load within 2 seconds for accessibility\n      expect(loadTime).toBeLessThan(2000);\n    });\n\n    it('should not cause layout shifts that affect screen readers', async () => {\n      render(\n        <BrowserRouter>\n          <SuperiorMobileFeed />\n        </BrowserRouter>\n      );\n\n      // Check for stable layout\n      const mainContent = screen.getByRole('main');\n      expect(mainContent).toBeInTheDocument();\n      expect(mainContent).toHaveAttribute('data-testid', T.accessibility.main);\n      \n      // Layout should be stable after initial render\n      await waitFor(() => {\n        expect(mainContent).toBeInTheDocument();\n      });\n    });\n  });\n});\n"],"names":["jest","mock","useRouter","push","fn","replace","prefetch","usePathname","useSearchParams","URLSearchParams","mockFeeds","id","title","content","summary","author","name","avatar","verified","category","tags","type","source","url","logo","publishedAt","updatedAt","imageUrl","engagement","likes","comments","shares","bookmarks","isLiked","isBookmarked","isRead","isVerified","priority","relevanceScore","useFeeds","useFeedsStore","selector","state","feeds","isLoading","error","loadFeeds","refreshFeeds","loadMoreFeeds","setFilters","useFeedsLoading","useFeedsError","useFeedPreferences","categories","sources","useFeedFilters","dateRange","Object","defineProperty","window","value","getItem","setItem","removeItem","clear","writable","onLine","global","fetch","mockImplementation","options","Promise","resolve","ok","status","json","text","headers","Map","describe","beforeEach","clearAllMocks","it","render","BrowserRouter","SuperiorMobileFeed","mainHeading","screen","getByRole","level","expect","toBeInTheDocument","toHaveTextContent","toHaveAttribute","T","accessibility","sectionHeadings","getAllByRole","length","toBeGreaterThan","forEach","heading","sectionHeading","main","nav","navigation","complementary","comp","searchInput","filterButtons","button","filterButton","buttons","textContent","getAttribute","toBeTruthy","images","img","not","toBe","feedItems","item","article","liveRegions","region","liveRegion","interactiveElements","hidden","concat","element","focus","document","activeElement","firstFocusable","fireEvent","keyDown","key","textElements","getAllByText","statusIndicators","indicator","navigationLinks","link","modals","queryAllByRole","modal","dialog","configurable","touchTargets","target","rect","getBoundingClientRect","width","toBeGreaterThanOrEqual","height","expandableElements","toContain","testErrorButton","getByLabelText","userEvent","click","waitFor","errorElements","alert","errorMessages","message","startTime","performance","now","endTime","loadTime","toBeLessThan","mainContent"],"mappings":"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"}