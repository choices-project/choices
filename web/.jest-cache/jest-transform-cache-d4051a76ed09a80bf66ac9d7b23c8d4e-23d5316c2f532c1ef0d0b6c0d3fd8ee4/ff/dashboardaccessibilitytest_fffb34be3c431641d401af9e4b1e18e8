bb03a4fcfe578fc1b97e75d509ff5878
/**
 * Dashboard Accessibility Tests - PHASE 3 COMPREHENSIVE TESTING
 * 
 * Tests accessibility compliance for the SuperiorMobileFeed component:
 * - WCAG 2.1 AA compliance
 * - Screen reader compatibility
 * - Keyboard navigation
 * - Color contrast validation
 * - Focus management
 * - ARIA attributes
 * - Mobile accessibility
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _globals = require("@jest/globals");
const _react = require("@testing-library/react");
const _reactrouterdom = require("react-router-dom");
const _SuperiorMobileFeed = /*#__PURE__*/ _interop_require_default(require("../../../../../features/feeds/components/SuperiorMobileFeed"));
const _testIds = require("../../../../../lib/testing/testIds");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
// Mock Next.js router
_globals.jest.mock("next/navigation", ()=>({
        useRouter: ()=>({
                push: _globals.jest.fn(),
                replace: _globals.jest.fn(),
                prefetch: _globals.jest.fn()
            }),
        usePathname: ()=>"/dashboard",
        useSearchParams: ()=>new URLSearchParams()
    }));
// Mock the feeds store with real functionality
const mockFeeds = [
    {
        id: "feed-1",
        title: "City Council Meeting Update",
        content: "The city council discussed the new infrastructure proposal...",
        summary: "City council infrastructure discussion",
        author: {
            id: "author-1",
            name: "City Council",
            avatar: "",
            verified: true
        },
        category: "civic",
        tags: [
            "infrastructure",
            "city-council"
        ],
        type: "article",
        source: {
            name: "City Council",
            url: "https://city.gov",
            logo: "",
            verified: true
        },
        publishedAt: "2024-01-15T10:00:00Z",
        updatedAt: "2024-01-15T10:00:00Z",
        url: "https://city.gov/meeting-update",
        imageUrl: "",
        engagement: {
            likes: 45,
            comments: 12,
            shares: 8,
            bookmarks: 23
        },
        isLiked: false,
        isBookmarked: false,
        isRead: false,
        isVerified: true,
        priority: "high",
        relevanceScore: 0.95
    }
];
// Mock Zustand stores
_globals.jest.mock("@/lib/stores", ()=>({
        useFeeds: ()=>mockFeeds,
        useFeedsStore: (selector)=>{
            const state = {
                feeds: mockFeeds,
                isLoading: false,
                error: null,
                loadFeeds: _globals.jest.fn(),
                refreshFeeds: _globals.jest.fn(),
                loadMoreFeeds: _globals.jest.fn(),
                setFilters: _globals.jest.fn()
            };
            return selector ? selector(state) : state;
        },
        useFeedsLoading: ()=>false,
        useFeedsError: ()=>null,
        useFeedPreferences: ()=>({
                categories: [
                    "civic"
                ],
                sources: [
                    "city-council"
                ],
                tags: [
                    "infrastructure"
                ]
            }),
        useFeedFilters: ()=>({
                category: "all",
                source: "all",
                dateRange: "all"
            })
    }));
// Mock browser APIs
Object.defineProperty(window, "localStorage", {
    value: {
        getItem: _globals.jest.fn(()=>null),
        setItem: _globals.jest.fn(),
        removeItem: _globals.jest.fn(),
        clear: _globals.jest.fn()
    },
    writable: true
});
Object.defineProperty(window, "navigator", {
    value: {
        onLine: true
    },
    writable: true
});
// Mock fetch for API calls
global.fetch = _globals.jest.fn().mockImplementation((url, options)=>{
    return Promise.resolve({
        ok: true,
        status: 200,
        json: ()=>Promise.resolve(mockFeeds),
        text: ()=>Promise.resolve(""),
        headers: new Map()
    });
});
(0, _globals.describe)("Dashboard Accessibility Tests", ()=>{
    (0, _globals.beforeEach)(()=>{
        _globals.jest.clearAllMocks();
    });
    (0, _globals.describe)("WCAG 2.1 AA Compliance", ()=>{
        (0, _globals.it)("should have proper heading hierarchy", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for main heading
            const mainHeading = _react.screen.getByRole("heading", {
                level: 1
            });
            (0, _globals.expect)(mainHeading).toBeInTheDocument();
            (0, _globals.expect)(mainHeading).toHaveTextContent(/feed|dashboard|news/i);
            (0, _globals.expect)(mainHeading).toHaveAttribute("data-testid", _testIds.T.accessibility.mainHeading);
            // Check for section headings
            const sectionHeadings = _react.screen.getAllByRole("heading", {
                level: 2
            });
            (0, _globals.expect)(sectionHeadings.length).toBeGreaterThan(0);
            sectionHeadings.forEach((heading)=>{
                (0, _globals.expect)(heading).toHaveAttribute("data-testid", _testIds.T.accessibility.sectionHeading);
            });
        });
        (0, _globals.it)("should have proper ARIA landmarks", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for main landmark
            const main = _react.screen.getByRole("main");
            (0, _globals.expect)(main).toBeInTheDocument();
            (0, _globals.expect)(main).toHaveAttribute("data-testid", _testIds.T.accessibility.main);
            // Check for navigation landmark
            const nav = _react.screen.getByRole("navigation");
            (0, _globals.expect)(nav).toBeInTheDocument();
            (0, _globals.expect)(nav).toHaveAttribute("data-testid", _testIds.T.accessibility.navigation);
            // Check for complementary landmarks
            const complementary = _react.screen.getAllByRole("complementary");
            (0, _globals.expect)(complementary.length).toBeGreaterThan(0);
            complementary.forEach((comp)=>{
                (0, _globals.expect)(comp).toHaveAttribute("data-testid", _testIds.T.accessibility.complementary);
            });
        });
        (0, _globals.it)("should have proper form labels and controls", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for search input with proper label
            const searchInput = _react.screen.getByRole("searchbox");
            (0, _globals.expect)(searchInput).toBeInTheDocument();
            (0, _globals.expect)(searchInput).toHaveAttribute("aria-label");
            (0, _globals.expect)(searchInput).toHaveAttribute("data-testid", _testIds.T.accessibility.searchInput);
            // Check for filter controls
            const filterButtons = _react.screen.getAllByRole("button");
            (0, _globals.expect)(filterButtons.length).toBeGreaterThan(0);
            filterButtons.forEach((button)=>{
                (0, _globals.expect)(button).toHaveAttribute("aria-label");
                (0, _globals.expect)(button).toHaveAttribute("data-testid", _testIds.T.accessibility.filterButton);
            });
        });
        (0, _globals.it)("should have proper button accessibility", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            const buttons = _react.screen.getAllByRole("button");
            buttons.forEach((button)=>{
                // Check for accessible button text or aria-label
                (0, _globals.expect)(button.textContent || button.getAttribute("aria-label") || button.getAttribute("aria-labelledby")).toBeTruthy();
                // Check for proper button roles
                (0, _globals.expect)(button).toHaveAttribute("type", "button");
                (0, _globals.expect)(button).toHaveAttribute("data-testid", _testIds.T.accessibility.button);
            });
        });
    });
    (0, _globals.describe)("Screen Reader Compatibility", ()=>{
        (0, _globals.it)("should have proper alt text for images", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            const images = _react.screen.getAllByRole("img");
            images.forEach((img)=>{
                (0, _globals.expect)(img).toHaveAttribute("alt");
                (0, _globals.expect)(img.getAttribute("alt")).not.toBe("");
                (0, _globals.expect)(img).toHaveAttribute("data-testid", _testIds.T.accessibility.img);
            });
        });
        (0, _globals.it)("should have proper ARIA descriptions for complex elements", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for feed items with proper descriptions
            const feedItems = _react.screen.getAllByRole("article");
            (0, _globals.expect)(feedItems.length).toBeGreaterThan(0);
            feedItems.forEach((item)=>{
                (0, _globals.expect)(item).toHaveAttribute("aria-describedby");
                (0, _globals.expect)(item).toHaveAttribute("data-testid", _testIds.T.accessibility.article);
            });
        });
        (0, _globals.it)("should announce dynamic content changes", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for live regions for dynamic content
            const liveRegions = _react.screen.getAllByRole("status");
            (0, _globals.expect)(liveRegions.length).toBeGreaterThan(0);
            liveRegions.forEach((region)=>{
                (0, _globals.expect)(region).toHaveAttribute("aria-live");
                (0, _globals.expect)(region).toHaveAttribute("data-testid", _testIds.T.accessibility.liveRegion);
            });
        });
    });
    (0, _globals.describe)("Keyboard Navigation", ()=>{
        (0, _globals.it)("should be fully navigable with keyboard", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check that all interactive elements are focusable
            const interactiveElements = _react.screen.getAllByRole("button", {
                hidden: true
            }).concat(_react.screen.getAllByRole("link", {
                hidden: true
            })).concat(_react.screen.getAllByRole("searchbox", {
                hidden: true
            }));
            interactiveElements.forEach((element)=>{
                (0, _globals.expect)(element).toBeInTheDocument();
                // Check that elements can receive focus
                element.focus();
                (0, _globals.expect)(document.activeElement).toBe(element);
            });
        });
        (0, _globals.it)("should have proper tab order", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Test tab navigation
            const firstFocusable = _react.screen.getByRole("searchbox");
            firstFocusable.focus();
            (0, _globals.expect)(document.activeElement).toBe(firstFocusable);
            (0, _globals.expect)(firstFocusable).toHaveAttribute("data-testid", _testIds.T.accessibility.searchInput);
            // Test tab key navigation
            _react.fireEvent.keyDown(firstFocusable, {
                key: "Tab"
            });
        // Should move to next focusable element
        });
        (0, _globals.it)("should handle keyboard shortcuts", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Test escape key functionality
            _react.fireEvent.keyDown(document, {
                key: "Escape"
            });
            // Test enter key on buttons
            const buttons = _react.screen.getAllByRole("button");
            if (buttons.length > 0) {
                _react.fireEvent.keyDown(buttons[0], {
                    key: "Enter"
                });
                (0, _globals.expect)(buttons[0]).toHaveAttribute("data-testid", _testIds.T.accessibility.button);
            }
        });
    });
    (0, _globals.describe)("Color Contrast and Visual Accessibility", ()=>{
        (0, _globals.it)("should have sufficient color contrast", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for proper color contrast indicators
            const textElements = _react.screen.getAllByText(/./);
            (0, _globals.expect)(textElements.length).toBeGreaterThan(0);
        // Note: Actual color contrast testing would require CSS analysis
        // This test ensures the structure supports proper contrast
        });
        (0, _globals.it)("should not rely solely on color for information", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check that important information is not conveyed by color alone
            const statusIndicators = _react.screen.getAllByRole("status");
            statusIndicators.forEach((indicator)=>{
                (0, _globals.expect)(indicator.textContent || indicator.getAttribute("aria-label")).toBeTruthy();
                (0, _globals.expect)(indicator).toHaveAttribute("data-testid", _testIds.T.accessibility.status);
            });
        });
    });
    (0, _globals.describe)("Focus Management", ()=>{
        (0, _globals.it)("should manage focus properly on navigation", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Test focus management on route changes
            const navigationLinks = _react.screen.getAllByRole("link");
            if (navigationLinks.length > 0) {
                navigationLinks[0].focus();
                (0, _globals.expect)(document.activeElement).toBe(navigationLinks[0]);
                (0, _globals.expect)(navigationLinks[0]).toHaveAttribute("data-testid", _testIds.T.accessibility.link);
            }
        });
        (0, _globals.it)("should trap focus in modals and overlays", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for modal focus management
            const modals = _react.screen.queryAllByRole("dialog");
            modals.forEach((modal)=>{
                (0, _globals.expect)(modal).toHaveAttribute("aria-modal", "true");
                (0, _globals.expect)(modal).toHaveAttribute("aria-hidden", "false");
                (0, _globals.expect)(modal).toHaveAttribute("data-testid", _testIds.T.accessibility.dialog);
            });
        });
    });
    (0, _globals.describe)("Mobile Accessibility", ()=>{
        (0, _globals.it)("should be accessible on mobile devices", async ()=>{
            // Mock mobile viewport
            Object.defineProperty(window, "innerWidth", {
                writable: true,
                configurable: true,
                value: 375
            });
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for mobile-specific accessibility features
            const touchTargets = _react.screen.getAllByRole("button");
            touchTargets.forEach((target)=>{
                // Check for minimum touch target size (44px)
                const rect = target.getBoundingClientRect();
                (0, _globals.expect)(rect.width).toBeGreaterThanOrEqual(44);
                (0, _globals.expect)(rect.height).toBeGreaterThanOrEqual(44);
            });
        });
        (0, _globals.it)("should support touch accessibility", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for touch-friendly interactions
            const interactiveElements = _react.screen.getAllByRole("button");
            interactiveElements.forEach((element)=>{
                (0, _globals.expect)(element).toHaveAttribute("tabindex", "0");
                (0, _globals.expect)(element).toHaveAttribute("data-testid", _testIds.T.accessibility.button);
            });
        });
    });
    (0, _globals.describe)("ARIA Attributes", ()=>{
        (0, _globals.it)("should have proper ARIA attributes on all interactive elements", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            const buttons = _react.screen.getAllByRole("button");
            buttons.forEach((button)=>{
                // Check for proper ARIA attributes
                (0, _globals.expect)(button).toHaveAttribute("aria-label");
                (0, _globals.expect)(button.getAttribute("aria-label")).not.toBe("");
                (0, _globals.expect)(button).toHaveAttribute("data-testid", _testIds.T.accessibility.button);
            });
        });
        (0, _globals.it)("should have proper ARIA states and properties", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for proper ARIA states
            const expandableElements = _react.screen.getAllByRole("button");
            expandableElements.forEach((element)=>{
                if (element.getAttribute("aria-expanded") !== null) {
                    (0, _globals.expect)([
                        "true",
                        "false"
                    ]).toContain(element.getAttribute("aria-expanded"));
                }
                (0, _globals.expect)(element).toHaveAttribute("data-testid", _testIds.T.accessibility.button);
            });
        });
    });
    (0, _globals.describe)("Error Handling Accessibility", ()=>{
        (0, _globals.it)("should announce errors to screen readers", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for error announcements
            const errorElements = _react.screen.getAllByRole("alert");
            (0, _globals.expect)(errorElements.length).toBeGreaterThanOrEqual(0);
            errorElements.forEach((error)=>{
                (0, _globals.expect)(error).toHaveAttribute("aria-live", "assertive");
                (0, _globals.expect)(error).toHaveAttribute("data-testid", _testIds.T.accessibility.alert);
            });
        });
        (0, _globals.it)("should provide accessible error messages", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for accessible error messages
            const errorMessages = _react.screen.getAllByRole("alert");
            errorMessages.forEach((message)=>{
                (0, _globals.expect)(message.textContent).toBeTruthy();
                (0, _globals.expect)(message).toHaveAttribute("aria-describedby");
                (0, _globals.expect)(message).toHaveAttribute("data-testid", _testIds.T.accessibility.alert);
            });
        });
    });
    (0, _globals.describe)("Performance and Accessibility", ()=>{
        (0, _globals.it)("should load quickly for screen readers", async ()=>{
            const startTime = performance.now();
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(_react.screen.getByRole("main")).toBeInTheDocument();
            });
            const endTime = performance.now();
            const loadTime = endTime - startTime;
            // Should load within 2 seconds for accessibility
            (0, _globals.expect)(loadTime).toBeLessThan(2000);
        });
        (0, _globals.it)("should not cause layout shifts that affect screen readers", async ()=>{
            (0, _react.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_SuperiorMobileFeed.default, {})
            }));
            // Check for stable layout
            const mainContent = _react.screen.getByRole("main");
            (0, _globals.expect)(mainContent).toBeInTheDocument();
            (0, _globals.expect)(mainContent).toHaveAttribute("data-testid", _testIds.T.accessibility.main);
            // Layout should be stable after initial render
            await (0, _react.waitFor)(()=>{
                (0, _globals.expect)(mainContent).toBeInTheDocument();
            });
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L3VuaXQvY29tcG9uZW50cy9wYWdlcy9kYXNoYm9hcmQtYWNjZXNzaWJpbGl0eS50ZXN0LnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIERhc2hib2FyZCBBY2Nlc3NpYmlsaXR5IFRlc3RzIC0gUEhBU0UgMyBDT01QUkVIRU5TSVZFIFRFU1RJTkdcbiAqIFxuICogVGVzdHMgYWNjZXNzaWJpbGl0eSBjb21wbGlhbmNlIGZvciB0aGUgU3VwZXJpb3JNb2JpbGVGZWVkIGNvbXBvbmVudDpcbiAqIC0gV0NBRyAyLjEgQUEgY29tcGxpYW5jZVxuICogLSBTY3JlZW4gcmVhZGVyIGNvbXBhdGliaWxpdHlcbiAqIC0gS2V5Ym9hcmQgbmF2aWdhdGlvblxuICogLSBDb2xvciBjb250cmFzdCB2YWxpZGF0aW9uXG4gKiAtIEZvY3VzIG1hbmFnZW1lbnRcbiAqIC0gQVJJQSBhdHRyaWJ1dGVzXG4gKiAtIE1vYmlsZSBhY2Nlc3NpYmlsaXR5XG4gKi9cblxuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2gsIGplc3QgfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IgfSBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3JlYWN0JztcbmltcG9ydCB7IEJyb3dzZXJSb3V0ZXIgfSBmcm9tICdyZWFjdC1yb3V0ZXItZG9tJztcbmltcG9ydCBTdXBlcmlvck1vYmlsZUZlZWQgZnJvbSAnQC9mZWF0dXJlcy9mZWVkcy9jb21wb25lbnRzL1N1cGVyaW9yTW9iaWxlRmVlZCc7XG5pbXBvcnQgeyBUIH0gZnJvbSAnQC9saWIvdGVzdGluZy90ZXN0SWRzJztcblxuLy8gTW9jayBOZXh0LmpzIHJvdXRlclxuamVzdC5tb2NrKCduZXh0L25hdmlnYXRpb24nLCAoKSA9PiAoe1xuICB1c2VSb3V0ZXI6ICgpID0+ICh7XG4gICAgcHVzaDogamVzdC5mbigpLFxuICAgIHJlcGxhY2U6IGplc3QuZm4oKSxcbiAgICBwcmVmZXRjaDogamVzdC5mbigpLFxuICB9KSxcbiAgdXNlUGF0aG5hbWU6ICgpID0+ICcvZGFzaGJvYXJkJyxcbiAgdXNlU2VhcmNoUGFyYW1zOiAoKSA9PiBuZXcgVVJMU2VhcmNoUGFyYW1zKCksXG59KSk7XG5cbi8vIE1vY2sgdGhlIGZlZWRzIHN0b3JlIHdpdGggcmVhbCBmdW5jdGlvbmFsaXR5XG5jb25zdCBtb2NrRmVlZHMgPSBbXG4gIHtcbiAgICBpZDogJ2ZlZWQtMScsXG4gICAgdGl0bGU6ICdDaXR5IENvdW5jaWwgTWVldGluZyBVcGRhdGUnLFxuICAgIGNvbnRlbnQ6ICdUaGUgY2l0eSBjb3VuY2lsIGRpc2N1c3NlZCB0aGUgbmV3IGluZnJhc3RydWN0dXJlIHByb3Bvc2FsLi4uJyxcbiAgICBzdW1tYXJ5OiAnQ2l0eSBjb3VuY2lsIGluZnJhc3RydWN0dXJlIGRpc2N1c3Npb24nLFxuICAgIGF1dGhvcjoge1xuICAgICAgaWQ6ICdhdXRob3ItMScsXG4gICAgICBuYW1lOiAnQ2l0eSBDb3VuY2lsJyxcbiAgICAgIGF2YXRhcjogJycsXG4gICAgICB2ZXJpZmllZDogdHJ1ZVxuICAgIH0sXG4gICAgY2F0ZWdvcnk6ICdjaXZpYycsXG4gICAgdGFnczogWydpbmZyYXN0cnVjdHVyZScsICdjaXR5LWNvdW5jaWwnXSxcbiAgICB0eXBlOiAnYXJ0aWNsZScsXG4gICAgc291cmNlOiB7XG4gICAgICBuYW1lOiAnQ2l0eSBDb3VuY2lsJyxcbiAgICAgIHVybDogJ2h0dHBzOi8vY2l0eS5nb3YnLFxuICAgICAgbG9nbzogJycsXG4gICAgICB2ZXJpZmllZDogdHJ1ZVxuICAgIH0sXG4gICAgcHVibGlzaGVkQXQ6ICcyMDI0LTAxLTE1VDEwOjAwOjAwWicsXG4gICAgdXBkYXRlZEF0OiAnMjAyNC0wMS0xNVQxMDowMDowMFonLFxuICAgIHVybDogJ2h0dHBzOi8vY2l0eS5nb3YvbWVldGluZy11cGRhdGUnLFxuICAgIGltYWdlVXJsOiAnJyxcbiAgICBlbmdhZ2VtZW50OiB7XG4gICAgICBsaWtlczogNDUsXG4gICAgICBjb21tZW50czogMTIsXG4gICAgICBzaGFyZXM6IDgsXG4gICAgICBib29rbWFya3M6IDIzXG4gICAgfSxcbiAgICBpc0xpa2VkOiBmYWxzZSxcbiAgICBpc0Jvb2ttYXJrZWQ6IGZhbHNlLFxuICAgIGlzUmVhZDogZmFsc2UsXG4gICAgaXNWZXJpZmllZDogdHJ1ZSxcbiAgICBwcmlvcml0eTogJ2hpZ2gnLFxuICAgIHJlbGV2YW5jZVNjb3JlOiAwLjk1XG4gIH1cbl07XG5cbi8vIE1vY2sgWnVzdGFuZCBzdG9yZXNcbmplc3QubW9jaygnQC9saWIvc3RvcmVzJywgKCkgPT4gKHtcbiAgdXNlRmVlZHM6ICgpID0+IG1vY2tGZWVkcyxcbiAgdXNlRmVlZHNTdG9yZTogKHNlbGVjdG9yKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICBmZWVkczogbW9ja0ZlZWRzLFxuICAgICAgaXNMb2FkaW5nOiBmYWxzZSxcbiAgICAgIGVycm9yOiBudWxsLFxuICAgICAgbG9hZEZlZWRzOiBqZXN0LmZuKCksXG4gICAgICByZWZyZXNoRmVlZHM6IGplc3QuZm4oKSxcbiAgICAgIGxvYWRNb3JlRmVlZHM6IGplc3QuZm4oKSxcbiAgICAgIHNldEZpbHRlcnM6IGplc3QuZm4oKVxuICAgIH07XG4gICAgcmV0dXJuIHNlbGVjdG9yID8gc2VsZWN0b3Ioc3RhdGUpIDogc3RhdGU7XG4gIH0sXG4gIHVzZUZlZWRzTG9hZGluZzogKCkgPT4gZmFsc2UsXG4gIHVzZUZlZWRzRXJyb3I6ICgpID0+IG51bGwsXG4gIHVzZUZlZWRQcmVmZXJlbmNlczogKCkgPT4gKHtcbiAgICBjYXRlZ29yaWVzOiBbJ2NpdmljJ10sXG4gICAgc291cmNlczogWydjaXR5LWNvdW5jaWwnXSxcbiAgICB0YWdzOiBbJ2luZnJhc3RydWN0dXJlJ11cbiAgfSksXG4gIHVzZUZlZWRGaWx0ZXJzOiAoKSA9PiAoe1xuICAgIGNhdGVnb3J5OiAnYWxsJyxcbiAgICBzb3VyY2U6ICdhbGwnLFxuICAgIGRhdGVSYW5nZTogJ2FsbCdcbiAgfSlcbn0pKTtcblxuLy8gTW9jayBicm93c2VyIEFQSXNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdsb2NhbFN0b3JhZ2UnLCB7XG4gIHZhbHVlOiB7XG4gICAgZ2V0SXRlbTogamVzdC5mbigoKSA9PiBudWxsKSxcbiAgICBzZXRJdGVtOiBqZXN0LmZuKCksXG4gICAgcmVtb3ZlSXRlbTogamVzdC5mbigpLFxuICAgIGNsZWFyOiBqZXN0LmZuKCksXG4gIH0sXG4gIHdyaXRhYmxlOiB0cnVlLFxufSk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICduYXZpZ2F0b3InLCB7XG4gIHZhbHVlOiB7XG4gICAgb25MaW5lOiB0cnVlLFxuICB9LFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pO1xuXG4vLyBNb2NrIGZldGNoIGZvciBBUEkgY2FsbHNcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24oKHVybCwgb3B0aW9ucykgPT4ge1xuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtcbiAgICBvazogdHJ1ZSxcbiAgICBzdGF0dXM6IDIwMCxcbiAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUobW9ja0ZlZWRzKSxcbiAgICB0ZXh0OiAoKSA9PiBQcm9taXNlLnJlc29sdmUoJycpLFxuICAgIGhlYWRlcnM6IG5ldyBNYXAoKVxuICB9KTtcbn0pO1xuXG5kZXNjcmliZSgnRGFzaGJvYXJkIEFjY2Vzc2liaWxpdHkgVGVzdHMnLCAoKSA9PiB7XG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIGplc3QuY2xlYXJBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnV0NBRyAyLjEgQUEgQ29tcGxpYW5jZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIGhlYWRpbmcgaGllcmFyY2h5JywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8U3VwZXJpb3JNb2JpbGVGZWVkIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBtYWluIGhlYWRpbmdcbiAgICAgIGNvbnN0IG1haW5IZWFkaW5nID0gc2NyZWVuLmdldEJ5Um9sZSgnaGVhZGluZycsIHsgbGV2ZWw6IDEgfSk7XG4gICAgICBleHBlY3QobWFpbkhlYWRpbmcpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3QobWFpbkhlYWRpbmcpLnRvSGF2ZVRleHRDb250ZW50KC9mZWVkfGRhc2hib2FyZHxuZXdzL2kpO1xuICAgICAgZXhwZWN0KG1haW5IZWFkaW5nKS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtdGVzdGlkJywgVC5hY2Nlc3NpYmlsaXR5Lm1haW5IZWFkaW5nKTtcblxuICAgICAgLy8gQ2hlY2sgZm9yIHNlY3Rpb24gaGVhZGluZ3NcbiAgICAgIGNvbnN0IHNlY3Rpb25IZWFkaW5ncyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2hlYWRpbmcnLCB7IGxldmVsOiAyIH0pO1xuICAgICAgZXhwZWN0KHNlY3Rpb25IZWFkaW5ncy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIHNlY3Rpb25IZWFkaW5ncy5mb3JFYWNoKGhlYWRpbmcgPT4ge1xuICAgICAgICBleHBlY3QoaGVhZGluZykudG9IYXZlQXR0cmlidXRlKCdkYXRhLXRlc3RpZCcsIFQuYWNjZXNzaWJpbGl0eS5zZWN0aW9uSGVhZGluZyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgQVJJQSBsYW5kbWFya3MnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgLy8gQ2hlY2sgZm9yIG1haW4gbGFuZG1hcmtcbiAgICAgIGNvbnN0IG1haW4gPSBzY3JlZW4uZ2V0QnlSb2xlKCdtYWluJyk7XG4gICAgICBleHBlY3QobWFpbikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChtYWluKS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtdGVzdGlkJywgVC5hY2Nlc3NpYmlsaXR5Lm1haW4pO1xuXG4gICAgICAvLyBDaGVjayBmb3IgbmF2aWdhdGlvbiBsYW5kbWFya1xuICAgICAgY29uc3QgbmF2ID0gc2NyZWVuLmdldEJ5Um9sZSgnbmF2aWdhdGlvbicpO1xuICAgICAgZXhwZWN0KG5hdikudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChuYXYpLnRvSGF2ZUF0dHJpYnV0ZSgnZGF0YS10ZXN0aWQnLCBULmFjY2Vzc2liaWxpdHkubmF2aWdhdGlvbik7XG5cbiAgICAgIC8vIENoZWNrIGZvciBjb21wbGVtZW50YXJ5IGxhbmRtYXJrc1xuICAgICAgY29uc3QgY29tcGxlbWVudGFyeSA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2NvbXBsZW1lbnRhcnknKTtcbiAgICAgIGV4cGVjdChjb21wbGVtZW50YXJ5Lmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgY29tcGxlbWVudGFyeS5mb3JFYWNoKGNvbXAgPT4ge1xuICAgICAgICBleHBlY3QoY29tcCkudG9IYXZlQXR0cmlidXRlKCdkYXRhLXRlc3RpZCcsIFQuYWNjZXNzaWJpbGl0eS5jb21wbGVtZW50YXJ5KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBmb3JtIGxhYmVscyBhbmQgY29udHJvbHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgLy8gQ2hlY2sgZm9yIHNlYXJjaCBpbnB1dCB3aXRoIHByb3BlciBsYWJlbFxuICAgICAgY29uc3Qgc2VhcmNoSW5wdXQgPSBzY3JlZW4uZ2V0QnlSb2xlKCdzZWFyY2hib3gnKTtcbiAgICAgIGV4cGVjdChzZWFyY2hJbnB1dCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzZWFyY2hJbnB1dCkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJyk7XG4gICAgICBleHBlY3Qoc2VhcmNoSW5wdXQpLnRvSGF2ZUF0dHJpYnV0ZSgnZGF0YS10ZXN0aWQnLCBULmFjY2Vzc2liaWxpdHkuc2VhcmNoSW5wdXQpO1xuXG4gICAgICAvLyBDaGVjayBmb3IgZmlsdGVyIGNvbnRyb2xzXG4gICAgICBjb25zdCBmaWx0ZXJCdXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBleHBlY3QoZmlsdGVyQnV0dG9ucy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIFxuICAgICAgZmlsdGVyQnV0dG9ucy5mb3JFYWNoKGJ1dHRvbiA9PiB7XG4gICAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpO1xuICAgICAgICBleHBlY3QoYnV0dG9uKS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtdGVzdGlkJywgVC5hY2Nlc3NpYmlsaXR5LmZpbHRlckJ1dHRvbik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgYnV0dG9uIGFjY2Vzc2liaWxpdHknLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgYnV0dG9ucyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgXG4gICAgICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGFjY2Vzc2libGUgYnV0dG9uIHRleHQgb3IgYXJpYS1sYWJlbFxuICAgICAgICBleHBlY3QoXG4gICAgICAgICAgYnV0dG9uLnRleHRDb250ZW50IHx8IFxuICAgICAgICAgIGJ1dHRvbi5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSB8fCBcbiAgICAgICAgICBidXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsbGVkYnknKVxuICAgICAgICApLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENoZWNrIGZvciBwcm9wZXIgYnV0dG9uIHJvbGVzXG4gICAgICAgIGV4cGVjdChidXR0b24pLnRvSGF2ZUF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdkYXRhLXRlc3RpZCcsIFQuYWNjZXNzaWJpbGl0eS5idXR0b24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdTY3JlZW4gUmVhZGVyIENvbXBhdGliaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBhbHQgdGV4dCBmb3IgaW1hZ2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8U3VwZXJpb3JNb2JpbGVGZWVkIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGltYWdlcyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2ltZycpO1xuICAgICAgXG4gICAgICBpbWFnZXMuZm9yRWFjaChpbWcgPT4ge1xuICAgICAgICBleHBlY3QoaW1nKS50b0hhdmVBdHRyaWJ1dGUoJ2FsdCcpO1xuICAgICAgICBleHBlY3QoaW1nLmdldEF0dHJpYnV0ZSgnYWx0JykpLm5vdC50b0JlKCcnKTtcbiAgICAgICAgZXhwZWN0KGltZykudG9IYXZlQXR0cmlidXRlKCdkYXRhLXRlc3RpZCcsIFQuYWNjZXNzaWJpbGl0eS5pbWcpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIEFSSUEgZGVzY3JpcHRpb25zIGZvciBjb21wbGV4IGVsZW1lbnRzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8U3VwZXJpb3JNb2JpbGVGZWVkIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBmZWVkIGl0ZW1zIHdpdGggcHJvcGVyIGRlc2NyaXB0aW9uc1xuICAgICAgY29uc3QgZmVlZEl0ZW1zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYXJ0aWNsZScpO1xuICAgICAgZXhwZWN0KGZlZWRJdGVtcy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbigwKTtcbiAgICAgIFxuICAgICAgZmVlZEl0ZW1zLmZvckVhY2goaXRlbSA9PiB7XG4gICAgICAgIGV4cGVjdChpdGVtKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtZGVzY3JpYmVkYnknKTtcbiAgICAgICAgZXhwZWN0KGl0ZW0pLnRvSGF2ZUF0dHJpYnV0ZSgnZGF0YS10ZXN0aWQnLCBULmFjY2Vzc2liaWxpdHkuYXJ0aWNsZSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYW5ub3VuY2UgZHluYW1pYyBjb250ZW50IGNoYW5nZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgLy8gQ2hlY2sgZm9yIGxpdmUgcmVnaW9ucyBmb3IgZHluYW1pYyBjb250ZW50XG4gICAgICBjb25zdCBsaXZlUmVnaW9ucyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ3N0YXR1cycpO1xuICAgICAgZXhwZWN0KGxpdmVSZWdpb25zLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgXG4gICAgICBsaXZlUmVnaW9ucy5mb3JFYWNoKHJlZ2lvbiA9PiB7XG4gICAgICAgIGV4cGVjdChyZWdpb24pLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1saXZlJyk7XG4gICAgICAgIGV4cGVjdChyZWdpb24pLnRvSGF2ZUF0dHJpYnV0ZSgnZGF0YS10ZXN0aWQnLCBULmFjY2Vzc2liaWxpdHkubGl2ZVJlZ2lvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0tleWJvYXJkIE5hdmlnYXRpb24nLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBiZSBmdWxseSBuYXZpZ2FibGUgd2l0aCBrZXlib2FyZCcsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFN1cGVyaW9yTW9iaWxlRmVlZCAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICAvLyBDaGVjayB0aGF0IGFsbCBpbnRlcmFjdGl2ZSBlbGVtZW50cyBhcmUgZm9jdXNhYmxlXG4gICAgICBjb25zdCBpbnRlcmFjdGl2ZUVsZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJywgeyBoaWRkZW46IHRydWUgfSlcbiAgICAgICAgLmNvbmNhdChzY3JlZW4uZ2V0QWxsQnlSb2xlKCdsaW5rJywgeyBoaWRkZW46IHRydWUgfSkpXG4gICAgICAgIC5jb25jYXQoc2NyZWVuLmdldEFsbEJ5Um9sZSgnc2VhcmNoYm94JywgeyBoaWRkZW46IHRydWUgfSkpO1xuXG4gICAgICBpbnRlcmFjdGl2ZUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICAvLyBDaGVjayB0aGF0IGVsZW1lbnRzIGNhbiByZWNlaXZlIGZvY3VzXG4gICAgICAgIGVsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgZXhwZWN0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLnRvQmUoZWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgdGFiIG9yZGVyJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8U3VwZXJpb3JNb2JpbGVGZWVkIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIFRlc3QgdGFiIG5hdmlnYXRpb25cbiAgICAgIGNvbnN0IGZpcnN0Rm9jdXNhYmxlID0gc2NyZWVuLmdldEJ5Um9sZSgnc2VhcmNoYm94Jyk7XG4gICAgICBmaXJzdEZvY3VzYWJsZS5mb2N1cygpO1xuICAgICAgZXhwZWN0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpLnRvQmUoZmlyc3RGb2N1c2FibGUpO1xuICAgICAgZXhwZWN0KGZpcnN0Rm9jdXNhYmxlKS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtdGVzdGlkJywgVC5hY2Nlc3NpYmlsaXR5LnNlYXJjaElucHV0KTtcblxuICAgICAgLy8gVGVzdCB0YWIga2V5IG5hdmlnYXRpb25cbiAgICAgIGZpcmVFdmVudC5rZXlEb3duKGZpcnN0Rm9jdXNhYmxlLCB7IGtleTogJ1RhYicgfSk7XG4gICAgICAvLyBTaG91bGQgbW92ZSB0byBuZXh0IGZvY3VzYWJsZSBlbGVtZW50XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBrZXlib2FyZCBzaG9ydGN1dHMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgLy8gVGVzdCBlc2NhcGUga2V5IGZ1bmN0aW9uYWxpdHlcbiAgICAgIGZpcmVFdmVudC5rZXlEb3duKGRvY3VtZW50LCB7IGtleTogJ0VzY2FwZScgfSk7XG4gICAgICBcbiAgICAgIC8vIFRlc3QgZW50ZXIga2V5IG9uIGJ1dHRvbnNcbiAgICAgIGNvbnN0IGJ1dHRvbnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdidXR0b24nKTtcbiAgICAgIGlmIChidXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZmlyZUV2ZW50LmtleURvd24oYnV0dG9uc1swXSwgeyBrZXk6ICdFbnRlcicgfSk7XG4gICAgICAgIGV4cGVjdChidXR0b25zWzBdKS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtdGVzdGlkJywgVC5hY2Nlc3NpYmlsaXR5LmJ1dHRvbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb2xvciBDb250cmFzdCBhbmQgVmlzdWFsIEFjY2Vzc2liaWxpdHknLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBoYXZlIHN1ZmZpY2llbnQgY29sb3IgY29udHJhc3QnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgLy8gQ2hlY2sgZm9yIHByb3BlciBjb2xvciBjb250cmFzdCBpbmRpY2F0b3JzXG4gICAgICBjb25zdCB0ZXh0RWxlbWVudHMgPSBzY3JlZW4uZ2V0QWxsQnlUZXh0KC8uLyk7XG4gICAgICBleHBlY3QodGV4dEVsZW1lbnRzLmxlbmd0aCkudG9CZUdyZWF0ZXJUaGFuKDApO1xuICAgICAgXG4gICAgICAvLyBOb3RlOiBBY3R1YWwgY29sb3IgY29udHJhc3QgdGVzdGluZyB3b3VsZCByZXF1aXJlIENTUyBhbmFseXNpc1xuICAgICAgLy8gVGhpcyB0ZXN0IGVuc3VyZXMgdGhlIHN0cnVjdHVyZSBzdXBwb3J0cyBwcm9wZXIgY29udHJhc3RcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IHJlbHkgc29sZWx5IG9uIGNvbG9yIGZvciBpbmZvcm1hdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFN1cGVyaW9yTW9iaWxlRmVlZCAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICAvLyBDaGVjayB0aGF0IGltcG9ydGFudCBpbmZvcm1hdGlvbiBpcyBub3QgY29udmV5ZWQgYnkgY29sb3IgYWxvbmVcbiAgICAgIGNvbnN0IHN0YXR1c0luZGljYXRvcnMgPSBzY3JlZW4uZ2V0QWxsQnlSb2xlKCdzdGF0dXMnKTtcbiAgICAgIHN0YXR1c0luZGljYXRvcnMuZm9yRWFjaChpbmRpY2F0b3IgPT4ge1xuICAgICAgICBleHBlY3QoaW5kaWNhdG9yLnRleHRDb250ZW50IHx8IGluZGljYXRvci5nZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnKSkudG9CZVRydXRoeSgpO1xuICAgICAgICBleHBlY3QoaW5kaWNhdG9yKS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtdGVzdGlkJywgVC5hY2Nlc3NpYmlsaXR5LnN0YXR1cyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0ZvY3VzIE1hbmFnZW1lbnQnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBtYW5hZ2UgZm9jdXMgcHJvcGVybHkgb24gbmF2aWdhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFN1cGVyaW9yTW9iaWxlRmVlZCAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICAvLyBUZXN0IGZvY3VzIG1hbmFnZW1lbnQgb24gcm91dGUgY2hhbmdlc1xuICAgICAgY29uc3QgbmF2aWdhdGlvbkxpbmtzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnbGluaycpO1xuICAgICAgaWYgKG5hdmlnYXRpb25MaW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIG5hdmlnYXRpb25MaW5rc1swXS5mb2N1cygpO1xuICAgICAgICBleHBlY3QoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkudG9CZShuYXZpZ2F0aW9uTGlua3NbMF0pO1xuICAgICAgICBleHBlY3QobmF2aWdhdGlvbkxpbmtzWzBdKS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtdGVzdGlkJywgVC5hY2Nlc3NpYmlsaXR5LmxpbmspO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCB0cmFwIGZvY3VzIGluIG1vZGFscyBhbmQgb3ZlcmxheXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgLy8gQ2hlY2sgZm9yIG1vZGFsIGZvY3VzIG1hbmFnZW1lbnRcbiAgICAgIGNvbnN0IG1vZGFscyA9IHNjcmVlbi5xdWVyeUFsbEJ5Um9sZSgnZGlhbG9nJyk7XG4gICAgICBtb2RhbHMuZm9yRWFjaChtb2RhbCA9PiB7XG4gICAgICAgIGV4cGVjdChtb2RhbCkudG9IYXZlQXR0cmlidXRlKCdhcmlhLW1vZGFsJywgJ3RydWUnKTtcbiAgICAgICAgZXhwZWN0KG1vZGFsKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XG4gICAgICAgIGV4cGVjdChtb2RhbCkudG9IYXZlQXR0cmlidXRlKCdkYXRhLXRlc3RpZCcsIFQuYWNjZXNzaWJpbGl0eS5kaWFsb2cpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdNb2JpbGUgQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGJlIGFjY2Vzc2libGUgb24gbW9iaWxlIGRldmljZXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIG1vYmlsZSB2aWV3cG9ydFxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdywgJ2lubmVyV2lkdGgnLCB7XG4gICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiAzNzUsXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8U3VwZXJpb3JNb2JpbGVGZWVkIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBtb2JpbGUtc3BlY2lmaWMgYWNjZXNzaWJpbGl0eSBmZWF0dXJlc1xuICAgICAgY29uc3QgdG91Y2hUYXJnZXRzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICB0b3VjaFRhcmdldHMuZm9yRWFjaCh0YXJnZXQgPT4ge1xuICAgICAgICAvLyBDaGVjayBmb3IgbWluaW11bSB0b3VjaCB0YXJnZXQgc2l6ZSAoNDRweClcbiAgICAgICAgY29uc3QgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgZXhwZWN0KHJlY3Qud2lkdGgpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoNDQpO1xuICAgICAgICBleHBlY3QocmVjdC5oZWlnaHQpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoNDQpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHN1cHBvcnQgdG91Y2ggYWNjZXNzaWJpbGl0eScsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFN1cGVyaW9yTW9iaWxlRmVlZCAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICAvLyBDaGVjayBmb3IgdG91Y2gtZnJpZW5kbHkgaW50ZXJhY3Rpb25zXG4gICAgICBjb25zdCBpbnRlcmFjdGl2ZUVsZW1lbnRzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBpbnRlcmFjdGl2ZUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGV4cGVjdChlbGVtZW50KS50b0hhdmVBdHRyaWJ1dGUoJ3RhYmluZGV4JywgJzAnKTtcbiAgICAgICAgZXhwZWN0KGVsZW1lbnQpLnRvSGF2ZUF0dHJpYnV0ZSgnZGF0YS10ZXN0aWQnLCBULmFjY2Vzc2liaWxpdHkuYnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQVJJQSBBdHRyaWJ1dGVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGF2ZSBwcm9wZXIgQVJJQSBhdHRyaWJ1dGVzIG9uIGFsbCBpbnRlcmFjdGl2ZSBlbGVtZW50cycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFN1cGVyaW9yTW9iaWxlRmVlZCAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICBjb25zdCBidXR0b25zID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYnV0dG9uJyk7XG4gICAgICBidXR0b25zLmZvckVhY2goYnV0dG9uID0+IHtcbiAgICAgICAgLy8gQ2hlY2sgZm9yIHByb3BlciBBUklBIGF0dHJpYnV0ZXNcbiAgICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJyk7XG4gICAgICAgIGV4cGVjdChidXR0b24uZ2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJykpLm5vdC50b0JlKCcnKTtcbiAgICAgICAgZXhwZWN0KGJ1dHRvbikudG9IYXZlQXR0cmlidXRlKCdkYXRhLXRlc3RpZCcsIFQuYWNjZXNzaWJpbGl0eS5idXR0b24pO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgcHJvcGVyIEFSSUEgc3RhdGVzIGFuZCBwcm9wZXJ0aWVzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8U3VwZXJpb3JNb2JpbGVGZWVkIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBwcm9wZXIgQVJJQSBzdGF0ZXNcbiAgICAgIGNvbnN0IGV4cGFuZGFibGVFbGVtZW50cyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2J1dHRvbicpO1xuICAgICAgZXhwYW5kYWJsZUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1leHBhbmRlZCcpICE9PSBudWxsKSB7XG4gICAgICAgICAgZXhwZWN0KFsndHJ1ZScsICdmYWxzZSddKS50b0NvbnRhaW4oZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2FyaWEtZXhwYW5kZWQnKSk7XG4gICAgICAgIH1cbiAgICAgICAgZXhwZWN0KGVsZW1lbnQpLnRvSGF2ZUF0dHJpYnV0ZSgnZGF0YS10ZXN0aWQnLCBULmFjY2Vzc2liaWxpdHkuYnV0dG9uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnRXJyb3IgSGFuZGxpbmcgQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGFubm91bmNlIGVycm9ycyB0byBzY3JlZW4gcmVhZGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFN1cGVyaW9yTW9iaWxlRmVlZCAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICAvLyBDaGVjayBmb3IgZXJyb3IgYW5ub3VuY2VtZW50c1xuICAgICAgY29uc3QgZXJyb3JFbGVtZW50cyA9IHNjcmVlbi5nZXRBbGxCeVJvbGUoJ2FsZXJ0Jyk7XG4gICAgICBleHBlY3QoZXJyb3JFbGVtZW50cy5sZW5ndGgpLnRvQmVHcmVhdGVyVGhhbk9yRXF1YWwoMCk7XG4gICAgICBcbiAgICAgIGVycm9yRWxlbWVudHMuZm9yRWFjaChlcnJvciA9PiB7XG4gICAgICAgIGV4cGVjdChlcnJvcikudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxpdmUnLCAnYXNzZXJ0aXZlJyk7XG4gICAgICAgIGV4cGVjdChlcnJvcikudG9IYXZlQXR0cmlidXRlKCdkYXRhLXRlc3RpZCcsIFQuYWNjZXNzaWJpbGl0eS5hbGVydCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcHJvdmlkZSBhY2Nlc3NpYmxlIGVycm9yIG1lc3NhZ2VzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8U3VwZXJpb3JNb2JpbGVGZWVkIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBhY2Nlc3NpYmxlIGVycm9yIG1lc3NhZ2VzXG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2VzID0gc2NyZWVuLmdldEFsbEJ5Um9sZSgnYWxlcnQnKTtcbiAgICAgIGVycm9yTWVzc2FnZXMuZm9yRWFjaChtZXNzYWdlID0+IHtcbiAgICAgICAgZXhwZWN0KG1lc3NhZ2UudGV4dENvbnRlbnQpLnRvQmVUcnV0aHkoKTtcbiAgICAgICAgZXhwZWN0KG1lc3NhZ2UpLnRvSGF2ZUF0dHJpYnV0ZSgnYXJpYS1kZXNjcmliZWRieScpO1xuICAgICAgICBleHBlY3QobWVzc2FnZSkudG9IYXZlQXR0cmlidXRlKCdkYXRhLXRlc3RpZCcsIFQuYWNjZXNzaWJpbGl0eS5hbGVydCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ1BlcmZvcm1hbmNlIGFuZCBBY2Nlc3NpYmlsaXR5JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgbG9hZCBxdWlja2x5IGZvciBzY3JlZW4gcmVhZGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlSb2xlKCdtYWluJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9KTtcblxuICAgICAgY29uc3QgZW5kVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xuICAgICAgY29uc3QgbG9hZFRpbWUgPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgbG9hZCB3aXRoaW4gMiBzZWNvbmRzIGZvciBhY2Nlc3NpYmlsaXR5XG4gICAgICBleHBlY3QobG9hZFRpbWUpLnRvQmVMZXNzVGhhbigyMDAwKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IGNhdXNlIGxheW91dCBzaGlmdHMgdGhhdCBhZmZlY3Qgc2NyZWVuIHJlYWRlcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxTdXBlcmlvck1vYmlsZUZlZWQgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgLy8gQ2hlY2sgZm9yIHN0YWJsZSBsYXlvdXRcbiAgICAgIGNvbnN0IG1haW5Db250ZW50ID0gc2NyZWVuLmdldEJ5Um9sZSgnbWFpbicpO1xuICAgICAgZXhwZWN0KG1haW5Db250ZW50KS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KG1haW5Db250ZW50KS50b0hhdmVBdHRyaWJ1dGUoJ2RhdGEtdGVzdGlkJywgVC5hY2Nlc3NpYmlsaXR5Lm1haW4pO1xuICAgICAgXG4gICAgICAvLyBMYXlvdXQgc2hvdWxkIGJlIHN0YWJsZSBhZnRlciBpbml0aWFsIHJlbmRlclxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtYWluQ29udGVudCkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlUm91dGVyIiwicHVzaCIsImZuIiwicmVwbGFjZSIsInByZWZldGNoIiwidXNlUGF0aG5hbWUiLCJ1c2VTZWFyY2hQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJtb2NrRmVlZHMiLCJpZCIsInRpdGxlIiwiY29udGVudCIsInN1bW1hcnkiLCJhdXRob3IiLCJuYW1lIiwiYXZhdGFyIiwidmVyaWZpZWQiLCJjYXRlZ29yeSIsInRhZ3MiLCJ0eXBlIiwic291cmNlIiwidXJsIiwibG9nbyIsInB1Ymxpc2hlZEF0IiwidXBkYXRlZEF0IiwiaW1hZ2VVcmwiLCJlbmdhZ2VtZW50IiwibGlrZXMiLCJjb21tZW50cyIsInNoYXJlcyIsImJvb2ttYXJrcyIsImlzTGlrZWQiLCJpc0Jvb2ttYXJrZWQiLCJpc1JlYWQiLCJpc1ZlcmlmaWVkIiwicHJpb3JpdHkiLCJyZWxldmFuY2VTY29yZSIsInVzZUZlZWRzIiwidXNlRmVlZHNTdG9yZSIsInNlbGVjdG9yIiwic3RhdGUiLCJmZWVkcyIsImlzTG9hZGluZyIsImVycm9yIiwibG9hZEZlZWRzIiwicmVmcmVzaEZlZWRzIiwibG9hZE1vcmVGZWVkcyIsInNldEZpbHRlcnMiLCJ1c2VGZWVkc0xvYWRpbmciLCJ1c2VGZWVkc0Vycm9yIiwidXNlRmVlZFByZWZlcmVuY2VzIiwiY2F0ZWdvcmllcyIsInNvdXJjZXMiLCJ1c2VGZWVkRmlsdGVycyIsImRhdGVSYW5nZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5Iiwid2luZG93IiwidmFsdWUiLCJnZXRJdGVtIiwic2V0SXRlbSIsInJlbW92ZUl0ZW0iLCJjbGVhciIsIndyaXRhYmxlIiwib25MaW5lIiwiZ2xvYmFsIiwiZmV0Y2giLCJtb2NrSW1wbGVtZW50YXRpb24iLCJvcHRpb25zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJvayIsInN0YXR1cyIsImpzb24iLCJ0ZXh0IiwiaGVhZGVycyIsIk1hcCIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJpdCIsInJlbmRlciIsIkJyb3dzZXJSb3V0ZXIiLCJTdXBlcmlvck1vYmlsZUZlZWQiLCJtYWluSGVhZGluZyIsInNjcmVlbiIsImdldEJ5Um9sZSIsImxldmVsIiwiZXhwZWN0IiwidG9CZUluVGhlRG9jdW1lbnQiLCJ0b0hhdmVUZXh0Q29udGVudCIsInRvSGF2ZUF0dHJpYnV0ZSIsIlQiLCJhY2Nlc3NpYmlsaXR5Iiwic2VjdGlvbkhlYWRpbmdzIiwiZ2V0QWxsQnlSb2xlIiwibGVuZ3RoIiwidG9CZUdyZWF0ZXJUaGFuIiwiZm9yRWFjaCIsImhlYWRpbmciLCJzZWN0aW9uSGVhZGluZyIsIm1haW4iLCJuYXYiLCJuYXZpZ2F0aW9uIiwiY29tcGxlbWVudGFyeSIsImNvbXAiLCJzZWFyY2hJbnB1dCIsImZpbHRlckJ1dHRvbnMiLCJidXR0b24iLCJmaWx0ZXJCdXR0b24iLCJidXR0b25zIiwidGV4dENvbnRlbnQiLCJnZXRBdHRyaWJ1dGUiLCJ0b0JlVHJ1dGh5IiwiaW1hZ2VzIiwiaW1nIiwibm90IiwidG9CZSIsImZlZWRJdGVtcyIsIml0ZW0iLCJhcnRpY2xlIiwibGl2ZVJlZ2lvbnMiLCJyZWdpb24iLCJsaXZlUmVnaW9uIiwiaW50ZXJhY3RpdmVFbGVtZW50cyIsImhpZGRlbiIsImNvbmNhdCIsImVsZW1lbnQiLCJmb2N1cyIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsImZpcnN0Rm9jdXNhYmxlIiwiZmlyZUV2ZW50Iiwia2V5RG93biIsImtleSIsInRleHRFbGVtZW50cyIsImdldEFsbEJ5VGV4dCIsInN0YXR1c0luZGljYXRvcnMiLCJpbmRpY2F0b3IiLCJuYXZpZ2F0aW9uTGlua3MiLCJsaW5rIiwibW9kYWxzIiwicXVlcnlBbGxCeVJvbGUiLCJtb2RhbCIsImRpYWxvZyIsImNvbmZpZ3VyYWJsZSIsInRvdWNoVGFyZ2V0cyIsInRhcmdldCIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsInRvQmVHcmVhdGVyVGhhbk9yRXF1YWwiLCJoZWlnaHQiLCJleHBhbmRhYmxlRWxlbWVudHMiLCJ0b0NvbnRhaW4iLCJlcnJvckVsZW1lbnRzIiwiYWxlcnQiLCJlcnJvck1lc3NhZ2VzIiwibWVzc2FnZSIsInN0YXJ0VGltZSIsInBlcmZvcm1hbmNlIiwibm93Iiwid2FpdEZvciIsImVuZFRpbWUiLCJsb2FkVGltZSIsInRvQmVMZXNzVGhhbiIsIm1haW5Db250ZW50Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7Ozs7Q0FXQzs7Ozs7eUJBRXNEO3VCQUNKO2dDQUNyQjsyRUFDQzt5QkFDYjs7Ozs7O0FBRWxCLHNCQUFzQjtBQUN0QkEsYUFBSSxDQUFDQyxJQUFJLENBQUMsbUJBQW1CLElBQU8sQ0FBQTtRQUNsQ0MsV0FBVyxJQUFPLENBQUE7Z0JBQ2hCQyxNQUFNSCxhQUFJLENBQUNJLEVBQUU7Z0JBQ2JDLFNBQVNMLGFBQUksQ0FBQ0ksRUFBRTtnQkFDaEJFLFVBQVVOLGFBQUksQ0FBQ0ksRUFBRTtZQUNuQixDQUFBO1FBQ0FHLGFBQWEsSUFBTTtRQUNuQkMsaUJBQWlCLElBQU0sSUFBSUM7SUFDN0IsQ0FBQTtBQUVBLCtDQUErQztBQUMvQyxNQUFNQyxZQUFZO0lBQ2hCO1FBQ0VDLElBQUk7UUFDSkMs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