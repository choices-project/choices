{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/browser/cross-browser-compatibility.test.ts"],"sourcesContent":["/**\n * Cross-Browser Compatibility Tests - PHASE 3 COMPREHENSIVE TESTING\n * \n * Tests browser compatibility across different browsers:\n * - Chrome, Firefox, Safari, Edge compatibility\n * - Mobile browsers (iOS Safari, Chrome Mobile)\n * - Feature compatibility\n * - Performance consistency\n * - CSS compatibility\n * - JavaScript API compatibility\n */\n\nimport { describe, it, expect, beforeEach, jest } from '@jest/globals';\n\n// Mock different browser environments\nconst mockBrowserEnvironments = {\n  chrome: {\n    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',\n    features: {\n      webAuthn: true,\n      serviceWorker: true,\n      pushNotifications: true,\n      webGL: true,\n      webRTC: true,\n      localStorage: true,\n      sessionStorage: true,\n      indexedDB: true,\n      fetch: true,\n      promises: true,\n      asyncAwait: true,\n      modules: true,\n      webComponents: true\n    }\n  },\n  firefox: {\n    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:121.0) Gecko/20100101 Firefox/121.0',\n    features: {\n      webAuthn: true,\n      serviceWorker: true,\n      pushNotifications: true,\n      webGL: true,\n      webRTC: true,\n      localStorage: true,\n      sessionStorage: true,\n      indexedDB: true,\n      fetch: true,\n      promises: true,\n      asyncAwait: true,\n      modules: true,\n      webComponents: false // Firefox has limited Web Components support\n    }\n  },\n  safari: {\n    userAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Safari/605.1.15',\n    features: {\n      webAuthn: true,\n      serviceWorker: true,\n      pushNotifications: false, // Safari has limited push notification support\n      webGL: true,\n      webRTC: true,\n      localStorage: true,\n      sessionStorage: true,\n      indexedDB: true,\n      fetch: true,\n      promises: true,\n      asyncAwait: true,\n      modules: true,\n      webComponents: false // Safari has limited Web Components support\n    }\n  },\n  edge: {\n    userAgent: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36 Edg/120.0.0.0',\n    features: {\n      webAuthn: true,\n      serviceWorker: true,\n      pushNotifications: true,\n      webGL: true,\n      webRTC: true,\n      localStorage: true,\n      sessionStorage: true,\n      indexedDB: true,\n      fetch: true,\n      promises: true,\n      asyncAwait: true,\n      modules: true,\n      webComponents: true\n    }\n  },\n  mobileChrome: {\n    userAgent: 'Mozilla/5.0 (Linux; Android 10; SM-G973F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Mobile Safari/537.36',\n    features: {\n      webAuthn: true,\n      serviceWorker: true,\n      pushNotifications: true,\n      webGL: true,\n      webRTC: true,\n      localStorage: true,\n      sessionStorage: true,\n      indexedDB: true,\n      fetch: true,\n      promises: true,\n      asyncAwait: true,\n      modules: true,\n      webComponents: true,\n      touchEvents: true,\n      orientation: true\n    }\n  },\n  mobileSafari: {\n    userAgent: 'Mozilla/5.0 (iPhone; CPU iPhone OS 17_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/17.1 Mobile/15E148 Safari/604.1',\n    features: {\n      webAuthn: true,\n      serviceWorker: true,\n      pushNotifications: false,\n      webGL: true,\n      webRTC: true,\n      localStorage: true,\n      sessionStorage: true,\n      indexedDB: true,\n      fetch: true,\n      promises: true,\n      asyncAwait: true,\n      modules: true,\n      webComponents: false,\n      touchEvents: true,\n      orientation: true\n    }\n  }\n};\n\n// Mock browser detection\nconst detectBrowser = (userAgent: string) => {\n  if (userAgent.includes('Chrome') && !userAgent.includes('Edg')) {\n    return userAgent.includes('Mobile') ? 'mobileChrome' : 'chrome';\n  }\n  if (userAgent.includes('Firefox')) {\n    return 'firefox';\n  }\n  if (userAgent.includes('Safari') && !userAgent.includes('Chrome')) {\n    return userAgent.includes('Mobile') ? 'mobileSafari' : 'safari';\n  }\n  if (userAgent.includes('Edg')) {\n    return 'edge';\n  }\n  return 'chrome'; // Default fallback\n};\n\n// Mock feature detection\nconst detectFeatures = (browser: string) => {\n  const env = mockBrowserEnvironments[browser as keyof typeof mockBrowserEnvironments];\n  return env ? env.features : mockBrowserEnvironments.chrome.features;\n};\n\ndescribe('Cross-Browser Compatibility Tests', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n  });\n\n  describe('Browser Detection and Feature Support', () => {\n    it('should detect Chrome correctly', () => {\n      const userAgent = mockBrowserEnvironments.chrome.userAgent;\n      const browser = detectBrowser(userAgent);\n      expect(browser).toBe('chrome');\n    });\n\n    it('should detect Firefox correctly', () => {\n      const userAgent = mockBrowserEnvironments.firefox.userAgent;\n      const browser = detectBrowser(userAgent);\n      expect(browser).toBe('firefox');\n    });\n\n    it('should detect Safari correctly', () => {\n      const userAgent = mockBrowserEnvironments.safari.userAgent;\n      const browser = detectBrowser(userAgent);\n      expect(browser).toBe('safari');\n    });\n\n    it('should detect Edge correctly', () => {\n      const userAgent = mockBrowserEnvironments.edge.userAgent;\n      const browser = detectBrowser(userAgent);\n      expect(browser).toBe('edge');\n    });\n\n    it('should detect mobile Chrome correctly', () => {\n      const userAgent = mockBrowserEnvironments.mobileChrome.userAgent;\n      const browser = detectBrowser(userAgent);\n      expect(browser).toBe('mobileChrome');\n    });\n\n    it('should detect mobile Safari correctly', () => {\n      const userAgent = mockBrowserEnvironments.mobileSafari.userAgent;\n      const browser = detectBrowser(userAgent);\n      expect(browser).toBe('mobileSafari');\n    });\n  });\n\n  describe('Feature Compatibility Testing', () => {\n    it('should support WebAuthn across all browsers', () => {\n      Object.entries(mockBrowserEnvironments).forEach(([browser, env]) => {\n        const features = detectFeatures(browser);\n        expect(features.webAuthn).toBe(true);\n      });\n    });\n\n    it('should support Service Workers across all browsers', () => {\n      Object.entries(mockBrowserEnvironments).forEach(([browser, env]) => {\n        const features = detectFeatures(browser);\n        expect(features.serviceWorker).toBe(true);\n      });\n    });\n\n    it('should handle push notification differences', () => {\n      const chromeFeatures = detectFeatures('chrome');\n      const safariFeatures = detectFeatures('safari');\n      const mobileSafariFeatures = detectFeatures('mobileSafari');\n      \n      expect(chromeFeatures.pushNotifications).toBe(true);\n      expect(safariFeatures.pushNotifications).toBe(false);\n      expect(mobileSafariFeatures.pushNotifications).toBe(false);\n    });\n\n    it('should handle Web Components differences', () => {\n      const chromeFeatures = detectFeatures('chrome');\n      const firefoxFeatures = detectFeatures('firefox');\n      const safariFeatures = detectFeatures('safari');\n      \n      expect(chromeFeatures.webComponents).toBe(true);\n      expect(firefoxFeatures.webComponents).toBe(false);\n      expect(safariFeatures.webComponents).toBe(false);\n    });\n\n    it('should support core web APIs across all browsers', () => {\n      const coreAPIs = ['localStorage', 'sessionStorage', 'indexedDB', 'fetch', 'promises', 'asyncAwait'];\n      \n      Object.entries(mockBrowserEnvironments).forEach(([browser, env]) => {\n        const features = detectFeatures(browser);\n        coreAPIs.forEach(api => {\n          expect(features[api as keyof typeof features]).toBe(true);\n        });\n      });\n    });\n  });\n\n  describe('CSS Compatibility Testing', () => {\n    it('should support modern CSS features', () => {\n      const modernCSSFeatures = [\n        'flexbox',\n        'grid',\n        'custom-properties',\n        'transforms',\n        'transitions',\n        'animations',\n        'media-queries',\n        'viewport-units'\n      ];\n\n      // Mock CSS feature detection\n      const detectCSSFeature = (feature: string) => {\n        const featureMap: Record<string, boolean> = {\n          'flexbox': true,\n          'grid': true,\n          'custom-properties': true,\n          'transforms': true,\n          'transitions': true,\n          'animations': true,\n          'media-queries': true,\n          'viewport-units': true\n        };\n        return featureMap[feature] || false;\n      };\n\n      modernCSSFeatures.forEach(feature => {\n        expect(detectCSSFeature(feature)).toBe(true);\n      });\n    });\n\n    it('should handle CSS vendor prefixes', () => {\n      const vendorPrefixes = {\n        webkit: ['-webkit-', 'webkit'],\n        moz: ['-moz-', 'moz'],\n        ms: ['-ms-', 'ms'],\n        o: ['-o-', 'o']\n      };\n\n      Object.entries(vendorPrefixes).forEach(([vendor, prefixes]) => {\n        prefixes.forEach(prefix => {\n          expect(prefix).toBeTruthy();\n          expect(typeof prefix).toBe('string');\n        });\n      });\n    });\n\n    it('should support responsive design features', () => {\n      const responsiveFeatures = [\n        'media-queries',\n        'viewport-meta',\n        'flexible-grids',\n        'fluid-typography',\n        'touch-friendly-targets'\n      ];\n\n      responsiveFeatures.forEach(feature => {\n        expect(feature).toBeTruthy();\n        expect(typeof feature).toBe('string');\n      });\n    });\n  });\n\n  describe('JavaScript API Compatibility', () => {\n    it('should support modern JavaScript features', () => {\n      const modernJSFeatures = [\n        'arrow-functions',\n        'template-literals',\n        'destructuring',\n        'spread-operator',\n        'async-await',\n        'promises',\n        'modules',\n        'classes'\n      ];\n\n      modernJSFeatures.forEach(feature => {\n        expect(feature).toBeTruthy();\n        expect(typeof feature).toBe('string');\n      });\n    });\n\n    it('should handle browser-specific APIs', () => {\n      const browserAPIs = {\n        chrome: ['chrome.runtime', 'chrome.storage', 'chrome.tabs'],\n        firefox: ['browser.runtime', 'browser.storage', 'browser.tabs'],\n        safari: ['webkit.messageHandlers', 'webkit.storage'],\n        edge: ['chrome.runtime', 'chrome.storage', 'chrome.tabs']\n      };\n\n      Object.entries(browserAPIs).forEach(([browser, apis]) => {\n        apis.forEach(api => {\n          expect(api).toBeTruthy();\n          expect(typeof api).toBe('string');\n        });\n      });\n    });\n\n    it('should handle polyfills for older browsers', () => {\n      const polyfills = [\n        'fetch-polyfill',\n        'promise-polyfill',\n        'webcomponents-polyfill',\n        'intersection-observer-polyfill',\n        'resize-observer-polyfill'\n      ];\n\n      polyfills.forEach(polyfill => {\n        expect(polyfill).toBeTruthy();\n        expect(typeof polyfill).toBe('string');\n      });\n    });\n  });\n\n  describe('Mobile Browser Compatibility', () => {\n    it('should support touch events on mobile browsers', () => {\n      const mobileBrowsers = ['mobileChrome', 'mobileSafari'];\n      \n      mobileBrowsers.forEach(browser => {\n        const features = detectFeatures(browser);\n        expect(features.touchEvents).toBe(true);\n        expect(features.orientation).toBe(true);\n      });\n    });\n\n    it('should handle mobile-specific features', () => {\n      const mobileFeatures = [\n        'touch-events',\n        'orientation-change',\n        'viewport-meta',\n        'mobile-navigation',\n        'swipe-gestures',\n        'pinch-zoom'\n      ];\n\n      mobileFeatures.forEach(feature => {\n        expect(feature).toBeTruthy();\n        expect(typeof feature).toBe('string');\n      });\n    });\n\n    it('should support mobile performance optimizations', () => {\n      const mobileOptimizations = [\n        'lazy-loading',\n        'image-optimization',\n        'critical-css',\n        'service-worker-caching',\n        'preload-hints'\n      ];\n\n      mobileOptimizations.forEach(optimization => {\n        expect(optimization).toBeTruthy();\n        expect(typeof optimization).toBe('string');\n      });\n    });\n  });\n\n  describe('Performance Consistency', () => {\n    it('should maintain consistent performance across browsers', () => {\n      const performanceMetrics = {\n        chrome: { loadTime: 1200, renderTime: 800, interactionTime: 200 },\n        firefox: { loadTime: 1400, renderTime: 900, interactionTime: 250 },\n        safari: { loadTime: 1600, renderTime: 1000, interactionTime: 300 },\n        edge: { loadTime: 1300, renderTime: 850, interactionTime: 220 }\n      };\n\n      Object.entries(performanceMetrics).forEach(([browser, metrics]) => {\n        expect(metrics.loadTime).toBeLessThan(2000); // Load time under 2 seconds\n        expect(metrics.renderTime).toBeLessThan(1200); // Render time under 1.2 seconds\n        expect(metrics.interactionTime).toBeLessThan(400); // Interaction time under 400ms\n      });\n    });\n\n    it('should handle browser-specific performance optimizations', () => {\n      const browserOptimizations = {\n        chrome: ['v8-optimizations', 'blink-rendering', 'chrome-specific-caching'],\n        firefox: ['spidermonkey-optimizations', 'gecko-rendering', 'firefox-specific-caching'],\n        safari: ['webkit-optimizations', 'webkit-rendering', 'safari-specific-caching'],\n        edge: ['v8-optimizations', 'blink-rendering', 'edge-specific-caching']\n      };\n\n      Object.entries(browserOptimizations).forEach(([browser, optimizations]) => {\n        optimizations.forEach(optimization => {\n          expect(optimization).toBeTruthy();\n          expect(typeof optimization).toBe('string');\n        });\n      });\n    });\n  });\n\n  describe('Error Handling and Fallbacks', () => {\n    it('should provide fallbacks for unsupported features', () => {\n      const featureFallbacks = {\n        'web-components': 'vanilla-js-fallback',\n        'push-notifications': 'email-notifications-fallback',\n        'service-worker': 'traditional-caching-fallback',\n        'web-authn': 'password-fallback',\n        'indexed-db': 'local-storage-fallback'\n      };\n\n      Object.entries(featureFallbacks).forEach(([feature, fallback]) => {\n        expect(fallback).toBeTruthy();\n        expect(typeof fallback).toBe('string');\n      });\n    });\n\n    it('should handle browser-specific errors gracefully', () => {\n      const browserErrors = {\n        chrome: 'Chrome-specific error handling',\n        firefox: 'Firefox-specific error handling',\n        safari: 'Safari-specific error handling',\n        edge: 'Edge-specific error handling'\n      };\n\n      Object.entries(browserErrors).forEach(([browser, errorHandling]) => {\n        expect(errorHandling).toBeTruthy();\n        expect(typeof errorHandling).toBe('string');\n      });\n    });\n\n    it('should provide progressive enhancement', () => {\n      const enhancementLevels = [\n        'basic-html-css',\n        'enhanced-javascript',\n        'advanced-features',\n        'cutting-edge-features'\n      ];\n\n      enhancementLevels.forEach(level => {\n        expect(level).toBeTruthy();\n        expect(typeof level).toBe('string');\n      });\n    });\n  });\n\n  describe('Testing Strategy', () => {\n    it('should implement comprehensive browser testing', () => {\n      const testingStrategy = {\n        'unit-tests': 'Jest with jsdom',\n        'integration-tests': 'Playwright cross-browser',\n        'visual-regression': 'Percy or Chromatic',\n        'performance-tests': 'Lighthouse CI',\n        'accessibility-tests': 'axe-core',\n        'mobile-tests': 'Device testing'\n      };\n\n      Object.entries(testingStrategy).forEach(([testType, tool]) => {\n        expect(tool).toBeTruthy();\n        expect(typeof tool).toBe('string');\n      });\n    });\n\n    it('should implement continuous browser testing', () => {\n      const ciStrategy = {\n        'automated-testing': 'GitHub Actions with multiple browsers',\n        'cross-browser-testing': 'BrowserStack or Sauce Labs',\n        'mobile-testing': 'Real device testing',\n        'performance-monitoring': 'Real User Monitoring (RUM)',\n        'regression-testing': 'Automated visual regression'\n      };\n\n      Object.entries(ciStrategy).forEach(([strategy, implementation]) => {\n        expect(implementation).toBeTruthy();\n        expect(typeof implementation).toBe('string');\n      });\n    });\n  });\n});\n"],"names":["mockBrowserEnvironments","chrome","userAgent","features","webAuthn","serviceWorker","pushNotifications","webGL","webRTC","localStorage","sessionStorage","indexedDB","fetch","promises","asyncAwait","modules","webComponents","firefox","safari","edge","mobileChrome","touchEvents","orientation","mobileSafari","detectBrowser","includes","detectFeatures","browser","env","describe","beforeEach","jest","clearAllMocks","it","expect","toBe","Object","entries","forEach","chromeFeatures","safariFeatures","mobileSafariFeatures","firefoxFeatures","coreAPIs","api","modernCSSFeatures","detectCSSFeature","feature","featureMap","vendorPrefixes","webkit","moz","ms","o","vendor","prefixes","prefix","toBeTruthy","responsiveFeatures","modernJSFeatures","browserAPIs","apis","polyfills","polyfill","mobileBrowsers","mobileFeatures","mobileOptimizations","optimization","performanceMetrics","loadTime","renderTime","interactionTime","metrics","toBeLessThan","browserOptimizations","optimizations","featureFallbacks","fallback","browserErrors","errorHandling","enhancementLevels","level","testingStrategy","testType","tool","ciStrategy","strategy","implementation"],"mappings":"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"}