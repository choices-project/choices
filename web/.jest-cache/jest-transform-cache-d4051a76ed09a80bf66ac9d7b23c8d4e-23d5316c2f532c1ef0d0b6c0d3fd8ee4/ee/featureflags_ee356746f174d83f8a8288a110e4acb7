33514dfee319dce47609463d30e724cb
/**
 * Centralized flags with case-insensitive lookups and typed keys.
 * Add new flags here; remove when dead.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    FEATURE_FLAGS: function() {
        return FEATURE_FLAGS;
    },
    FeatureFlagManager: function() {
        return FeatureFlagManager;
    },
    disableFeature: function() {
        return disableFeature;
    },
    enableFeature: function() {
        return enableFeature;
    },
    featureFlagManager: function() {
        return featureFlagManager;
    },
    getAllFeatureFlags: function() {
        return getAllFeatureFlags;
    },
    getFeatureFlag: function() {
        return getFeatureFlag;
    },
    getFeatureFlags: function() {
        return getFeatureFlags;
    },
    isFeatureEnabled: function() {
        return isFeatureEnabled;
    },
    setFeatureFlags: function() {
        return setFeatureFlags;
    },
    toggleFeature: function() {
        return toggleFeature;
    }
});
const FEATURE_FLAGS = {
    // ===== CORE FEATURES =====
    WEBAUTHN: true,
    PWA: true,
    ADMIN: true,
    FEEDBACK_WIDGET: true,
    // ===== ADMIN FEATURES =====
    USER_SUGGESTIONS_MANAGER: false,
    // ===== ENHANCED FEATURES =====
    ENHANCED_PROFILE: true,
    ENHANCED_POLLS: true,
    ENHANCED_VOTING: true,
    CIVICS_ADDRESS_LOOKUP: true,
    CIVICS_REPRESENTATIVE_DATABASE: true,
    CIVICS_CAMPAIGN_FINANCE: true,
    CIVICS_VOTING_RECORDS: true,
    CANDIDATE_ACCOUNTABILITY: true,
    CANDIDATE_CARDS: true,
    ALTERNATIVE_CANDIDATES: true,
    // ===== FUTURE FEATURES =====
    AUTOMATED_POLLS: false,
    DEMOGRAPHIC_FILTERING: false,
    TRENDING_POLLS: false,
    ADVANCED_PRIVACY: false,
    MEDIA_BIAS_ANALYSIS: false,
    POLL_NARRATIVE_SYSTEM: false,
    SOCIAL_SHARING: true,
    SOCIAL_SHARING_POLLS: false,
    SOCIAL_SHARING_CIVICS: false,
    SOCIAL_SHARING_VISUAL: false,
    SOCIAL_SHARING_OG: false,
    SOCIAL_SIGNUP: false,
    CONTACT_INFORMATION_SYSTEM: false,
    CIVICS_TESTING_STRATEGY: false,
    DEVICE_FLOW_AUTH: false,
    // ===== PERFORMANCE & OPTIMIZATION =====
    PERFORMANCE_OPTIMIZATION: true,
    FEATURE_DB_OPTIMIZATION_SUITE: true,
    ANALYTICS: true,
    // ===== SYSTEM FEATURES =====
    PUSH_NOTIFICATIONS: true,
    THEMES: true,
    ACCESSIBILITY: true,
    INTERNATIONALIZATION: false
};
// also accept lowercase legacy names found in code: 'pwa', 'advancedPrivacy'
const ALIASES = {
    pwa: "PWA",
    advancedprivacy: "ADVANCED_PRIVACY",
    "advanced-privacy": "ADVANCED_PRIVACY",
    analytics: "ANALYTICS",
    admin: "ADMIN",
    civics: "CIVICS_ADDRESS_LOOKUP",
    "civics-address-lookup": "CIVICS_ADDRESS_LOOKUP"
};
function normalize(key) {
    if (key in FEATURE_FLAGS) return key;
    const alias = ALIASES[key.toLowerCase()];
    return alias || null;
}
// Subscriptions for flag changes
const subscribers = new Set();
function notifySubscribers() {
    const snapshot = {
        ...mutableFlags
    };
    subscribers.forEach((cb)=>{
        try {
            cb(snapshot);
        } catch  {}
    });
}
function isFeatureEnabled(key) {
    const normalizedKey = normalize(key);
    if (normalizedKey && normalizedKey in FEATURE_FLAGS) {
        return FEATURE_FLAGS[normalizedKey];
    }
    // Unknown flags default to false but don't crash
    return false;
}
// Create a mutable copy of FEATURE_FLAGS for runtime modifications
const mutableFlags = {
    ...FEATURE_FLAGS
};
// Helper function to categorize flags
function categorizeFlag(flagId) {
    const categories = {
        core: [
            "WEBAUTHN",
            "PWA",
            "ADMIN",
            "FEEDBACK_WIDGET"
        ],
        enhanced: [
            "ENHANCED_PROFILE",
            "ENHANCED_POLLS",
            "ENHANCED_VOTING",
            "CIVICS_ADDRESS_LOOKUP",
            "CIVICS_REPRESENTATIVE_DATABASE",
            "CIVICS_CAMPAIGN_FINANCE",
            "CIVICS_VOTING_RECORDS",
            "CANDIDATE_ACCOUNTABILITY",
            "CANDIDATE_CARDS",
            "ALTERNATIVE_CANDIDATES"
        ],
        future: [
            "AUTOMATED_POLLS",
            "DEMOGRAPHIC_FILTERING",
            "TRENDING_POLLS",
            "ADVANCED_PRIVACY",
            "MEDIA_BIAS_ANALYSIS",
            "POLL_NARRATIVE_SYSTEM",
            "SOCIAL_SHARING_POLLS",
            "SOCIAL_SHARING_CIVICS",
            "SOCIAL_SHARING_VISUAL",
            "SOCIAL_SHARING_OG",
            "SOCIAL_SIGNUP",
            "CONTACT_INFORMATION_SYSTEM",
            "CIVICS_TESTING_STRATEGY",
            "DEVICE_FLOW_AUTH"
        ],
        performance: [
            "PERFORMANCE_OPTIMIZATION",
            "FEATURE_DB_OPTIMIZATION_SUITE",
            "ANALYTICS"
        ],
        system: [
            "PUSH_NOTIFICATIONS",
            "THEMES",
            "ACCESSIBILITY",
            "INTERNATIONALIZATION"
        ]
    };
    for (const [category, flags] of Object.entries(categories)){
        if (flags.includes(flagId)) {
            return category;
        }
    }
    return "general";
}
const featureFlagManager = {
    enable: (k)=>{
        const key = normalize(String(k));
        if (key && key in mutableFlags) {
            mutableFlags[key] = true;
            notifySubscribers();
            return true;
        }
        return false;
    },
    disable: (k)=>{
        const key = normalize(String(k));
        if (key && key in mutableFlags) {
            mutableFlags[key] = false;
            notifySubscribers();
            return true;
        }
        return false;
    },
    toggle: (k)=>{
        const key = normalize(String(k));
        if (key && key in mutableFlags) {
            mutableFlags[key] = !mutableFlags[key];
            notifySubscribers();
            return true;
        }
        return false;
    },
    get: (key)=>{
        const normalizedKey = normalize(String(key));
        if (normalizedKey && normalizedKey in mutableFlags) {
            return mutableFlags[normalizedKey] || false;
        }
        return false;
    },
    all: ()=>({
            ...mutableFlags
        }),
    // Additional methods expected by useFeatureFlags hook
    getAllFlags: ()=>{
        const flags = Object.entries(mutableFlags).map(([key, enabled])=>({
                id: key,
                name: key.replace(/_/g, " ").toLowerCase().replace(/\b\w/g, (l)=>l.toUpperCase()),
                enabled,
                description: `Feature flag for ${key.toLowerCase().replace(/_/g, " ")}`,
                key: key,
                category: categorizeFlag(key)
            }));
        return new Map(flags.map((flag)=>[
                flag.id,
                flag
            ]));
    },
    isEnabled: (key)=>{
        const normalizedKey = normalize(String(key));
        if (normalizedKey && normalizedKey in mutableFlags) {
            return mutableFlags[normalizedKey] || false;
        }
        return false;
    },
    getFlag: (flagId)=>{
        const normalizedKey = normalize(flagId);
        if (normalizedKey && normalizedKey in mutableFlags) {
            const enabled = mutableFlags[normalizedKey] || false;
            return {
                id: flagId,
                name: flagId.replace(/_/g, " ").toLowerCase().replace(/\b\w/g, (l)=>l.toUpperCase()),
                enabled,
                description: `Feature flag for ${flagId.toLowerCase().replace(/_/g, " ")}`,
                key: normalizedKey,
                category: categorizeFlag(flagId)
            };
        }
        return null;
    },
    getEnabledFlags: ()=>Object.entries(mutableFlags).filter(([_, enabled])=>enabled).map(([key, enabled])=>({
                id: key,
                name: key.replace(/_/g, " ").toLowerCase().replace(/\b\w/g, (l)=>l.toUpperCase()),
                enabled,
                description: `Feature flag for ${key.toLowerCase().replace(/_/g, " ")}`,
                key: key,
                category: categorizeFlag(key)
            })),
    getDisabledFlags: ()=>Object.entries(mutableFlags).filter(([_, enabled])=>!enabled).map(([key, enabled])=>({
                id: key,
                name: key.replace(/_/g, " ").toLowerCase().replace(/\b\w/g, (l)=>l.toUpperCase()),
                enabled,
                description: `Feature flag for ${key.toLowerCase().replace(/_/g, " ")}`,
                key: key,
                category: categorizeFlag(key)
            })),
    getFlagsByCategory: (category)=>{
        const categories = {
            core: [
                "WEBAUTHN",
                "PWA",
                "ADMIN",
                "FEEDBACK_WIDGET"
            ],
            enhanced: [
                "ENHANCED_PROFILE",
                "ENHANCED_POLLS",
                "ENHANCED_VOTING",
                "CIVICS_ADDRESS_LOOKUP",
                "CIVICS_REPRESENTATIVE_DATABASE",
                "CIVICS_CAMPAIGN_FINANCE",
                "CIVICS_VOTING_RECORDS",
                "CANDIDATE_ACCOUNTABILITY",
                "CANDIDATE_CARDS",
                "ALTERNATIVE_CANDIDATES"
            ],
            future: [
                "AUTOMATED_POLLS",
                "DEMOGRAPHIC_FILTERING",
                "TRENDING_POLLS",
                "ADVANCED_PRIVACY",
                "MEDIA_BIAS_ANALYSIS",
                "POLL_NARRATIVE_SYSTEM",
                "SOCIAL_SHARING_POLLS",
                "SOCIAL_SHARING_CIVICS",
                "SOCIAL_SHARING_VISUAL",
                "SOCIAL_SHARING_OG",
                "SOCIAL_SIGNUP",
                "CONTACT_INFORMATION_SYSTEM",
                "CIVICS_TESTING_STRATEGY",
                "DEVICE_FLOW_AUTH"
            ],
            performance: [
                "PERFORMANCE_OPTIMIZATION",
                "FEATURE_DB_OPTIMIZATION_SUITE",
                "ANALYTICS"
            ],
            system: [
                "PUSH_NOTIFICATIONS",
                "THEMES",
                "ACCESSIBILITY",
                "INTERNATIONALIZATION"
            ]
        };
        const flagIds = categories[category] || [];
        return flagIds.map((flagId)=>({
                id: flagId,
                name: flagId.replace(/_/g, " ").toLowerCase().replace(/\b\w/g, (l)=>l.toUpperCase()),
                enabled: mutableFlags[flagId] || false,
                description: `Feature flag for ${flagId.toLowerCase().replace(/_/g, " ")}`,
                key: flagId,
                category
            }));
    },
    getSystemInfo: ()=>({
            totalFlags: Object.keys(mutableFlags).length,
            enabledFlags: Object.values(mutableFlags).filter(Boolean).length,
            disabledFlags: Object.values(mutableFlags).filter((f)=>!f).length,
            environment: process.env.NODE_ENV || "development",
            categories: {
                core: 4,
                enhanced: 10,
                future: 14,
                performance: 3,
                system: 4
            }
        }),
    areDependenciesEnabled: (flagId)=>{
        const dependencies = {
            "ENHANCED_PROFILE": [],
            "ENHANCED_POLLS": [],
            "ENHANCED_VOTING": [],
            "CIVICS_ADDRESS_LOOKUP": [],
            "AUTOMATED_POLLS": [
                "ADMIN"
            ],
            "SOCIAL_SHARING": [],
            "SOCIAL_SHARING_POLLS": [
                "SOCIAL_SHARING"
            ],
            "SOCIAL_SHARING_CIVICS": [
                "SOCIAL_SHARING",
                "CIVICS_ADDRESS_LOOKUP"
            ],
            "SOCIAL_SHARING_VISUAL": [
                "SOCIAL_SHARING"
            ],
            "SOCIAL_SHARING_OG": [
                "SOCIAL_SHARING"
            ],
            "SOCIAL_SIGNUP": [],
            "PERFORMANCE_OPTIMIZATION": [],
            "ANALYTICS": [],
            "PUSH_NOTIFICATIONS": [
                "PWA"
            ],
            "THEMES": [],
            "ACCESSIBILITY": [],
            "INTERNATIONALIZATION": []
        };
        const deps = dependencies[flagId] || [];
        return deps.every((dep)=>{
            const normalizedKey = normalize(dep);
            return normalizedKey ? mutableFlags[normalizedKey] : false;
        });
    },
    subscribe: (callback)=>{
        // Register and provide unsubscribe
        if (typeof callback === "function") {
            subscribers.add(callback);
            // Immediately push current state to new subscriber
            try {
                callback({
                    ...mutableFlags
                });
            } catch  {}
        }
        return {
            unsubscribe: ()=>subscribers.delete(callback)
        };
    },
    updateFlagMetadata: (flagId, metadata)=>{
        // For now, just return true - in a real app, this would update flag metadata
        console.log(`Updating metadata for flag ${flagId}:`, metadata);
        return true;
    },
    reset: ()=>{
        // Reset all flags to their default values
        Object.keys(FEATURE_FLAGS).forEach((key)=>{
            const flagKey = key;
            mutableFlags[flagKey] = FEATURE_FLAGS[flagKey];
        });
        notifySubscribers();
    },
    exportConfig: ()=>{
        // Export current flag configuration
        return {
            flags: {
                ...mutableFlags
            },
            timestamp: new Date().toISOString(),
            version: "1.0.0"
        };
    },
    importConfig: (config)=>{
        // Import flag configuration
        if (config && config.flags) {
            Object.entries(config.flags).forEach(([key, value])=>{
                const normalizedKey = normalize(key);
                if (normalizedKey && normalizedKey in mutableFlags && typeof value === "boolean") {
                    mutableFlags[normalizedKey] = value;
                }
            });
            notifySubscribers();
        }
    }
};
const enableFeature = featureFlagManager.enable;
const disableFeature = featureFlagManager.disable;
const toggleFeature = featureFlagManager.toggle;
const getFeatureFlag = (k)=>isFeatureEnabled(k);
async function getFeatureFlags() {
    return featureFlagManager.all();
}
async function setFeatureFlags(flags) {
    Object.entries(flags).forEach(([key, value])=>{
        const normalizedKey = normalize(key);
        if (normalizedKey && normalizedKey in mutableFlags && typeof value === "boolean") {
            mutableFlags[normalizedKey] = value;
        }
    });
    notifySubscribers();
}
const getAllFeatureFlags = ()=>featureFlagManager.all();
const FeatureFlagManager = featureFlagManager;

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvY29yZS9mZWF0dXJlLWZsYWdzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ2VudHJhbGl6ZWQgZmxhZ3Mgd2l0aCBjYXNlLWluc2Vuc2l0aXZlIGxvb2t1cHMgYW5kIHR5cGVkIGtleXMuXG4gKiBBZGQgbmV3IGZsYWdzIGhlcmU7IHJlbW92ZSB3aGVuIGRlYWQuXG4gKi9cblxuaW1wb3J0IHsgd2l0aE9wdGlvbmFsIH0gZnJvbSAnQC9saWIvdXRpbHMvb2JqZWN0cyc7XG5leHBvcnQgY29uc3QgRkVBVFVSRV9GTEFHUyA9IHtcbiAgLy8gPT09PT0gQ09SRSBGRUFUVVJFUyA9PT09PVxuICBXRUJBVVRITjogdHJ1ZSwgICAgICAgICAgICAgICAgICAgIC8vIFdlYkF1dGhuIGF1dGhlbnRpY2F0aW9uXG4gIFBXQTogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUHJvZ3Jlc3NpdmUgV2ViIEFwcCBmZWF0dXJlc1xuICBBRE1JTjogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkbWluIGRhc2hib2FyZFxuICBGRUVEQkFDS19XSURHRVQ6IHRydWUsICAgICAgICAgICAgIC8vIFVzZXIgZmVlZGJhY2sgY29sbGVjdGlvblxuICBcbiAgLy8gPT09PT0gQURNSU4gRkVBVFVSRVMgPT09PT1cbiAgVVNFUl9TVUdHRVNUSU9OU19NQU5BR0VSOiBmYWxzZSwgICAvLyBVc2VyIHN1Z2dlc3Rpb25zIG1hbmFnZW1lbnRcbiAgXG4gIC8vID09PT09IEVOSEFOQ0VEIEZFQVRVUkVTID09PT09XG4gIEVOSEFOQ0VEX1BST0ZJTEU6IHRydWUsICAgICAgICAgICAgLy8gQWR2YW5jZWQgcHJvZmlsZSBtYW5hZ2VtZW50XG4gIEVOSEFOQ0VEX1BPTExTOiB0cnVlLCAgICAgICAgICAgICAgLy8gQWR2YW5jZWQgcG9sbCBjcmVhdGlvbiBhbmQgbWFuYWdlbWVudFxuICBFTkhBTkNFRF9WT1RJTkc6IHRydWUsICAgICAgICAgICAgIC8vIEFkdmFuY2VkIHZvdGluZyBtZXRob2RzIGFuZCBhbmFseXRpY3NcbiAgQ0lWSUNTX0FERFJFU1NfTE9PS1VQOiB0cnVlLCAgICAgICAvLyBBZGRyZXNzLWJhc2VkIHJlcHJlc2VudGF0aXZlIGxvb2t1cFxuICBDSVZJQ1NfUkVQUkVTRU5UQVRJVkVfREFUQUJBU0U6IHRydWUsIC8vIFJlcHJlc2VudGF0aXZlIGRhdGFiYXNlXG4gIENJVklDU19DQU1QQUlHTl9GSU5BTkNFOiB0cnVlLCAgICAgLy8gRkVDIGNhbXBhaWduIGZpbmFuY2UgZGF0YVxuICBDSVZJQ1NfVk9USU5HX1JFQ09SRFM6IHRydWUsICAgICAgIC8vIENvbmdyZXNzaW9uYWwgdm90aW5nIHJlY29yZHNcbiAgQ0FORElEQVRFX0FDQ09VTlRBQklMSVRZOiB0cnVlLCAgICAvLyBQcm9taXNlIHRyYWNraW5nIGFuZCBwZXJmb3JtYW5jZSBtZXRyaWNzXG4gIENBTkRJREFURV9DQVJEUzogdHJ1ZSwgICAgICAgICAgICAgLy8gQ29tcHJlaGVuc2l2ZSBjYW5kaWRhdGUgaW5mb3JtYXRpb25cbiAgQUxURVJOQVRJVkVfQ0FORElEQVRFUzogdHJ1ZSwgICAgICAvLyBQbGF0Zm9ybSBmb3Igbm9uLWR1b3BvbHkgY2FuZGlkYXRlc1xuICBcbiAgLy8gPT09PT0gRlVUVVJFIEZFQVRVUkVTID09PT09XG4gIEFVVE9NQVRFRF9QT0xMUzogZmFsc2UsICAgICAgICAgICAgLy8gQUktcG93ZXJlZCBwb2xsIGdlbmVyYXRpb25cbiAgREVNT0dSQVBISUNfRklMVEVSSU5HOiBmYWxzZSwgICAgICAvLyBDb250ZW50IHBlcnNvbmFsaXphdGlvbiBiYXNlZCBvbiBkZW1vZ3JhcGhpY3NcbiAgVFJFTkRJTkdfUE9MTFM6IGZhbHNlLCAgICAgICAgICAgICAvLyBUcmVuZGluZyBwb2xscyBhbmQgdG9waWNzIGlkZW50aWZpY2F0aW9uXG4gIEFEVkFOQ0VEX1BSSVZBQ1k6IGZhbHNlLCAgICAgICAgICAgLy8gWmVyby1rbm93bGVkZ2UgcHJvb2ZzIGFuZCBkaWZmZXJlbnRpYWwgcHJpdmFjeVxuICBNRURJQV9CSUFTX0FOQUxZU0lTOiBmYWxzZSwgICAgICAgIC8vIE1lZGlhIGJpYXMgZGV0ZWN0aW9uIGFuZCBhbmFseXNpc1xuICBQT0xMX05BUlJBVElWRV9TWVNURU06IGZhbHNlLCAgICAgIC8vIEFJLXBvd2VyZWQgcG9sbCBuYXJyYXRpdmUgZ2VuZXJhdGlvblxuICBTT0NJQUxfU0hBUklORzogdHJ1ZSwgICAgICAgICAgICAgIC8vIE1hc3RlciBzd2l0Y2ggZm9yIHNvY2lhbCBmZWF0dXJlc1xuICBTT0NJQUxfU0hBUklOR19QT0xMUzogZmFsc2UsICAgICAgIC8vIFBvbGwgc2hhcmluZyAoVHdpdHRlciwgRmFjZWJvb2ssIExpbmtlZEluKVxuICBTT0NJQUxfU0hBUklOR19DSVZJQ1M6IGZhbHNlLCAgICAgIC8vIFJlcHJlc2VudGF0aXZlIHNoYXJpbmdcbiAgU09DSUFMX1NIQVJJTkdfVklTVUFMOiBmYWxzZSwgICAgICAvLyBWaXN1YWwgY29udGVudCBnZW5lcmF0aW9uIChJRywgVGlrVG9rKVxuICBTT0NJQUxfU0hBUklOR19PRzogZmFsc2UsICAgICAgICAgIC8vIER5bmFtaWMgT3BlbiBHcmFwaCBpbWFnZSBnZW5lcmF0aW9uXG4gIFNPQ0lBTF9TSUdOVVA6IGZhbHNlLCAgICAgICAgICAgICAgLy8gU29jaWFsIE9BdXRoIHNpZ251cFxuICBDT05UQUNUX0lORk9STUFUSU9OX1NZU1RFTTogZmFsc2UsIC8vIENvbnRhY3QgaW5mb3JtYXRpb24gc3lzdGVtXG4gIENJVklDU19URVNUSU5HX1NUUkFURUdZOiBmYWxzZSwgICAgLy8gQ2l2aWNzIHRlc3Rpbmcgc3RyYXRlZ3lcbiAgREVWSUNFX0ZMT1dfQVVUSDogZmFsc2UsICAgICAgICAgICAvLyBPQXV0aCAyLjAgRGV2aWNlIEF1dGhvcml6YXRpb24gR3JhbnQgZmxvd1xuICBcbiAgLy8gPT09PT0gUEVSRk9STUFOQ0UgJiBPUFRJTUlaQVRJT04gPT09PT1cbiAgUEVSRk9STUFOQ0VfT1BUSU1JWkFUSU9OOiB0cnVlLCAgICAvLyBJbWFnZSBvcHRpbWl6YXRpb24sIHZpcnR1YWwgc2Nyb2xsaW5nLCBsYXp5IGxvYWRpbmdcbiAgRkVBVFVSRV9EQl9PUFRJTUlaQVRJT05fU1VJVEU6IHRydWUsIC8vIERhdGFiYXNlIG9wdGltaXphdGlvbiBzdWl0ZVxuICBBTkFMWVRJQ1M6IHRydWUsICAgICAgICAgICAgICAgICAgIC8vIEFkdmFuY2VkIGFuYWx5dGljcyBhbmQgdXNlciBpbnNpZ2h0c1xuICBcbiAgLy8gPT09PT0gU1lTVEVNIEZFQVRVUkVTID09PT09XG4gIFBVU0hfTk9USUZJQ0FUSU9OUzogdHJ1ZSwgICAgICAgICAgLy8gUHVzaCBub3RpZmljYXRpb25zIGFuZCBhbGVydHNcbiAgVEhFTUVTOiB0cnVlLCAgICAgICAgICAgICAgICAgICAgICAvLyBEYXJrIG1vZGUgYW5kIHRoZW1lIGN1c3RvbWl6YXRpb25cbiAgQUNDRVNTSUJJTElUWTogdHJ1ZSwgICAgICAgICAgICAgICAvLyBBZHZhbmNlZCBhY2Nlc3NpYmlsaXR5IGZlYXR1cmVzXG4gIElOVEVSTkFUSU9OQUxJWkFUSU9OOiBmYWxzZSwgICAgICAgLy8gTXVsdGktbGFuZ3VhZ2Ugc3VwcG9ydFxufSBhcyBjb25zdDtcblxuLy8gRGVmaW5lIHByb3BlciB0eXBlcyBmb3IgZmVhdHVyZSBmbGFnIHN5c3RlbVxuZXhwb3J0IGludGVyZmFjZSBGZWF0dXJlRmxhZyB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZW5hYmxlZDogYm9vbGVhbjtcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAga2V5PzogRmVhdHVyZUZsYWdLZXk7XG4gIGNhdGVnb3J5Pzogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZlYXR1cmVGbGFnTWV0YWRhdGEge1xuICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgY2F0ZWdvcnk/OiBzdHJpbmc7XG4gIGRlcGVuZGVuY2llcz86IHN0cmluZ1tdO1xuICBleHBlcmltZW50YWw/OiBib29sZWFuO1xuICBkZXByZWNhdGVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGZWF0dXJlRmxhZ0NvbmZpZyB7XG4gIFtrZXk6IHN0cmluZ106IHVua25vd247XG4gIGZsYWdzOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPjtcbiAgdGltZXN0YW1wOiBzdHJpbmc7XG4gIHZlcnNpb246IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGZWF0dXJlRmxhZ1N1YnNjcmlwdGlvbiB7XG4gIHVuc3Vic2NyaWJlOiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZlYXR1cmVGbGFnU3lzdGVtSW5mbyB7XG4gIHRvdGFsRmxhZ3M6IG51bWJlcjtcbiAgZW5hYmxlZEZsYWdzOiBudW1iZXI7XG4gIGRpc2FibGVkRmxhZ3M6IG51bWJlcjtcbiAgZW52aXJvbm1lbnQ6IHN0cmluZztcbiAgY2F0ZWdvcmllczogUmVjb3JkPHN0cmluZywgbnVtYmVyPjtcbn1cblxudHlwZSBfS25vd25GbGFnID0ga2V5b2YgdHlwZW9mIEZFQVRVUkVfRkxBR1M7XG5cbi8vIERlZmluZSB0aGUgbWlzc2luZyBGZWF0dXJlRmxhZ0tleSB0eXBlXG5leHBvcnQgdHlwZSBGZWF0dXJlRmxhZ0tleSA9IGtleW9mIHR5cGVvZiBGRUFUVVJFX0ZMQUdTO1xuXG5leHBvcnQgdHlwZSBGZWF0dXJlRmxhZ01hbmFnZXIgPSB0eXBlb2YgZmVhdHVyZUZsYWdNYW5hZ2VyO1xuXG4vLyBhbHNvIGFjY2VwdCBsb3dlcmNhc2UgbGVnYWN5IG5hbWVzIGZvdW5kIGluIGNvZGU6ICdwd2EnLCAnYWR2YW5jZWRQcml2YWN5J1xuY29uc3QgQUxJQVNFUzogUmVjb3JkPHN0cmluZywgRmVhdHVyZUZsYWdLZXk+ID0ge1xuICBwd2E6ICdQV0EnLFxuICBhZHZhbmNlZHByaXZhY3k6ICdBRFZBTkNFRF9QUklWQUNZJyxcbiAgJ2FkdmFuY2VkLXByaXZhY3knOiAnQURWQU5DRURfUFJJVkFDWScsXG4gIGFuYWx5dGljczogJ0FOQUxZVElDUycsXG4gIGFkbWluOiAnQURNSU4nLFxuICBjaXZpY3M6ICdDSVZJQ1NfQUREUkVTU19MT09LVVAnLFxuICAnY2l2aWNzLWFkZHJlc3MtbG9va3VwJzogJ0NJVklDU19BRERSRVNTX0xPT0tVUCcsXG59O1xuXG5mdW5jdGlvbiBub3JtYWxpemUoa2V5OiBzdHJpbmcpOiBGZWF0dXJlRmxhZ0tleSB8IG51bGwge1xuICBpZiAoa2V5IGluIEZFQVRVUkVfRkxBR1MpIHJldHVybiBrZXkgYXMgRmVhdHVyZUZsYWdLZXk7XG4gIGNvbnN0IGFsaWFzID0gQUxJQVNFU1trZXkudG9Mb3dlckNhc2UoKV07XG4gIHJldHVybiBhbGlhcyB8fCBudWxsO1xufVxuXG4vLyBTdWJzY3JpcHRpb25zIGZvciBmbGFnIGNoYW5nZXNcbmNvbnN0IHN1YnNjcmliZXJzID0gbmV3IFNldDwoZmxhZ3M6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+KSA9PiB2b2lkPigpO1xuZnVuY3Rpb24gbm90aWZ5U3Vic2NyaWJlcnMoKSB7XG4gIGNvbnN0IHNuYXBzaG90ID0geyAuLi5tdXRhYmxlRmxhZ3MgfTtcbiAgc3Vic2NyaWJlcnMuZm9yRWFjaChjYiA9PiB7XG4gICAgdHJ5IHsgY2Ioc25hcHNob3QpOyB9IGNhdGNoIHsgLyogbm9vcCAqLyB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGZWF0dXJlRW5hYmxlZDxLIGV4dGVuZHMgc3RyaW5nPihrZXk6IEspOiBib29sZWFuIHtcbiAgY29uc3Qgbm9ybWFsaXplZEtleSA9IG5vcm1hbGl6ZShrZXkpO1xuICBpZiAobm9ybWFsaXplZEtleSAmJiBub3JtYWxpemVkS2V5IGluIEZFQVRVUkVfRkxBR1MpIHtcbiAgICByZXR1cm4gRkVBVFVSRV9GTEFHU1tub3JtYWxpemVkS2V5XTtcbiAgfVxuICAvLyBVbmtub3duIGZsYWdzIGRlZmF1bHQgdG8gZmFsc2UgYnV0IGRvbid0IGNyYXNoXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gQ3JlYXRlIGEgbXV0YWJsZSBjb3B5IG9mIEZFQVRVUkVfRkxBR1MgZm9yIHJ1bnRpbWUgbW9kaWZpY2F0aW9uc1xuY29uc3QgbXV0YWJsZUZsYWdzOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPiA9IHsgLi4uRkVBVFVSRV9GTEFHUyB9O1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2F0ZWdvcml6ZSBmbGFnc1xuZnVuY3Rpb24gY2F0ZWdvcml6ZUZsYWcoZmxhZ0lkOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBjYXRlZ29yaWVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7XG4gICAgY29yZTogWydXRUJBVVRITicsICdQV0EnLCAnQURNSU4nLCAnRkVFREJBQ0tfV0lER0VUJ10sXG4gICAgZW5oYW5jZWQ6IFsnRU5IQU5DRURfUFJPRklMRScsICdFTkhBTkNFRF9QT0xMUycsICdFTkhBTkNFRF9WT1RJTkcnLCAnQ0lWSUNTX0FERFJFU1NfTE9PS1VQJywgJ0NJVklDU19SRVBSRVNFTlRBVElWRV9EQVRBQkFTRScsICdDSVZJQ1NfQ0FNUEFJR05fRklOQU5DRScsICdDSVZJQ1NfVk9USU5HX1JFQ09SRFMnLCAnQ0FORElEQVRFX0FDQ09VTlRBQklMSVRZJywgJ0NBTkRJREFURV9DQVJEUycsICdBTFRFUk5BVElWRV9DQU5ESURBVEVTJ10sXG4gICAgZnV0dXJlOiBbJ0FVVE9NQVRFRF9QT0xMUycsICdERU1PR1JBUEhJQ19GSUxURVJJTkcnLCAnVFJFTkRJTkdfUE9MTFMnLCAnQURWQU5DRURfUFJJVkFDWScsICdNRURJQV9CSUFTX0FOQUxZU0lTJywgJ1BPTExfTkFSUkFUSVZFX1NZU1RFTScsICdTT0NJQUxfU0hBUklOR19QT0xMUycsICdTT0NJQUxfU0hBUklOR19DSVZJQ1MnLCAnU09DSUFMX1NIQVJJTkdfVklTVUFMJywgJ1NPQ0lBTF9TSEFSSU5HX09HJywgJ1NPQ0lBTF9TSUdOVVAnLCAnQ09OVEFDVF9JTkZPUk1BVElPTl9TWVNURU0nLCAnQ0lWSUNTX1RFU1RJTkdfU1RSQVRFR1knLCAnREVWSUNFX0ZMT1dfQVVUSCddLFxuICAgIHBlcmZvcm1hbmNlOiBbJ1BFUkZPUk1BTkNFX09QVElNSVpBVElPTicsICdGRUFUVVJFX0RCX09QVElNSVpBVElPTl9TVUlURScsICdBTkFMWVRJQ1MnXSxcbiAgICBzeXN0ZW06IFsnUFVTSF9OT1RJRklDQVRJT05TJywgJ1RIRU1FUycsICdBQ0NFU1NJQklMSVRZJywgJ0lOVEVSTkFUSU9OQUxJWkFUSU9OJ11cbiAgfTtcbiAgXG4gIGZvciAoY29uc3QgW2NhdGVnb3J5LCBmbGFnc10gb2YgT2JqZWN0LmVudHJpZXMoY2F0ZWdvcmllcykpIHtcbiAgICBpZiAoZmxhZ3MuaW5jbHVkZXMoZmxhZ0lkKSkge1xuICAgICAgcmV0dXJuIGNhdGVnb3J5O1xuICAgIH1cbiAgfVxuICByZXR1cm4gJ2dlbmVyYWwnO1xufVxuXG5leHBvcnQgY29uc3QgZmVhdHVyZUZsYWdNYW5hZ2VyID0ge1xuICBlbmFibGU6IChrOiBzdHJpbmcgfCBGZWF0dXJlRmxhZ0tleSk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IGtleSA9IG5vcm1hbGl6ZShTdHJpbmcoaykpOyBcbiAgICBpZiAoa2V5ICYmIGtleSBpbiBtdXRhYmxlRmxhZ3MpIHtcbiAgICAgIG11dGFibGVGbGFnc1trZXldID0gdHJ1ZTtcbiAgICAgIG5vdGlmeVN1YnNjcmliZXJzKCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBkaXNhYmxlOiAoazogc3RyaW5nIHwgRmVhdHVyZUZsYWdLZXkpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBrZXkgPSBub3JtYWxpemUoU3RyaW5nKGspKTsgXG4gICAgaWYgKGtleSAmJiBrZXkgaW4gbXV0YWJsZUZsYWdzKSB7XG4gICAgICBtdXRhYmxlRmxhZ3Nba2V5XSA9IGZhbHNlO1xuICAgICAgbm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHRvZ2dsZTogKGs6IHN0cmluZyB8IEZlYXR1cmVGbGFnS2V5KTogYm9vbGVhbiA9PiB7XG4gICAgY29uc3Qga2V5ID0gbm9ybWFsaXplKFN0cmluZyhrKSk7IFxuICAgIGlmIChrZXkgJiYga2V5IGluIG11dGFibGVGbGFncykge1xuICAgICAgbXV0YWJsZUZsYWdzW2tleV0gPSAhbXV0YWJsZUZsYWdzW2tleV07XG4gICAgICBub3RpZnlTdWJzY3JpYmVycygpO1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZ2V0OiAoa2V5OiBzdHJpbmcgfCBGZWF0dXJlRmxhZ0tleSk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBub3JtYWxpemUoU3RyaW5nKGtleSkpO1xuICAgIGlmIChub3JtYWxpemVkS2V5ICYmIG5vcm1hbGl6ZWRLZXkgaW4gbXV0YWJsZUZsYWdzKSB7XG4gICAgICByZXR1cm4gbXV0YWJsZUZsYWdzW25vcm1hbGl6ZWRLZXldIHx8IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGFsbDogKCkgPT4gKHsgLi4ubXV0YWJsZUZsYWdzIH0pLFxuICBcbiAgLy8gQWRkaXRpb25hbCBtZXRob2RzIGV4cGVjdGVkIGJ5IHVzZUZlYXR1cmVGbGFncyBob29rXG4gIGdldEFsbEZsYWdzOiAoKTogTWFwPHN0cmluZywgRmVhdHVyZUZsYWc+ID0+IHtcbiAgICBjb25zdCBmbGFnczogRmVhdHVyZUZsYWdbXSA9IE9iamVjdC5lbnRyaWVzKG11dGFibGVGbGFncykubWFwKChba2V5LCBlbmFibGVkXSkgPT4gKHtcbiAgICAgIGlkOiBrZXksXG4gICAgICBuYW1lOiBrZXkucmVwbGFjZSgvXy9nLCAnICcpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxiXFx3L2csIGwgPT4gbC50b1VwcGVyQ2FzZSgpKSxcbiAgICAgIGVuYWJsZWQsXG4gICAgICBkZXNjcmlwdGlvbjogYEZlYXR1cmUgZmxhZyBmb3IgJHtrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICcgJyl9YCxcbiAgICAgIGtleToga2V5IGFzIEZlYXR1cmVGbGFnS2V5LFxuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3JpemVGbGFnKGtleSlcbiAgICB9KSk7XG4gICAgcmV0dXJuIG5ldyBNYXAoZmxhZ3MubWFwKGZsYWcgPT4gW2ZsYWcuaWQsIGZsYWddKSk7XG4gIH0sXG4gIGlzRW5hYmxlZDogKGtleTogc3RyaW5nIHwgRmVhdHVyZUZsYWdLZXkpOiBib29sZWFuID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gbm9ybWFsaXplKFN0cmluZyhrZXkpKTtcbiAgICBpZiAobm9ybWFsaXplZEtleSAmJiBub3JtYWxpemVkS2V5IGluIG11dGFibGVGbGFncykge1xuICAgICAgcmV0dXJuIG11dGFibGVGbGFnc1tub3JtYWxpemVkS2V5XSB8fCBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBnZXRGbGFnOiAoZmxhZ0lkOiBzdHJpbmcpOiBGZWF0dXJlRmxhZyB8IG51bGwgPT4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBub3JtYWxpemUoZmxhZ0lkKTtcbiAgICBpZiAobm9ybWFsaXplZEtleSAmJiBub3JtYWxpemVkS2V5IGluIG11dGFibGVGbGFncykge1xuICAgICAgY29uc3QgZW5hYmxlZCA9IG11dGFibGVGbGFnc1tub3JtYWxpemVkS2V5XSB8fCBmYWxzZTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGlkOiBmbGFnSWQsXG4gICAgICAgIG5hbWU6IGZsYWdJZC5yZXBsYWNlKC9fL2csICcgJykudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXGJcXHcvZywgbCA9PiBsLnRvVXBwZXJDYXNlKCkpLFxuICAgICAgICBlbmFibGVkLFxuICAgICAgICBkZXNjcmlwdGlvbjogYEZlYXR1cmUgZmxhZyBmb3IgJHtmbGFnSWQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICcgJyl9YCxcbiAgICAgICAga2V5OiBub3JtYWxpemVkS2V5LFxuICAgICAgICBjYXRlZ29yeTogY2F0ZWdvcml6ZUZsYWcoZmxhZ0lkKVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGdldEVuYWJsZWRGbGFnczogKCk6IEZlYXR1cmVGbGFnW10gPT4gT2JqZWN0LmVudHJpZXMobXV0YWJsZUZsYWdzKVxuICAgIC5maWx0ZXIoKFtfLCBlbmFibGVkXSkgPT4gZW5hYmxlZClcbiAgICAubWFwKChba2V5LCBlbmFibGVkXSkgPT4gKHtcbiAgICAgIGlkOiBrZXksXG4gICAgICBuYW1lOiBrZXkucmVwbGFjZSgvXy9nLCAnICcpLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxiXFx3L2csIGwgPT4gbC50b1VwcGVyQ2FzZSgpKSxcbiAgICAgIGVuYWJsZWQsXG4gICAgICBkZXNjcmlwdGlvbjogYEZlYXR1cmUgZmxhZyBmb3IgJHtrZXkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICcgJyl9YCxcbiAgICAgIGtleToga2V5IGFzIEZlYXR1cmVGbGFnS2V5LFxuICAgICAgY2F0ZWdvcnk6IGNhdGVnb3JpemVGbGFnKGtleSlcbiAgICB9KSksXG4gIGdldERpc2FibGVkRmxhZ3M6ICgpOiBGZWF0dXJlRmxhZ1tdID0+IE9iamVjdC5lbnRyaWVzKG11dGFibGVGbGFncylcbiAgICAuZmlsdGVyKChbXywgZW5hYmxlZF0pID0+ICFlbmFibGVkKVxuICAgIC5tYXAoKFtrZXksIGVuYWJsZWRdKSA9PiAoe1xuICAgICAgaWQ6IGtleSxcbiAgICAgIG5hbWU6IGtleS5yZXBsYWNlKC9fL2csICcgJykudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXGJcXHcvZywgbCA9PiBsLnRvVXBwZXJDYXNlKCkpLFxuICAgICAgZW5hYmxlZCxcbiAgICAgIGRlc2NyaXB0aW9uOiBgRmVhdHVyZSBmbGFnIGZvciAke2tleS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywgJyAnKX1gLFxuICAgICAga2V5OiBrZXkgYXMgRmVhdHVyZUZsYWdLZXksXG4gICAgICBjYXRlZ29yeTogY2F0ZWdvcml6ZUZsYWcoa2V5KVxuICAgIH0pKSxcbiAgZ2V0RmxhZ3NCeUNhdGVnb3J5OiAoY2F0ZWdvcnk6IHN0cmluZyk6IEZlYXR1cmVGbGFnW10gPT4ge1xuICAgIGNvbnN0IGNhdGVnb3JpZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPiA9IHtcbiAgICAgIGNvcmU6IFsnV0VCQVVUSE4nLCAnUFdBJywgJ0FETUlOJywgJ0ZFRURCQUNLX1dJREdFVCddLFxuICAgICAgZW5oYW5jZWQ6IFsnRU5IQU5DRURfUFJPRklMRScsICdFTkhBTkNFRF9QT0xMUycsICdFTkhBTkNFRF9WT1RJTkcnLCAnQ0lWSUNTX0FERFJFU1NfTE9PS1VQJywgJ0NJVklDU19SRVBSRVNFTlRBVElWRV9EQVRBQkFTRScsICdDSVZJQ1NfQ0FNUEFJR05fRklOQU5DRScsICdDSVZJQ1NfVk9USU5HX1JFQ09SRFMnLCAnQ0FORElEQVRFX0FDQ09VTlRBQklMSVRZJywgJ0NBTkRJREFURV9DQVJEUycsICdBTFRFUk5BVElWRV9DQU5ESURBVEVTJ10sXG4gICAgICBmdXR1cmU6IFsnQVVUT01BVEVEX1BPTExTJywgJ0RFTU9HUkFQSElDX0ZJTFRFUklORycsICdUUkVORElOR19QT0xMUycsICdBRFZBTkNFRF9QUklWQUNZJywgJ01FRElBX0JJQVNfQU5BTFlTSVMnLCAnUE9MTF9OQVJSQVRJVkVfU1lTVEVNJywgJ1NPQ0lBTF9TSEFSSU5HX1BPTExTJywgJ1NPQ0lBTF9TSEFSSU5HX0NJVklDUycsICdTT0NJQUxfU0hBUklOR19WSVNVQUwnLCAnU09DSUFMX1NIQVJJTkdfT0cnLCAnU09DSUFMX1NJR05VUCcsICdDT05UQUNUX0lORk9STUFUSU9OX1NZU1RFTScsICdDSVZJQ1NfVEVTVElOR19TVFJBVEVHWScsICdERVZJQ0VfRkxPV19BVVRIJ10sXG4gICAgICBwZXJmb3JtYW5jZTogWydQRVJGT1JNQU5DRV9PUFRJTUlaQVRJT04nLCAnRkVBVFVSRV9EQl9PUFRJTUlaQVRJT05fU1VJVEUnLCAnQU5BTFlUSUNTJ10sXG4gICAgICBzeXN0ZW06IFsnUFVTSF9OT1RJRklDQVRJT05TJywgJ1RIRU1FUycsICdBQ0NFU1NJQklMSVRZJywgJ0lOVEVSTkFUSU9OQUxJWkFUSU9OJ11cbiAgICB9O1xuICAgIGNvbnN0IGZsYWdJZHMgPSBjYXRlZ29yaWVzW2NhdGVnb3J5XSB8fCBbXTtcbiAgICByZXR1cm4gZmxhZ0lkcy5tYXAoZmxhZ0lkID0+ICh7XG4gICAgICBpZDogZmxhZ0lkLFxuICAgICAgbmFtZTogZmxhZ0lkLnJlcGxhY2UoL18vZywgJyAnKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcYlxcdy9nLCBsID0+IGwudG9VcHBlckNhc2UoKSksXG4gICAgICBlbmFibGVkOiBtdXRhYmxlRmxhZ3NbZmxhZ0lkIGFzIEZlYXR1cmVGbGFnS2V5XSB8fCBmYWxzZSxcbiAgICAgIGRlc2NyaXB0aW9uOiBgRmVhdHVyZSBmbGFnIGZvciAke2ZsYWdJZC50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywgJyAnKX1gLFxuICAgICAga2V5OiBmbGFnSWQgYXMgRmVhdHVyZUZsYWdLZXksXG4gICAgICBjYXRlZ29yeVxuICAgIH0pKTtcbiAgfSxcbiAgZ2V0U3lzdGVtSW5mbzogKCk6IEZlYXR1cmVGbGFnU3lzdGVtSW5mbyA9PiAoe1xuICAgIHRvdGFsRmxhZ3M6IE9iamVjdC5rZXlzKG11dGFibGVGbGFncykubGVuZ3RoLFxuICAgIGVuYWJsZWRGbGFnczogT2JqZWN0LnZhbHVlcyhtdXRhYmxlRmxhZ3MpLmZpbHRlcihCb29sZWFuKS5sZW5ndGgsXG4gICAgZGlzYWJsZWRGbGFnczogT2JqZWN0LnZhbHVlcyhtdXRhYmxlRmxhZ3MpLmZpbHRlcihmID0+ICFmKS5sZW5ndGgsXG4gICAgZW52aXJvbm1lbnQ6IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8ICdkZXZlbG9wbWVudCcsXG4gICAgY2F0ZWdvcmllczoge1xuICAgICAgY29yZTogNCxcbiAgICAgIGVuaGFuY2VkOiAxMCxcbiAgICAgIGZ1dHVyZTogMTQsXG4gICAgICBwZXJmb3JtYW5jZTogMyxcbiAgICAgIHN5c3RlbTogNFxuICAgIH1cbiAgfSksXG4gIGFyZURlcGVuZGVuY2llc0VuYWJsZWQ6IChmbGFnSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICAgIGNvbnN0IGRlcGVuZGVuY2llczogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge1xuICAgICAgJ0VOSEFOQ0VEX1BST0ZJTEUnOiBbXSxcbiAgICAgICdFTkhBTkNFRF9QT0xMUyc6IFtdLFxuICAgICAgJ0VOSEFOQ0VEX1ZPVElORyc6IFtdLFxuICAgICAgJ0NJVklDU19BRERSRVNTX0xPT0tVUCc6IFtdLFxuICAgICAgJ0FVVE9NQVRFRF9QT0xMUyc6IFsnQURNSU4nXSxcbiAgICAgICdTT0NJQUxfU0hBUklORyc6IFtdLFxuICAgICAgJ1NPQ0lBTF9TSEFSSU5HX1BPTExTJzogWydTT0NJQUxfU0hBUklORyddLFxuICAgICAgJ1NPQ0lBTF9TSEFSSU5HX0NJVklDUyc6IFsnU09DSUFMX1NIQVJJTkcnLCAnQ0lWSUNTX0FERFJFU1NfTE9PS1VQJ10sXG4gICAgICAnU09DSUFMX1NIQVJJTkdfVklTVUFMJzogWydTT0NJQUxfU0hBUklORyddLFxuICAgICAgJ1NPQ0lBTF9TSEFSSU5HX09HJzogWydTT0NJQUxfU0hBUklORyddLFxuICAgICAgJ1NPQ0lBTF9TSUdOVVAnOiBbXSxcbiAgICAgICdQRVJGT1JNQU5DRV9PUFRJTUlaQVRJT04nOiBbXSxcbiAgICAgICdBTkFMWVRJQ1MnOiBbXSxcbiAgICAgICdQVVNIX05PVElGSUNBVElPTlMnOiBbJ1BXQSddLFxuICAgICAgJ1RIRU1FUyc6IFtdLFxuICAgICAgJ0FDQ0VTU0lCSUxJVFknOiBbXSxcbiAgICAgICdJTlRFUk5BVElPTkFMSVpBVElPTic6IFtdXG4gICAgfTtcbiAgICBjb25zdCBkZXBzID0gZGVwZW5kZW5jaWVzW2ZsYWdJZF0gfHwgW107XG4gICAgcmV0dXJuIGRlcHMuZXZlcnkoZGVwID0+IHtcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRLZXkgPSBub3JtYWxpemUoZGVwKTtcbiAgICAgIHJldHVybiBub3JtYWxpemVkS2V5ID8gbXV0YWJsZUZsYWdzW25vcm1hbGl6ZWRLZXldIDogZmFsc2U7XG4gICAgfSk7XG4gIH0sXG4gIHN1YnNjcmliZTogKGNhbGxiYWNrOiAoZmxhZ3M6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+KSA9PiB2b2lkKTogRmVhdHVyZUZsYWdTdWJzY3JpcHRpb24gPT4ge1xuICAgIC8vIFJlZ2lzdGVyIGFuZCBwcm92aWRlIHVuc3Vic2NyaWJlXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgc3Vic2NyaWJlcnMuYWRkKGNhbGxiYWNrKTtcbiAgICAgIC8vIEltbWVkaWF0ZWx5IHB1c2ggY3VycmVudCBzdGF0ZSB0byBuZXcgc3Vic2NyaWJlclxuICAgICAgdHJ5IHsgY2FsbGJhY2soeyAuLi5tdXRhYmxlRmxhZ3MgfSk7IH0gY2F0Y2ggeyAvKiBub29wICovIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgdW5zdWJzY3JpYmU6ICgpID0+IHN1YnNjcmliZXJzLmRlbGV0ZShjYWxsYmFjaykgfTtcbiAgfSxcbiAgdXBkYXRlRmxhZ01ldGFkYXRhOiAoZmxhZ0lkOiBzdHJpbmcsIG1ldGFkYXRhOiBGZWF0dXJlRmxhZ01ldGFkYXRhKTogYm9vbGVhbiA9PiB7XG4gICAgLy8gRm9yIG5vdywganVzdCByZXR1cm4gdHJ1ZSAtIGluIGEgcmVhbCBhcHAsIHRoaXMgd291bGQgdXBkYXRlIGZsYWcgbWV0YWRhdGFcbiAgICBjb25zb2xlLmxvZyhgVXBkYXRpbmcgbWV0YWRhdGEgZm9yIGZsYWcgJHtmbGFnSWR9OmAsIG1ldGFkYXRhKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgcmVzZXQ6ICgpOiB2b2lkID0+IHtcbiAgICAvLyBSZXNldCBhbGwgZmxhZ3MgdG8gdGhlaXIgZGVmYXVsdCB2YWx1ZXNcbiAgICBPYmplY3Qua2V5cyhGRUFUVVJFX0ZMQUdTKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBjb25zdCBmbGFnS2V5ID0ga2V5IGFzIEZlYXR1cmVGbGFnS2V5O1xuICAgICAgbXV0YWJsZUZsYWdzW2ZsYWdLZXldID0gRkVBVFVSRV9GTEFHU1tmbGFnS2V5XTtcbiAgICB9KTtcbiAgICBub3RpZnlTdWJzY3JpYmVycygpO1xuICB9LFxuICBleHBvcnRDb25maWc6ICgpOiBGZWF0dXJlRmxhZ0NvbmZpZyA9PiB7XG4gICAgLy8gRXhwb3J0IGN1cnJlbnQgZmxhZyBjb25maWd1cmF0aW9uXG4gICAgcmV0dXJuIHtcbiAgICAgIGZsYWdzOiB7IC4uLm11dGFibGVGbGFncyB9LFxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICB2ZXJzaW9uOiAnMS4wLjAnXG4gICAgfTtcbiAgfSxcbiAgaW1wb3J0Q29uZmlnOiAoY29uZmlnOiBGZWF0dXJlRmxhZ0NvbmZpZyk6IHZvaWQgPT4ge1xuICAgIC8vIEltcG9ydCBmbGFnIGNvbmZpZ3VyYXRpb25cbiAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5mbGFncykge1xuICAgICAgT2JqZWN0LmVudHJpZXMoY29uZmlnLmZsYWdzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgY29uc3Qgbm9ybWFsaXplZEtleSA9IG5vcm1hbGl6ZShrZXkpO1xuICAgICAgICBpZiAobm9ybWFsaXplZEtleSAmJiBub3JtYWxpemVkS2V5IGluIG11dGFibGVGbGFncyAmJiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgIG11dGFibGVGbGFnc1tub3JtYWxpemVkS2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG5vdGlmeVN1YnNjcmliZXJzKCk7XG4gICAgfVxuICB9XG59O1xuXG4vLyBOYW1lZCBoZWxwZXJzIGtlcHQgZm9yIGNvbXBhdGliaWxpdHlcbmV4cG9ydCBjb25zdCBlbmFibGVGZWF0dXJlID0gZmVhdHVyZUZsYWdNYW5hZ2VyLmVuYWJsZTtcbmV4cG9ydCBjb25zdCBkaXNhYmxlRmVhdHVyZSA9IGZlYXR1cmVGbGFnTWFuYWdlci5kaXNhYmxlO1xuZXhwb3J0IGNvbnN0IHRvZ2dsZUZlYXR1cmUgPSBmZWF0dXJlRmxhZ01hbmFnZXIudG9nZ2xlO1xuZXhwb3J0IGNvbnN0IGdldEZlYXR1cmVGbGFnID0gKGs6IHN0cmluZyB8IEZlYXR1cmVGbGFnS2V5KSA9PiBpc0ZlYXR1cmVFbmFibGVkKGspO1xuXG4vLyBFMkUgQVBJIGZ1bmN0aW9uc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEZlYXR1cmVGbGFncygpOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+PiB7XG4gIHJldHVybiBmZWF0dXJlRmxhZ01hbmFnZXIuYWxsKCk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZXRGZWF0dXJlRmxhZ3MoZmxhZ3M6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+KTogUHJvbWlzZTx2b2lkPiB7XG4gIE9iamVjdC5lbnRyaWVzKGZsYWdzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBjb25zdCBub3JtYWxpemVkS2V5ID0gbm9ybWFsaXplKGtleSk7XG4gICAgaWYgKG5vcm1hbGl6ZWRLZXkgJiYgbm9ybWFsaXplZEtleSBpbiBtdXRhYmxlRmxhZ3MgJiYgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgIG11dGFibGVGbGFnc1tub3JtYWxpemVkS2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfSk7XG4gIG5vdGlmeVN1YnNjcmliZXJzKCk7XG59XG5leHBvcnQgY29uc3QgZ2V0QWxsRmVhdHVyZUZsYWdzID0gKCkgPT4gZmVhdHVyZUZsYWdNYW5hZ2VyLmFsbCgpO1xuXG4vLyBBZGRpdGlvbmFsIGV4cG9ydHMgZXhwZWN0ZWQgYnkgdXNlRmVhdHVyZUZsYWdzIGhvb2tcbmV4cG9ydCBjb25zdCBGZWF0dXJlRmxhZ01hbmFnZXIgPSBmZWF0dXJlRmxhZ01hbmFnZXI7Il0sIm5hbWVzIjpbIkZFQVRVUkVfRkxBR1MiLCJGZWF0dXJlRmxhZ01hbmFnZXIiLCJkaXNhYmxlRmVhdHVyZSIsImVuYWJsZUZlYXR1cmUiLCJmZWF0dXJlRmxhZ01hbmFnZXIiLCJnZXRBbGxGZWF0dXJlRmxhZ3MiLCJnZXRGZWF0dXJlRmxhZyIsImdldEZlYXR1cmVGbGFncyIsImlzRmVhdHVyZUVuYWJsZWQiLCJzZXRGZWF0dXJlRmxhZ3MiLCJ0b2dnbGVGZWF0dXJlIiwiV0VCQVVUSE4iLCJQV0EiLCJBRE1JTiIsIkZFRURCQUNLX1dJREdFVCIsIlVTRVJfU1VHR0VTVElPTlNfTUFOQUdFUiIsIkVOSEFOQ0VEX1BST0ZJTEUiLCJFTkhBTkNFRF9QT0xMUyIsIkVOSEFOQ0VEX1ZPVElORyIsIkNJVklDU19BRERSRVNTX0xPT0tVUCIsIkNJVklDU19SRVBSRVNFTlRBVElWRV9EQVRBQkFTRSIsIkNJVklDU19DQU1QQUlHTl9GSU5BTkNFIiwiQ0lWSUNTX1ZPVElOR19SRUNPUkRTIiwiQ0FORElEQVRFX0FDQ09VTlRBQklMSVRZIiwiQ0FORElEQVRFX0NBUkRTIiwiQUxURVJOQVRJVkVfQ0FORElEQVRFUyIsIkFVVE9NQVRFRF9QT0xMUyIsIkRFTU9HUkFQSElDX0ZJTFRFUklORyIsIlRSRU5ESU5HX1BPTExTIiwiQURWQU5DRURfUFJJVkFDWSIsIk1FRElBX0JJQVNfQU5BTFlTSVMiLCJQT0xMX05BUlJBVElWRV9TWVNURU0iLCJTT0NJQUxfU0hBUklORyIsIlNPQ0lBTF9TSEFSSU5HX1BPTExTIiwiU09DSUFMX1NIQVJJTkdfQ0lWSUNTIiwiU09DSUFMX1NIQVJJTkdfVklTVUFMIiwiU09DSUFMX1NIQVJJTkdfT0ciLCJTT0NJQUxfU0lHTlVQIiwiQ09OVEFDVF9JTkZPUk1BVElPTl9TWVNURU0iLCJDSVZJQ1NfVEVTVElOR19TVFJBVEVHWSIsIkRFVklDRV9GTE9XX0FVVEgiLCJQRVJGT1JNQU5DRV9PUFRJTUlaQVRJT04iLCJGRUFUVVJFX0RCX09QVElNSVpBVElPTl9TVUlURSIsIkFOQUxZVElDUyIsIlBVU0hfTk9USUZJQ0FUSU9OUyIsIlRIRU1FUyIsIkFDQ0VTU0lCSUxJVFkiLCJJTlRFUk5BVElPTkFMSVpBVElPTiIsIkFMSUFTRVMiLCJwd2EiLCJhZHZhbmNlZHByaXZhY3kiLCJhbmFseXRpY3MiLCJhZG1pbiIsImNpdmljcyIsIm5vcm1hbGl6ZSIsImtleSIsImFsaWFzIiwidG9Mb3dlckNhc2UiLCJzdWJzY3JpYmVycyIsIlNldCIsIm5vdGlmeVN1YnNjcmliZXJzIiwic25hcHNob3QiLCJtdXRhYmxlRmxhZ3MiLCJmb3JFYWNoIiwiY2IiLCJub3JtYWxpemVkS2V5IiwiY2F0ZWdvcml6ZUZsYWciLCJmbGFnSWQiLCJjYXRlZ29yaWVzIiwiY29yZSIsImVuaGFuY2VkIiwiZnV0dXJlIiwicGVyZm9ybWFuY2UiLCJzeXN0ZW0iLCJjYXRlZ29yeSIsImZsYWdzIiwiT2JqZWN0IiwiZW50cmllcyIsImluY2x1ZGVzIiwiZW5hYmxlIiwiayIsIlN0cmluZyIsImRpc2FibGUiLCJ0b2dnbGUiLCJnZXQiLCJhbGwiLCJnZXRBbGxGbGFncyIsIm1hcCIsImVuYWJsZWQiLCJpZCIsIm5hbWUiLCJyZXBsYWNlIiwibCIsInRvVXBwZXJDYXNlIiwiZGVzY3JpcHRpb24iLCJNYXAiLCJmbGFnIiwiaXNFbmFibGVkIiwiZ2V0RmxhZyIsImdldEVuYWJsZWRGbGFncyIsImZpbHRlciIsIl8iLCJnZXREaXNhYmxlZEZsYWdzIiwiZ2V0RmxhZ3NCeUNhdGVnb3J5IiwiZmxhZ0lkcyIsImdldFN5c3RlbUluZm8iLCJ0b3RhbEZsYWdzIiwia2V5cyIsImxlbmd0aCIsImVuYWJsZWRGbGFncyIsInZhbHVlcyIsIkJvb2xlYW4iLCJkaXNhYmxlZEZsYWdzIiwiZiIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwiYXJlRGVwZW5kZW5jaWVzRW5hYmxlZCIsImRlcGVuZGVuY2llcyIsImRlcHMiLCJldmVyeSIsImRlcCIsInN1YnNjcmliZSIsImNhbGxiYWNrIiwiYWRkIiwidW5zdWJzY3JpYmUiLCJkZWxldGUiLCJ1cGRhdGVGbGFnTWV0YWRhdGEiLCJtZXRhZGF0YSIsImNvbnNvbGUiLCJsb2ciLCJyZXNldCIsImZsYWdLZXkiLCJleHBvcnRDb25maWciLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9JU09TdHJpbmciLCJ2ZXJzaW9uIiwiaW1wb3J0Q29uZmlnIiwiY29uZmlnIiwidmFsdWUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Q0FHQzs7Ozs7Ozs7Ozs7SUFHWUEsYUFBYTtlQUFiQTs7SUE4V0FDLGtCQUFrQjtlQUFsQkE7O0lBckJBQyxjQUFjO2VBQWRBOztJQURBQyxhQUFhO2VBQWJBOztJQWpNQUMsa0JBQWtCO2VBQWxCQTs7SUFvTkFDLGtCQUFrQjtlQUFsQkE7O0lBaEJBQyxjQUFjO2VBQWRBOztJQUdTQyxlQUFlO2VBQWZBOztJQXJPTkMsZ0JBQWdCO2VBQWhCQTs7SUF5T01DLGVBQWU7ZUFBZkE7O0lBUlRDLGFBQWE7ZUFBYkE7OztBQTFWTixNQUFNVixnQkFBZ0I7SUFDM0IsNEJBQTRCO0lBQzVCVyxVQUFVO0lBQ1ZDLEtBQUs7SUFDTEMsT0FBTztJQUNQQyxpQkFBaUI7SUFFakIsNkJBQTZCO0lBQzdCQywwQkFBMEI7SUFFMUIsZ0NBQWdDO0lBQ2hDQyxrQkFBa0I7SUFDbEJDLGdCQUFnQjtJQUNoQkMsaUJBQWlCO0lBQ2pCQyx1QkFBdUI7SUFDdkJDLGdDQUFnQztJQUNoQ0MseUJBQXlCO0lBQ3pCQyx1QkFBdUI7SUFDdkJDLDBCQUEwQjtJQUMxQkMsaUJBQWlCO0lBQ2pCQyx3QkFBd0I7SUFFeEIsOEJBQThCO0lBQzlCQyxpQkFBaUI7SUFDakJDLHVCQUF1QjtJQUN2QkMsZ0JBQWdCO0lBQ2hCQyxrQkFBa0I7SUFDbEJDLHFCQUFxQjtJQUNyQkMsdUJBQXVCO0lBQ3ZCQyxnQkFBZ0I7SUFDaEJDLHNCQUFzQjtJQUN0QkMsdUJBQXVC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