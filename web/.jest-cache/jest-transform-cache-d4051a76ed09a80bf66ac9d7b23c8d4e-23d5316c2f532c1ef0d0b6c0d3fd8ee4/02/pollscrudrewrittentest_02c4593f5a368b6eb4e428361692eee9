72552c892b394a19b6b0e3642b90bce6
/**
 * Polls CRUD API Tests - REWRITTEN
 * 
 * Tests the polls API endpoints with proper mocking to match current implementation:
 * - GET /api/polls (list polls)
 * - POST /api/polls (create poll)
 * 
 * This test is rewritten to match the actual codebase implementation
 * and then will be evolved to challenge the code functionality.
 */ "use strict";
// Mock the Supabase server client
jest.mock("@/utils/supabase/server", ()=>({
        getSupabaseServerClient: jest.fn(()=>Promise.resolve(mockSupabaseClient))
    }));
// Mock authentication middleware
jest.mock("@/lib/core/auth/middleware", ()=>({
        getUser: jest.fn(()=>Promise.resolve({
                id: "user-123",
                email: "test@example.com",
                role: "user"
            }))
    }));
// Mock logger
jest.mock("@/lib/utils/logger", ()=>({
        devLog: jest.fn()
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _globals = require("@jest/globals");
const _server = require("next/server");
const _route = require("../../../../../app/api/polls/route");
// Mock Supabase client with proper structure
const mockSupabaseClient = {
    from: jest.fn(()=>({
            select: jest.fn(()=>({
                    eq: jest.fn(()=>({
                            limit: jest.fn().mockResolvedValue({
                                data: [
                                    {
                                        id: "poll-1",
                                        title: "Test Poll 1",
                                        total_votes: 10,
                                        options: [
                                            {
                                                id: "opt-1",
                                                text: "Option 1",
                                                votes: 6
                                            },
                                            {
                                                id: "opt-2",
                                                text: "Option 2",
                                                votes: 4
                                            }
                                        ],
                                        status: "active"
                                    },
                                    {
                                        id: "poll-2",
                                        title: "Test Poll 2",
                                        total_votes: 15,
                                        options: [
                                            {
                                                id: "opt-3",
                                                text: "Option A",
                                                votes: 8
                                            },
                                            {
                                                id: "opt-4",
                                                text: "Option B",
                                                votes: 7
                                            }
                                        ],
                                        status: "active"
                                    }
                                ],
                                error: null
                            })
                        }))
                })),
            insert: jest.fn(()=>({
                    select: jest.fn().mockResolvedValue({
                        data: [
                            {
                                id: "poll-123",
                                title: "New Test Poll",
                                total_votes: 0,
                                options: [
                                    {
                                        id: "opt-new-1",
                                        text: "New Option 1",
                                        votes: 0
                                    },
                                    {
                                        id: "opt-new-2",
                                        text: "New Option 2",
                                        votes: 0
                                    }
                                ],
                                status: "active"
                            }
                        ],
                        error: null
                    })
                }))
        })),
    auth: {
        getUser: jest.fn()
    }
};
// Mock user profile for authentication
const mockUserProfile = {
    is_active: true
};
(0, _globals.describe)("Polls CRUD API - REWRITTEN", ()=>{
    (0, _globals.beforeEach)(()=>{
        jest.clearAllMocks();
    });
    (0, _globals.afterEach)(()=>{
        jest.restoreAllMocks();
    });
    (0, _globals.describe)("GET /api/polls - List Polls", ()=>{
        (0, _globals.it)("should return list of polls with pagination", async ()=>{
            const request = new _server.NextRequest("http://localhost:3000/api/polls?limit=2");
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            (0, _globals.expect)(response.status).toBe(200);
            (0, _globals.expect)(responseData.success).toBe(true);
            (0, _globals.expect)(responseData.polls).toHaveLength(2);
            (0, _globals.expect)(responseData.polls[0].title).toBe("Test Poll 1");
            (0, _globals.expect)(responseData.polls[1].title).toBe("Test Poll 2");
            (0, _globals.expect)(responseData.count).toBe(2);
        });
        (0, _globals.it)("should handle empty poll list", async ()=>{
            // Mock empty response
            mockSupabaseClient.from().select().eq().limit.mockResolvedValueOnce({
                data: [],
                error: null
            });
            const request = new _server.NextRequest("http://localhost:3000/api/polls");
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            (0, _globals.expect)(response.status).toBe(200);
            (0, _globals.expect)(responseData.success).toBe(true);
            (0, _globals.expect)(responseData.polls).toHaveLength(0);
            (0, _globals.expect)(responseData.count).toBe(0);
        });
        (0, _globals.it)("should handle database errors gracefully", async ()=>{
            // Mock database error
            mockSupabaseClient.from().select().eq().limit.mockResolvedValueOnce({
                data: null,
                error: {
                    message: "Database connection failed"
                }
            });
            const request = new _server.NextRequest("http://localhost:3000/api/polls");
            const response = await (0, _route.GET)(request);
            const responseData = await response.json();
            (0, _globals.expect)(response.status).toBe(500);
            (0, _globals.expect)(responseData.error).toBe("Database connection failed");
        });
    });
    (0, _globals.describe)("POST /api/polls - Create Poll", ()=>{
        (0, _globals.beforeEach)(()=>{
            // Mock user profile check
            mockSupabaseClient.from().select().eq().single.mockResolvedValue({
                data: mockUserProfile,
                error: null
            });
        });
        (0, _globals.it)("should create a new poll with valid data", async ()=>{
            const request = new _server.NextRequest("http://localhost:3000/api/polls", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    title: "New Test Poll",
                    options: [
                        {
                            text: "New Option 1"
                        },
                        {
                            text: "New Option 2"
                        }
                    ]
                })
            });
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            (0, _globals.expect)(response.status).toBe(201);
            (0, _globals.expect)(responseData.poll.title).toBe("New Test Poll");
            (0, _globals.expect)(responseData.poll.id).toBe("poll-123");
        });
        (0, _globals.it)("should reject poll creation without authentication", async ()=>{
            // Mock no authentication
            const { getUser } = require("@/lib/core/auth/middleware");
            getUser.mockResolvedValueOnce(null);
            const request = new _server.NextRequest("http://localhost:3000/api/polls", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    title: "Unauthorized Poll",
                    options: [
                        {
                            text: "Option 1"
                        },
                        {
                            text: "Option 2"
                        }
                    ]
                })
            });
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            (0, _globals.expect)(response.status).toBe(401);
            (0, _globals.expect)(responseData.error).toBe("Authentication required to create polls");
        });
        (0, _globals.it)("should reject poll creation with missing title", async ()=>{
            const request = new _server.NextRequest("http://localhost:3000/api/polls", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    options: [
                        {
                            text: "Option 1"
                        },
                        {
                            text: "Option 2"
                        }
                    ]
                })
            });
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            (0, _globals.expect)(response.status).toBe(400);
            (0, _globals.expect)(responseData.error).toBe("Title and at least 2 options are required");
        });
        (0, _globals.it)("should reject poll creation with insufficient options", async ()=>{
            const request = new _server.NextRequest("http://localhost:3000/api/polls", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    title: "Insufficient Options Poll",
                    options: [
                        {
                            text: "Only One Option"
                        }
                    ]
                })
            });
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            (0, _globals.expect)(response.status).toBe(400);
            (0, _globals.expect)(responseData.error).toBe("Title and at least 2 options are required");
        });
        (0, _globals.it)("should handle database errors during creation", async ()=>{
            // Mock database error during insert
            mockSupabaseClient.from().insert().select.mockResolvedValueOnce({
                data: null,
                error: {
                    message: "Insert failed"
                }
            });
            const request = new _server.NextRequest("http://localhost:3000/api/polls", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    title: "Database Error Poll",
                    options: [
                        {
                            text: "Option 1"
                        },
                        {
                            text: "Option 2"
                        }
                    ]
                })
            });
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            (0, _globals.expect)(response.status).toBe(500);
            (0, _globals.expect)(responseData.error).toBe("Insert failed");
        });
    });
    (0, _globals.describe)("Error Handling", ()=>{
        (0, _globals.it)("should handle malformed JSON gracefully", async ()=>{
            const request = new _server.NextRequest("http://localhost:3000/api/polls", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: "invalid json"
            });
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            (0, _globals.expect)(response.status).toBe(500);
            (0, _globals.expect)(responseData.error).toBe("Invalid JSON");
        });
        (0, _globals.it)("should handle missing request body", async ()=>{
            const request = new _server.NextRequest("http://localhost:3000/api/polls", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                }
            });
            const response = await (0, _route.POST)(request);
            const responseData = await response.json();
            (0, _globals.expect)(response.status).toBe(400);
            (0, _globals.expect)(responseData.error).toBe("Request body is required");
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L3VuaXQvYXBpL2NvcmUvcG9sbHMtY3J1ZC1yZXdyaXR0ZW4udGVzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFBvbGxzIENSVUQgQVBJIFRlc3RzIC0gUkVXUklUVEVOXG4gKiBcbiAqIFRlc3RzIHRoZSBwb2xscyBBUEkgZW5kcG9pbnRzIHdpdGggcHJvcGVyIG1vY2tpbmcgdG8gbWF0Y2ggY3VycmVudCBpbXBsZW1lbnRhdGlvbjpcbiAqIC0gR0VUIC9hcGkvcG9sbHMgKGxpc3QgcG9sbHMpXG4gKiAtIFBPU1QgL2FwaS9wb2xscyAoY3JlYXRlIHBvbGwpXG4gKiBcbiAqIFRoaXMgdGVzdCBpcyByZXdyaXR0ZW4gdG8gbWF0Y2ggdGhlIGFjdHVhbCBjb2RlYmFzZSBpbXBsZW1lbnRhdGlvblxuICogYW5kIHRoZW4gd2lsbCBiZSBldm9sdmVkIHRvIGNoYWxsZW5nZSB0aGUgY29kZSBmdW5jdGlvbmFsaXR5LlxuICovXG5cbmltcG9ydCB7IGRlc2NyaWJlLCBpdCwgZXhwZWN0LCBiZWZvcmVFYWNoLCBhZnRlckVhY2ggfSBmcm9tICdAamVzdC9nbG9iYWxzJztcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgR0VULCBQT1NUIH0gZnJvbSAnQC9hcHAvYXBpL3BvbGxzL3JvdXRlJztcblxuLy8gTW9jayBTdXBhYmFzZSBjbGllbnQgd2l0aCBwcm9wZXIgc3RydWN0dXJlXG5jb25zdCBtb2NrU3VwYWJhc2VDbGllbnQgPSB7XG4gIGZyb206IGplc3QuZm4oKCkgPT4gKHtcbiAgICBzZWxlY3Q6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgIGVxOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgICAgIGxpbWl0OiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoe1xuICAgICAgICAgIGRhdGE6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgaWQ6ICdwb2xsLTEnLFxuICAgICAgICAgICAgICB0aXRsZTogJ1Rlc3QgUG9sbCAxJyxcbiAgICAgICAgICAgICAgdG90YWxfdm90ZXM6IDEwLFxuICAgICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgeyBpZDogJ29wdC0xJywgdGV4dDogJ09wdGlvbiAxJywgdm90ZXM6IDYgfSxcbiAgICAgICAgICAgICAgICB7IGlkOiAnb3B0LTInLCB0ZXh0OiAnT3B0aW9uIDInLCB2b3RlczogNCB9XG4gICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIHN0YXR1czogJ2FjdGl2ZSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGlkOiAncG9sbC0yJywgXG4gICAgICAgICAgICAgIHRpdGxlOiAnVGVzdCBQb2xsIDInLFxuICAgICAgICAgICAgICB0b3RhbF92b3RlczogMTUsXG4gICAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICB7IGlkOiAnb3B0LTMnLCB0ZXh0OiAnT3B0aW9uIEEnLCB2b3RlczogOCB9LFxuICAgICAgICAgICAgICAgIHsgaWQ6ICdvcHQtNCcsIHRleHQ6ICdPcHRpb24gQicsIHZvdGVzOiA3IH1cbiAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIF0sXG4gICAgICAgICAgZXJyb3I6IG51bGwsXG4gICAgICAgIH0pLFxuICAgICAgfSkpLFxuICAgIH0pKSxcbiAgICBpbnNlcnQ6IGplc3QuZm4oKCkgPT4gKHtcbiAgICAgIHNlbGVjdDogamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogW3sgXG4gICAgICAgICAgaWQ6ICdwb2xsLTEyMycsIFxuICAgICAgICAgIHRpdGxlOiAnTmV3IFRlc3QgUG9sbCcsXG4gICAgICAgICAgdG90YWxfdm90ZXM6IDAsXG4gICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgeyBpZDogJ29wdC1uZXctMScsIHRleHQ6ICdOZXcgT3B0aW9uIDEnLCB2b3RlczogMCB9LFxuICAgICAgICAgICAgeyBpZDogJ29wdC1uZXctMicsIHRleHQ6ICdOZXcgT3B0aW9uIDInLCB2b3RlczogMCB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnXG4gICAgICAgIH1dLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pLFxuICAgIH0pKSxcbiAgfSkpLFxuICBhdXRoOiB7XG4gICAgZ2V0VXNlcjogamVzdC5mbigpLFxuICB9LFxufTtcblxuLy8gTW9jayB1c2VyIHByb2ZpbGUgZm9yIGF1dGhlbnRpY2F0aW9uXG5jb25zdCBtb2NrVXNlclByb2ZpbGUgPSB7XG4gIGlzX2FjdGl2ZTogdHJ1ZVxufTtcblxuLy8gTW9jayB0aGUgU3VwYWJhc2Ugc2VydmVyIGNsaWVudFxuamVzdC5tb2NrKCdAL3V0aWxzL3N1cGFiYXNlL3NlcnZlcicsICgpID0+ICh7XG4gIGdldFN1cGFiYXNlU2VydmVyQ2xpZW50OiBqZXN0LmZuKCgpID0+IFByb21pc2UucmVzb2x2ZShtb2NrU3VwYWJhc2VDbGllbnQpKSxcbn0pKTtcblxuLy8gTW9jayBhdXRoZW50aWNhdGlvbiBtaWRkbGV3YXJlXG5qZXN0Lm1vY2soJ0AvbGliL2NvcmUvYXV0aC9taWRkbGV3YXJlJywgKCkgPT4gKHtcbiAgZ2V0VXNlcjogamVzdC5mbigoKSA9PiBQcm9taXNlLnJlc29sdmUoe1xuICAgIGlkOiAndXNlci0xMjMnLFxuICAgIGVtYWlsOiAndGVzdEBleGFtcGxlLmNvbScsXG4gICAgcm9sZTogJ3VzZXInXG4gIH0pKSxcbn0pKTtcblxuLy8gTW9jayBsb2dnZXJcbmplc3QubW9jaygnQC9saWIvdXRpbHMvbG9nZ2VyJywgKCkgPT4gKHtcbiAgZGV2TG9nOiBqZXN0LmZuKCksXG59KSk7XG5cbmRlc2NyaWJlKCdQb2xscyBDUlVEIEFQSSAtIFJFV1JJVFRFTicsICgpID0+IHtcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gIH0pO1xuXG4gIGFmdGVyRWFjaCgoKSA9PiB7XG4gICAgamVzdC5yZXN0b3JlQWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0dFVCAvYXBpL3BvbGxzIC0gTGlzdCBQb2xscycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJldHVybiBsaXN0IG9mIHBvbGxzIHdpdGggcGFnaW5hdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcG9sbHM/bGltaXQ9MicpO1xuICAgICAgXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IEdFVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSgyMDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5zdWNjZXNzKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5wb2xscykudG9IYXZlTGVuZ3RoKDIpO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5wb2xsc1swXS50aXRsZSkudG9CZSgnVGVzdCBQb2xsIDEnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEucG9sbHNbMV0udGl0bGUpLnRvQmUoJ1Rlc3QgUG9sbCAyJyk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmNvdW50KS50b0JlKDIpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZW1wdHkgcG9sbCBsaXN0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgLy8gTW9jayBlbXB0eSByZXNwb25zZVxuICAgICAgbW9ja1N1cGFiYXNlQ2xpZW50LmZyb20oKS5zZWxlY3QoKS5lcSgpLmxpbWl0Lm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIGRhdGE6IFtdLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BvbGxzJyk7XG4gICAgICBcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgR0VUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLnN1Y2Nlc3MpLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLnBvbGxzKS50b0hhdmVMZW5ndGgoMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmNvdW50KS50b0JlKDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgZXJyb3JzIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGRhdGFiYXNlIGVycm9yXG4gICAgICBtb2NrU3VwYWJhc2VDbGllbnQuZnJvbSgpLnNlbGVjdCgpLmVxKCkubGltaXQubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyB9LFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcG9sbHMnKTtcbiAgICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBHRVQocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuZXJyb3IpLnRvQmUoJ0RhdGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQT1NUIC9hcGkvcG9sbHMgLSBDcmVhdGUgUG9sbCcsICgpID0+IHtcbiAgICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICAgIC8vIE1vY2sgdXNlciBwcm9maWxlIGNoZWNrXG4gICAgICBtb2NrU3VwYWJhc2VDbGllbnQuZnJvbSgpLnNlbGVjdCgpLmVxKCkuc2luZ2xlLm1vY2tSZXNvbHZlZFZhbHVlKHtcbiAgICAgICAgZGF0YTogbW9ja1VzZXJQcm9maWxlLFxuICAgICAgICBlcnJvcjogbnVsbCxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBjcmVhdGUgYSBuZXcgcG9sbCB3aXRoIHZhbGlkIGRhdGEnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BvbGxzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0aXRsZTogJ05ldyBUZXN0IFBvbGwnLFxuICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgIHsgdGV4dDogJ05ldyBPcHRpb24gMScgfSxcbiAgICAgICAgICAgIHsgdGV4dDogJ05ldyBPcHRpb24gMicgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDIwMSk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLnBvbGwudGl0bGUpLnRvQmUoJ05ldyBUZXN0IFBvbGwnKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEucG9sbC5pZCkudG9CZSgncG9sbC0xMjMnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVqZWN0IHBvbGwgY3JlYXRpb24gd2l0aG91dCBhdXRoZW50aWNhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgbm8gYXV0aGVudGljYXRpb25cbiAgICAgIGNvbnN0IHsgZ2V0VXNlciB9ID0gcmVxdWlyZSgnQC9saWIvY29yZS9hdXRoL21pZGRsZXdhcmUnKTtcbiAgICAgIGdldFVzZXIubW9ja1Jlc29sdmVkVmFsdWVPbmNlKG51bGwpO1xuXG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BvbGxzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0aXRsZTogJ1VuYXV0aG9yaXplZCBQb2xsJyxcbiAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICB7IHRleHQ6ICdPcHRpb24gMScgfSxcbiAgICAgICAgICAgIHsgdGV4dDogJ09wdGlvbiAyJyB9XG4gICAgICAgICAgXVxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAxKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuZXJyb3IpLnRvQmUoJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkIHRvIGNyZWF0ZSBwb2xscycpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCByZWplY3QgcG9sbCBjcmVhdGlvbiB3aXRoIG1pc3NpbmcgdGl0bGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BvbGxzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICB7IHRleHQ6ICdPcHRpb24gMScgfSxcbiAgICAgICAgICAgIHsgdGV4dDogJ09wdGlvbiAyJyB9XG4gICAgICAgICAgXVxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuZXJyb3IpLnRvQmUoJ1RpdGxlIGFuZCBhdCBsZWFzdCAyIG9wdGlvbnMgYXJlIHJlcXVpcmVkJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHJlamVjdCBwb2xsIGNyZWF0aW9uIHdpdGggaW5zdWZmaWNpZW50IG9wdGlvbnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BvbGxzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICB0aXRsZTogJ0luc3VmZmljaWVudCBPcHRpb25zIFBvbGwnLFxuICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgIHsgdGV4dDogJ09ubHkgT25lIE9wdGlvbicgfVxuICAgICAgICAgIF1cbiAgICAgICAgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBQT1NUKHJlcXVlc3QpO1xuICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG4gICAgICBleHBlY3QocmVzcG9uc2Uuc3RhdHVzKS50b0JlKDQwMCk7XG4gICAgICBleHBlY3QocmVzcG9uc2VEYXRhLmVycm9yKS50b0JlKCdUaXRsZSBhbmQgYXQgbGVhc3QgMiBvcHRpb25zIGFyZSByZXF1aXJlZCcpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgZGF0YWJhc2UgZXJyb3JzIGR1cmluZyBjcmVhdGlvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIC8vIE1vY2sgZGF0YWJhc2UgZXJyb3IgZHVyaW5nIGluc2VydFxuICAgICAgbW9ja1N1cGFiYXNlQ2xpZW50LmZyb20oKS5pbnNlcnQoKS5zZWxlY3QubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgZGF0YTogbnVsbCxcbiAgICAgICAgZXJyb3I6IHsgbWVzc2FnZTogJ0luc2VydCBmYWlsZWQnIH0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgcmVxdWVzdCA9IG5ldyBOZXh0UmVxdWVzdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wb2xscycsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgdGl0bGU6ICdEYXRhYmFzZSBFcnJvciBQb2xsJyxcbiAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICB7IHRleHQ6ICdPcHRpb24gMScgfSxcbiAgICAgICAgICAgIHsgdGV4dDogJ09wdGlvbiAyJyB9XG4gICAgICAgICAgXVxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNTAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuZXJyb3IpLnRvQmUoJ0luc2VydCBmYWlsZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ0Vycm9yIEhhbmRsaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgaGFuZGxlIG1hbGZvcm1lZCBKU09OIGdyYWNlZnVsbHknLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IE5leHRSZXF1ZXN0KCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3BvbGxzJywge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6ICdpbnZhbGlkIGpzb24nLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUE9TVChyZXF1ZXN0KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuICAgICAgZXhwZWN0KHJlc3BvbnNlLnN0YXR1cykudG9CZSg1MDApO1xuICAgICAgZXhwZWN0KHJlc3BvbnNlRGF0YS5lcnJvcikudG9CZSgnSW52YWxpZCBKU09OJyk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBtaXNzaW5nIHJlcXVlc3QgYm9keScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgTmV4dFJlcXVlc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvcG9sbHMnLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFBPU1QocmVxdWVzdCk7XG4gICAgICBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgIGV4cGVjdChyZXNwb25zZS5zdGF0dXMpLnRvQmUoNDAwKTtcbiAgICAgIGV4cGVjdChyZXNwb25zZURhdGEuZXJyb3IpLnRvQmUoJ1JlcXVlc3QgYm9keSBpcyByZXF1aXJlZCcpO1xuICAgIH0pO1xuICB9KTtcbn0pO1xuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiZ2V0U3VwYWJhc2VTZXJ2ZXJDbGllbnQiLCJmbiIsIlByb21pc2UiLCJyZXNvbHZlIiwibW9ja1N1cGFiYXNlQ2xpZW50IiwiZ2V0VXNlciIsImlkIiwiZW1haWwiLCJyb2xlIiwiZGV2TG9nIiwiZnJvbSIsInNlbGVjdCIsImVxIiwibGltaXQiLCJtb2NrUmVzb2x2ZWRWYWx1ZSIsImRhdGEiLCJ0aXRsZSIsInRvdGFsX3ZvdGVzIiwib3B0aW9ucyIsInRleHQiLCJ2b3RlcyIsInN0YXR1cyIsImVycm9yIiwiaW5zZXJ0IiwiYXV0aCIsIm1vY2tVc2VyUHJvZmlsZSIsImlzX2FjdGl2ZSIsImRlc2NyaWJlIiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJhZnRlckVhY2giLCJyZXN0b3JlQWxsTW9ja3MiLCJpdCIsInJlcXVlc3QiLCJOZXh0UmVxdWVzdCIsInJlc3BvbnNlIiwiR0VUIiwicmVzcG9uc2VEYXRhIiwianNvbiIsImV4cGVjdCIsInRvQmUiLCJzdWNjZXNzIiwicG9sbHMiLCJ0b0hhdmVMZW5ndGgiLCJjb3VudCIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsIm1lc3NhZ2UiLCJzaW5nbGUiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJQT1NUIiwicG9sbCIsInJlcXVpcmUiXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7Ozs7Q0FTQztBQWdFRCxrQ0FBa0M7QUFDbENBLEtBQUtDLElBQUksQ0FBQywyQkFBMkIsSUFBTyxDQUFBO1FBQzFDQyx5QkFBeUJGLEtBQUtHLEVBQUUsQ0FBQyxJQUFNQyxRQUFRQyxPQUFPLENBQUNDO0lBQ3pELENBQUE7QUFFQSxpQ0FBaUM7QUFDakNOLEtBQUtDLElBQUksQ0FBQyw4QkFBOEIsSUFBTyxDQUFBO1FBQzdDTSxTQUFTUCxLQUFLRyxFQUFFLENBQUMsSUFBTUMsUUFBUUMsT0FBTyxDQUFDO2dCQUNyQ0csSUFBSTtnQkFDSkMsT0FBTztnQkFDUEMsTUFBTTtZQUNSO0lBQ0YsQ0FBQTtBQUVBLGNBQWM7QUFDZFYsS0FBS0MsSUFBSSxDQUFDLHNCQUFzQixJQUFPLENBQUE7UUFDckNVLFFBQVFYLEtBQUtHLEVBQUU7SUFDakIsQ0FBQTs7Ozt5QkEvRTREO3dCQUNoQzt1QkFDRjtBQUUxQiw2Q0FBNkM7QUFDN0MsTUFBTUcscUJBQXFCO0lBQ3pCTSxNQUFNWixLQUFLRyxFQUFFLENBQUMsSUFBTyxDQUFBO1lBQ25CVSxRQUFRYixLQUFLRyxFQUFFLENBQUMsSUFBTyxDQUFB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