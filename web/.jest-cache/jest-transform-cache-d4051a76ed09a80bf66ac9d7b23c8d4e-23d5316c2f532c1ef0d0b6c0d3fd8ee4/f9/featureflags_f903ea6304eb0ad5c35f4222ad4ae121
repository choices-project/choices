bcbcc165e1d156b2c06192088a03395f
/**
 * Core Feature Flags System
 * 
 * Centralized feature flag management with type safety and runtime control.
 * Provides the foundation for feature rollout, A/B testing, and safe deployments.
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    FEATURE_FLAGS: function() {
        return FEATURE_FLAGS;
    },
    FEATURE_FLAG_CATEGORIES: function() {
        return FEATURE_FLAG_CATEGORIES;
    },
    FEATURE_FLAG_DEPENDENCIES: function() {
        return FEATURE_FLAG_DEPENDENCIES;
    },
    disableFeature: function() {
        return disableFeature;
    },
    enableFeature: function() {
        return enableFeature;
    },
    featureFlagManager: function() {
        return featureFlagManager;
    },
    getAllFeatureFlags: function() {
        return getAllFeatureFlags;
    },
    getFeatureFlag: function() {
        return getFeatureFlag;
    },
    isFeatureEnabled: function() {
        return isFeatureEnabled;
    },
    toggleFeature: function() {
        return toggleFeature;
    }
});
const _logger = require("../utils/logger");
const FEATURE_FLAGS = {
    // ===== CORE MVP FEATURES (Always Enabled) =====
    WEBAUTHN: true,
    PWA: true,
    ADMIN: true,
    FEEDBACK_WIDGET: true,
    // ===== ADMIN FEATURES (Nice-to-have for MVP) =====
    USER_SUGGESTIONS_MANAGER: false,
    // ===== ENHANCED MVP FEATURES (FULLY IMPLEMENTED) =====
    ENHANCED_PROFILE: true,
    ENHANCED_POLLS: true,
    ENHANCED_VOTING: true,
    CIVICS_ADDRESS_LOOKUP: true,
    CIVICS_REPRESENTATIVE_DATABASE: true,
    CIVICS_CAMPAIGN_FINANCE: true,
    CIVICS_VOTING_RECORDS: true,
    CANDIDATE_ACCOUNTABILITY: true,
    CANDIDATE_CARDS: true,
    ALTERNATIVE_CANDIDATES: true,
    // ===== FUTURE FEATURES (Development Required) =====
    AUTOMATED_POLLS: false,
    DEMOGRAPHIC_FILTERING: false,
    TRENDING_POLLS: false,
    ADVANCED_PRIVACY: false,
    MEDIA_BIAS_ANALYSIS: false,
    POLL_NARRATIVE_SYSTEM: false,
    SOCIAL_SHARING: true,
    SOCIAL_SHARING_POLLS: false,
    SOCIAL_SHARING_CIVICS: false,
    SOCIAL_SHARING_VISUAL: false,
    SOCIAL_SHARING_OG: false,
    SOCIAL_SIGNUP: false,
    CONTACT_INFORMATION_SYSTEM: false,
    CIVICS_TESTING_STRATEGY: false,
    DEVICE_FLOW_AUTH: false,
    // ===== PERFORMANCE & OPTIMIZATION =====
    PERFORMANCE_OPTIMIZATION: true,
    FEATURE_DB_OPTIMIZATION_SUITE: true,
    ANALYTICS: true,
    // ===== SYSTEM FEATURES =====
    PUSH_NOTIFICATIONS: true,
    THEMES: true,
    ACCESSIBILITY: true,
    INTERNATIONALIZATION: false,
    // Legacy flags for backward compatibility
    CORE_AUTH: true,
    CORE_POLLS: true,
    CORE_USERS: true,
    EXPERIMENTAL_UIFeature: false,
    AIFeaturesFeature: false,
    AdvancedPrivacyFeature: false,
    AnalyticsFeature: false,
    PWAFeature: true,
    AdminFeature: true,
    AuditFeature: false,
    ExperimentalUIFeature: false,
    VotingFeature: true,
    DatabaseFeature: true,
    APIFeature: true,
    UIFeature: true,
    AuthFeature: true
};
const FEATURE_FLAG_CATEGORIES = {
    core: [
        "WEBAUTHN",
        "PWA",
        "ADMIN",
        "FEEDBACK_WIDGET",
        "CORE_AUTH",
        "CORE_POLLS",
        "CORE_USERS"
    ],
    enhanced: [
        "ENHANCED_PROFILE",
        "ENHANCED_POLLS",
        "ENHANCED_VOTING"
    ],
    civics: [
        "CIVICS_ADDRESS_LOOKUP",
        "CIVICS_REPRESENTATIVE_DATABASE",
        "CIVICS_CAMPAIGN_FINANCE",
        "CIVICS_VOTING_RECORDS",
        "CANDIDATE_ACCOUNTABILITY",
        "CANDIDATE_CARDS",
        "ALTERNATIVE_CANDIDATES"
    ],
    future: [
        "AUTOMATED_POLLS",
        "DEMOGRAPHIC_FILTERING",
        "TRENDING_POLLS",
        "ADVANCED_PRIVACY",
        "MEDIA_BIAS_ANALYSIS",
        "POLL_NARRATIVE_SYSTEM"
    ],
    performance: [
        "PERFORMANCE_OPTIMIZATION",
        "FEATURE_DB_OPTIMIZATION_SUITE"
    ],
    social: [
        "SOCIAL_SHARING",
        "SOCIAL_SHARING_POLLS",
        "SOCIAL_SHARING_CIVICS",
        "SOCIAL_SHARING_VISUAL",
        "SOCIAL_SHARING_OG",
        "SOCIAL_SIGNUP"
    ],
    system: [
        "PUSH_NOTIFICATIONS",
        "THEMES",
        "ACCESSIBILITY",
        "INTERNATIONALIZATION"
    ],
    analytics: [
        "ANALYTICS"
    ],
    admin: [
        "USER_SUGGESTIONS_MANAGER"
    ],
    contact: [
        "CONTACT_INFORMATION_SYSTEM"
    ],
    testing: [
        "CIVICS_TESTING_STRATEGY"
    ],
    auth: [
        "DEVICE_FLOW_AUTH"
    ],
    legacy: [
        "EXPERIMENTAL_UIFeature",
        "AIFeaturesFeature",
        "AdvancedPrivacyFeature",
        "AnalyticsFeature",
        "PWAFeature",
        "AdminFeature",
        "AuditFeature",
        "ExperimentalUIFeature",
        "VotingFeature",
        "DatabaseFeature",
        "APIFeature",
        "UIFeature",
        "AuthFeature"
    ]
};
const FEATURE_FLAG_DEPENDENCIES = {
    ENHANCED_PROFILE: [
        "CORE_AUTH"
    ],
    ENHANCED_POLLS: [
        "CORE_POLLS"
    ],
    ENHANCED_VOTING: [
        "CORE_POLLS"
    ],
    CIVICS_ADDRESS_LOOKUP: [
        "CORE_AUTH"
    ],
    CIVICS_REPRESENTATIVE_DATABASE: [
        "CIVICS_ADDRESS_LOOKUP"
    ],
    CIVICS_CAMPAIGN_FINANCE: [
        "CIVICS_REPRESENTATIVE_DATABASE"
    ],
    CIVICS_VOTING_RECORDS: [
        "CIVICS_REPRESENTATIVE_DATABASE"
    ],
    CANDIDATE_ACCOUNTABILITY: [
        "CIVICS_REPRESENTATIVE_DATABASE"
    ],
    CANDIDATE_CARDS: [
        "CIVICS_REPRESENTATIVE_DATABASE"
    ],
    ALTERNATIVE_CANDIDATES: [
        "CIVICS_REPRESENTATIVE_DATABASE"
    ],
    AUTOMATED_POLLS: [
        "ANALYTICS"
    ],
    DEMOGRAPHIC_FILTERING: [
        "ANALYTICS"
    ],
    TRENDING_POLLS: [
        "ANALYTICS"
    ],
    SOCIAL_SHARING_POLLS: [
        "SOCIAL_SHARING"
    ],
    SOCIAL_SHARING_CIVICS: [
        "SOCIAL_SHARING"
    ],
    SOCIAL_SHARING_VISUAL: [
        "SOCIAL_SHARING"
    ],
    SOCIAL_SHARING_OG: [
        "SOCIAL_SHARING"
    ],
    SOCIAL_SIGNUP: [
        "SOCIAL_SHARING"
    ],
    CONTACT_INFORMATION_SYSTEM: [
        "CIVICS_REPRESENTATIVE_DATABASE"
    ],
    DEVICE_FLOW_AUTH: [
        "CORE_AUTH"
    ],
    // Legacy dependencies
    AIFeaturesFeature: [
        "ANALYTICS"
    ],
    AdvancedPrivacyFeature: [
        "ADVANCED_PRIVACY"
    ],
    AnalyticsFeature: [
        "ANALYTICS"
    ],
    PWAFeature: [
        "PWA"
    ],
    AdminFeature: [
        "ADMIN"
    ],
    AuditFeature: [
        "ADMIN"
    ],
    ExperimentalUIFeature: [
        "ANALYTICS"
    ],
    VotingFeature: [
        "CORE_POLLS"
    ],
    DatabaseFeature: [
        "CORE_AUTH"
    ],
    APIFeature: [
        "CORE_AUTH"
    ],
    UIFeature: [
        "CORE_AUTH"
    ],
    AuthFeature: [
        "CORE_AUTH"
    ]
};
// Feature Flag Manager Implementation
class FeatureFlagManagerImpl {
    constructor(){
        this.flags = {
            ...FEATURE_FLAGS
        };
        this.subscribers = new Set();
        this.metadata = new Map();
        // Initialize metadata
        this.initializeMetadata();
        _logger.logger.info("Feature flag manager initialized", {
            totalFlags: Object.keys(this.flags).length,
            enabledFlags: Object.values(this.flags).filter(Boolean).length
        });
    }
    initializeMetadata() {
        Object.keys(this.flags).forEach((flagId)=>{
            this.metadata.set(flagId, {
                category: this.getCategoryForFlag(flagId),
                dependencies: FEATURE_FLAG_DEPENDENCIES[flagId] || [],
                description: `Feature flag for ${flagId.toLowerCase().replace(/_/g, " ")}`,
                lastModified: new Date().toISOString()
            });
        });
    }
    getCategoryForFlag(flagId) {
        for (const [category, flags] of Object.entries(FEATURE_FLAG_CATEGORIES)){
            if (flags.includes(flagId)) {
                return category;
            }
        }
        return "general";
    }
    isEnabled(flagId) {
        const normalizedId = this.normalizeFlagId(flagId);
        return this.flags[normalizedId] === true;
    }
    isDisabled(flagId) {
        return !this.isEnabled(flagId);
    }
    enable(flagId) {
        const normalizedId = this.normalizeFlagId(flagId);
        if (!(normalizedId in this.flags)) {
            _logger.logger.warn("Attempted to enable unknown feature flag", {
                flagId: normalizedId
            });
            return false;
        }
        if (this.flags[normalizedId] === true) {
            return true; // Already enabled
        }
        // Check dependencies
        if (!this.areDependenciesEnabled(normalizedId)) {
            _logger.logger.warn("Cannot enable feature flag - dependencies not met", {
                flagId: normalizedId,
                dependencies: FEATURE_FLAG_DEPENDENCIES[normalizedId]
            });
            return false;
        }
        this.flags[normalizedId] = true;
        this.notifySubscribers();
        _logger.logger.info("Feature flag enabled", {
            flagId: normalizedId
        });
        return true;
    }
    disable(flagId) {
        const normalizedId = this.normalizeFlagId(flagId);
        if (!(normalizedId in this.flags)) {
            _logger.logger.warn("Attempted to disable unknown feature flag", {
                flagId: normalizedId
            });
            return false;
        }
        if (this.flags[normalizedId] === false) {
            return true; // Already disabled
        }
        this.flags[normalizedId] = false;
        this.notifySubscribers();
        _logger.logger.info("Feature flag disabled", {
            flagId: normalizedId
        });
        return true;
    }
    toggle(flagId) {
        const normalizedId = this.normalizeFlagId(flagId);
        if (this.isEnabled(normalizedId)) {
            return this.disable(normalizedId);
        } else {
            return this.enable(normalizedId);
        }
    }
    getFlag(flagId) {
        const normalizedId = this.normalizeFlagId(flagId);
        if (!(normalizedId in this.flags)) {
            return undefined;
        }
        const metadata = this.metadata.get(normalizedId) || {};
        return {
            id: normalizedId,
            name: normalizedId.replace(/_/g, " ").toLowerCase().replace(/\b\w/g, (l)=>l.toUpperCase()),
            enabled: this.flags[normalizedId] ?? false,
            description: metadata.description || `Feature flag for ${normalizedId.toLowerCase().replace(/_/g, " ")}`,
            category: metadata.category,
            dependencies: metadata.dependencies,
            metadata
        };
    }
    getAllFlags() {
        const flags = new Map();
        Object.keys(this.flags).forEach((flagId)=>{
            const flag = this.getFlag(flagId);
            if (flag) {
                flags.set(flagId, flag);
            }
        });
        return flags;
    }
    getEnabledFlags() {
        return Array.from(this.getAllFlags().values()).filter((flag)=>flag.enabled);
    }
    getDisabledFlags() {
        return Array.from(this.getAllFlags().values()).filter((flag)=>!flag.enabled);
    }
    getFlagsByCategory(category) {
        const categoryFlags = FEATURE_FLAG_CATEGORIES[category] || [];
        return Array.from(this.getAllFlags().values()).filter((flag)=>categoryFlags.includes(flag.id));
    }
    getSystemInfo() {
        const allFlags = this.getAllFlags();
        const enabledFlags = this.getEnabledFlags();
        const disabledFlags = this.getDisabledFlags();
        const categories = {};
        Object.keys(FEATURE_FLAG_CATEGORIES).forEach((category)=>{
            categories[category] = this.getFlagsByCategory(category).length;
        });
        return {
            totalFlags: allFlags.size,
            enabledFlags: enabledFlags.length,
            disabledFlags: disabledFlags.length,
            environment: process.env.NODE_ENV || "development",
            categories
        };
    }
    subscribe(callback) {
        this.subscribers.add(callback);
        return {
            unsubscribe: ()=>{
                this.subscribers.delete(callback);
            }
        };
    }
    updateFlagMetadata(flagId, metadata) {
        const normalizedId = this.normalizeFlagId(flagId);
        if (!(normalizedId in this.flags)) {
            _logger.logger.warn("Attempted to update metadata for unknown feature flag", {
                flagId: normalizedId
            });
            return false;
        }
        const existingMetadata = this.metadata.get(normalizedId) || {};
        this.metadata.set(normalizedId, {
            ...existingMetadata,
            ...metadata
        });
        _logger.logger.info("Feature flag metadata updated", {
            flagId: normalizedId,
            metadata
        });
        return true;
    }
    reset() {
        this.flags = {
            ...FEATURE_FLAGS
        };
        this.initializeMetadata();
        this.notifySubscribers();
        _logger.logger.info("Feature flags reset to defaults");
    }
    exportConfig() {
        return {
            flags: {
                ...this.flags
            },
            categories: {
                ...FEATURE_FLAG_CATEGORIES
            },
            environment: process.env.NODE_ENV || "development",
            version: "1.0.0"
        };
    }
    importConfig(config) {
        if (config.flags) {
            this.flags = {
                ...config.flags
            };
        }
        this.notifySubscribers();
        _logger.logger.info("Feature flag configuration imported", {
            totalFlags: Object.keys(this.flags).length
        });
    }
    areDependenciesEnabled(flagId) {
        const dependencies = FEATURE_FLAG_DEPENDENCIES[flagId] || [];
        return dependencies.every((dep)=>this.isEnabled(dep));
    }
    normalizeFlagId(flagId) {
        // Handle case-insensitive lookups and legacy naming
        const normalized = flagId.toUpperCase();
        // Check for exact match first
        if (normalized in this.flags) {
            return normalized;
        }
        // Check for legacy naming patterns
        const legacyMappings = {
            "AUTHENTICATION": "CORE_AUTH",
            "POLLS": "CORE_POLLS",
            "USERS": "CORE_USERS",
            "ANALYTICS": "ANALYTICS",
            "PWA": "PWA",
            "ADMIN": "ADMIN",
            "WEBAUTHN": "WEBAUTHN",
            "FEEDBACK_WIDGET": "FEEDBACK_WIDGET",
            "ENHANCED_PROFILE": "ENHANCED_PROFILE",
            "ENHANCED_POLLS": "ENHANCED_POLLS",
            "ENHANCED_VOTING": "ENHANCED_VOTING",
            "CIVICS_ADDRESS_LOOKUP": "CIVICS_ADDRESS_LOOKUP",
            "CIVICS_REPRESENTATIVE_DATABASE": "CIVICS_REPRESENTATIVE_DATABASE",
            "CIVICS_CAMPAIGN_FINANCE": "CIVICS_CAMPAIGN_FINANCE",
            "CIVICS_VOTING_RECORDS": "CIVICS_VOTING_RECORDS",
            "CANDIDATE_ACCOUNTABILITY": "CANDIDATE_ACCOUNTABILITY",
            "CANDIDATE_CARDS": "CANDIDATE_CARDS",
            "ALTERNATIVE_CANDIDATES": "ALTERNATIVE_CANDIDATES",
            "AUTOMATED_POLLS": "AUTOMATED_POLLS",
            "DEMOGRAPHIC_FILTERING": "DEMOGRAPHIC_FILTERING",
            "TRENDING_POLLS": "TRENDING_POLLS",
            "PERFORMANCE_OPTIMIZATION": "PERFORMANCE_OPTIMIZATION",
            "FEATURE_DB_OPTIMIZATION_SUITE": "FEATURE_DB_OPTIMIZATION_SUITE",
            "EXPERIMENTAL_UI": "EXPERIMENTAL_UI",
            "EXPERIMENTAL_ANALYTICS": "EXPERIMENTAL_ANALYTICS",
            "EXPERIMENTAL_COMPONENTS": "EXPERIMENTAL_COMPONENTS",
            "ADVANCED_PRIVACY": "ADVANCED_PRIVACY",
            "SOCIAL_SHARING": "SOCIAL_SHARING",
            "AI_FEATURES": "AI_FEATURES"
        };
        if (normalized in legacyMappings) {
            return legacyMappings[normalized] || normalized;
        }
        return normalized;
    }
    notifySubscribers() {
        this.subscribers.forEach((callback)=>{
            try {
                callback({
                    ...this.flags
                });
            } catch (error) {
                _logger.logger.error("Error in feature flag subscriber", error instanceof Error ? error : new Error(String(error)));
            }
        });
    }
}
const featureFlagManager = new FeatureFlagManagerImpl();
const isFeatureEnabled = (flagId)=>featureFlagManager.isEnabled(flagId);
const enableFeature = (flagId)=>featureFlagManager.enable(flagId);
const disableFeature = (flagId)=>featureFlagManager.disable(flagId);
const toggleFeature = (flagId)=>featureFlagManager.toggle(flagId);
const getFeatureFlag = (flagId)=>featureFlagManager.getFlag(flagId);
const getAllFeatureFlags = ()=>featureFlagManager.getAllFlags(); // Types are already exported at the top of the file

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvY29yZS9mZWF0dXJlLWZsYWdzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29yZSBGZWF0dXJlIEZsYWdzIFN5c3RlbVxuICogXG4gKiBDZW50cmFsaXplZCBmZWF0dXJlIGZsYWcgbWFuYWdlbWVudCB3aXRoIHR5cGUgc2FmZXR5IGFuZCBydW50aW1lIGNvbnRyb2wuXG4gKiBQcm92aWRlcyB0aGUgZm91bmRhdGlvbiBmb3IgZmVhdHVyZSByb2xsb3V0LCBBL0IgdGVzdGluZywgYW5kIHNhZmUgZGVwbG95bWVudHMuXG4gKi9cblxuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSAnQC9saWIvdXRpbHMvbG9nZ2VyJztcblxuLy8gRmVhdHVyZSBGbGFnIFR5cGVzXG5leHBvcnQgaW50ZXJmYWNlIEZlYXR1cmVGbGFnIHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBlbmFibGVkOiBib29sZWFuO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBjYXRlZ29yeT86IHN0cmluZztcbiAgZGVwZW5kZW5jaWVzPzogc3RyaW5nW107XG4gIG1ldGFkYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmVhdHVyZUZsYWdDb25maWcge1xuICBmbGFnczogUmVjb3JkPHN0cmluZywgYm9vbGVhbj47XG4gIGNhdGVnb3JpZXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZ1tdPjtcbiAgZW52aXJvbm1lbnQ6IHN0cmluZztcbiAgdmVyc2lvbjogc3RyaW5nO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEZlYXR1cmVGbGFnTWFuYWdlciB7XG4gIGlzRW5hYmxlZChmbGFnSWQ6IHN0cmluZyk6IGJvb2xlYW47XG4gIGlzRGlzYWJsZWQoZmxhZ0lkOiBzdHJpbmcpOiBib29sZWFuO1xuICBlbmFibGUoZmxhZ0lkOiBzdHJpbmcpOiBib29sZWFuO1xuICBkaXNhYmxlKGZsYWdJZDogc3RyaW5nKTogYm9vbGVhbjtcbiAgdG9nZ2xlKGZsYWdJZDogc3RyaW5nKTogYm9vbGVhbjtcbiAgZ2V0RmxhZyhmbGFnSWQ6IHN0cmluZyk6IEZlYXR1cmVGbGFnIHwgdW5kZWZpbmVkO1xuICBnZXRBbGxGbGFncygpOiBNYXA8c3RyaW5nLCBGZWF0dXJlRmxhZz47XG4gIGdldEVuYWJsZWRGbGFncygpOiBGZWF0dXJlRmxhZ1tdO1xuICBnZXREaXNhYmxlZEZsYWdzKCk6IEZlYXR1cmVGbGFnW107XG4gIGdldEZsYWdzQnlDYXRlZ29yeShjYXRlZ29yeTogJ2NvcmUnIHwgJ29wdGlvbmFsJyB8ICdleHBlcmltZW50YWwnKTogRmVhdHVyZUZsYWdbXTtcbiAgZ2V0U3lzdGVtSW5mbygpOiB7XG4gICAgdG90YWxGbGFnczogbnVtYmVyO1xuICAgIGVuYWJsZWRGbGFnczogbnVtYmVyO1xuICAgIGRpc2FibGVkRmxhZ3M6IG51bWJlcjtcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nO1xuICAgIGNhdGVnb3JpZXM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG4gIH07XG4gIHN1YnNjcmliZShjYWxsYmFjazogKGZsYWdzOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPikgPT4gdm9pZCk6IHsgdW5zdWJzY3JpYmU6ICgpID0+IHZvaWQgfTtcbiAgdXBkYXRlRmxhZ01ldGFkYXRhKGZsYWdJZDogc3RyaW5nLCBtZXRhZGF0YTogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiBib29sZWFuO1xuICByZXNldCgpOiB2b2lkO1xuICBleHBvcnRDb25maWcoKTogRmVhdHVyZUZsYWdDb25maWc7XG4gIGltcG9ydENvbmZpZyhjb25maWc6IEZlYXR1cmVGbGFnQ29uZmlnKTogdm9pZDtcbiAgYXJlRGVwZW5kZW5jaWVzRW5hYmxlZChmbGFnSWQ6IHN0cmluZyk6IGJvb2xlYW47XG59XG5cbi8vIEZlYXR1cmUgRmxhZyBEZWZpbml0aW9uc1xuZXhwb3J0IGNvbnN0IEZFQVRVUkVfRkxBR1MgPSB7XG4gIC8vID09PT09IENPUkUgTVZQIEZFQVRVUkVTIChBbHdheXMgRW5hYmxlZCkgPT09PT1cbiAgV0VCQVVUSE46IHRydWUsXG4gIFBXQTogdHJ1ZSxcbiAgQURNSU46IHRydWUsXG4gIEZFRURCQUNLX1dJREdFVDogdHJ1ZSwgICAgICAgIC8vIENSSVRJQ0FMOiBVc2VyIGZlZWRiYWNrIGNvbGxlY3Rpb24gd2lkZ2V0XG4gIFxuICAvLyA9PT09PSBBRE1JTiBGRUFUVVJFUyAoTmljZS10by1oYXZlIGZvciBNVlApID09PT09XG4gIFVTRVJfU1VHR0VTVElPTlNfTUFOQUdFUjogZmFsc2UsIC8vIEFkbWluIGNhbiBhY2Nlc3MgZnJvbSBsYXB0b3AgZm9yIG5vd1xuICBcbiAgLy8gPT09PT0gRU5IQU5DRUQgTVZQIEZFQVRVUkVTIChGVUxMWSBJTVBMRU1FTlRFRCkgPT09PT1cbiAgRU5IQU5DRURfUFJPRklMRTogdHJ1ZSwgICAgICAgICAgICAvLyBBZHZhbmNlZCBwcm9maWxlIG1hbmFnZW1lbnQgd2l0aCBwcml2YWN5IGNvbnRyb2xzXG4gIEVOSEFOQ0VEX1BPTExTOiB0cnVlLCAgICAgICAgICAgICAgLy8gQWR2YW5jZWQgcG9sbCBjcmVhdGlvbiBhbmQgbWFuYWdlbWVudCBzeXN0ZW0gKDE2NCBwb2xscyBhY3RpdmUpXG4gIEVOSEFOQ0VEX1ZPVElORzogdHJ1ZSwgICAgICAgICAgICAgLy8gQWR2YW5jZWQgdm90aW5nIG1ldGhvZHMgYW5kIGFuYWx5dGljcyAoMyB2b3RlcyBhY3RpdmUpXG4gIENJVklDU19BRERSRVNTX0xPT0tVUDogdHJ1ZSwgICAgICAgLy8gQWRkcmVzcy1iYXNlZCByZXByZXNlbnRhdGl2ZSBsb29rdXAgc3lzdGVtIChJTVBMRU1FTlRFRClcbiAgQ0lWSUNTX1JFUFJFU0VOVEFUSVZFX0RBVEFCQVNFOiB0cnVlLCAvLyBGZWRlcmFsLCBzdGF0ZSwgYW5kIGxvY2FsIHJlcHJlc2VudGF0aXZlIGRhdGFiYXNlIChJTVBMRU1FTlRFRCAtIDEsMjczIHJlcHJlc2VudGF0aXZlcylcbiAgQ0lWSUNTX0NBTVBBSUdOX0ZJTkFOQ0U6IHRydWUsICAgICAvLyBGRUMgY2FtcGFpZ24gZmluYW5jZSBkYXRhIGludGVncmF0aW9uIChJTVBMRU1FTlRFRCAtIDkyIEZFQyByZWNvcmRzKVxuICBDSVZJQ1NfVk9USU5HX1JFQ09SRFM6IHRydWUsICAgICAgIC8vIENvbmdyZXNzaW9uYWwgdm90aW5nIHJlY29yZHMgYW5kIGFuYWx5c2lzIChJTVBMRU1FTlRFRCAtIDIsMTg1IHZvdGluZyByZWNvcmRzKVxuICBDQU5ESURBVEVfQUNDT1VOVEFCSUxJVFk6IHRydWUsICAgIC8vIFByb21pc2UgdHJhY2tpbmcgYW5kIHBlcmZvcm1hbmNlIG1ldHJpY3MgKElNUExFTUVOVEVEKVxuICBDQU5ESURBVEVfQ0FSRFM6IHRydWUsICAgICAgICAgICAgIC8vIENvbXByZWhlbnNpdmUgY2FuZGlkYXRlIGluZm9ybWF0aW9uIGNhcmRzICgyIGNhbmRpZGF0ZXMpXG4gIEFMVEVSTkFUSVZFX0NBTkRJREFURVM6IHRydWUsICAgICAgLy8gUGxhdGZvcm0gZm9yIG5vbi1kdW9wb2x5IGNhbmRpZGF0ZXMgKElNUExFTUVOVEVEKVxuICBcbiAgLy8gPT09PT0gRlVUVVJFIEZFQVRVUkVTIChEZXZlbG9wbWVudCBSZXF1aXJlZCkgPT09PT1cbiAgQVVUT01BVEVEX1BPTExTOiBmYWxzZSwgICAgICAgICAgICAvLyBBSS1wb3dlcmVkIHBvbGwgZ2VuZXJhdGlvbiBmcm9tIHRyZW5kaW5nIHRvcGljc1xuICBERU1PR1JBUEhJQ19GSUxURVJJTkc6IGZhbHNlLCAgICAgIC8vIFBlcnNvbmFsaXplIGNvbnRlbnQgYmFzZWQgb24gdXNlciBkZW1vZ3JhcGhpY3MgKE5PVCBJTVBMRU1FTlRFRClcbiAgVFJFTkRJTkdfUE9MTFM6IGZhbHNlLCAgICAgICAgICAgICAvLyBJZGVudGlmeSBhbmQgc3VyZmFjZSB0cmVuZGluZyBwb2xscyBhbmQgdG9waWNzIChOT1QgSU1QTEVNRU5URUQpXG4gIEFEVkFOQ0VEX1BSSVZBQ1k6IGZhbHNlLCAgICAgICAgICAgLy8gWmVyby1rbm93bGVkZ2UgcHJvb2ZzIGFuZCBkaWZmZXJlbnRpYWwgcHJpdmFjeSAoUEFSVElBTExZIElNUExFTUVOVEVEIC0gMzAlKVxuICBNRURJQV9CSUFTX0FOQUxZU0lTOiBmYWxzZSwgICAgICAgIC8vIE1lZGlhIGJpYXMgZGV0ZWN0aW9uIGFuZCBhbmFseXNpcyAobm90IE1WUCByZWFkeSlcbiAgUE9MTF9OQVJSQVRJVkVfU1lTVEVNOiBmYWxzZSwgICAgICAvLyBBSS1wb3dlcmVkIHBvbGwgbmFycmF0aXZlIGdlbmVyYXRpb24gKFBBUlRJQUxMWSBJTVBMRU1FTlRFRCAtIDcwJSlcbiAgU09DSUFMX1NIQVJJTkc6IHRydWUsICAgICAgICAgICAgICAvLyBNYXN0ZXIgc3dpdGNoIGZvciBhbGwgc29jaWFsIGZlYXR1cmVzIChJTVBMRU1FTlRFRCAtIDEwMCUpXG4gIFNPQ0lBTF9TSEFSSU5HX1BPTExTOiBmYWxzZSwgICAgICAgLy8gUG9sbCBzaGFyaW5nIChUd2l0dGVyLCBGYWNlYm9vaywgTGlua2VkSW4pIChQQVJUSUFMTFkgSU1QTEVNRU5URUQgLSA2MCUpXG4gIFNPQ0lBTF9TSEFSSU5HX0NJVklDUzogZmFsc2UsICAgICAgLy8gUmVwcmVzZW50YXRpdmUgc2hhcmluZyAoUEFSVElBTExZIElNUExFTUVOVEVEIC0gNjAlKVxuICBTT0NJQUxfU0hBUklOR19WSVNVQUw6IGZhbHNlLCAgICAgIC8vIFZpc3VhbCBjb250ZW50IGdlbmVyYXRpb24gKElHLCBUaWtUb2spIChOT1QgSU1QTEVNRU5URUQpXG4gIFNPQ0lBTF9TSEFSSU5HX09HOiBmYWxzZSwgICAgICAgICAgLy8gRHluYW1pYyBPcGVuIEdyYXBoIGltYWdlIGdlbmVyYXRpb24gKE5PVCBJTVBMRU1FTlRFRClcbiAgU09DSUFMX1NJR05VUDogZmFsc2UsICAgICAgICAgICAgICAvLyBTb2NpYWwgT0F1dGggc2lnbnVwIChOT1QgSU1QTEVNRU5URUQpXG4gIENPTlRBQ1RfSU5GT1JNQVRJT05fU1lTVEVNOiBmYWxzZSwgLy8gQ29udGFjdCBpbmZvcm1hdGlvbiBzeXN0ZW0gKFBBUlRJQUxMWSBJTVBMRU1FTlRFRCAtIDUwJSlcbiAgQ0lWSUNTX1RFU1RJTkdfU1RSQVRFR1k6IGZhbHNlLCAgICAvLyBDaXZpY3MgdGVzdGluZyBzdHJhdGVneSAoTk9UIElNUExFTUVOVEVEKVxuICBERVZJQ0VfRkxPV19BVVRIOiBmYWxzZSwgICAgICAgICAgIC8vIE9BdXRoIDIuMCBEZXZpY2UgQXV0aG9yaXphdGlvbiBHcmFudCBmbG93IChQQVJUSUFMTFkgSU1QTEVNRU5URUQgLSA4MCUpXG4gIFxuICAvLyA9PT09PSBQRVJGT1JNQU5DRSAmIE9QVElNSVpBVElPTiA9PT09PVxuICBQRVJGT1JNQU5DRV9PUFRJTUlaQVRJT046IHRydWUsICAgLy8gSW1hZ2Ugb3B0aW1pemF0aW9uLCB2aXJ0dWFsIHNjcm9sbGluZywgbGF6eSBsb2FkaW5nIChlbmFibGVkIGZvciBtb2JpbGUpXG4gIEZFQVRVUkVfREJfT1BUSU1JWkFUSU9OX1NVSVRFOiB0cnVlLCAvLyBEYXRhYmFzZSBvcHRpbWl6YXRpb24gc3VpdGUgLSBlbmFibGVkIGZvciBwZXJmb3JtYW5jZVxuICBBTkFMWVRJQ1M6IHRydWUsICAgICAgICAgICAgICAgICAgIC8vIEFkdmFuY2VkIGFuYWx5dGljcyBhbmQgdXNlciBpbnNpZ2h0c1xuICBcbiAgLy8gPT09PT0gU1lTVEVNIEZFQVRVUkVTID09PT09XG4gIFBVU0hfTk9USUZJQ0FUSU9OUzogdHJ1ZSwgICAgICAgICAgLy8gUHVzaCBub3RpZmljYXRpb25zIGFuZCBhbGVydHMgKGVuYWJsZWQgZm9yIG1vYmlsZSBQV0EpXG4gIFRIRU1FUzogdHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgLy8gRGFyayBtb2RlIGFuZCB0aGVtZSBjdXN0b21pemF0aW9uIChlbmFibGVkIGZvciBtb2JpbGUgVVgpXG4gIEFDQ0VTU0lCSUxJVFk6IHRydWUsICAgICAgICAgICAgICAgLy8gQWR2YW5jZWQgYWNjZXNzaWJpbGl0eSBmZWF0dXJlcyAoZW5hYmxlZCBmb3IgbW9iaWxlIGFjY2Vzc2liaWxpdHkpXG4gIElOVEVSTkFUSU9OQUxJWkFUSU9OOiBmYWxzZSwgICAgICAgLy8gTXVsdGktbGFuZ3VhZ2Ugc3VwcG9ydFxuICBcbiAgLy8gTGVnYWN5IGZsYWdzIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gIENPUkVfQVVUSDogdHJ1ZSxcbiAgQ09SRV9QT0xMUzogdHJ1ZSxcbiAgQ09SRV9VU0VSUzogdHJ1ZSxcbiAgRVhQRVJJTUVOVEFMX1VJRmVhdHVyZTogZmFsc2UsXG4gIEFJRmVhdHVyZXNGZWF0dXJlOiBmYWxzZSxcbiAgQWR2YW5jZWRQcml2YWN5RmVhdHVyZTogZmFsc2UsXG4gIEFuYWx5dGljc0ZlYXR1cmU6IGZhbHNlLFxuICBQV0FGZWF0dXJlOiB0cnVlLFxuICBBZG1pbkZlYXR1cmU6IHRydWUsXG4gIEF1ZGl0RmVhdHVyZTogZmFsc2UsXG4gIEV4cGVyaW1lbnRhbFVJRmVhdHVyZTogZmFsc2UsXG4gIFZvdGluZ0ZlYXR1cmU6IHRydWUsXG4gIERhdGFiYXNlRmVhdHVyZTogdHJ1ZSxcbiAgQVBJRmVhdHVyZTogdHJ1ZSxcbiAgVUlGZWF0dXJlOiB0cnVlLFxuICBBdXRoRmVhdHVyZTogdHJ1ZVxufSBhcyBjb25zdDtcblxuLy8gRmVhdHVyZSBGbGFnIENhdGVnb3JpZXNcbmV4cG9ydCBjb25zdCBGRUFUVVJFX0ZMQUdfQ0FURUdPUklFUzogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge1xuICBjb3JlOiBbJ1dFQkFVVEhOJywgJ1BXQScsICdBRE1JTicsICdGRUVEQkFDS19XSURHRVQnLCAnQ09SRV9BVVRIJywgJ0NPUkVfUE9MTFMnLCAnQ09SRV9VU0VSUyddLFxuICBlbmhhbmNlZDogWydFTkhBTkNFRF9QUk9GSUxFJywgJ0VOSEFOQ0VEX1BPTExTJywgJ0VOSEFOQ0VEX1ZPVElORyddLFxuICBjaXZpY3M6IFsnQ0lWSUNTX0FERFJFU1NfTE9PS1VQJywgJ0NJVklDU19SRVBSRVNFTlRBVElWRV9EQVRBQkFTRScsICdDSVZJQ1NfQ0FNUEFJR05fRklOQU5DRScsICdDSVZJQ1NfVk9USU5HX1JFQ09SRFMnLCAnQ0FORElEQVRFX0FDQ09VTlRBQklMSVRZJywgJ0NBTkRJREFURV9DQVJEUycsICdBTFRFUk5BVElWRV9DQU5ESURBVEVTJ10sXG4gIGZ1dHVyZTogWydBVVRPTUFURURfUE9MTFMnLCAnREVNT0dSQVBISUNfRklMVEVSSU5HJywgJ1RSRU5ESU5HX1BPTExTJywgJ0FEVkFOQ0VEX1BSSVZBQ1knLCAnTUVESUFfQklBU19BTkFMWVNJUycsICdQT0xMX05BUlJBVElWRV9TWVNURU0nXSxcbiAgcGVyZm9ybWFuY2U6IFsnUEVSRk9STUFOQ0VfT1BUSU1JWkFUSU9OJywgJ0ZFQVRVUkVfREJfT1BUSU1JWkFUSU9OX1NVSVRFJ10sXG4gIHNvY2lhbDogWydTT0NJQUxfU0hBUklORycsICdTT0NJQUxfU0hBUklOR19QT0xMUycsICdTT0NJQUxfU0hBUklOR19DSVZJQ1MnLCAnU09DSUFMX1NIQVJJTkdfVklTVUFMJywgJ1NPQ0lBTF9TSEFSSU5HX09HJywgJ1NPQ0lBTF9TSUdOVVAnXSxcbiAgc3lzdGVtOiBbJ1BVU0hfTk9USUZJQ0FUSU9OUycsICdUSEVNRVMnLCAnQUNDRVNTSUJJTElUWScsICdJTlRFUk5BVElPTkFMSVpBVElPTiddLFxuICBhbmFseXRpY3M6IFsnQU5BTFlUSUNTJ10sXG4gIGFkbWluOiBbJ1VTRVJfU1VHR0VTVElPTlNfTUFOQUdFUiddLFxuICBjb250YWN0OiBbJ0NPTlRBQ1RfSU5GT1JNQVRJT05fU1lTVEVNJ10sXG4gIHRlc3Rpbmc6IFsnQ0lWSUNTX1RFU1RJTkdfU1RSQVRFR1knXSxcbiAgYXV0aDogWydERVZJQ0VfRkxPV19BVVRIJ10sXG4gIGxlZ2FjeTogWydFWFBFUklNRU5UQUxfVUlGZWF0dXJlJywgJ0FJRmVhdHVyZXNGZWF0dXJlJywgJ0FkdmFuY2VkUHJpdmFjeUZlYXR1cmUnLCAnQW5hbHl0aWNzRmVhdHVyZScsICdQV0FGZWF0dXJlJywgJ0FkbWluRmVhdHVyZScsICdBdWRpdEZlYXR1cmUnLCAnRXhwZXJpbWVudGFsVUlGZWF0dXJlJywgJ1ZvdGluZ0ZlYXR1cmUnLCAnRGF0YWJhc2VGZWF0dXJlJywgJ0FQSUZlYXR1cmUnLCAnVUlGZWF0dXJlJywgJ0F1dGhGZWF0dXJlJ11cbn07XG5cbi8vIEZlYXR1cmUgRmxhZyBEZXBlbmRlbmNpZXNcbmV4cG9ydCBjb25zdCBGRUFUVVJFX0ZMQUdfREVQRU5ERU5DSUVTOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7XG4gIEVOSEFOQ0VEX1BST0ZJTEU6IFsnQ09SRV9BVVRIJ10sXG4gIEVOSEFOQ0VEX1BPTExTOiBbJ0NPUkVfUE9MTFMnXSxcbiAgRU5IQU5DRURfVk9USU5HOiBbJ0NPUkVfUE9MTFMnXSxcbiAgQ0lWSUNTX0FERFJFU1NfTE9PS1VQOiBbJ0NPUkVfQVVUSCddLFxuICBDSVZJQ1NfUkVQUkVTRU5UQVRJVkVfREFUQUJBU0U6IFsnQ0lWSUNTX0FERFJFU1NfTE9PS1VQJ10sXG4gIENJVklDU19DQU1QQUlHTl9GSU5BTkNFOiBbJ0NJVklDU19SRVBSRVNFTlRBVElWRV9EQVRBQkFTRSddLFxuICBDSVZJQ1NfVk9USU5HX1JFQ09SRFM6IFsnQ0lWSUNTX1JFUFJFU0VOVEFUSVZFX0RBVEFCQVNFJ10sXG4gIENBTkRJREFURV9BQ0NPVU5UQUJJTElUWTogWydDSVZJQ1NfUkVQUkVTRU5UQVRJVkVfREFUQUJBU0UnXSxcbiAgQ0FORElEQVRFX0NBUkRTOiBbJ0NJVklDU19SRVBSRVNFTlRBVElWRV9EQVRBQkFTRSddLFxuICBBTFRFUk5BVElWRV9DQU5ESURBVEVTOiBbJ0NJVklDU19SRVBSRVNFTlRBVElWRV9EQVRBQkFTRSddLFxuICBBVVRPTUFURURfUE9MTFM6IFsnQU5BTFlUSUNTJ10sXG4gIERFTU9HUkFQSElDX0ZJTFRFUklORzogWydBTkFMWVRJQ1MnXSxcbiAgVFJFTkRJTkdfUE9MTFM6IFsnQU5BTFlUSUNTJ10sXG4gIFNPQ0lBTF9TSEFSSU5HX1BPTExTOiBbJ1NPQ0lBTF9TSEFSSU5HJ10sXG4gIFNPQ0lBTF9TSEFSSU5HX0NJVklDUzogWydTT0NJQUxfU0hBUklORyddLFxuICBTT0NJQUxfU0hBUklOR19WSVNVQUw6IFsnU09DSUFMX1NIQVJJTkcnXSxcbiAgU09DSUFMX1NIQVJJTkdfT0c6IFsnU09DSUFMX1NIQVJJTkcnXSxcbiAgU09DSUFMX1NJR05VUDogWydTT0NJQUxfU0hBUklORyddLFxuICBDT05UQUNUX0lORk9STUFUSU9OX1NZU1RFTTogWydDSVZJQ1NfUkVQUkVTRU5UQVRJVkVfREFUQUJBU0UnXSxcbiAgREVWSUNFX0ZMT1dfQVVUSDogWydDT1JFX0FVVEgnXSxcbiAgLy8gTGVnYWN5IGRlcGVuZGVuY2llc1xuICBBSUZlYXR1cmVzRmVhdHVyZTogWydBTkFMWVRJQ1MnXSxcbiAgQWR2YW5jZWRQcml2YWN5RmVhdHVyZTogWydBRFZBTkNFRF9QUklWQUNZJ10sXG4gIEFuYWx5dGljc0ZlYXR1cmU6IFsnQU5BTFlUSUNTJ10sXG4gIFBXQUZlYXR1cmU6IFsnUFdBJ10sXG4gIEFkbWluRmVhdHVyZTogWydBRE1JTiddLFxuICBBdWRpdEZlYXR1cmU6IFsnQURNSU4nXSxcbiAgRXhwZXJpbWVudGFsVUlGZWF0dXJlOiBbJ0FOQUxZVElDUyddLFxuICBWb3RpbmdGZWF0dXJlOiBbJ0NPUkVfUE9MTFMnXSxcbiAgRGF0YWJhc2VGZWF0dXJlOiBbJ0NPUkVfQVVUSCddLFxuICBBUElGZWF0dXJlOiBbJ0NPUkVfQVVUSCddLFxuICBVSUZlYXR1cmU6IFsnQ09SRV9BVVRIJ10sXG4gIEF1dGhGZWF0dXJlOiBbJ0NPUkVfQVVUSCddXG59O1xuXG4vLyBGZWF0dXJlIEZsYWcgTWFuYWdlciBJbXBsZW1lbnRhdGlvblxuY2xhc3MgRmVhdHVyZUZsYWdNYW5hZ2VySW1wbCBpbXBsZW1lbnRzIEZlYXR1cmVGbGFnTWFuYWdlciB7XG4gIHByaXZhdGUgZmxhZ3M6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+O1xuICBwcml2YXRlIHN1YnNjcmliZXJzOiBTZXQ8KGZsYWdzOiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPikgPT4gdm9pZD47XG4gIHByaXZhdGUgbWV0YWRhdGE6IE1hcDxzdHJpbmcsIFJlY29yZDxzdHJpbmcsIHVua25vd24+PjtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmZsYWdzID0geyAuLi5GRUFUVVJFX0ZMQUdTIH07XG4gICAgdGhpcy5zdWJzY3JpYmVycyA9IG5ldyBTZXQoKTtcbiAgICB0aGlzLm1ldGFkYXRhID0gbmV3IE1hcCgpO1xuICAgIFxuICAgIC8vIEluaXRpYWxpemUgbWV0YWRhdGFcbiAgICB0aGlzLmluaXRpYWxpemVNZXRhZGF0YSgpO1xuICAgIFxuICAgIGxvZ2dlci5pbmZvKCdGZWF0dXJlIGZsYWcgbWFuYWdlciBpbml0aWFsaXplZCcsIHtcbiAgICAgIHRvdGFsRmxhZ3M6IE9iamVjdC5rZXlzKHRoaXMuZmxhZ3MpLmxlbmd0aCxcbiAgICAgIGVuYWJsZWRGbGFnczogT2JqZWN0LnZhbHVlcyh0aGlzLmZsYWdzKS5maWx0ZXIoQm9vbGVhbikubGVuZ3RoXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGluaXRpYWxpemVNZXRhZGF0YSgpOiB2b2lkIHtcbiAgICBPYmplY3Qua2V5cyh0aGlzLmZsYWdzKS5mb3JFYWNoKGZsYWdJZCA9PiB7XG4gICAgICB0aGlzLm1ldGFkYXRhLnNldChmbGFnSWQsIHtcbiAgICAgICAgY2F0ZWdvcnk6IHRoaXMuZ2V0Q2F0ZWdvcnlGb3JGbGFnKGZsYWdJZCksXG4gICAgICAgIGRlcGVuZGVuY2llczogRkVBVFVSRV9GTEFHX0RFUEVOREVOQ0lFU1tmbGFnSWRdIHx8IFtdLFxuICAgICAgICBkZXNjcmlwdGlvbjogYEZlYXR1cmUgZmxhZyBmb3IgJHtmbGFnSWQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICcgJyl9YCxcbiAgICAgICAgbGFzdE1vZGlmaWVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDYXRlZ29yeUZvckZsYWcoZmxhZ0lkOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGZvciAoY29uc3QgW2NhdGVnb3J5LCBmbGFnc10gb2YgT2JqZWN0LmVudHJpZXMoRkVBVFVSRV9GTEFHX0NBVEVHT1JJRVMpKSB7XG4gICAgICBpZiAoZmxhZ3MuaW5jbHVkZXMoZmxhZ0lkKSkge1xuICAgICAgICByZXR1cm4gY2F0ZWdvcnk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnZ2VuZXJhbCc7XG4gIH1cblxuICBpc0VuYWJsZWQoZmxhZ0lkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBub3JtYWxpemVkSWQgPSB0aGlzLm5vcm1hbGl6ZUZsYWdJZChmbGFnSWQpO1xuICAgIHJldHVybiB0aGlzLmZsYWdzW25vcm1hbGl6ZWRJZF0gPT09IHRydWU7XG4gIH1cblxuICBpc0Rpc2FibGVkKGZsYWdJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuICF0aGlzLmlzRW5hYmxlZChmbGFnSWQpO1xuICB9XG5cbiAgZW5hYmxlKGZsYWdJZDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgbm9ybWFsaXplZElkID0gdGhpcy5ub3JtYWxpemVGbGFnSWQoZmxhZ0lkKTtcbiAgICBcbiAgICBpZiAoIShub3JtYWxpemVkSWQgaW4gdGhpcy5mbGFncykpIHtcbiAgICAgIGxvZ2dlci53YXJuKCdBdHRlbXB0ZWQgdG8gZW5hYmxlIHVua25vd24gZmVhdHVyZSBmbGFnJywgeyBmbGFnSWQ6IG5vcm1hbGl6ZWRJZCB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mbGFnc1tub3JtYWxpemVkSWRdID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTsgLy8gQWxyZWFkeSBlbmFibGVkXG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZGVwZW5kZW5jaWVzXG4gICAgaWYgKCF0aGlzLmFyZURlcGVuZGVuY2llc0VuYWJsZWQobm9ybWFsaXplZElkKSkge1xuICAgICAgbG9nZ2VyLndhcm4oJ0Nhbm5vdCBlbmFibGUgZmVhdHVyZSBmbGFnIC0gZGVwZW5kZW5jaWVzIG5vdCBtZXQnLCB7IFxuICAgICAgICBmbGFnSWQ6IG5vcm1hbGl6ZWRJZCwgXG4gICAgICAgIGRlcGVuZGVuY2llczogRkVBVFVSRV9GTEFHX0RFUEVOREVOQ0lFU1tub3JtYWxpemVkSWRdIFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdGhpcy5mbGFnc1tub3JtYWxpemVkSWRdID0gdHJ1ZTtcbiAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XG4gICAgXG4gICAgbG9nZ2VyLmluZm8oJ0ZlYXR1cmUgZmxhZyBlbmFibGVkJywgeyBmbGFnSWQ6IG5vcm1hbGl6ZWRJZCB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGRpc2FibGUoZmxhZ0lkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBub3JtYWxpemVkSWQgPSB0aGlzLm5vcm1hbGl6ZUZsYWdJZChmbGFnSWQpO1xuICAgIFxuICAgIGlmICghKG5vcm1hbGl6ZWRJZCBpbiB0aGlzLmZsYWdzKSkge1xuICAgICAgbG9nZ2VyLndhcm4oJ0F0dGVtcHRlZCB0byBkaXNhYmxlIHVua25vd24gZmVhdHVyZSBmbGFnJywgeyBmbGFnSWQ6IG5vcm1hbGl6ZWRJZCB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5mbGFnc1tub3JtYWxpemVkSWRdID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIHRydWU7IC8vIEFscmVhZHkgZGlzYWJsZWRcbiAgICB9XG5cbiAgICB0aGlzLmZsYWdzW25vcm1hbGl6ZWRJZF0gPSBmYWxzZTtcbiAgICB0aGlzLm5vdGlmeVN1YnNjcmliZXJzKCk7XG4gICAgXG4gICAgbG9nZ2VyLmluZm8oJ0ZlYXR1cmUgZmxhZyBkaXNhYmxlZCcsIHsgZmxhZ0lkOiBub3JtYWxpemVkSWQgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICB0b2dnbGUoZmxhZ0lkOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBub3JtYWxpemVkSWQgPSB0aGlzLm5vcm1hbGl6ZUZsYWdJZChmbGFnSWQpO1xuICAgIFxuICAgIGlmICh0aGlzLmlzRW5hYmxlZChub3JtYWxpemVkSWQpKSB7XG4gICAgICByZXR1cm4gdGhpcy5kaXNhYmxlKG5vcm1hbGl6ZWRJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLmVuYWJsZShub3JtYWxpemVkSWQpO1xuICAgIH1cbiAgfVxuXG4gIGdldEZsYWcoZmxhZ0lkOiBzdHJpbmcpOiBGZWF0dXJlRmxhZyB8IHVuZGVmaW5lZCB7XG4gICAgY29uc3Qgbm9ybWFsaXplZElkID0gdGhpcy5ub3JtYWxpemVGbGFnSWQoZmxhZ0lkKTtcbiAgICBcbiAgICBpZiAoIShub3JtYWxpemVkSWQgaW4gdGhpcy5mbGFncykpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgY29uc3QgbWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhLmdldChub3JtYWxpemVkSWQpIHx8IHt9O1xuICAgIFxuICAgIHJldHVybiB7XG4gICAgICBpZDogbm9ybWFsaXplZElkLFxuICAgICAgbmFtZTogbm9ybWFsaXplZElkLnJlcGxhY2UoL18vZywgJyAnKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xcYlxcdy9nLCBsID0+IGwudG9VcHBlckNhc2UoKSksXG4gICAgICBlbmFibGVkOiB0aGlzLmZsYWdzW25vcm1hbGl6ZWRJZF0gPz8gZmFsc2UsXG4gICAgICBkZXNjcmlwdGlvbjogbWV0YWRhdGEuZGVzY3JpcHRpb24gYXMgc3RyaW5nIHx8IGBGZWF0dXJlIGZsYWcgZm9yICR7bm9ybWFsaXplZElkLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCAnICcpfWAsXG4gICAgICBjYXRlZ29yeTogbWV0YWRhdGEuY2F0ZWdvcnkgYXMgc3RyaW5nLFxuICAgICAgZGVwZW5kZW5jaWVzOiBtZXRhZGF0YS5kZXBlbmRlbmNpZXMgYXMgc3RyaW5nW10sXG4gICAgICBtZXRhZGF0YVxuICAgIH07XG4gIH1cblxuICBnZXRBbGxGbGFncygpOiBNYXA8c3RyaW5nLCBGZWF0dXJlRmxhZz4ge1xuICAgIGNvbnN0IGZsYWdzID0gbmV3IE1hcDxzdHJpbmcsIEZlYXR1cmVGbGFnPigpO1xuICAgIFxuICAgIE9iamVjdC5rZXlzKHRoaXMuZmxhZ3MpLmZvckVhY2goZmxhZ0lkID0+IHtcbiAgICAgIGNvbnN0IGZsYWcgPSB0aGlzLmdldEZsYWcoZmxhZ0lkKTtcbiAgICAgIGlmIChmbGFnKSB7XG4gICAgICAgIGZsYWdzLnNldChmbGFnSWQsIGZsYWcpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBmbGFncztcbiAgfVxuXG4gIGdldEVuYWJsZWRGbGFncygpOiBGZWF0dXJlRmxhZ1tdIHtcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmdldEFsbEZsYWdzKCkudmFsdWVzKCkpLmZpbHRlcihmbGFnID0+IGZsYWcuZW5hYmxlZCk7XG4gIH1cblxuICBnZXREaXNhYmxlZEZsYWdzKCk6IEZlYXR1cmVGbGFnW10ge1xuICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuZ2V0QWxsRmxhZ3MoKS52YWx1ZXMoKSkuZmlsdGVyKGZsYWcgPT4gIWZsYWcuZW5hYmxlZCk7XG4gIH1cblxuICBnZXRGbGFnc0J5Q2F0ZWdvcnkoY2F0ZWdvcnk6IGtleW9mIHR5cGVvZiBGRUFUVVJFX0ZMQUdfQ0FURUdPUklFUyk6IEZlYXR1cmVGbGFnW10ge1xuICAgIGNvbnN0IGNhdGVnb3J5RmxhZ3MgPSBGRUFUVVJFX0ZMQUdfQ0FURUdPUklFU1tjYXRlZ29yeV0gfHwgW107XG4gICAgcmV0dXJuIEFycmF5LmZyb20odGhpcy5nZXRBbGxGbGFncygpLnZhbHVlcygpKS5maWx0ZXIoZmxhZyA9PiBcbiAgICAgIGNhdGVnb3J5RmxhZ3MuaW5jbHVkZXMoZmxhZy5pZClcbiAgICApO1xuICB9XG5cbiAgZ2V0U3lzdGVtSW5mbygpOiB7XG4gICAgdG90YWxGbGFnczogbnVtYmVyO1xuICAgIGVuYWJsZWRGbGFnczogbnVtYmVyO1xuICAgIGRpc2FibGVkRmxhZ3M6IG51bWJlcjtcbiAgICBlbnZpcm9ubWVudDogc3RyaW5nO1xuICAgIGNhdGVnb3JpZXM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj47XG4gIH0ge1xuICAgIGNvbnN0IGFsbEZsYWdzID0gdGhpcy5nZXRBbGxGbGFncygpO1xuICAgIGNvbnN0IGVuYWJsZWRGbGFncyA9IHRoaXMuZ2V0RW5hYmxlZEZsYWdzKCk7XG4gICAgY29uc3QgZGlzYWJsZWRGbGFncyA9IHRoaXMuZ2V0RGlzYWJsZWRGbGFncygpO1xuICAgIFxuICAgIGNvbnN0IGNhdGVnb3JpZXM6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fTtcbiAgICBPYmplY3Qua2V5cyhGRUFUVVJFX0ZMQUdfQ0FURUdPUklFUykuZm9yRWFjaChjYXRlZ29yeSA9PiB7XG4gICAgICBjYXRlZ29yaWVzW2NhdGVnb3J5XSA9IHRoaXMuZ2V0RmxhZ3NCeUNhdGVnb3J5KGNhdGVnb3J5IGFzIGFueSkubGVuZ3RoO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHRvdGFsRmxhZ3M6IGFsbEZsYWdzLnNpemUsXG4gICAgICBlbmFibGVkRmxhZ3M6IGVuYWJsZWRGbGFncy5sZW5ndGgsXG4gICAgICBkaXNhYmxlZEZsYWdzOiBkaXNhYmxlZEZsYWdzLmxlbmd0aCxcbiAgICAgIGVudmlyb25tZW50OiBwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnLFxuICAgICAgY2F0ZWdvcmllc1xuICAgIH07XG4gIH1cblxuICBzdWJzY3JpYmUoY2FsbGJhY2s6IChmbGFnczogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4pID0+IHZvaWQpOiB7IHVuc3Vic2NyaWJlOiAoKSA9PiB2b2lkIH0ge1xuICAgIHRoaXMuc3Vic2NyaWJlcnMuYWRkKGNhbGxiYWNrKTtcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgdW5zdWJzY3JpYmU6ICgpID0+IHtcbiAgICAgICAgdGhpcy5zdWJzY3JpYmVycy5kZWxldGUoY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB1cGRhdGVGbGFnTWV0YWRhdGEoZmxhZ0lkOiBzdHJpbmcsIG1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IGJvb2xlYW4ge1xuICAgIGNvbnN0IG5vcm1hbGl6ZWRJZCA9IHRoaXMubm9ybWFsaXplRmxhZ0lkKGZsYWdJZCk7XG4gICAgXG4gICAgaWYgKCEobm9ybWFsaXplZElkIGluIHRoaXMuZmxhZ3MpKSB7XG4gICAgICBsb2dnZXIud2FybignQXR0ZW1wdGVkIHRvIHVwZGF0ZSBtZXRhZGF0YSBmb3IgdW5rbm93biBmZWF0dXJlIGZsYWcnLCB7IGZsYWdJZDogbm9ybWFsaXplZElkIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IGV4aXN0aW5nTWV0YWRhdGEgPSB0aGlzLm1ldGFkYXRhLmdldChub3JtYWxpemVkSWQpIHx8IHt9O1xuICAgIHRoaXMubWV0YWRhdGEuc2V0KG5vcm1hbGl6ZWRJZCwgeyAuLi5leGlzdGluZ01ldGFkYXRhLCAuLi5tZXRhZGF0YSB9KTtcbiAgICBcbiAgICBsb2dnZXIuaW5mbygnRmVhdHVyZSBmbGFnIG1ldGFkYXRhIHVwZGF0ZWQnLCB7IGZsYWdJZDogbm9ybWFsaXplZElkLCBtZXRhZGF0YSB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMuZmxhZ3MgPSB7IC4uLkZFQVRVUkVfRkxBR1MgfTtcbiAgICB0aGlzLmluaXRpYWxpemVNZXRhZGF0YSgpO1xuICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgICBcbiAgICBsb2dnZXIuaW5mbygnRmVhdHVyZSBmbGFncyByZXNldCB0byBkZWZhdWx0cycpO1xuICB9XG5cbiAgZXhwb3J0Q29uZmlnKCk6IEZlYXR1cmVGbGFnQ29uZmlnIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmxhZ3M6IHsgLi4udGhpcy5mbGFncyB9LFxuICAgICAgY2F0ZWdvcmllczogeyAuLi5GRUFUVVJFX0ZMQUdfQ0FURUdPUklFUyB9LFxuICAgICAgZW52aXJvbm1lbnQ6IHByb2Nlc3MuZW52Lk5PREVfRU5WIHx8ICdkZXZlbG9wbWVudCcsXG4gICAgICB2ZXJzaW9uOiAnMS4wLjAnXG4gICAgfTtcbiAgfVxuXG4gIGltcG9ydENvbmZpZyhjb25maWc6IEZlYXR1cmVGbGFnQ29uZmlnKTogdm9pZCB7XG4gICAgaWYgKGNvbmZpZy5mbGFncykge1xuICAgICAgdGhpcy5mbGFncyA9IHsgLi4uY29uZmlnLmZsYWdzIH07XG4gICAgfVxuICAgIFxuICAgIHRoaXMubm90aWZ5U3Vic2NyaWJlcnMoKTtcbiAgICBcbiAgICBsb2dnZXIuaW5mbygnRmVhdHVyZSBmbGFnIGNvbmZpZ3VyYXRpb24gaW1wb3J0ZWQnLCB7IFxuICAgICAgdG90YWxGbGFnczogT2JqZWN0LmtleXModGhpcy5mbGFncykubGVuZ3RoIFxuICAgIH0pO1xuICB9XG5cbiAgYXJlRGVwZW5kZW5jaWVzRW5hYmxlZChmbGFnSWQ6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGRlcGVuZGVuY2llcyA9IEZFQVRVUkVfRkxBR19ERVBFTkRFTkNJRVNbZmxhZ0lkXSB8fCBbXTtcbiAgICByZXR1cm4gZGVwZW5kZW5jaWVzLmV2ZXJ5KGRlcCA9PiB0aGlzLmlzRW5hYmxlZChkZXApKTtcbiAgfVxuXG4gIHByaXZhdGUgbm9ybWFsaXplRmxhZ0lkKGZsYWdJZDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAvLyBIYW5kbGUgY2FzZS1pbnNlbnNpdGl2ZSBsb29rdXBzIGFuZCBsZWdhY3kgbmFtaW5nXG4gICAgY29uc3Qgbm9ybWFsaXplZCA9IGZsYWdJZC50b1VwcGVyQ2FzZSgpO1xuICAgIFxuICAgIC8vIENoZWNrIGZvciBleGFjdCBtYXRjaCBmaXJzdFxuICAgIGlmIChub3JtYWxpemVkIGluIHRoaXMuZmxhZ3MpIHtcbiAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgIH1cbiAgICBcbiAgICAvLyBDaGVjayBmb3IgbGVnYWN5IG5hbWluZyBwYXR0ZXJuc1xuICAgIGNvbnN0IGxlZ2FjeU1hcHBpbmdzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgICAgJ0FVVEhFTlRJQ0FUSU9OJzogJ0NPUkVfQVVUSCcsXG4gICAgICAnUE9MTFMnOiAnQ09SRV9QT0xMUycsXG4gICAgICAnVVNFUlMnOiAnQ09SRV9VU0VSUycsXG4gICAgICAnQU5BTFlUSUNTJzogJ0FOQUxZVElDUycsXG4gICAgICAnUFdBJzogJ1BXQScsXG4gICAgICAnQURNSU4nOiAnQURNSU4nLFxuICAgICAgJ1dFQkFVVEhOJzogJ1dFQkFVVEhOJyxcbiAgICAgICdGRUVEQkFDS19XSURHRVQnOiAnRkVFREJBQ0tfV0lER0VUJyxcbiAgICAgICdFTkhBTkNFRF9QUk9GSUxFJzogJ0VOSEFOQ0VEX1BST0ZJTEUnLFxuICAgICAgJ0VOSEFOQ0VEX1BPTExTJzogJ0VOSEFOQ0VEX1BPTExTJyxcbiAgICAgICdFTkhBTkNFRF9WT1RJTkcnOiAnRU5IQU5DRURfVk9USU5HJyxcbiAgICAgICdDSVZJQ1NfQUREUkVTU19MT09LVVAnOiAnQ0lWSUNTX0FERFJFU1NfTE9PS1VQJyxcbiAgICAgICdDSVZJQ1NfUkVQUkVTRU5UQVRJVkVfREFUQUJBU0UnOiAnQ0lWSUNTX1JFUFJFU0VOVEFUSVZFX0RBVEFCQVNFJyxcbiAgICAgICdDSVZJQ1NfQ0FNUEFJR05fRklOQU5DRSc6ICdDSVZJQ1NfQ0FNUEFJR05fRklOQU5DRScsXG4gICAgICAnQ0lWSUNTX1ZPVElOR19SRUNPUkRTJzogJ0NJVklDU19WT1RJTkdfUkVDT1JEUycsXG4gICAgICAnQ0FORElEQVRFX0FDQ09VTlRBQklMSVRZJzogJ0NBTkRJREFURV9BQ0NPVU5UQUJJTElUWScsXG4gICAgICAnQ0FORElEQVRFX0NBUkRTJzogJ0NBTkRJREFURV9DQVJEUycsXG4gICAgICAnQUxURVJOQVRJVkVfQ0FORElEQVRFUyc6ICdBTFRFUk5BVElWRV9DQU5ESURBVEVTJyxcbiAgICAgICdBVVRPTUFURURfUE9MTFMnOiAnQVVUT01BVEVEX1BPTExTJyxcbiAgICAgICdERU1PR1JBUEhJQ19GSUxURVJJTkcnOiAnREVNT0dSQVBISUNfRklMVEVSSU5HJyxcbiAgICAgICdUUkVORElOR19QT0xMUyc6ICdUUkVORElOR19QT0xMUycsXG4gICAgICAnUEVSRk9STUFOQ0VfT1BUSU1JWkFUSU9OJzogJ1BFUkZPUk1BTkNFX09QVElNSVpBVElPTicsXG4gICAgICAnRkVBVFVSRV9EQl9PUFRJTUlaQVRJT05fU1VJVEUnOiAnRkVBVFVSRV9EQl9PUFRJTUlaQVRJT05fU1VJVEUnLFxuICAgICAgJ0VYUEVSSU1FTlRBTF9VSSc6ICdFWFBFUklNRU5UQUxfVUknLFxuICAgICAgJ0VYUEVSSU1FTlRBTF9BTkFMWVRJQ1MnOiAnRVhQRVJJTUVOVEFMX0FOQUxZVElDUycsXG4gICAgICAnRVhQRVJJTUVOVEFMX0NPTVBPTkVOVFMnOiAnRVhQRVJJTUVOVEFMX0NPTVBPTkVOVFMnLFxuICAgICAgJ0FEVkFOQ0VEX1BSSVZBQ1knOiAnQURWQU5DRURfUFJJVkFDWScsXG4gICAgICAnU09DSUFMX1NIQVJJTkcnOiAnU09DSUFMX1NIQVJJTkcnLFxuICAgICAgJ0FJX0ZFQVRVUkVTJzogJ0FJX0ZFQVRVUkVTJ1xuICAgIH07XG4gICAgXG4gICAgaWYgKG5vcm1hbGl6ZWQgaW4gbGVnYWN5TWFwcGluZ3MpIHtcbiAgICAgIHJldHVybiBsZWdhY3lNYXBwaW5nc1tub3JtYWxpemVkXSB8fCBub3JtYWxpemVkO1xuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbm9ybWFsaXplZDtcbiAgfVxuXG4gIHByaXZhdGUgbm90aWZ5U3Vic2NyaWJlcnMoKTogdm9pZCB7XG4gICAgdGhpcy5zdWJzY3JpYmVycy5mb3JFYWNoKGNhbGxiYWNrID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNhbGxiYWNrKHsgLi4udGhpcy5mbGFncyB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcignRXJyb3IgaW4gZmVhdHVyZSBmbGFnIHN1YnNjcmliZXInLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoU3RyaW5nKGVycm9yKSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSBmZWF0dXJlIGZsYWcgbWFuYWdlciBpbnN0YW5jZVxuZXhwb3J0IGNvbnN0IGZlYXR1cmVGbGFnTWFuYWdlciA9IG5ldyBGZWF0dXJlRmxhZ01hbmFnZXJJbXBsKCk7XG5cbi8vIEV4cG9ydCBjb252ZW5pZW5jZSBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBpc0ZlYXR1cmVFbmFibGVkID0gKGZsYWdJZDogc3RyaW5nKTogYm9vbGVhbiA9PiBmZWF0dXJlRmxhZ01hbmFnZXIuaXNFbmFibGVkKGZsYWdJZCk7XG5leHBvcnQgY29uc3QgZW5hYmxlRmVhdHVyZSA9IChmbGFnSWQ6IHN0cmluZyk6IGJvb2xlYW4gPT4gZmVhdHVyZUZsYWdNYW5hZ2VyLmVuYWJsZShmbGFnSWQpO1xuZXhwb3J0IGNvbnN0IGRpc2FibGVGZWF0dXJlID0gKGZsYWdJZDogc3RyaW5nKTogYm9vbGVhbiA9PiBmZWF0dXJlRmxhZ01hbmFnZXIuZGlzYWJsZShmbGFnSWQpO1xuZXhwb3J0IGNvbnN0IHRvZ2dsZUZlYXR1cmUgPSAoZmxhZ0lkOiBzdHJpbmcpOiBib29sZWFuID0+IGZlYXR1cmVGbGFnTWFuYWdlci50b2dnbGUoZmxhZ0lkKTtcbmV4cG9ydCBjb25zdCBnZXRGZWF0dXJlRmxhZyA9IChmbGFnSWQ6IHN0cmluZyk6IEZlYXR1cmVGbGFnIHwgdW5kZWZpbmVkID0+IGZlYXR1cmVGbGFnTWFuYWdlci5nZXRGbGFnKGZsYWdJZCk7XG5leHBvcnQgY29uc3QgZ2V0QWxsRmVhdHVyZUZsYWdzID0gKCk6IE1hcDxzdHJpbmcsIEZlYXR1cmVGbGFnPiA9PiBmZWF0dXJlRmxhZ01hbmFnZXIuZ2V0QWxsRmxhZ3MoKTtcblxuLy8gVHlwZXMgYXJlIGFscmVhZHkgZXhwb3J0ZWQgYXQgdGhlIHRvcCBvZiB0aGUgZmlsZSJdLCJuYW1lcyI6WyJGRUFUVVJFX0ZMQUdTIiwiRkVBVFVSRV9GTEFHX0NBVEVHT1JJRVMiLCJGRUFUVVJFX0ZMQUdfREVQRU5ERU5DSUVTIiwiZGlzYWJsZUZlYXR1cmUiLCJlbmFibGVGZWF0dXJlIiwiZmVhdHVyZUZsYWdNYW5hZ2VyIiwiZ2V0QWxsRmVhdHVyZUZsYWdzIiwiZ2V0RmVhdHVyZUZsYWciLCJpc0ZlYXR1cmVFbmFibGVkIiwidG9nZ2xlRmVhdHVyZSIsIldFQkFVVEhOIiwiUFdBIiwiQURNSU4iLCJGRUVEQkFDS19XSURHRVQiLCJVU0VSX1NVR0dFU1RJT05TX01BTkFHRVIiLCJFTkhBTkNFRF9QUk9GSUxFIiwiRU5IQU5DRURfUE9MTFMiLCJFTkhBTkNFRF9WT1RJTkciLCJDSVZJQ1NfQUREUkVTU19MT09LVVAiLCJDSVZJQ1NfUkVQUkVTRU5UQVRJVkVfREFUQUJBU0UiLCJDSVZJQ1NfQ0FNUEFJR05fRklOQU5DRSIsIkNJVklDU19WT1RJTkdfUkVDT1JEUyIsIkNBTkRJREFURV9BQ0NPVU5UQUJJTElUWSIsIkNBTkRJREFURV9DQVJEUyIsIkFMVEVSTkFUSVZFX0NBTkRJREFURVMiLCJBVVRPTUFURURfUE9MTFMiLCJERU1PR1JBUEhJQ19GSUxURVJJTkciLCJUUkVORElOR19QT0xMUyIsIkFEVkFOQ0VEX1BSSVZBQ1kiLCJNRURJQV9CSUFTX0FOQUxZU0lTIiwiUE9MTF9OQVJSQVRJVkVfU1lTVEVNIiwiU09DSUFMX1NIQVJJTkciLCJTT0NJQUxfU0hBUklOR19QT0xMUyIsIlNPQ0lBTF9TSEFSSU5HX0NJVklDUyIsIlNPQ0lBTF9TSEFSSU5HX1ZJU1VBTCIsIlNPQ0lBTF9TSEFSSU5HX09HIiwiU09DSUFMX1NJR05VUCIsIkNPTlRBQ1RfSU5GT1JNQVRJT05fU1lTVEVNIiwiQ0lWSUNTX1RFU1RJTkdfU1RSQVRFR1kiLCJERVZJQ0VfRkxPV19BVVRIIiwiUEVSRk9STUFOQ0VfT1BUSU1JWkFUSU9OIiwiRkVBVFVSRV9EQl9PUFRJTUlaQVRJT05fU1VJVEUiLCJBTkFMWVRJQ1MiLCJQVVNIX05PVElGSUNBVElPTlMiLCJUSEVNRVMiLCJBQ0NFU1NJQklMSVRZIiwiSU5URVJOQVRJT05BTElaQVRJT04iLCJDT1JFX0FVVEgiLCJDT1JFX1BPTExTIiwiQ09SRV9VU0VSUyIsIkVYUEVSSU1FTlRBTF9VSUZlYXR1cmUiLCJBSUZlYXR1cmVzRmVhdHVyZSIsIkFkdmFuY2VkUHJpdmFjeUZlYXR1cmUiLCJBbmFseXRpY3NGZWF0dXJlIiwiUFdBRmVhdHVyZSIsIkFkbWluRmVhdHVyZSIsIkF1ZGl0RmVhdHVyZSIsIkV4cGVyaW1lbnRhbFVJRmVhdHVyZSIsIlZvdGluZ0ZlYXR1cmUiLCJEYXRhYmFzZUZlYXR1cmUiLCJBUElGZWF0dXJlIiwiVUlGZWF0dXJlIiwiQXV0aEZlYXR1cmUiLCJjb3JlIiwiZW5oYW5jZWQiLCJjaXZpY3MiLCJmdXR1cmUiLCJwZXJmb3JtYW5jZSIsInNvY2lhbCIsInN5c3RlbSIsImFuYWx5dGljcyIsImFkbWluIiwiY29udGFjdCIsInRlc3RpbmciLCJhdXRoIiwibGVnYWN5IiwiRmVhdHVyZUZsYWdNYW5hZ2VySW1wbCIsImNvbnN0cnVjdG9yIiwiZmxhZ3MiLCJzdWJzY3JpYmVycyIsIlNldCIsIm1ldGFkYXRhIiwiTWFwIiwiaW5pdGlhbGl6ZU1ldGFkYXRhIiwibG9nZ2VyIiwiaW5mbyIsInRvdGFsRmxhZ3MiLCJPYmplY3QiLCJrZXlzIiwibGVuZ3RoIiwiZW5hYmxlZEZsYWdzIiwidmFsdWVzIiwiZmlsdGVyIiwiQm9vbGVhbiIsImZvckVhY2giLCJmbGFnSWQiLCJzZXQiLCJjYXRlZ29yeSIsImdldENhdGVnb3J5Rm9yRmxhZyIsImRlcGVuZGVuY2llcyIsImRlc2NyaXB0aW9uIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwibGFzdE1vZGlmaWVkIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZW50cmllcyIsImluY2x1ZGVzIiwiaXNFbmFibGVkIiwibm9ybWFsaXplZElkIiwibm9ybWFsaXplRmxhZ0lkIiwiaXNEaXNhYmxlZCIsImVuYWJsZSIsIndhcm4iLCJhcmVEZXBlbmRlbmNpZXNFbmFibGVkIiwibm90aWZ5U3Vic2NyaWJlcnMiLCJkaXNhYmxlIiwidG9nZ2xlIiwiZ2V0RmxhZyIsInVuZGVmaW5lZCIsImdldCIsImlkIiwibmFtZSIsImwiLCJ0b1VwcGVyQ2FzZSIsImVuYWJsZWQiLCJnZXRBbGxGbGFncyIsImZsYWciLCJnZXRFbmFibGVkRmxhZ3MiLCJBcnJheSIsImZyb20iLCJnZXREaXNhYmxlZEZsYWdzIiwiZ2V0RmxhZ3NCeUNhdGVnb3J5IiwiY2F0ZWdvcnlGbGFncyIsImdldFN5c3RlbUluZm8iLCJhbGxGbGFncyIsImRpc2FibGVkRmxhZ3MiLCJjYXRlZ29yaWVzIiwic2l6ZSIsImVudmlyb25tZW50IiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwic3Vic2NyaWJlIiwiY2FsbGJhY2siLCJhZGQiLCJ1bnN1YnNjcmliZSIsImRlbGV0ZSIsInVwZGF0ZUZsYWdNZXRhZGF0YSIsImV4aXN0aW5nTWV0YWRhdGEiLCJyZXNldCIsImV4cG9ydENvbmZpZyIsInZlcnNpb24iLCJpbXBvcnRDb25maWciLCJjb25maWciLCJldmVyeSIsImRlcCIsIm5vcm1hbGl6ZWQiLCJsZWdhY3lNYXBwaW5ncyIsImVycm9yIiwiRXJyb3IiLCJTdHJpbmciXSwibWFwcGluZ3MiOiJBQUFBOzs7OztDQUtDOzs7Ozs7Ozs7OztJQWlEWUEsYUFBYTtlQUFiQTs7SUFzRUFDLHVCQUF1QjtlQUF2QkE7O0lBaUJBQyx5QkFBeUI7ZUFBekJBOztJQW9WQUMsY0FBYztlQUFkQTs7SUFEQUMsYUFBYTtlQUFiQTs7SUFKQUMsa0JBQWtCO2VBQWxCQTs7SUFRQUMsa0JBQWtCO2VBQWxCQTs7SUFEQUMsY0FBYztlQUFkQTs7SUFKQUMs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