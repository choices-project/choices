e7a464f2cc1f82d10256b585ec1bb150
/**
 * Onboarding Store - Zustand Implementation
 * 
 * Comprehensive onboarding state management including step navigation,
 * form data persistence, and progress tracking. Integrates with UserStore
 * for profile data and AppStore for user preferences.
 * 
 * Created: October 10, 2025
 * Status: âœ… ACTIVE
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    onboardingStoreDebug: function() {
        return onboardingStoreDebug;
    },
    onboardingStoreSubscriptions: function() {
        return onboardingStoreSubscriptions;
    },
    onboardingStoreUtils: function() {
        return onboardingStoreUtils;
    },
    useCurrentStepData: function() {
        return useCurrentStepData;
    },
    useOnboardingActions: function() {
        return useOnboardingActions;
    },
    useOnboardingActive: function() {
        return useOnboardingActive;
    },
    useOnboardingCompleted: function() {
        return useOnboardingCompleted;
    },
    useOnboardingData: function() {
        return useOnboardingData;
    },
    useOnboardingError: function() {
        return useOnboardingError;
    },
    useOnboardingLoading: function() {
        return useOnboardingLoading;
    },
    useOnboardingProgress: function() {
        return useOnboardingProgress;
    },
    useOnboardingSkipped: function() {
        return useOnboardingSkipped;
    },
    useOnboardingStats: function() {
        return useOnboardingStats;
    },
    useOnboardingStep: function() {
        return useOnboardingStep;
    },
    useOnboardingStore: function() {
        return useOnboardingStore;
    },
    useStepValidation: function() {
        return useStepValidation;
    }
});
const _zustand = require("zustand");
const _middleware = require("zustand/middleware");
const _logger = require("../utils/logger");
// Default onboarding steps
const defaultSteps = [
    {
        id: 0,
        title: "Welcome",
        description: "Get started with your civic engagement journey",
        component: "WelcomeStep",
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 1,
        title: "Authentication",
        description: "Set up your account and security",
        component: "AuthSetupStep",
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 2,
        title: "Profile Setup",
        description: "Tell us about yourself",
        component: "ProfileSetupStep",
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 3,
        title: "Values & Interests",
        description: "Help us personalize your experience",
        component: "ValuesStep",
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 4,
        title: "Privacy & Data",
        description: "Control your data and privacy settings",
        component: "DataUsageStepLite",
        required: true,
        completed: false,
        skipped: false
    },
    {
        id: 5,
        title: "Complete",
        description: "You're all set! Welcome to Choices",
        component: "CompleteStep",
        required: true,
        completed: false,
        skipped: false
    }
];
const useOnboardingStore = (0, _zustand.create)()((0, _middleware.devtools)((0, _middleware.persist)((set, get)=>({
        // Initial state
        currentStep: 0,
        totalSteps: 6,
        isCompleted: false,
        isSkipped: false,
        isActive: false,
        authData: {},
        profileData: {},
        valuesData: {},
        preferencesData: {},
        progress: 0,
        completedSteps: [],
        skippedSteps: [],
        stepData: {},
        steps: defaultSteps,
        isLoading: false,
        isSaving: false,
        isSubmitting: false,
        error: null,
        // Navigation actions
        setCurrentStep: (step)=>set((state)=>{
                const newStep = Math.max(0, Math.min(step, state.totalSteps - 1));
                const progress = newStep / state.totalSteps * 100;
                _logger.logger.info("Onboarding step changed", {
                    from: state.currentStep,
                    to: newStep,
                    progress: Math.round(progress)
                });
                return {
                    ...state,
                    currentStep: newStep,
                    progress
                };
            }),
        nextStep: ()=>set((state)=>{
                const nextStep = Math.min(state.currentStep + 1, state.totalSteps - 1);
                const progress = nextStep / state.totalSteps * 100;
                _logger.logger.info("Onboarding next step", {
                    currentStep: nextStep,
                    progress: Math.round(progress)
                });
                return {
                    ...state,
                    currentStep: nextStep,
                    progress
                };
            }),
        previousStep: ()=>set((state)=>{
                const prevStep = Math.max(state.currentStep - 1, 0);
                const progress = prevStep / state.totalSteps * 100;
                _logger.logger.info("Onboarding previous step", {
                    currentStep: prevStep,
                    progress: Math.round(progress)
                });
                return {
                    ...state,
                    currentStep: prevStep,
                    progress
                };
            }),
        goToStep: (step)=>{
            const { setCurrentStep } = get();
            setCurrentStep(step);
        },
        completeOnboarding: ()=>set((state)=>{
                _logger.logger.info("Onboarding completed", {
                    totalSteps: state.totalSteps,
                    completedSteps: state.completedSteps.length + 1
                });
                return {
                    ...state,
                    isCompleted: true,
                    isActive: false,
                    progress: 100,
                    completedSteps: [
                        ...state.completedSteps,
                        state.currentStep
                    ]
                };
            }),
        skipOnboarding: ()=>set({
                isSkipped: true,
                isActive: false,
                progress: 100
            }),
        restartOnboarding: ()=>set({
                currentStep: 0,
                isCompleted: false,
                isSkipped: false,
                isActive: true,
                progress: 0,
                completedSteps: [],
                skippedSteps: [],
                stepData: {},
                authData: {},
                profileData: {},
                valuesData: {},
                preferencesData: {},
                error: null
            }),
        // Data management actions
        updateFormData: (step, data)=>set((state)=>({
                    stepData: {
                        ...state.stepData,
                        [step]: {
                            ...state.stepData[step] || {},
                            ...data
                        }
                    }
                })),
        updateAuthData: (data)=>set((state)=>({
                    authData: {
                        ...state.authData,
                        ...data
                    }
                })),
        updateProfileData: (data)=>set((state)=>({
                    profileData: {
                        ...state.profileData,
                        ...data
                    }
                })),
        updateValuesData: (data)=>set((state)=>({
                    valuesData: {
                        ...state.valuesData,
                        ...data
                    }
                })),
        updatePreferencesData: (data)=>set((state)=>({
                    preferencesData: {
                        ...state.preferencesData,
                        ...data
                    }
                })),
        clearStepData: (step)=>set((state)=>({
                    stepData: {
                        ...state.stepData,
                        [step]: {}
                    }
                })),
        clearAllData: ()=>set({
                stepData: {},
                authData: {},
                profileData: {},
                valuesData: {},
                preferencesData: {}
            }),
        // Step management actions
        markStepCompleted: (step)=>set((state)=>({
                    completedSteps: [
                        ...state.completedSteps,
                        step
                    ],
                    steps: state.steps.map((s)=>s.id === step ? {
                            ...s,
                            completed: true
                        } : s)
                })),
        markStepSkipped: (step)=>set((state)=>({
                    skippedSteps: [
                        ...state.skippedSteps,
                        step
                    ],
                    steps: state.steps.map((s)=>s.id === step ? {
                            ...s,
                            skipped: true
                        } : s)
                })),
        markStepIncomplete: (step)=>set((state)=>({
                    completedSteps: state.completedSteps.filter((s)=>s !== step),
                    steps: state.steps.map((s)=>s.id === step ? {
                            ...s,
                            completed: false
                        } : s)
                })),
        canProceedToNextStep: (step)=>{
            const state = get();
            const currentStepData = state.stepData[step];
            const stepConfig = state.steps.find((s)=>s.id === step);
            if (!stepConfig?.required) return true;
            // Add validation logic here based on step requirements
            switch(step){
                case 0:
                    return true;
                case 1:
                    return !!(currentStepData?.email && currentStepData?.password);
                case 2:
                    return !!(currentStepData?.firstName && currentStepData?.lastName);
                case 3:
                    return !!(currentStepData?.primaryInterests?.length > 0);
                case 4:
                    return !!currentStepData?.privacyAccepted;
                case 5:
                    return true;
                default:
                    return true;
            }
        },
        getStepValidationErrors: (step)=>{
            const state = get();
            const currentStepData = state.stepData[step];
            const errors = [];
            switch(step){
                case 1:
                    if (!currentStepData?.email) errors.push("Email is required");
                    if (!currentStepData?.password) errors.push("Password is required");
                    if (currentStepData?.password !== currentStepData?.confirmPassword) {
                        errors.push("Passwords do not match");
                    }
                    break;
                case 2:
                    if (!currentStepData?.firstName) errors.push("First name is required");
                    if (!currentStepData?.lastName) errors.push("Last name is required");
                    break;
                case 3:
                    if (!currentStepData?.primaryInterests?.length) {
                        errors.push("Please select at least one interest");
                    }
                    break;
                case 4:
                    if (!currentStepData?.privacyAccepted) {
                        errors.push("You must accept the privacy policy");
                    }
                    break;
            }
            return errors;
        },
        // Loading state actions
        setLoading: (loading)=>set({
                isLoading: loading
            }),
        setSaving: (saving)=>set({
                isSaving: saving
            }),
        setSubmitting: (submitting)=>set({
                isSubmitting: submitting
            }),
        setError: (error)=>set({
                error
            }),
        clearError: ()=>set({
                error: null
            }),
        // Data operations
        saveProgress: async ()=>{
            const { setSaving, setError } = get();
            try {
                setSaving(true);
                setError(null);
                const state = get();
                const response = await fetch("/api/profile?action=onboarding-progress", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        currentStep: state.currentStep,
                        progress: state.progress,
                        stepData: state.stepData,
                        authData: state.authData,
                        profileData: state.profileData,
                        valuesData: state.valuesData,
                        preferencesData: state.preferencesData
                    })
                });
                if (!response.ok) {
                    throw new Error("Failed to save onboarding progress");
                }
                _logger.logger.info("Onboarding progress saved", {
                    currentStep: state.currentStep,
                    progress: state.progress
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to save onboarding progress", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setSaving(false);
            }
        },
        loadProgress: async ()=>{
            const { setLoading, setError } = get();
            try {
                setLoading(true);
                setError(null);
                const response = await fetch("/api/profile?action=onboarding-progress");
                if (!response.ok) {
                    throw new Error("Failed to load onboarding progress");
                }
                const data = await response.json();
                set({
                    currentStep: data.currentStep || 0,
                    progress: data.progress || 0,
                    stepData: data.stepData || {},
                    authData: data.authData || {},
                    profileData: data.profileData || {},
                    valuesData: data.valuesData || {},
                    preferencesData: data.preferencesData || {}
                });
                _logger.logger.info("Onboarding progress loaded", {
                    currentStep: data.currentStep,
                    progress: data.progress
                });
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to load onboarding progress", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setLoading(false);
            }
        },
        submitOnboarding: async ()=>{
            const { setSubmitting, setError, completeOnboarding } = get();
            try {
                setSubmitting(true);
                setError(null);
                const state = get();
                const response = await fetch("/api/profile?action=complete-onboarding", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        authData: state.authData,
                        profileData: state.profileData,
                        valuesData: state.valuesData,
                        preferencesData: state.preferencesData
                    })
                });
                if (!response.ok) {
                    throw new Error("Failed to complete onboarding");
                }
                completeOnboarding();
                _logger.logger.info("Onboarding submitted successfully");
            } catch (error) {
                const errorMessage = error instanceof Error ? error.message : "Unknown error";
                setError(errorMessage);
                _logger.logger.error("Failed to submit onboarding", error instanceof Error ? error : new Error(errorMessage));
            } finally{
                setSubmitting(false);
            }
        },
        validateStep: (step)=>{
            const { getStepValidationErrors } = get();
            const errors = getStepValidationErrors(step);
            return errors.length === 0;
        },
        validateAllSteps: ()=>{
            const { validateStep, totalSteps } = get();
            return Array.from({
                length: totalSteps
            }, (_, i)=>i).every((step)=>validateStep(step));
        }
    }), {
    name: "onboarding-store",
    partialize: (state)=>({
            currentStep: state.currentStep,
            progress: state.progress,
            stepData: state.stepData,
            authData: state.authData,
            profileData: state.profileData,
            valuesData: state.valuesData,
            preferencesData: state.preferencesData,
            completedSteps: state.completedSteps,
            skippedSteps: state.skippedSteps
        })
}), {
    name: "onboarding-store"
}));
const useOnboardingStep = ()=>useOnboardingStore((state)=>state.currentStep);
const useOnboardingProgress = ()=>useOnboardingStore((state)=>state.progress);
const useOnboardingCompleted = ()=>useOnboardingStore((state)=>state.isCompleted);
const useOnboardingSkipped = ()=>useOnboardingStore((state)=>state.isSkipped);
const useOnboardingActive = ()=>useOnboardingStore((state)=>state.isActive);
const useOnboardingData = ()=>{
    const currentStep = useOnboardingStore((state)=>state.currentStep);
    const progress = useOnboardingStore((state)=>state.progress);
    const isCompleted = useOnboardingStore((state)=>state.isCompleted);
    const authData = useOnboardingStore((state)=>state.authData);
    const profileData = useOnboardingStore((state)=>state.profileData);
    const valuesData = useOnboardingStore((state)=>state.valuesData);
    const preferencesData = useOnboardingStore((state)=>state.preferencesData);
    return {
        currentStep,
        progress,
        isCompleted,
        authData,
        profileData,
        valuesData,
        preferencesData
    };
};
const useOnboardingLoading = ()=>useOnboardingStore((state)=>state.isLoading);
const useOnboardingError = ()=>useOnboardingStore((state)=>state.error);
const useOnboardingActions = ()=>{
    const setCurrentStep = useOnboardingStore((state)=>state.setCurrentStep);
    const nextStep = useOnboardingStore((state)=>state.nextStep);
    const previousStep = useOnboardingStore((state)=>state.previousStep);
    const goToStep = useOnboardingStore((state)=>state.goToStep);
    const completeOnboarding = useOnboardingStore((state)=>state.completeOnboarding);
    const skipOnboarding = useOnboardingStore((state)=>state.skipOnboarding);
    const restartOnboarding = useOnboardingStore((state)=>state.restartOnboarding);
    const updateFormData = useOnboardingStore((state)=>state.updateFormData);
    const updateAuthData = useOnboardingStore((state)=>state.updateAuthData);
    const updateProfileData = useOnboardingStore((state)=>state.updateProfileData);
    const updateValuesData = useOnboardingStore((state)=>state.updateValuesData);
    const updatePreferencesData = useOnboardingStore((state)=>state.updatePreferencesData);
    const clearStepData = useOnboardingStore((state)=>state.clearStepData);
    const clearAllData = useOnboardingStore((state)=>state.clearAllData);
    const markStepCompleted = useOnboardingStore((state)=>state.markStepCompleted);
    const markStepSkipped = useOnboardingStore((state)=>state.markStepSkipped);
    const markStepIncomplete = useOnboardingStore((state)=>state.markStepIncomplete);
    const canProceedToNextStep = useOnboardingStore((state)=>state.canProceedToNextStep);
    const getStepValidationErrors = useOnboardingStore((state)=>state.getStepValidationErrors);
    const setLoading = useOnboardingStore((state)=>state.setLoading);
    const setSaving = useOnboardingStore((state)=>state.setSaving);
    const setSubmitting = useOnboardingStore((state)=>state.setSubmitting);
    const setError = useOnboardingStore((state)=>state.setError);
    const clearError = useOnboardingStore((state)=>state.clearError);
    const saveProgress = useOnboardingStore((state)=>state.saveProgress);
    const loadProgress = useOnboardingStore((state)=>state.loadProgress);
    const submitOnboarding = useOnboardingStore((state)=>state.submitOnboarding);
    const validateStep = useOnboardingStore((state)=>state.validateStep);
    const validateAllSteps = useOnboardingStore((state)=>state.validateAllSteps);
    return {
        setCurrentStep,
        nextStep,
        previousStep,
        goToStep,
        completeOnboarding,
        skipOnboarding,
        restartOnboarding,
        updateFormData,
        updateAuthData,
        updateProfileData,
        updateValuesData,
        updatePreferencesData,
        clearStepData,
        clearAllData,
        markStepCompleted,
        markStepSkipped,
        markStepIncomplete,
        canProceedToNextStep,
        getStepValidationErrors,
        setLoading,
        setSaving,
        setSubmitting,
        setError,
        clearError,
        saveProgress,
        loadProgress,
        submitOnboarding,
        validateStep,
        validateAllSteps
    };
};
const useOnboardingStats = ()=>{
    const totalSteps = useOnboardingStore((state)=>state.totalSteps);
    const currentStep = useOnboardingStore((state)=>state.currentStep);
    const completedSteps = useOnboardingStore((state)=>state.completedSteps.length);
    const skippedSteps = useOnboardingStore((state)=>state.skippedSteps.length);
    const progress = useOnboardingStore((state)=>state.progress);
    const isCompleted = useOnboardingStore((state)=>state.isCompleted);
    const isSkipped = useOnboardingStore((state)=>state.isSkipped);
    return {
        totalSteps,
        currentStep,
        completedSteps,
        skippedSteps,
        progress,
        isCompleted,
        isSkipped
    };
};
const useCurrentStepData = ()=>useOnboardingStore((state)=>state.stepData[state.currentStep] || {});
const useStepValidation = (step)=>useOnboardingStore((state)=>({
            canProceed: state.canProceedToNextStep(step),
            errors: state.getStepValidationErrors(step),
            isValid: state.validateStep(step)
        }));
const onboardingStoreUtils = {
    /**
   * Get onboarding summary
   */ getOnboardingSummary: ()=>{
        const state = useOnboardingStore.getState();
        return {
            currentStep: state.currentStep,
            totalSteps: state.totalSteps,
            progress: state.progress,
            isCompleted: state.isCompleted,
            isSkipped: state.isSkipped,
            completedSteps: state.completedSteps,
            skippedSteps: state.skippedSteps
        };
    },
    /**
   * Get step data for specific step
   */ getStepData: (step)=>{
        const state = useOnboardingStore.getState();
        return state.stepData[step] || {};
    },
    /**
   * Check if onboarding can be completed
   */ canCompleteOnboarding: ()=>{
        const state = useOnboardingStore.getState();
        return state.validateAllSteps() && state.currentStep === state.totalSteps - 1;
    },
    /**
   * Get onboarding progress percentage
   */ getProgressPercentage: ()=>{
        const state = useOnboardingStore.getState();
        return Math.round(state.progress);
    },
    /**
   * Get next incomplete step
   */ getNextIncompleteStep: ()=>{
        const state = useOnboardingStore.getState();
        const incompleteSteps = state.steps.filter((step)=>!step.completed && !step.skipped);
        return incompleteSteps[0] || null;
    }
};
const onboardingStoreSubscriptions = {
    /**
   * Subscribe to onboarding progress changes
   */ onProgressChange: (callback)=>{
        return useOnboardingStore.subscribe((state)=>{
            callback(state.progress);
        });
    },
    /**
   * Subscribe to step changes
   */ onStepChange: (callback)=>{
        return useOnboardingStore.subscribe((state)=>{
            callback(state.currentStep);
        });
    },
    /**
   * Subscribe to completion status
   */ onCompletionChange: (callback)=>{
        return useOnboardingStore.subscribe((state)=>{
            callback(state.isCompleted);
        });
    }
};
const onboardingStoreDebug = {
    /**
   * Log current onboarding state
   */ logState: ()=>{
        const state = useOnboardingStore.getState();
        _logger.logger.debug("Onboarding Store State", {
            currentStep: state.currentStep,
            totalSteps: state.totalSteps,
            progress: state.progress,
            isCompleted: state.isCompleted,
            isSkipped: state.isSkipped,
            completedSteps: state.completedSteps,
            skippedSteps: state.skippedSteps,
            isLoading: state.isLoading,
            error: state.error
        });
    },
    /**
   * Log onboarding summary
   */ logSummary: ()=>{
        const summary = onboardingStoreUtils.getOnboardingSummary();
        _logger.logger.debug("Onboarding Summary", summary);
    },
    /**
   * Log step data
   */ logStepData: (step)=>{
        const stepData = onboardingStoreUtils.getStepData(step);
        _logger.logger.debug("Step Data", {
            step,
            stepData
        });
    },
    /**
   * Reset onboarding store
   */ reset: ()=>{
        useOnboardingStore.getState().restartOnboarding();
        _logger.logger.info("Onboarding store reset");
    }
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvc3RvcmVzL29uYm9hcmRpbmdTdG9yZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIE9uYm9hcmRpbmcgU3RvcmUgLSBadXN0YW5kIEltcGxlbWVudGF0aW9uXG4gKiBcbiAqIENvbXByZWhlbnNpdmUgb25ib2FyZGluZyBzdGF0ZSBtYW5hZ2VtZW50IGluY2x1ZGluZyBzdGVwIG5hdmlnYXRpb24sXG4gKiBmb3JtIGRhdGEgcGVyc2lzdGVuY2UsIGFuZCBwcm9ncmVzcyB0cmFja2luZy4gSW50ZWdyYXRlcyB3aXRoIFVzZXJTdG9yZVxuICogZm9yIHByb2ZpbGUgZGF0YSBhbmQgQXBwU3RvcmUgZm9yIHVzZXIgcHJlZmVyZW5jZXMuXG4gKiBcbiAqIENyZWF0ZWQ6IE9jdG9iZXIgMTAsIDIwMjVcbiAqIFN0YXR1czog4pyFIEFDVElWRVxuICovXG5cbmltcG9ydCB7IGNyZWF0ZSB9IGZyb20gJ3p1c3RhbmQnO1xuaW1wb3J0IHsgZGV2dG9vbHMgfSBmcm9tICd6dXN0YW5kL21pZGRsZXdhcmUnO1xuaW1wb3J0IHsgcGVyc2lzdCB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5cbmltcG9ydCB7IGxvZ2dlciB9IGZyb20gJ0AvbGliL3V0aWxzL2xvZ2dlcic7XG5cbi8vIE9uYm9hcmRpbmcgZGF0YSB0eXBlc1xuaW50ZXJmYWNlIEF1dGhEYXRhIHtcbiAgbWV0aG9kPzogJ2VtYWlsJyB8ICdnb29nbGUnIHwgJ2FwcGxlJyB8ICdwaG9uZSc7XG4gIGVtYWlsPzogc3RyaW5nO1xuICBwaG9uZT86IHN0cmluZztcbiAgcGFzc3dvcmQ/OiBzdHJpbmc7XG4gIGNvbmZpcm1QYXNzd29yZD86IHN0cmluZztcbiAgdGVybXNBY2NlcHRlZD86IGJvb2xlYW47XG4gIHByaXZhY3lBY2NlcHRlZD86IGJvb2xlYW47XG4gIG1hcmtldGluZ09wdEluPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIFByb2ZpbGVEYXRhIHtcbiAgZmlyc3ROYW1lPzogc3RyaW5nO1xuICBsYXN0TmFtZT86IHN0cmluZztcbiAgdXNlcm5hbWU/OiBzdHJpbmc7XG4gIGF2YXRhcj86IHN0cmluZztcbiAgYmlvPzogc3RyaW5nO1xuICBsb2NhdGlvbj86IHN0cmluZztcbiAgc3RhdGU/OiBzdHJpbmc7XG4gIHppcENvZGU/OiBzdHJpbmc7XG4gIGRhdGVPZkJpcnRoPzogc3RyaW5nO1xuICBnZW5kZXI/OiBzdHJpbmc7XG4gIHBob25lPzogc3RyaW5nO1xuICB3ZWJzaXRlPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgVmFsdWVzRGF0YSB7XG4gIHBvbGl0aWNhbEFmZmlsaWF0aW9uPzogc3RyaW5nO1xuICBwcmltYXJ5SW50ZXJlc3RzPzogc3RyaW5nW107XG4gIHNlY29uZGFyeUludGVyZXN0cz86IHN0cmluZ1tdO1xuICB2YWx1ZXM/OiBzdHJpbmdbXTtcbiAgcHJpb3JpdGllcz86IHN0cmluZ1tdO1xuICBlbmdhZ2VtZW50TGV2ZWw/OiAnbG93JyB8ICdtZWRpdW0nIHwgJ2hpZ2gnO1xuICBub3RpZmljYXRpb25QcmVmZXJlbmNlcz86IHtcbiAgICBlbWFpbDogYm9vbGVhbjtcbiAgICBwdXNoOiBib29sZWFuO1xuICAgIHNtczogYm9vbGVhbjtcbiAgfTtcbn1cblxuaW50ZXJmYWNlIFByZWZlcmVuY2VzRGF0YSB7XG4gIHRoZW1lPzogJ2xpZ2h0JyB8ICdkYXJrJyB8ICdzeXN0ZW0nO1xuICBsYW5ndWFnZT86IHN0cmluZztcbiAgdGltZXpvbmU/OiBzdHJpbmc7XG4gIG5vdGlmaWNhdGlvbnM/OiBib29sZWFuO1xuICBwcml2YWN5PzogJ3B1YmxpYycgfCAncHJpdmF0ZScgfCAnZnJpZW5kcyc7XG4gIGRhdGFTaGFyaW5nPzogYm9vbGVhbjtcbiAgYW5hbHl0aWNzPzogYm9vbGVhbjtcbiAgbWFya2V0aW5nPzogYm9vbGVhbjtcbn1cblxuaW50ZXJmYWNlIE9uYm9hcmRpbmdTdGVwIHtcbiAgaWQ6IG51bWJlcjtcbiAgdGl0bGU6IHN0cmluZztcbiAgZGVzY3JpcHRpb246IHN0cmluZztcbiAgY29tcG9uZW50OiBzdHJpbmc7XG4gIHJlcXVpcmVkOiBib29sZWFuO1xuICBjb21wbGV0ZWQ6IGJvb2xlYW47XG4gIHNraXBwZWQ6IGJvb2xlYW47XG4gIGRhdGE/OiBhbnk7XG59XG5cbi8vIE9uYm9hcmRpbmcgc3RvcmUgc3RhdGUgaW50ZXJmYWNlXG5pbnRlcmZhY2UgT25ib2FyZGluZ1N0b3JlIHtcbiAgLy8gT25ib2FyZGluZyBzdGF0ZVxuICBjdXJyZW50U3RlcDogbnVtYmVyO1xuICB0b3RhbFN0ZXBzOiBudW1iZXI7XG4gIGlzQ29tcGxldGVkOiBib29sZWFuO1xuICBpc1NraXBwZWQ6IGJvb2xlYW47XG4gIGlzQWN0aXZlOiBib29sZWFuO1xuICBcbiAgLy8gRm9ybSBkYXRhXG4gIGF1dGhEYXRhOiBBdXRoRGF0YTtcbiAgcHJvZmlsZURhdGE6IFByb2ZpbGVEYXRhO1xuICB2YWx1ZXNEYXRhOiBWYWx1ZXNEYXRhO1xuICBwcmVmZXJlbmNlc0RhdGE6IFByZWZlcmVuY2VzRGF0YTtcbiAgXG4gIC8vIFByb2dyZXNzIHRyYWNraW5nXG4gIHByb2dyZXNzOiBudW1iZXI7XG4gIGNvbXBsZXRlZFN0ZXBzOiBudW1iZXJbXTtcbiAgc2tpcHBlZFN0ZXBzOiBudW1iZXJbXTtcbiAgc3RlcERhdGE6IFJlY29yZDxudW1iZXIsIGFueT47XG4gIFxuICAvLyBTdGVwcyBjb25maWd1cmF0aW9uXG4gIHN0ZXBzOiBPbmJvYXJkaW5nU3RlcFtdO1xuICBcbiAgLy8gTG9hZGluZyBzdGF0ZXNcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBpc1NhdmluZzogYm9vbGVhbjtcbiAgaXNTdWJtaXR0aW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBOYXZpZ2F0aW9uXG4gIHNldEN1cnJlbnRTdGVwOiAoc3RlcDogbnVtYmVyKSA9PiB2b2lkO1xuICBuZXh0U3RlcDogKCkgPT4gdm9pZDtcbiAgcHJldmlvdXNTdGVwOiAoKSA9PiB2b2lkO1xuICBnb1RvU3RlcDogKHN0ZXA6IG51bWJlcikgPT4gdm9pZDtcbiAgY29tcGxldGVPbmJvYXJkaW5nOiAoKSA9PiB2b2lkO1xuICBza2lwT25ib2FyZGluZzogKCkgPT4gdm9pZDtcbiAgcmVzdGFydE9uYm9hcmRpbmc6ICgpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gRGF0YSBtYW5hZ2VtZW50XG4gIHVwZGF0ZUZvcm1EYXRhOiAoc3RlcDogbnVtYmVyLCBkYXRhOiBhbnkpID0+IHZvaWQ7XG4gIHVwZGF0ZUF1dGhEYXRhOiAoZGF0YTogUGFydGlhbDxBdXRoRGF0YT4pID0+IHZvaWQ7XG4gIHVwZGF0ZVByb2ZpbGVEYXRhOiAoZGF0YTogUGFydGlhbDxQcm9maWxlRGF0YT4pID0+IHZvaWQ7XG4gIHVwZGF0ZVZhbHVlc0RhdGE6IChkYXRhOiBQYXJ0aWFsPFZhbHVlc0RhdGE+KSA9PiB2b2lkO1xuICB1cGRhdGVQcmVmZXJlbmNlc0RhdGE6IChkYXRhOiBQYXJ0aWFsPFByZWZlcmVuY2VzRGF0YT4pID0+IHZvaWQ7XG4gIGNsZWFyU3RlcERhdGE6IChzdGVwOiBudW1iZXIpID0+IHZvaWQ7XG4gIGNsZWFyQWxsRGF0YTogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBTdGVwIG1hbmFnZW1lbnRcbiAgbWFya1N0ZXBDb21wbGV0ZWQ6IChzdGVwOiBudW1iZXIpID0+IHZvaWQ7XG4gIG1hcmtTdGVwU2tpcHBlZDogKHN0ZXA6IG51bWJlcikgPT4gdm9pZDtcbiAgbWFya1N0ZXBJbmNvbXBsZXRlOiAoc3RlcDogbnVtYmVyKSA9PiB2b2lkO1xuICBjYW5Qcm9jZWVkVG9OZXh0U3RlcDogKHN0ZXA6IG51bWJlcikgPT4gYm9vbGVhbjtcbiAgZ2V0U3RlcFZhbGlkYXRpb25FcnJvcnM6IChzdGVwOiBudW1iZXIpID0+IHN0cmluZ1tdO1xuICBcbiAgLy8gQWN0aW9ucyAtIExvYWRpbmcgc3RhdGVzXG4gIHNldExvYWRpbmc6IChsb2FkaW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRTYXZpbmc6IChzYXZpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldFN1Ym1pdHRpbmc6IChzdWJtaXR0aW5nOiBib29sZWFuKSA9PiB2b2lkO1xuICBzZXRFcnJvcjogKGVycm9yOiBzdHJpbmcgfCBudWxsKSA9PiB2b2lkO1xuICBjbGVhckVycm9yOiAoKSA9PiB2b2lkO1xuICBcbiAgLy8gQWN0aW9ucyAtIERhdGEgb3BlcmF0aW9uc1xuICBzYXZlUHJvZ3Jlc3M6ICgpID0+IFByb21pc2U8dm9pZD47XG4gIGxvYWRQcm9ncmVzczogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc3VibWl0T25ib2FyZGluZzogKCkgPT4gUHJvbWlzZTx2b2lkPjtcbiAgdmFsaWRhdGVTdGVwOiAoc3RlcDogbnVtYmVyKSA9PiBib29sZWFuO1xuICB2YWxpZGF0ZUFsbFN0ZXBzOiAoKSA9PiBib29sZWFuO1xufVxuXG4vLyBEZWZhdWx0IG9uYm9hcmRpbmcgc3RlcHNcbmNvbnN0IGRlZmF1bHRTdGVwczogT25ib2FyZGluZ1N0ZXBbXSA9IFtcbiAge1xuICAgIGlkOiAwLFxuICAgIHRpdGxlOiAnV2VsY29tZScsXG4gICAgZGVzY3JpcHRpb246ICdHZXQgc3RhcnRlZCB3aXRoIHlvdXIgY2l2aWMgZW5nYWdlbWVudCBqb3VybmV5JyxcbiAgICBjb21wb25lbnQ6ICdXZWxjb21lU3RlcCcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICBza2lwcGVkOiBmYWxzZSxcbiAgfSxcbiAge1xuICAgIGlkOiAxLFxuICAgIHRpdGxlOiAnQXV0aGVudGljYXRpb24nLFxuICAgIGRlc2NyaXB0aW9uOiAnU2V0IHVwIHlvdXIgYWNjb3VudCBhbmQgc2VjdXJpdHknLFxuICAgIGNvbXBvbmVudDogJ0F1dGhTZXR1cFN0ZXAnLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgc2tpcHBlZDogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICBpZDogMixcbiAgICB0aXRsZTogJ1Byb2ZpbGUgU2V0dXAnLFxuICAgIGRlc2NyaXB0aW9uOiAnVGVsbCB1cyBhYm91dCB5b3Vyc2VsZicsXG4gICAgY29tcG9uZW50OiAnUHJvZmlsZVNldHVwU3RlcCcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgY29tcGxldGVkOiBmYWxzZSxcbiAgICBza2lwcGVkOiBmYWxzZSxcbiAgfSxcbiAge1xuICAgIGlkOiAzLFxuICAgIHRpdGxlOiAnVmFsdWVzICYgSW50ZXJlc3RzJyxcbiAgICBkZXNjcmlwdGlvbjogJ0hlbHAgdXMgcGVyc29uYWxpemUgeW91ciBleHBlcmllbmNlJyxcbiAgICBjb21wb25lbnQ6ICdWYWx1ZXNTdGVwJyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgIHNraXBwZWQ6IGZhbHNlLFxuICB9LFxuICB7XG4gICAgaWQ6IDQsXG4gICAgdGl0bGU6ICdQcml2YWN5ICYgRGF0YScsXG4gICAgZGVzY3JpcHRpb246ICdDb250cm9sIHlvdXIgZGF0YSBhbmQgcHJpdmFjeSBzZXR0aW5ncycsXG4gICAgY29tcG9uZW50OiAnRGF0YVVzYWdlU3RlcExpdGUnLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIGNvbXBsZXRlZDogZmFsc2UsXG4gICAgc2tpcHBlZDogZmFsc2UsXG4gIH0sXG4gIHtcbiAgICBpZDogNSxcbiAgICB0aXRsZTogJ0NvbXBsZXRlJyxcbiAgICBkZXNjcmlwdGlvbjogJ1lvdVxcJ3JlIGFsbCBzZXQhIFdlbGNvbWUgdG8gQ2hvaWNlcycsXG4gICAgY29tcG9uZW50OiAnQ29tcGxldGVTdGVwJyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBjb21wbGV0ZWQ6IGZhbHNlLFxuICAgIHNraXBwZWQ6IGZhbHNlLFxuICB9LFxuXTtcblxuLy8gQ3JlYXRlIG9uYm9hcmRpbmcgc3RvcmUgd2l0aCBtaWRkbGV3YXJlXG5leHBvcnQgY29uc3QgdXNlT25ib2FyZGluZ1N0b3JlID0gY3JlYXRlPE9uYm9hcmRpbmdTdG9yZT4oKShcbiAgZGV2dG9vbHMoXG4gICAgcGVyc2lzdChcbiAgICAgIChzZXQsIGdldCkgPT4gKHtcbiAgICAgICAgLy8gSW5pdGlhbCBzdGF0ZVxuICAgICAgICBjdXJyZW50U3RlcDogMCxcbiAgICAgICAgdG90YWxTdGVwczogNixcbiAgICAgICAgaXNDb21wbGV0ZWQ6IGZhbHNlLFxuICAgICAgICBpc1NraXBwZWQ6IGZhbHNlLFxuICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICAgIGF1dGhEYXRhOiB7fSxcbiAgICAgICAgcHJvZmlsZURhdGE6IHt9LFxuICAgICAgICB2YWx1ZXNEYXRhOiB7fSxcbiAgICAgICAgcHJlZmVyZW5jZXNEYXRhOiB7fSxcbiAgICAgICAgcHJvZ3Jlc3M6IDAsXG4gICAgICAgIGNvbXBsZXRlZFN0ZXBzOiBbXSxcbiAgICAgICAgc2tpcHBlZFN0ZXBzOiBbXSxcbiAgICAgICAgc3RlcERhdGE6IHt9LFxuICAgICAgICBzdGVwczogZGVmYXVsdFN0ZXBzLFxuICAgICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgICBpc1NhdmluZzogZmFsc2UsXG4gICAgICAgIGlzU3VibWl0dGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICBcbiAgICAgICAgLy8gTmF2aWdhdGlvbiBhY3Rpb25zXG4gICAgICAgIHNldEN1cnJlbnRTdGVwOiAoc3RlcCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG5ld1N0ZXAgPSBNYXRoLm1heCgwLCBNYXRoLm1pbihzdGVwLCBzdGF0ZS50b3RhbFN0ZXBzIC0gMSkpO1xuICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gKG5ld1N0ZXAgLyBzdGF0ZS50b3RhbFN0ZXBzKSAqIDEwMDtcbiAgICAgICAgICBcbiAgICAgICAgICBsb2dnZXIuaW5mbygnT25ib2FyZGluZyBzdGVwIGNoYW5nZWQnLCB7XG4gICAgICAgICAgICBmcm9tOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgICAgICAgIHRvOiBuZXdTdGVwLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IE1hdGgucm91bmQocHJvZ3Jlc3MpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgY3VycmVudFN0ZXA6IG5ld1N0ZXAsXG4gICAgICAgICAgICBwcm9ncmVzc1xuICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgbmV4dFN0ZXA6ICgpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBuZXh0U3RlcCA9IE1hdGgubWluKHN0YXRlLmN1cnJlbnRTdGVwICsgMSwgc3RhdGUudG90YWxTdGVwcyAtIDEpO1xuICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gKG5leHRTdGVwIC8gc3RhdGUudG90YWxTdGVwcykgKiAxMDA7XG4gICAgICAgICAgXG4gICAgICAgICAgbG9nZ2VyLmluZm8oJ09uYm9hcmRpbmcgbmV4dCBzdGVwJywge1xuICAgICAgICAgICAgY3VycmVudFN0ZXA6IG5leHRTdGVwLFxuICAgICAgICAgICAgcHJvZ3Jlc3M6IE1hdGgucm91bmQocHJvZ3Jlc3MpXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnN0YXRlLFxuICAgICAgICAgICAgY3VycmVudFN0ZXA6IG5leHRTdGVwLFxuICAgICAgICAgICAgcHJvZ3Jlc3NcbiAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHByZXZpb3VzU3RlcDogKCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHByZXZTdGVwID0gTWF0aC5tYXgoc3RhdGUuY3VycmVudFN0ZXAgLSAxLCAwKTtcbiAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IChwcmV2U3RlcCAvIHN0YXRlLnRvdGFsU3RlcHMpICogMTAwO1xuICAgICAgICAgIFxuICAgICAgICAgIGxvZ2dlci5pbmZvKCdPbmJvYXJkaW5nIHByZXZpb3VzIHN0ZXAnLCB7XG4gICAgICAgICAgICBjdXJyZW50U3RlcDogcHJldlN0ZXAsXG4gICAgICAgICAgICBwcm9ncmVzczogTWF0aC5yb3VuZChwcm9ncmVzcylcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICBjdXJyZW50U3RlcDogcHJldlN0ZXAsXG4gICAgICAgICAgICBwcm9ncmVzc1xuICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgZ29Ub1N0ZXA6IChzdGVwKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBzZXRDdXJyZW50U3RlcCB9ID0gZ2V0KCk7XG4gICAgICAgICAgc2V0Q3VycmVudFN0ZXAoc3RlcCk7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICBjb21wbGV0ZU9uYm9hcmRpbmc6ICgpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBsb2dnZXIuaW5mbygnT25ib2FyZGluZyBjb21wbGV0ZWQnLCB7XG4gICAgICAgICAgICB0b3RhbFN0ZXBzOiBzdGF0ZS50b3RhbFN0ZXBzLFxuICAgICAgICAgICAgY29tcGxldGVkU3RlcHM6IHN0YXRlLmNvbXBsZXRlZFN0ZXBzLmxlbmd0aCArIDFcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc3RhdGUsXG4gICAgICAgICAgICBpc0NvbXBsZXRlZDogdHJ1ZSxcbiAgICAgICAgICAgIGlzQWN0aXZlOiBmYWxzZSxcbiAgICAgICAgICAgIHByb2dyZXNzOiAxMDAsXG4gICAgICAgICAgICBjb21wbGV0ZWRTdGVwczogWy4uLnN0YXRlLmNvbXBsZXRlZFN0ZXBzLCBzdGF0ZS5jdXJyZW50U3RlcF1cbiAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHNraXBPbmJvYXJkaW5nOiAoKSA9PiBzZXQoe1xuICAgICAgICAgIGlzU2tpcHBlZDogdHJ1ZSxcbiAgICAgICAgICBpc0FjdGl2ZTogZmFsc2UsXG4gICAgICAgICAgcHJvZ3Jlc3M6IDEwMFxuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHJlc3RhcnRPbmJvYXJkaW5nOiAoKSA9PiBzZXQoe1xuICAgICAgICAgIGN1cnJlbnRTdGVwOiAwLFxuICAgICAgICAgIGlzQ29tcGxldGVkOiBmYWxzZSxcbiAgICAgICAgICBpc1NraXBwZWQ6IGZhbHNlLFxuICAgICAgICAgIGlzQWN0aXZlOiB0cnVlLFxuICAgICAgICAgIHByb2dyZXNzOiAwLFxuICAgICAgICAgIGNvbXBsZXRlZFN0ZXBzOiBbXSxcbiAgICAgICAgICBza2lwcGVkU3RlcHM6IFtdLFxuICAgICAgICAgIHN0ZXBEYXRhOiB7fSxcbiAgICAgICAgICBhdXRoRGF0YToge30sXG4gICAgICAgICAgcHJvZmlsZURhdGE6IHt9LFxuICAgICAgICAgIHZhbHVlc0RhdGE6IHt9LFxuICAgICAgICAgIHByZWZlcmVuY2VzRGF0YToge30sXG4gICAgICAgICAgZXJyb3I6IG51bGxcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBEYXRhIG1hbmFnZW1lbnQgYWN0aW9uc1xuICAgICAgICB1cGRhdGVGb3JtRGF0YTogKHN0ZXAsIGRhdGEpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgc3RlcERhdGE6IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLnN0ZXBEYXRhLFxuICAgICAgICAgICAgW3N0ZXBdOiB7IC4uLihzdGF0ZS5zdGVwRGF0YVtzdGVwXSB8fCB7fSksIC4uLmRhdGEgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgdXBkYXRlQXV0aERhdGE6IChkYXRhKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIGF1dGhEYXRhOiB7IC4uLnN0YXRlLmF1dGhEYXRhLCAuLi5kYXRhIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgdXBkYXRlUHJvZmlsZURhdGE6IChkYXRhKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHByb2ZpbGVEYXRhOiB7IC4uLnN0YXRlLnByb2ZpbGVEYXRhLCAuLi5kYXRhIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgdXBkYXRlVmFsdWVzRGF0YTogKGRhdGEpID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgdmFsdWVzRGF0YTogeyAuLi5zdGF0ZS52YWx1ZXNEYXRhLCAuLi5kYXRhIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgdXBkYXRlUHJlZmVyZW5jZXNEYXRhOiAoZGF0YSkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBwcmVmZXJlbmNlc0RhdGE6IHsgLi4uc3RhdGUucHJlZmVyZW5jZXNEYXRhLCAuLi5kYXRhIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgY2xlYXJTdGVwRGF0YTogKHN0ZXApID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgc3RlcERhdGE6IHtcbiAgICAgICAgICAgIC4uLnN0YXRlLnN0ZXBEYXRhLFxuICAgICAgICAgICAgW3N0ZXBdOiB7fVxuICAgICAgICAgIH1cbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgY2xlYXJBbGxEYXRhOiAoKSA9PiBzZXQoe1xuICAgICAgICAgIHN0ZXBEYXRhOiB7fSxcbiAgICAgICAgICBhdXRoRGF0YToge30sXG4gICAgICAgICAgcHJvZmlsZURhdGE6IHt9LFxuICAgICAgICAgIHZhbHVlc0RhdGE6IHt9LFxuICAgICAgICAgIHByZWZlcmVuY2VzRGF0YToge31cbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBTdGVwIG1hbmFnZW1lbnQgYWN0aW9uc1xuICAgICAgICBtYXJrU3RlcENvbXBsZXRlZDogKHN0ZXApID0+IHNldCgoc3RhdGUpID0+ICh7XG4gICAgICAgICAgY29tcGxldGVkU3RlcHM6IFsuLi5zdGF0ZS5jb21wbGV0ZWRTdGVwcywgc3RlcF0sXG4gICAgICAgICAgc3RlcHM6IHN0YXRlLnN0ZXBzLm1hcChzID0+IFxuICAgICAgICAgICAgcy5pZCA9PT0gc3RlcCA/IHsgLi4ucywgY29tcGxldGVkOiB0cnVlIH0gOiBzXG4gICAgICAgICAgKVxuICAgICAgICB9KSksXG4gICAgICAgIFxuICAgICAgICBtYXJrU3RlcFNraXBwZWQ6IChzdGVwKSA9PiBzZXQoKHN0YXRlKSA9PiAoe1xuICAgICAgICAgIHNraXBwZWRTdGVwczogWy4uLnN0YXRlLnNraXBwZWRTdGVwcywgc3RlcF0sXG4gICAgICAgICAgc3RlcHM6IHN0YXRlLnN0ZXBzLm1hcChzID0+IFxuICAgICAgICAgICAgcy5pZCA9PT0gc3RlcCA/IHsgLi4ucywgc2tpcHBlZDogdHJ1ZSB9IDogc1xuICAgICAgICAgIClcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgbWFya1N0ZXBJbmNvbXBsZXRlOiAoc3RlcCkgPT4gc2V0KChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBjb21wbGV0ZWRTdGVwczogc3RhdGUuY29tcGxldGVkU3RlcHMuZmlsdGVyKHMgPT4gcyAhPT0gc3RlcCksXG4gICAgICAgICAgc3RlcHM6IHN0YXRlLnN0ZXBzLm1hcChzID0+IFxuICAgICAgICAgICAgcy5pZCA9PT0gc3RlcCA/IHsgLi4ucywgY29tcGxldGVkOiBmYWxzZSB9IDogc1xuICAgICAgICAgIClcbiAgICAgICAgfSkpLFxuICAgICAgICBcbiAgICAgICAgY2FuUHJvY2VlZFRvTmV4dFN0ZXA6IChzdGVwKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc3RhdGUgPSBnZXQoKTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50U3RlcERhdGEgPSBzdGF0ZS5zdGVwRGF0YVtzdGVwXTtcbiAgICAgICAgICBjb25zdCBzdGVwQ29uZmlnID0gc3RhdGUuc3RlcHMuZmluZChzID0+IHMuaWQgPT09IHN0ZXApO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmICghc3RlcENvbmZpZz8ucmVxdWlyZWQpIHJldHVybiB0cnVlO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIEFkZCB2YWxpZGF0aW9uIGxvZ2ljIGhlcmUgYmFzZWQgb24gc3RlcCByZXF1aXJlbWVudHNcbiAgICAgICAgICBzd2l0Y2ggKHN0ZXApIHtcbiAgICAgICAgICAgIGNhc2UgMDogLy8gV2VsY29tZSBzdGVwXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgY2FzZSAxOiAvLyBBdXRoIHN0ZXBcbiAgICAgICAgICAgICAgcmV0dXJuICEhKGN1cnJlbnRTdGVwRGF0YT8uZW1haWwgJiYgY3VycmVudFN0ZXBEYXRhPy5wYXNzd29yZCk7XG4gICAgICAgICAgICBjYXNlIDI6IC8vIFByb2ZpbGUgc3RlcFxuICAgICAgICAgICAgICByZXR1cm4gISEoY3VycmVudFN0ZXBEYXRhPy5maXJzdE5hbWUgJiYgY3VycmVudFN0ZXBEYXRhPy5sYXN0TmFtZSk7XG4gICAgICAgICAgICBjYXNlIDM6IC8vIFZhbHVlcyBzdGVwXG4gICAgICAgICAgICAgIHJldHVybiAhIShjdXJyZW50U3RlcERhdGE/LnByaW1hcnlJbnRlcmVzdHM/Lmxlbmd0aCA+IDApO1xuICAgICAgICAgICAgY2FzZSA0OiAvLyBQcml2YWN5IHN0ZXBcbiAgICAgICAgICAgICAgcmV0dXJuICEhKGN1cnJlbnRTdGVwRGF0YT8ucHJpdmFjeUFjY2VwdGVkKTtcbiAgICAgICAgICAgIGNhc2UgNTogLy8gQ29tcGxldGUgc3RlcFxuICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGdldFN0ZXBWYWxpZGF0aW9uRXJyb3JzOiAoc3RlcCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0KCk7XG4gICAgICAgICAgY29uc3QgY3VycmVudFN0ZXBEYXRhID0gc3RhdGUuc3RlcERhdGFbc3RlcF07XG4gICAgICAgICAgY29uc3QgZXJyb3JzOiBzdHJpbmdbXSA9IFtdO1xuICAgICAgICAgIFxuICAgICAgICAgIHN3aXRjaCAoc3RlcCkge1xuICAgICAgICAgICAgY2FzZSAxOiAvLyBBdXRoIHN0ZXBcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50U3RlcERhdGE/LmVtYWlsKSBlcnJvcnMucHVzaCgnRW1haWwgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50U3RlcERhdGE/LnBhc3N3b3JkKSBlcnJvcnMucHVzaCgnUGFzc3dvcmQgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGVwRGF0YT8ucGFzc3dvcmQgIT09IGN1cnJlbnRTdGVwRGF0YT8uY29uZmlybVBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjogLy8gUHJvZmlsZSBzdGVwXG4gICAgICAgICAgICAgIGlmICghY3VycmVudFN0ZXBEYXRhPy5maXJzdE5hbWUpIGVycm9ycy5wdXNoKCdGaXJzdCBuYW1lIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgICAgICAgIGlmICghY3VycmVudFN0ZXBEYXRhPy5sYXN0TmFtZSkgZXJyb3JzLnB1c2goJ0xhc3QgbmFtZSBpcyByZXF1aXJlZCcpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzogLy8gVmFsdWVzIHN0ZXBcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50U3RlcERhdGE/LnByaW1hcnlJbnRlcmVzdHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdQbGVhc2Ugc2VsZWN0IGF0IGxlYXN0IG9uZSBpbnRlcmVzdCcpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0OiAvLyBQcml2YWN5IHN0ZXBcbiAgICAgICAgICAgICAgaWYgKCFjdXJyZW50U3RlcERhdGE/LnByaXZhY3lBY2NlcHRlZCkge1xuICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKCdZb3UgbXVzdCBhY2NlcHQgdGhlIHByaXZhY3kgcG9saWN5Jyk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiBlcnJvcnM7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICAvLyBMb2FkaW5nIHN0YXRlIGFjdGlvbnNcbiAgICAgICAgc2V0TG9hZGluZzogKGxvYWRpbmcpID0+IHNldCh7IGlzTG9hZGluZzogbG9hZGluZyB9KSxcbiAgICAgICAgc2V0U2F2aW5nOiAoc2F2aW5nKSA9PiBzZXQoeyBpc1NhdmluZzogc2F2aW5nIH0pLFxuICAgICAgICBzZXRTdWJtaXR0aW5nOiAoc3VibWl0dGluZykgPT4gc2V0KHsgaXNTdWJtaXR0aW5nOiBzdWJtaXR0aW5nIH0pLFxuICAgICAgICBzZXRFcnJvcjogKGVycm9yKSA9PiBzZXQoeyBlcnJvciB9KSxcbiAgICAgICAgY2xlYXJFcnJvcjogKCkgPT4gc2V0KHsgZXJyb3I6IG51bGwgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBEYXRhIG9wZXJhdGlvbnNcbiAgICAgICAgc2F2ZVByb2dyZXNzOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBzZXRTYXZpbmcsIHNldEVycm9yIH0gPSBnZXQoKTtcbiAgICAgICAgICBcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgc2V0U2F2aW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0KCk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3Byb2ZpbGU/YWN0aW9uPW9uYm9hcmRpbmctcHJvZ3Jlc3MnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGN1cnJlbnRTdGVwOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgICBwcm9ncmVzczogc3RhdGUucHJvZ3Jlc3MsXG4gICAgICAgICAgICAgICAgc3RlcERhdGE6IHN0YXRlLnN0ZXBEYXRhLFxuICAgICAgICAgICAgICAgIGF1dGhEYXRhOiBzdGF0ZS5hdXRoRGF0YSxcbiAgICAgICAgICAgICAgICBwcm9maWxlRGF0YTogc3RhdGUucHJvZmlsZURhdGEsXG4gICAgICAgICAgICAgICAgdmFsdWVzRGF0YTogc3RhdGUudmFsdWVzRGF0YSxcbiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlc0RhdGE6IHN0YXRlLnByZWZlcmVuY2VzRGF0YSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBzYXZlIG9uYm9hcmRpbmcgcHJvZ3Jlc3MnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ09uYm9hcmRpbmcgcHJvZ3Jlc3Mgc2F2ZWQnLCB7XG4gICAgICAgICAgICAgIGN1cnJlbnRTdGVwOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IHN0YXRlLnByb2dyZXNzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcic7XG4gICAgICAgICAgICBzZXRFcnJvcihlcnJvck1lc3NhZ2UpO1xuICAgICAgICAgICAgbG9nZ2VyLmVycm9yKCdGYWlsZWQgdG8gc2F2ZSBvbmJvYXJkaW5nIHByb2dyZXNzJywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRTYXZpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIGxvYWRQcm9ncmVzczogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgc2V0TG9hZGluZywgc2V0RXJyb3IgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvcHJvZmlsZT9hY3Rpb249b25ib2FyZGluZy1wcm9ncmVzcycpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIGxvYWQgb25ib2FyZGluZyBwcm9ncmVzcycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBzZXQoe1xuICAgICAgICAgICAgICBjdXJyZW50U3RlcDogZGF0YS5jdXJyZW50U3RlcCB8fCAwLFxuICAgICAgICAgICAgICBwcm9ncmVzczogZGF0YS5wcm9ncmVzcyB8fCAwLFxuICAgICAgICAgICAgICBzdGVwRGF0YTogZGF0YS5zdGVwRGF0YSB8fCB7fSxcbiAgICAgICAgICAgICAgYXV0aERhdGE6IGRhdGEuYXV0aERhdGEgfHwge30sXG4gICAgICAgICAgICAgIHByb2ZpbGVEYXRhOiBkYXRhLnByb2ZpbGVEYXRhIHx8IHt9LFxuICAgICAgICAgICAgICB2YWx1ZXNEYXRhOiBkYXRhLnZhbHVlc0RhdGEgfHwge30sXG4gICAgICAgICAgICAgIHByZWZlcmVuY2VzRGF0YTogZGF0YS5wcmVmZXJlbmNlc0RhdGEgfHwge30sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbG9nZ2VyLmluZm8oJ09uYm9hcmRpbmcgcHJvZ3Jlc3MgbG9hZGVkJywge1xuICAgICAgICAgICAgICBjdXJyZW50U3RlcDogZGF0YS5jdXJyZW50U3RlcCxcbiAgICAgICAgICAgICAgcHJvZ3Jlc3M6IGRhdGEucHJvZ3Jlc3NcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJztcbiAgICAgICAgICAgIHNldEVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoJ0ZhaWxlZCB0byBsb2FkIG9uYm9hcmRpbmcgcHJvZ3Jlc3MnLCBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IgOiBuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgXG4gICAgICAgIHN1Ym1pdE9uYm9hcmRpbmc6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjb25zdCB7IHNldFN1Ym1pdHRpbmcsIHNldEVycm9yLCBjb21wbGV0ZU9uYm9hcmRpbmcgfSA9IGdldCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzZXRTdWJtaXR0aW5nKHRydWUpO1xuICAgICAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gZ2V0KCk7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCcvYXBpL3Byb2ZpbGU/YWN0aW9uPWNvbXBsZXRlLW9uYm9hcmRpbmcnLCB7XG4gICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcbiAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIGF1dGhEYXRhOiBzdGF0ZS5hdXRoRGF0YSxcbiAgICAgICAgICAgICAgICBwcm9maWxlRGF0YTogc3RhdGUucHJvZmlsZURhdGEsXG4gICAgICAgICAgICAgICAgdmFsdWVzRGF0YTogc3RhdGUudmFsdWVzRGF0YSxcbiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlc0RhdGE6IHN0YXRlLnByZWZlcmVuY2VzRGF0YSxcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZhaWxlZCB0byBjb21wbGV0ZSBvbmJvYXJkaW5nJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbXBsZXRlT25ib2FyZGluZygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBsb2dnZXIuaW5mbygnT25ib2FyZGluZyBzdWJtaXR0ZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InO1xuICAgICAgICAgICAgc2V0RXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcignRmFpbGVkIHRvIHN1Ym1pdCBvbmJvYXJkaW5nJywgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yIDogbmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICBzZXRTdWJtaXR0aW5nKGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICB2YWxpZGF0ZVN0ZXA6IChzdGVwKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyBnZXRTdGVwVmFsaWRhdGlvbkVycm9ycyB9ID0gZ2V0KCk7XG4gICAgICAgICAgY29uc3QgZXJyb3JzID0gZ2V0U3RlcFZhbGlkYXRpb25FcnJvcnMoc3RlcCk7XG4gICAgICAgICAgcmV0dXJuIGVycm9ycy5sZW5ndGggPT09IDA7XG4gICAgICAgIH0sXG4gICAgICAgIFxuICAgICAgICB2YWxpZGF0ZUFsbFN0ZXBzOiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgeyB2YWxpZGF0ZVN0ZXAsIHRvdGFsU3RlcHMgfSA9IGdldCgpO1xuICAgICAgICAgIHJldHVybiBBcnJheS5mcm9tKHsgbGVuZ3RoOiB0b3RhbFN0ZXBzIH0sIChfLCBpKSA9PiBpKVxuICAgICAgICAgICAgLmV2ZXJ5KHN0ZXAgPT4gdmFsaWRhdGVTdGVwKHN0ZXApKTtcbiAgICAgICAgfSxcbiAgICAgIH0pLFxuICAgICAge1xuICAgICAgICBuYW1lOiAnb25ib2FyZGluZy1zdG9yZScsXG4gICAgICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBjdXJyZW50U3RlcDogc3RhdGUuY3VycmVudFN0ZXAsXG4gICAgICAgICAgcHJvZ3Jlc3M6IHN0YXRlLnByb2dyZXNzLFxuICAgICAgICAgIHN0ZXBEYXRhOiBzdGF0ZS5zdGVwRGF0YSxcbiAgICAgICAgICBhdXRoRGF0YTogc3RhdGUuYXV0aERhdGEsXG4gICAgICAgICAgcHJvZmlsZURhdGE6IHN0YXRlLnByb2ZpbGVEYXRhLFxuICAgICAgICAgIHZhbHVlc0RhdGE6IHN0YXRlLnZhbHVlc0RhdGEsXG4gICAgICAgICAgcHJlZmVyZW5jZXNEYXRhOiBzdGF0ZS5wcmVmZXJlbmNlc0RhdGEsXG4gICAgICAgICAgY29tcGxldGVkU3RlcHM6IHN0YXRlLmNvbXBsZXRlZFN0ZXBzLFxuICAgICAgICAgIHNraXBwZWRTdGVwczogc3RhdGUuc2tpcHBlZFN0ZXBzLFxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICApLFxuICAgIHsgbmFtZTogJ29uYm9hcmRpbmctc3RvcmUnIH1cbiAgKVxuKTtcblxuLy8gU3RvcmUgc2VsZWN0b3JzIGZvciBvcHRpbWl6ZWQgcmUtcmVuZGVyc1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdTdGVwID0gKCkgPT4gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmN1cnJlbnRTdGVwKTtcbmV4cG9ydCBjb25zdCB1c2VPbmJvYXJkaW5nUHJvZ3Jlc3MgPSAoKSA9PiB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUucHJvZ3Jlc3MpO1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdDb21wbGV0ZWQgPSAoKSA9PiB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNDb21wbGV0ZWQpO1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdTa2lwcGVkID0gKCkgPT4gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmlzU2tpcHBlZCk7XG5leHBvcnQgY29uc3QgdXNlT25ib2FyZGluZ0FjdGl2ZSA9ICgpID0+IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc0FjdGl2ZSk7XG4vLyBGSVhFRDogVXNlIGluZGl2aWR1YWwgc2VsZWN0b3JzIHRvIHByZXZlbnQgaW5maW5pdGUgcmUtcmVuZGVyc1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdEYXRhID0gKCkgPT4ge1xuICBjb25zdCBjdXJyZW50U3RlcCA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jdXJyZW50U3RlcCk7XG4gIGNvbnN0IHByb2dyZXNzID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnByb2dyZXNzKTtcbiAgY29uc3QgaXNDb21wbGV0ZWQgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNDb21wbGV0ZWQpO1xuICBjb25zdCBhdXRoRGF0YSA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5hdXRoRGF0YSk7XG4gIGNvbnN0IHByb2ZpbGVEYXRhID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnByb2ZpbGVEYXRhKTtcbiAgY29uc3QgdmFsdWVzRGF0YSA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS52YWx1ZXNEYXRhKTtcbiAgY29uc3QgcHJlZmVyZW5jZXNEYXRhID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnByZWZlcmVuY2VzRGF0YSk7XG4gIFxuICByZXR1cm4ge1xuICAgIGN1cnJlbnRTdGVwLFxuICAgIHByb2dyZXNzLFxuICAgIGlzQ29tcGxldGVkLFxuICAgIGF1dGhEYXRhLFxuICAgIHByb2ZpbGVEYXRhLFxuICAgIHZhbHVlc0RhdGEsXG4gICAgcHJlZmVyZW5jZXNEYXRhLFxuICB9O1xufTtcbmV4cG9ydCBjb25zdCB1c2VPbmJvYXJkaW5nTG9hZGluZyA9ICgpID0+IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5pc0xvYWRpbmcpO1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdFcnJvciA9ICgpID0+IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5lcnJvcik7XG5cbi8vIEFjdGlvbiBzZWxlY3RvcnMgLSBGSVhFRDogVXNlIGluZGl2aWR1YWwgc2VsZWN0b3JzIHRvIHByZXZlbnQgaW5maW5pdGUgcmUtcmVuZGVyc1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdBY3Rpb25zID0gKCkgPT4ge1xuICBjb25zdCBzZXRDdXJyZW50U3RlcCA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5zZXRDdXJyZW50U3RlcCk7XG4gIGNvbnN0IG5leHRTdGVwID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLm5leHRTdGVwKTtcbiAgY29uc3QgcHJldmlvdXNTdGVwID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnByZXZpb3VzU3RlcCk7XG4gIGNvbnN0IGdvVG9TdGVwID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmdvVG9TdGVwKTtcbiAgY29uc3QgY29tcGxldGVPbmJvYXJkaW5nID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmNvbXBsZXRlT25ib2FyZGluZyk7XG4gIGNvbnN0IHNraXBPbmJvYXJkaW5nID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnNraXBPbmJvYXJkaW5nKTtcbiAgY29uc3QgcmVzdGFydE9uYm9hcmRpbmcgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUucmVzdGFydE9uYm9hcmRpbmcpO1xuICBjb25zdCB1cGRhdGVGb3JtRGF0YSA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS51cGRhdGVGb3JtRGF0YSk7XG4gIGNvbnN0IHVwZGF0ZUF1dGhEYXRhID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnVwZGF0ZUF1dGhEYXRhKTtcbiAgY29uc3QgdXBkYXRlUHJvZmlsZURhdGEgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUudXBkYXRlUHJvZmlsZURhdGEpO1xuICBjb25zdCB1cGRhdGVWYWx1ZXNEYXRhID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnVwZGF0ZVZhbHVlc0RhdGEpO1xuICBjb25zdCB1cGRhdGVQcmVmZXJlbmNlc0RhdGEgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUudXBkYXRlUHJlZmVyZW5jZXNEYXRhKTtcbiAgY29uc3QgY2xlYXJTdGVwRGF0YSA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jbGVhclN0ZXBEYXRhKTtcbiAgY29uc3QgY2xlYXJBbGxEYXRhID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmNsZWFyQWxsRGF0YSk7XG4gIGNvbnN0IG1hcmtTdGVwQ29tcGxldGVkID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLm1hcmtTdGVwQ29tcGxldGVkKTtcbiAgY29uc3QgbWFya1N0ZXBTa2lwcGVkID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLm1hcmtTdGVwU2tpcHBlZCk7XG4gIGNvbnN0IG1hcmtTdGVwSW5jb21wbGV0ZSA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5tYXJrU3RlcEluY29tcGxldGUpO1xuICBjb25zdCBjYW5Qcm9jZWVkVG9OZXh0U3RlcCA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jYW5Qcm9jZWVkVG9OZXh0U3RlcCk7XG4gIGNvbnN0IGdldFN0ZXBWYWxpZGF0aW9uRXJyb3JzID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLmdldFN0ZXBWYWxpZGF0aW9uRXJyb3JzKTtcbiAgY29uc3Qgc2V0TG9hZGluZyA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5zZXRMb2FkaW5nKTtcbiAgY29uc3Qgc2V0U2F2aW5nID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnNldFNhdmluZyk7XG4gIGNvbnN0IHNldFN1Ym1pdHRpbmcgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuc2V0U3VibWl0dGluZyk7XG4gIGNvbnN0IHNldEVycm9yID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnNldEVycm9yKTtcbiAgY29uc3QgY2xlYXJFcnJvciA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jbGVhckVycm9yKTtcbiAgY29uc3Qgc2F2ZVByb2dyZXNzID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnNhdmVQcm9ncmVzcyk7XG4gIGNvbnN0IGxvYWRQcm9ncmVzcyA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5sb2FkUHJvZ3Jlc3MpO1xuICBjb25zdCBzdWJtaXRPbmJvYXJkaW5nID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnN1Ym1pdE9uYm9hcmRpbmcpO1xuICBjb25zdCB2YWxpZGF0ZVN0ZXAgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUudmFsaWRhdGVTdGVwKTtcbiAgY29uc3QgdmFsaWRhdGVBbGxTdGVwcyA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS52YWxpZGF0ZUFsbFN0ZXBzKTtcbiAgXG4gIHJldHVybiB7XG4gICAgc2V0Q3VycmVudFN0ZXAsXG4gICAgbmV4dFN0ZXAsXG4gICAgcHJldmlvdXNTdGVwLFxuICAgIGdvVG9TdGVwLFxuICAgIGNvbXBsZXRlT25ib2FyZGluZyxcbiAgICBza2lwT25ib2FyZGluZyxcbiAgICByZXN0YXJ0T25ib2FyZGluZyxcbiAgICB1cGRhdGVGb3JtRGF0YSxcbiAgICB1cGRhdGVBdXRoRGF0YSxcbiAgICB1cGRhdGVQcm9maWxlRGF0YSxcbiAgICB1cGRhdGVWYWx1ZXNEYXRhLFxuICAgIHVwZGF0ZVByZWZlcmVuY2VzRGF0YSxcbiAgICBjbGVhclN0ZXBEYXRhLFxuICAgIGNsZWFyQWxsRGF0YSxcbiAgICBtYXJrU3RlcENvbXBsZXRlZCxcbiAgICBtYXJrU3RlcFNraXBwZWQsXG4gICAgbWFya1N0ZXBJbmNvbXBsZXRlLFxuICAgIGNhblByb2NlZWRUb05leHRTdGVwLFxuICAgIGdldFN0ZXBWYWxpZGF0aW9uRXJyb3JzLFxuICAgIHNldExvYWRpbmcsXG4gICAgc2V0U2F2aW5nLFxuICAgIHNldFN1Ym1pdHRpbmcsXG4gICAgc2V0RXJyb3IsXG4gICAgY2xlYXJFcnJvcixcbiAgICBzYXZlUHJvZ3Jlc3MsXG4gICAgbG9hZFByb2dyZXNzLFxuICAgIHN1Ym1pdE9uYm9hcmRpbmcsXG4gICAgdmFsaWRhdGVTdGVwLFxuICAgIHZhbGlkYXRlQWxsU3RlcHMsXG4gIH07XG59O1xuXG4vLyBDb21wdXRlZCBzZWxlY3RvcnMgLSBGSVhFRDogVXNlIGluZGl2aWR1YWwgc2VsZWN0b3JzIHRvIHByZXZlbnQgaW5maW5pdGUgcmUtcmVuZGVyc1xuZXhwb3J0IGNvbnN0IHVzZU9uYm9hcmRpbmdTdGF0cyA9ICgpID0+IHtcbiAgY29uc3QgdG90YWxTdGVwcyA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS50b3RhbFN0ZXBzKTtcbiAgY29uc3QgY3VycmVudFN0ZXAgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuY3VycmVudFN0ZXApO1xuICBjb25zdCBjb21wbGV0ZWRTdGVwcyA9IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBzdGF0ZS5jb21wbGV0ZWRTdGVwcy5sZW5ndGgpO1xuICBjb25zdCBza2lwcGVkU3RlcHMgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuc2tpcHBlZFN0ZXBzLmxlbmd0aCk7XG4gIGNvbnN0IHByb2dyZXNzID0gdXNlT25ib2FyZGluZ1N0b3JlKHN0YXRlID0+IHN0YXRlLnByb2dyZXNzKTtcbiAgY29uc3QgaXNDb21wbGV0ZWQgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNDb21wbGV0ZWQpO1xuICBjb25zdCBpc1NraXBwZWQgPSB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNTa2lwcGVkKTtcbiAgXG4gIHJldHVybiB7XG4gICAgdG90YWxTdGVwcyxcbiAgICBjdXJyZW50U3RlcCxcbiAgICBjb21wbGV0ZWRTdGVwcyxcbiAgICBza2lwcGVkU3RlcHMsXG4gICAgcHJvZ3Jlc3MsXG4gICAgaXNDb21wbGV0ZWQsXG4gICAgaXNTa2lwcGVkLFxuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IHVzZUN1cnJlbnRTdGVwRGF0YSA9ICgpID0+IHVzZU9uYm9hcmRpbmdTdG9yZShzdGF0ZSA9PiBcbiAgc3RhdGUuc3RlcERhdGFbc3RhdGUuY3VycmVudFN0ZXBdIHx8IHt9XG4pO1xuXG5leHBvcnQgY29uc3QgdXNlU3RlcFZhbGlkYXRpb24gPSAoc3RlcDogbnVtYmVyKSA9PiB1c2VPbmJvYXJkaW5nU3RvcmUoc3RhdGUgPT4gKHtcbiAgY2FuUHJvY2VlZDogc3RhdGUuY2FuUHJvY2VlZFRvTmV4dFN0ZXAoc3RlcCksXG4gIGVycm9yczogc3RhdGUuZ2V0U3RlcFZhbGlkYXRpb25FcnJvcnMoc3RlcCksXG4gIGlzVmFsaWQ6IHN0YXRlLnZhbGlkYXRlU3RlcChzdGVwKSxcbn0pKTtcblxuLy8gU3RvcmUgdXRpbGl0aWVzXG5leHBvcnQgY29uc3Qgb25ib2FyZGluZ1N0b3JlVXRpbHMgPSB7XG4gIC8qKlxuICAgKiBHZXQgb25ib2FyZGluZyBzdW1tYXJ5XG4gICAqL1xuICBnZXRPbmJvYXJkaW5nU3VtbWFyeTogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlT25ib2FyZGluZ1N0b3JlLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnRTdGVwOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgIHRvdGFsU3RlcHM6IHN0YXRlLnRvdGFsU3RlcHMsXG4gICAgICBwcm9ncmVzczogc3RhdGUucHJvZ3Jlc3MsXG4gICAgICBpc0NvbXBsZXRlZDogc3RhdGUuaXNDb21wbGV0ZWQsXG4gICAgICBpc1NraXBwZWQ6IHN0YXRlLmlzU2tpcHBlZCxcbiAgICAgIGNvbXBsZXRlZFN0ZXBzOiBzdGF0ZS5jb21wbGV0ZWRTdGVwcyxcbiAgICAgIHNraXBwZWRTdGVwczogc3RhdGUuc2tpcHBlZFN0ZXBzLFxuICAgIH07XG4gIH0sXG4gIFxuICAvKipcbiAgICogR2V0IHN0ZXAgZGF0YSBmb3Igc3BlY2lmaWMgc3RlcFxuICAgKi9cbiAgZ2V0U3RlcERhdGE6IChzdGVwOiBudW1iZXIpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZU9uYm9hcmRpbmdTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIHJldHVybiBzdGF0ZS5zdGVwRGF0YVtzdGVwXSB8fCB7fTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBDaGVjayBpZiBvbmJvYXJkaW5nIGNhbiBiZSBjb21wbGV0ZWRcbiAgICovXG4gIGNhbkNvbXBsZXRlT25ib2FyZGluZzogKCkgPT4ge1xuICAgIGNvbnN0IHN0YXRlID0gdXNlT25ib2FyZGluZ1N0b3JlLmdldFN0YXRlKCk7XG4gICAgcmV0dXJuIHN0YXRlLnZhbGlkYXRlQWxsU3RlcHMoKSAmJiBzdGF0ZS5jdXJyZW50U3RlcCA9PT0gc3RhdGUudG90YWxTdGVwcyAtIDE7XG4gIH0sXG4gIFxuICAvKipcbiAgICogR2V0IG9uYm9hcmRpbmcgcHJvZ3Jlc3MgcGVyY2VudGFnZVxuICAgKi9cbiAgZ2V0UHJvZ3Jlc3NQZXJjZW50YWdlOiAoKSA9PiB7XG4gICAgY29uc3Qgc3RhdGUgPSB1c2VPbmJvYXJkaW5nU3RvcmUuZ2V0U3RhdGUoKTtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChzdGF0ZS5wcm9ncmVzcyk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogR2V0IG5leHQgaW5jb21wbGV0ZSBzdGVwXG4gICAqL1xuICBnZXROZXh0SW5jb21wbGV0ZVN0ZXA6ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZU9uYm9hcmRpbmdTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGNvbnN0IGluY29tcGxldGVTdGVwcyA9IHN0YXRlLnN0ZXBzLmZpbHRlcihzdGVwID0+ICFzdGVwLmNvbXBsZXRlZCAmJiAhc3RlcC5za2lwcGVkKTtcbiAgICByZXR1cm4gaW5jb21wbGV0ZVN0ZXBzWzBdIHx8IG51bGw7XG4gIH1cbn07XG5cbi8vIFN0b3JlIHN1YnNjcmlwdGlvbnMgZm9yIGV4dGVybmFsIGludGVncmF0aW9uc1xuZXhwb3J0IGNvbnN0IG9uYm9hcmRpbmdTdG9yZVN1YnNjcmlwdGlvbnMgPSB7XG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gb25ib2FyZGluZyBwcm9ncmVzcyBjaGFuZ2VzXG4gICAqL1xuICBvblByb2dyZXNzQ2hhbmdlOiAoY2FsbGJhY2s6IChwcm9ncmVzczogbnVtYmVyKSA9PiB2b2lkKSA9PiB7XG4gICAgcmV0dXJuIHVzZU9uYm9hcmRpbmdTdG9yZS5zdWJzY3JpYmUoXG4gICAgICAoc3RhdGUpID0+IHtcbiAgICAgICAgY2FsbGJhY2soc3RhdGUucHJvZ3Jlc3MpO1xuICAgICAgfVxuICAgICk7XG4gIH0sXG4gIFxuICAvKipcbiAgICogU3Vic2NyaWJlIHRvIHN0ZXAgY2hhbmdlc1xuICAgKi9cbiAgb25TdGVwQ2hhbmdlOiAoY2FsbGJhY2s6IChzdGVwOiBudW1iZXIpID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gdXNlT25ib2FyZGluZ1N0b3JlLnN1YnNjcmliZShcbiAgICAgIChzdGF0ZSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhzdGF0ZS5jdXJyZW50U3RlcCk7XG4gICAgICB9XG4gICAgKTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBTdWJzY3JpYmUgdG8gY29tcGxldGlvbiBzdGF0dXNcbiAgICovXG4gIG9uQ29tcGxldGlvbkNoYW5nZTogKGNhbGxiYWNrOiAoaXNDb21wbGV0ZWQ6IGJvb2xlYW4pID0+IHZvaWQpID0+IHtcbiAgICByZXR1cm4gdXNlT25ib2FyZGluZ1N0b3JlLnN1YnNjcmliZShcbiAgICAgIChzdGF0ZSkgPT4ge1xuICAgICAgICBjYWxsYmFjayhzdGF0ZS5pc0NvbXBsZXRlZCk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxufTtcblxuLy8gU3RvcmUgZGVidWdnaW5nIHV0aWxpdGllc1xuZXhwb3J0IGNvbnN0IG9uYm9hcmRpbmdTdG9yZURlYnVnID0ge1xuICAvKipcbiAgICogTG9nIGN1cnJlbnQgb25ib2FyZGluZyBzdGF0ZVxuICAgKi9cbiAgbG9nU3RhdGU6ICgpID0+IHtcbiAgICBjb25zdCBzdGF0ZSA9IHVzZU9uYm9hcmRpbmdTdG9yZS5nZXRTdGF0ZSgpO1xuICAgIGxvZ2dlci5kZWJ1ZygnT25ib2FyZGluZyBTdG9yZSBTdGF0ZScsIHtcbiAgICAgIGN1cnJlbnRTdGVwOiBzdGF0ZS5jdXJyZW50U3RlcCxcbiAgICAgIHRvdGFsU3RlcHM6IHN0YXRlLnRvdGFsU3RlcHMsXG4gICAgICBwcm9ncmVzczogc3RhdGUucHJvZ3Jlc3MsXG4gICAgICBpc0NvbXBsZXRlZDogc3RhdGUuaXNDb21wbGV0ZWQsXG4gICAgICBpc1NraXBwZWQ6IHN0YXRlLmlzU2tpcHBlZCxcbiAgICAgIGNvbXBsZXRlZFN0ZXBzOiBzdGF0ZS5jb21wbGV0ZWRTdGVwcyxcbiAgICAgIHNraXBwZWRTdGVwczogc3RhdGUuc2tpcHBlZFN0ZXBzLFxuICAgICAgaXNMb2FkaW5nOiBzdGF0ZS5pc0xvYWRpbmcsXG4gICAgICBlcnJvcjogc3RhdGUuZXJyb3JcbiAgICB9KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBMb2cgb25ib2FyZGluZyBzdW1tYXJ5XG4gICAqL1xuICBsb2dTdW1tYXJ5OiAoKSA9PiB7XG4gICAgY29uc3Qgc3VtbWFyeSA9IG9uYm9hcmRpbmdTdG9yZVV0aWxzLmdldE9uYm9hcmRpbmdTdW1tYXJ5KCk7XG4gICAgbG9nZ2VyLmRlYnVnKCdPbmJvYXJkaW5nIFN1bW1hcnknLCBzdW1tYXJ5KTtcbiAgfSxcbiAgXG4gIC8qKlxuICAgKiBMb2cgc3RlcCBkYXRhXG4gICAqL1xuICBsb2dTdGVwRGF0YTogKHN0ZXA6IG51bWJlcikgPT4ge1xuICAgIGNvbnN0IHN0ZXBEYXRhID0gb25ib2FyZGluZ1N0b3JlVXRpbHMuZ2V0U3RlcERhdGEoc3RlcCk7XG4gICAgbG9nZ2VyLmRlYnVnKCdTdGVwIERhdGEnLCB7IHN0ZXAsIHN0ZXBEYXRhIH0pO1xuICB9LFxuICBcbiAgLyoqXG4gICAqIFJlc2V0IG9uYm9hcmRpbmcgc3RvcmVcbiAgICovXG4gIHJlc2V0OiAoKSA9PiB7XG4gICAgdXNlT25ib2FyZGluZ1N0b3JlLmdldFN0YXRlKCkucmVzdGFydE9uYm9hcmRpbmcoKTtcbiAgICBsb2dnZXIuaW5mbygnT25ib2FyZGluZyBzdG9yZSByZXNldCcpO1xuICB9XG59O1xuIl0sIm5hbWVzIjpbIm9uYm9hcmRpbmdTdG9yZURlYnVnIiwib25ib2FyZGluZ1N0b3JlU3Vic2NyaXB0aW9ucyIsIm9uYm9hcmRpbmdTdG9yZVV0aWxzIiwidXNlQ3VycmVudFN0ZXBEYXRhIiwidXNlT25ib2FyZGluZ0FjdGlvbnMiLCJ1c2VPbmJvYXJkaW5nQWN0aXZlIiwidXNlT25ib2FyZGluZ0NvbXBsZXRlZCIsInVzZU9uYm9hcmRpbmdEYXRhIiwidXNlT25ib2FyZGluZ0Vycm9yIiwidXNlT25ib2FyZGluZ0xvYWRpbmciLCJ1c2VPbmJvYXJkaW5nUHJvZ3Jlc3MiLCJ1c2VPbmJvYXJkaW5nU2tpcHBlZCIsInVzZU9uYm9hcmRpbmdTdGF0cyIsInVzZU9uYm9hcmRpbmdTdGVwIiwidXNlT25ib2FyZGluZ1N0b3JlIiwidXNlU3RlcFZhbGlkYXRpb24iLCJkZWZhdWx0U3RlcHMiLCJpZCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJjb21wb25lbnQiLCJyZXF1aXJlZCIsImNvbXBsZXRlZCIsInNraXBwZWQiLCJjcmVhdGUiLCJkZXZ0b29scyIsInBlcnNpc3QiLCJzZXQiLCJnZXQiLCJjdXJyZW50U3RlcCIsInRvdGFsU3RlcHMiLCJpc0NvbXBsZXRlZCIsImlzU2tpcHBlZCIsImlzQWN0aXZlIiwiYXV0aERhdGEiLCJwcm9maWxlRGF0YSIsInZhbHVlc0RhdGEiLCJwcmVmZXJlbmNlc0RhdGEiLCJwcm9ncmVzcyIsImNvbXBsZXRlZFN0ZXBzIiwic2tpcHBlZFN0ZXBzIiwic3RlcERhdGEiLCJzdGVwcyIsImlzTG9hZGluZyIsImlzU2F2aW5nIiwiaXNTdWJtaXR0aW5nIiwiZXJyb3IiLCJzZXRDdXJyZW50U3RlcCIsInN0ZXAiLCJzdGF0ZSIsIm5ld1N0ZXAiLCJNYXRoIiwibWF4IiwibWluIiwibG9nZ2VyIiwiaW5mbyIsImZyb20iLCJ0byIsInJvdW5kIiwibmV4dFN0ZXAiLCJwcmV2aW91c1N0ZXAiLCJwcmV2U3RlcCIsImdvVG9TdGVwIiwiY29tcGxldGVPbmJvYXJkaW5nIiwibGVuZ3RoIiwic2tpcE9uYm9hcmRpbmciLCJyZXN0YXJ0T25ib2FyZGluZyIsInVwZGF0ZUZvcm1EYXRhIiwiZGF0YSIsInVwZGF0ZUF1dGhEYXRhIiwidXBkYXRlUHJvZmlsZURhdGEiLCJ1cGRhdGVWYWx1ZXNEYXRhIiwidXBkYXRlUHJlZmVyZW5jZXNEYXRhIiwiY2xlYXJTdGVwRGF0YSIsImNsZWFyQWxsRGF0YSIsIm1hcmtTdGVwQ29tcGxldGVkIiwibWFwIiwicyIsIm1hcmtTdGVwU2tpcHBlZCIsIm1hcmtTdGVwSW5jb21wbGV0ZSIsImZpbHRlciIsImNhblByb2NlZWRUb05leHRTdGVwIiwiY3VycmVudFN0ZXBEYXRhIiwic3RlcENvbmZpZyIsImZpbmQiLCJlbWFpbCIsInBhc3N3b3JkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJwcmltYXJ5SW50ZXJlc3RzIiwicHJpdmFjeUFjY2VwdGVkIiwiZ2V0U3RlcFZhbGlkYXRpb25FcnJvcnMiLCJlcnJvcnMiLCJwdXNoIiwiY29uZmlybVBhc3N3b3JkIiwic2V0TG9hZGluZyIsImxvYWRpbmciLCJzZXRTYXZpbmciLCJzYXZpbmciLCJzZXRTdWJtaXR0aW5nIiwic3VibWl0dGluZyIsInNldEVycm9yIiwiY2xlYXJFcnJvciIsInNhdmVQcm9ncmVzcyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJvayIsIkVycm9yIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImxvYWRQcm9ncmVzcyIsImpzb24iLCJzdWJtaXRPbmJvYXJkaW5nIiwidmFsaWRhdGVTdGVwIiwidmFsaWRhdGVBbGxTdGVwcyIsIkFycmF5IiwiXyIsImkiLCJldmVyeSIsIm5hbWUiLCJwYXJ0aWFsaXplIiwiY2FuUHJvY2VlZCIsImlzVmFsaWQiLCJnZXRPbmJvYXJkaW5nU3VtbWFyeSIsImdldFN0YXRlIiwiZ2V0U3RlcERhdGEiLCJjYW5Db21wbGV0ZU9uYm9hcmRpbmciLCJnZXRQcm9ncmVzc1BlcmNlbnRhZ2UiLCJnZXROZXh0SW5jb21wbGV0ZVN0ZXAiLCJpbmNvbXBsZXRlU3RlcHMiLCJvblByb2dyZXNzQ2hhbmdlIiwiY2FsbGJhY2siLCJzdWJzY3JpYmUiLCJvblN0ZXBDaGFuZ2UiLCJvbkNvbXBsZXRpb25DaGFuZ2UiLCJsb2dTdGF0ZSIsImRlYnVnIiwibG9nU3VtbWFyeSIsInN1bW1hcnkiLCJsb2dTdGVwRGF0YSIsInJlc2V0Il0sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0NBU0M7Ozs7Ozs7Ozs7O0lBZ3lCWUEsb0JBQW9CO2VBQXBCQTs7SUFwQ0FDLDRCQUE0QjtlQUE1QkE7O0lBcERBQyxvQkFBb0I7ZUFBcEJBOztJQVhBQyxrQkFBa0I7ZUFBbEJBOztJQXJGQUMsb0JBQW9CO2VBQXBCQTs7SUF6QkFDLG1CQUFtQjtlQUFuQkE7O0lBRkFDLHNCQUFzQjtlQUF0QkE7O0lBSUFDLGlCQUFpQjtlQUFqQkE7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