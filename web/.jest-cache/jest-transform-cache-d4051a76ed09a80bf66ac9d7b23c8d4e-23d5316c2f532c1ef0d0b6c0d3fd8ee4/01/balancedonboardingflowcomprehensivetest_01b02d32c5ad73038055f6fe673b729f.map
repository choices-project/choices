{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/components/features/onboarding/balanced-onboarding-flow-comprehensive.test.tsx"],"sourcesContent":["/**\n * @jest-environment jsdom\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, waitFor, act } from '@testing-library/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport userEvent from '@testing-library/user-event';\nimport BalancedOnboardingFlow from '@/features/onboarding/components/BalancedOnboardingFlow';\nimport { T } from '@/lib/testing/testIds';\n\n// Mock Next.js router\njest.mock('next/navigation', () => ({\n  useRouter: () => ({\n    push: jest.fn(),\n    replace: jest.fn(),\n    back: jest.fn(),\n  }),\n  useSearchParams: () => ({\n    get: jest.fn(),\n  }),\n}));\n\n// Mock Supabase client\njest.mock('@/utils/supabase/client', () => ({\n  getSupabaseClient: () => ({\n    auth: {\n      getUser: jest.fn().mockResolvedValue({ data: { user: null } }),\n      signInWithPassword: jest.fn(),\n      signUp: jest.fn(),\n    },\n  }),\n}));\n\n// Mock localStorage\nObject.defineProperty(window, 'localStorage', {\n  value: {\n    getItem: jest.fn(),\n    setItem: jest.fn(),\n    removeItem: jest.fn(),\n    clear: jest.fn(),\n  },\n  writable: true,\n});\n\n// Mock fetch for API calls\nglobal.fetch = jest.fn(() =>\n  Promise.resolve({\n    ok: true,\n    json: () => Promise.resolve({ success: true }),\n  } as Response)\n);\n\ndescribe('BalancedOnboardingFlow - Comprehensive Testing', () => {\n  beforeEach(() => {\n    jest.clearAllMocks();\n    (fetch as jest.Mock).mockClear();\n  });\n\n  describe('Component Rendering', () => {\n    it('should render the onboarding flow with all steps', () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Check for main onboarding container\n      expect(screen.getByTestId('balanced-onboarding')).toBeInTheDocument();\n      \n      // Check for navigation buttons\n      expect(screen.getByTestId(T.welcomeNext)).toBeInTheDocument();\n    });\n\n    it('should display the first step by default', () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // First step should be visible\n      expect(screen.getByTestId(T.onboarding.step1)).toBeInTheDocument();\n      \n      // Other steps should not be visible\n      expect(screen.queryByTestId(T.onboarding.step2)).not.toBeInTheDocument();\n      expect(screen.queryByTestId(T.onboarding.step3)).not.toBeInTheDocument();\n    });\n\n    it('should show progress indicator with correct step', () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      const progressIndicator = screen.getByTestId(T.onboarding.progressIndicator);\n      expect(progressIndicator).toBeInTheDocument();\n      expect(progressIndicator).toHaveTextContent('1 of 6');\n    });\n  });\n\n  describe('Step Navigation', () => {\n    it('should navigate to next step when next button is clicked', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Start on step 1\n      expect(screen.getByTestId(T.onboarding.step1)).toBeInTheDocument();\n      \n      // Click next button\n      const nextButton = screen.getByTestId(T.onboarding.nextButton);\n      await user.click(nextButton);\n      \n      // Should move to step 2\n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.step2)).toBeInTheDocument();\n      });\n      \n      expect(screen.queryByTestId(T.onboarding.step1)).not.toBeInTheDocument();\n    });\n\n    it('should navigate to previous step when back button is clicked', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Navigate to step 2\n      const nextButton = screen.getByTestId(T.onboarding.nextButton);\n      await user.click(nextButton);\n      \n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.step2)).toBeInTheDocument();\n      });\n\n      // Click back button\n      const backButton = screen.getByTestId(T.onboarding.backButton);\n      await user.click(backButton);\n      \n      // Should return to step 1\n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.step1)).toBeInTheDocument();\n      });\n    });\n\n    it('should not allow navigation beyond last step', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Navigate through all steps\n      for (let i = 0; i < 6; i++) {\n        const nextButton = screen.getByTestId(T.onboarding.nextButton);\n        await user.click(nextButton);\n        await waitFor(() => {\n          expect(screen.getByTestId(T.onboarding.stepIndicator)).toBeInTheDocument();\n        });\n      }\n\n      // Should be on last step\n      expect(screen.getByTestId(T.onboarding.step6)).toBeInTheDocument();\n      \n      // Next button should be disabled or show \"Complete\"\n      const nextButton = screen.getByTestId(T.onboarding.nextButton);\n      expect(nextButton).toHaveTextContent('Complete');\n    });\n  });\n\n  describe('Form Validation', () => {\n    it('should validate required fields in each step', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Try to proceed without filling required fields\n      const nextButton = screen.getByTestId(T.onboarding.nextButton);\n      await user.click(nextButton);\n      \n      // Should show validation error\n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.validationError)).toBeInTheDocument();\n      });\n    });\n\n    it('should validate email format in auth step', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Navigate to auth step\n      const nextButton = screen.getByTestId(T.onboarding.nextButton);\n      await user.click(nextButton);\n      \n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.step2)).toBeInTheDocument();\n      });\n\n      // Enter invalid email\n      const emailInput = screen.getByTestId(T.onboarding.emailInput);\n      await user.type(emailInput, 'invalid-email');\n      \n      // Try to proceed\n      await user.click(screen.getByTestId(T.onboarding.nextButton));\n      \n      // Should show email validation error\n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.emailError)).toBeInTheDocument();\n      });\n    });\n\n    it('should validate password strength in auth step', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Navigate to auth step\n      const nextButton = screen.getByTestId(T.onboarding.nextButton);\n      await user.click(nextButton);\n      \n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.step2)).toBeInTheDocument();\n      });\n\n      // Enter weak password\n      const passwordInput = screen.getByTestId(T.onboarding.passwordInput);\n      await user.type(passwordInput, '123');\n      \n      // Try to proceed\n      await user.click(screen.getByTestId(T.onboarding.nextButton));\n      \n      // Should show password strength error\n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.passwordError)).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Data Persistence', () => {\n    it('should save form data to localStorage', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Fill in some data\n      const nameInput = screen.getByTestId(T.onboarding.nameInput);\n      await user.type(nameInput, 'John Doe');\n      \n      // Navigate to next step\n      const nextButton = screen.getByTestId(T.onboarding.nextButton);\n      await user.click(nextButton);\n      \n      // Check that data was saved to localStorage\n      expect(localStorage.setItem).toHaveBeenCalledWith(\n        'onboarding-data',\n        expect.stringContaining('John Doe')\n      );\n    });\n\n    it('should restore form data from localStorage on component mount', () => {\n      // Mock localStorage with existing data\n      const mockData = {\n        name: 'John Doe',\n        email: 'john@example.com',\n        step: 2\n      };\n      \n      (localStorage.getItem as jest.Mock).mockReturnValue(JSON.stringify(mockData));\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Should restore to step 2\n      expect(screen.getByTestId(T.onboarding.step2)).toBeInTheDocument();\n      \n      // Should restore form data\n      expect(screen.getByDisplayValue('John Doe')).toBeInTheDocument();\n    });\n  });\n\n  describe('Authentication Integration', () => {\n    it('should handle email/password authentication', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Navigate to auth step\n      const nextButton = screen.getByTestId(T.onboarding.nextButton);\n      await user.click(nextButton);\n      \n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.step2)).toBeInTheDocument();\n      });\n\n      // Fill in auth credentials\n      const emailInput = screen.getByTestId(T.onboarding.emailInput);\n      const passwordInput = screen.getByTestId(T.onboarding.passwordInput);\n      \n      await user.type(emailInput, 'test@example.com');\n      await user.type(passwordInput, 'password123');\n      \n      // Submit auth\n      const authButton = screen.getByTestId(T.onboarding.authButton);\n      await user.click(authButton);\n      \n      // Should call Supabase auth\n      await waitFor(() => {\n        expect(fetch).toHaveBeenCalledWith('/api/auth/login', expect.any(Object));\n      });\n    });\n\n    it('should handle social authentication', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Navigate to auth step\n      const nextButton = screen.getByTestId(T.onboarding.nextButton);\n      await user.click(nextButton);\n      \n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.step2)).toBeInTheDocument();\n      });\n\n      // Click social auth button\n      const socialButton = screen.getByTestId(T.onboarding.socialButton);\n      await user.click(socialButton);\n      \n      // Should initiate social auth flow\n      await waitFor(() => {\n        expect(fetch).toHaveBeenCalledWith('/api/auth/social', expect.any(Object));\n      });\n    });\n  });\n\n  describe('Error Handling', () => {\n    it('should display authentication errors', async () => {\n      const user = userEvent.setup();\n      \n      // Mock failed authentication\n      (fetch as jest.Mock).mockResolvedValueOnce({\n        ok: false,\n        json: () => Promise.resolve({ error: 'Invalid credentials' }),\n      });\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Navigate to auth step\n      const nextButton = screen.getByTestId(T.onboarding.nextButton);\n      await user.click(nextButton);\n      \n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.step2)).toBeInTheDocument();\n      });\n\n      // Fill in auth credentials\n      const emailInput = screen.getByTestId(T.onboarding.emailInput);\n      const passwordInput = screen.getByTestId(T.onboarding.passwordInput);\n      \n      await user.type(emailInput, 'test@example.com');\n      await user.type(passwordInput, 'wrongpassword');\n      \n      // Submit auth\n      const authButton = screen.getByTestId(T.onboarding.authButton);\n      await user.click(authButton);\n      \n      // Should show error message\n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.authError)).toBeInTheDocument();\n        expect(screen.getByTestId(T.onboarding.authError)).toHaveTextContent('Invalid credentials');\n      });\n    });\n\n    it('should handle network errors gracefully', async () => {\n      const user = userEvent.setup();\n      \n      // Mock network error\n      (fetch as jest.Mock).mockRejectedValueOnce(new Error('Network error'));\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Navigate to auth step\n      const nextButton = screen.getByTestId(T.onboarding.nextButton);\n      await user.click(nextButton);\n      \n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.step2)).toBeInTheDocument();\n      });\n\n      // Fill in auth credentials\n      const emailInput = screen.getByTestId(T.onboarding.emailInput);\n      const passwordInput = screen.getByTestId(T.onboarding.passwordInput);\n      \n      await user.type(emailInput, 'test@example.com');\n      await user.type(passwordInput, 'password123');\n      \n      // Submit auth\n      const authButton = screen.getByTestId(T.onboarding.authButton);\n      await user.click(authButton);\n      \n      // Should show network error message\n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.networkError)).toBeInTheDocument();\n      });\n    });\n  });\n\n  describe('Accessibility', () => {\n    it('should be keyboard navigable', async () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Tab through elements\n      const firstElement = screen.getByTestId(T.onboarding.firstFocusable);\n      firstElement.focus();\n      expect(document.activeElement).toBe(firstElement);\n      \n      // Tab to next element\n      fireEvent.keyDown(firstElement, { key: 'Tab' });\n      const secondElement = screen.getByTestId(T.onboarding.secondFocusable);\n      expect(document.activeElement).toBe(secondElement);\n    });\n\n    it('should have proper ARIA labels', () => {\n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Check for ARIA labels\n      expect(screen.getByTestId(T.onboarding.stepIndicator)).toHaveAttribute('aria-label', 'Step 1 of 6');\n      expect(screen.getByTestId(T.onboarding.nextButton)).toHaveAttribute('aria-label', 'Next step');\n    });\n\n    it('should announce step changes to screen readers', async () => {\n      const user = userEvent.setup();\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Navigate to next step\n      const nextButton = screen.getByTestId(T.onboarding.nextButton);\n      await user.click(nextButton);\n      \n      // Should announce step change\n      await waitFor(() => {\n        expect(screen.getByTestId(T.onboarding.stepAnnouncement)).toBeInTheDocument();\n        expect(screen.getByTestId(T.onboarding.stepAnnouncement)).toHaveTextContent('Step 2 of 6');\n      });\n    });\n  });\n\n  describe('Performance', () => {\n    it('should render within performance budget', async () => {\n      const startTime = performance.now();\n      \n      render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Should render within 100ms\n      expect(renderTime).toBeLessThan(100);\n    });\n\n    it('should not cause memory leaks', async () => {\n      const { unmount } = render(\n        <BrowserRouter>\n          <BalancedOnboardingFlow />\n        </BrowserRouter>\n      );\n\n      // Unmount component\n      unmount();\n      \n      // Should not leave any event listeners or timers\n      expect(jest.getTimerCount()).toBe(0);\n    });\n  });\n});\n\n\n\n"],"names":["jest","mock","useRouter","push","fn","replace","back","useSearchParams","get","getSupabaseClient","auth","getUser","mockResolvedValue","data","user","signInWithPassword","signUp","Object","defineProperty","window","value","getItem","setItem","removeItem","clear","writable","global","fetch","Promise","resolve","ok","json","success","describe","beforeEach","clearAllMocks","mockClear","it","render","BrowserRouter","BalancedOnboardingFlow","expect","screen","getByTestId","toBeInTheDocument","T","welcomeNext","onboarding","step1","queryByTestId","step2","not","step3","progressIndicator","toHaveTextContent","userEvent","setup","nextButton","click","waitFor","backButton","i","stepIndicator","step6","validationError","emailInput","type","emailError","passwordInput","passwordError","nameInput","localStorage","toHaveBeenCalledWith","stringContaining","mockData","name","email","step","mockReturnValue","JSON","stringify","getByDisplayValue","authButton","any","socialButton","mockResolvedValueOnce","error","authError","mockRejectedValueOnce","Error","networkError","firstElement","firstFocusable","focus","document","activeElement","toBe","fireEvent","keyDown","key","secondElement","secondFocusable","toHaveAttribute","stepAnnouncement","startTime","performance","now","endTime","renderTime","toBeLessThan","unmount","getTimerCount"],"mappings":"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"}