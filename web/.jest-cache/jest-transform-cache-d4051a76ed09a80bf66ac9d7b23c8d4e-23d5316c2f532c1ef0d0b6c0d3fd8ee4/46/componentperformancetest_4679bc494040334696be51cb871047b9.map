{"version":3,"sources":["/Users/alaughingkitsune/src/Choices/web/tests/jest/unit/performance/component-performance.test.tsx"],"sourcesContent":["/**\n * @jest-environment jsdom\n */\n\nimport React from 'react';\nimport { render, screen, fireEvent, act } from '@testing-library/react';\nimport { BrowserRouter } from 'react-router-dom';\nimport SuperiorMobileFeed from '@/features/feeds/components/SuperiorMobileFeed';\nimport { T } from '@/lib/testing/testIds';\nimport { logger } from '@/lib/utils/logger';\n\n// Use real functionality - minimal mocking only for test environment setup\n\n// Setup minimal mocks for test environment\nbeforeAll(() => {\n  // Mock localStorage for component functionality\n  Object.defineProperty(window, 'localStorage', {\n    value: {\n      getItem: jest.fn(),\n      setItem: jest.fn(),\n      removeItem: jest.fn(),\n      clear: jest.fn(),\n    },\n    writable: true,\n  });\n  \n  // Mock navigator for online status\n  Object.defineProperty(navigator, 'onLine', {\n    value: true,\n    writable: true,\n  });\n\n  // Mock fetch to handle API calls\n  global.fetch = jest.fn((url: string) => {\n    if (url.includes('/api/feeds')) {\n      return Promise.resolve({\n        ok: true,\n        json: () => Promise.resolve([\n          {\n            id: '1',\n            title: 'Sample Civic Activity',\n            description: 'A sample civic activity for testing',\n            category: 'civic',\n            timestamp: new Date().toISOString(),\n            source: 'test'\n          }\n        ])\n      } as Response);\n    }\n    if (url.includes('/api/civics/analytics')) {\n      return Promise.resolve({\n        ok: true,\n        json: () => Promise.resolve({\n          totalUsers: 100,\n          activeUsers: 50,\n          engagement: 0.75\n        })\n      } as Response);\n    }\n    if (url.includes('/api/pwa/offline/sync')) {\n      return Promise.resolve({\n        ok: true,\n        json: () => Promise.resolve({ synced: true })\n      } as Response);\n    }\n    // Default response\n    return Promise.resolve({\n      ok: true,\n      json: () => Promise.resolve({})\n    } as Response);\n  });\n});\n\n// Clean up after each test\nafterEach(() => {\n  jest.clearAllMocks();\n});\n\ndescribe('Component Performance Tests', () => {\n  describe('Rendering Performance', () => {\n    it('should render within performance budget', async () => {\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Performance budget: 500ms for initial render (realistic for complex components)\n      expect(renderTime).toBeLessThan(500);\n      \n      // Log actual performance for monitoring\n      logger.info(`Component render time: ${renderTime.toFixed(2)}ms`);\n      \n      // Performance grade based on render time\n      if (renderTime < 100) {\n        logger.info('ðŸš€ EXCELLENT: Render time < 100ms');\n      } else if (renderTime < 150) {\n        logger.info('âœ… GOOD: Render time < 150ms');\n      } else {\n        logger.info('âš ï¸ NEEDS IMPROVEMENT: Render time > 150ms');\n      }\n    });\n\n    it('should handle multiple renders efficiently', async () => {\n      const renderTimes: number[] = [];\n      \n      // Test multiple renders\n      for (let i = 0; i < 5; i++) {\n        const startTime = performance.now();\n        \n        await act(async () => {\n          render(\n            <BrowserRouter>\n              <SuperiorMobileFeed />\n            </BrowserRouter>\n          );\n        });\n        \n        const endTime = performance.now();\n        renderTimes.push(endTime - startTime);\n      }\n      \n      const averageRenderTime = renderTimes.reduce((sum, time) => sum + time, 0) / renderTimes.length;\n      const maxRenderTime = Math.max(...renderTimes);\n      \n      // Performance expectations\n      expect(averageRenderTime).toBeLessThan(300); // Average should be under 300ms\n      expect(maxRenderTime).toBeLessThan(500); // Max should be under 500ms\n      \n      logger.info(`Average render time: ${averageRenderTime.toFixed(2)}ms`);\n      logger.info(`Max render time: ${maxRenderTime.toFixed(2)}ms`);\n    });\n\n    it('should maintain consistent performance across renders', async () => {\n      const renderTimes: number[] = [];\n      \n      // Test consistency across multiple renders\n      for (let i = 0; i < 10; i++) {\n        const startTime = performance.now();\n        \n        await act(async () => {\n          render(\n            <BrowserRouter>\n              <SuperiorMobileFeed />\n            </BrowserRouter>\n          );\n        });\n        \n        const endTime = performance.now();\n        renderTimes.push(endTime - startTime);\n      }\n      \n      // Calculate performance variance\n      const average = renderTimes.reduce((sum, time) => sum + time, 0) / renderTimes.length;\n      const variance = renderTimes.reduce((sum, time) => sum + Math.pow(time - average, 2), 0) / renderTimes.length;\n      const standardDeviation = Math.sqrt(variance);\n      \n      // Performance should be consistent (low variance)\n      expect(standardDeviation).toBeLessThan(200); // Standard deviation should be under 200ms\n      \n      logger.info(`Performance consistency - Average: ${average.toFixed(2)}ms, StdDev: ${standardDeviation.toFixed(2)}ms`);\n    });\n  });\n\n  describe('Memory Performance', () => {\n    it('should not leak memory during renders', async () => {\n      const initialMemory = performance.memory?.usedJSHeapSize || 0;\n      \n      // Perform multiple renders to test for memory leaks\n      for (let i = 0; i < 10; i++) {\n        await act(async () => {\n          render(\n            <BrowserRouter>\n              <SuperiorMobileFeed />\n            </BrowserRouter>\n          );\n        });\n      }\n      \n      const finalMemory = performance.memory?.usedJSHeapSize || 0;\n      const memoryIncrease = finalMemory - initialMemory;\n      \n      // Memory increase should be reasonable (less than 10MB)\n      expect(memoryIncrease).toBeLessThan(10 * 1024 * 1024);\n      \n      logger.info(`Memory usage - Initial: ${(initialMemory / 1024 / 1024).toFixed(2)}MB, Final: ${(finalMemory / 1024 / 1024).toFixed(2)}MB`);\n    });\n\n    it('should handle large datasets efficiently', async () => {\n      // Mock large dataset\n      const largeDataset = Array.from({ length: 1000 }, (_, i) => ({\n        id: i.toString(),\n        title: `Civic Activity ${i}`,\n        description: `Description for activity ${i}`,\n        category: 'civic',\n        timestamp: new Date().toISOString(),\n        source: 'test'\n      }));\n      \n      // Mock fetch to return large dataset\n      global.fetch = jest.fn(() => Promise.resolve({\n        ok: true,\n        json: () => Promise.resolve(largeDataset)\n      } as Response));\n      \n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Should handle large datasets within reasonable time\n      expect(renderTime).toBeLessThan(2000); // 2000ms for large dataset\n      \n      logger.info(`Large dataset render time: ${renderTime.toFixed(2)}ms`);\n    });\n  });\n\n  describe('Interaction Performance', () => {\n    it('should handle user interactions efficiently', async () => {\n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      // Test interaction performance\n      const startTime = performance.now();\n      \n      // Simulate user interactions\n      const feedElement = screen.getByRole('main');\n      fireEvent.click(feedElement);\n      \n      const endTime = performance.now();\n      const interactionTime = endTime - startTime;\n      \n      // Interaction should be fast\n      expect(interactionTime).toBeLessThan(200); // 200ms for interactions\n      \n      logger.info(`Interaction time: ${interactionTime.toFixed(2)}ms`);\n    });\n\n    it('should handle scroll events efficiently', async () => {\n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const startTime = performance.now();\n      \n      // Simulate scroll events\n      const feedElement = screen.getByRole('main');\n      fireEvent.scroll(feedElement, { target: { scrollY: 100 } });\n      \n      const endTime = performance.now();\n      const scrollTime = endTime - startTime;\n      \n      // Scroll should be very fast\n      expect(scrollTime).toBeLessThan(16); // 16ms for 60fps\n      \n      logger.info(`Scroll time: ${scrollTime.toFixed(2)}ms`);\n    });\n  });\n\n  describe('Network Performance', () => {\n    it('should handle network requests efficiently', async () => {\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Should render quickly even with network requests\n      expect(renderTime).toBeLessThan(200);\n      \n      logger.info(`Network render time: ${renderTime.toFixed(2)}ms`);\n    });\n\n    it('should handle network errors gracefully', async () => {\n      // Mock network error\n      global.fetch = jest.fn(() => Promise.reject(new Error('Network error')));\n      \n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Should still render quickly even with network errors\n      expect(renderTime).toBeLessThan(200);\n      \n      logger.info(`Error handling render time: ${renderTime.toFixed(2)}ms`);\n    });\n  });\n\n  describe('Performance Monitoring', () => {\n    it('should track performance metrics', async () => {\n      const startTime = performance.now();\n      \n      await act(async () => {\n        render(\n          <BrowserRouter>\n            <SuperiorMobileFeed />\n          </BrowserRouter>\n        );\n      });\n      \n      const endTime = performance.now();\n      const renderTime = endTime - startTime;\n      \n      // Performance metrics\n      const metrics = {\n        renderTime,\n        memoryUsage: performance.memory?.usedJSHeapSize || 0,\n        timestamp: Date.now()\n      };\n      \n      // Log metrics for monitoring\n      logger.info(`Performance Metrics:`, metrics);\n      \n      // Performance grade\n      expect(renderTime).toBeLessThan(200);\n    });\n  });\n});\n\n\n\n"],"names":["beforeAll","Object","defineProperty","window","value","getItem","jest","fn","setItem","removeItem","clear","writable","navigator","global","fetch","url","includes","Promise","resolve","ok","json","id","title","description","category","timestamp","Date","toISOString","source","totalUsers","activeUsers","engagement","synced","afterEach","clearAllMocks","describe","it","startTime","performance","now","act","render","BrowserRouter","SuperiorMobileFeed","endTime","renderTime","expect","toBeLessThan","logger","info","toFixed","renderTimes","i","push","averageRenderTime","reduce","sum","time","length","maxRenderTime","Math","max","average","variance","pow","standardDeviation","sqrt","initialMemory","memory","usedJSHeapSize","finalMemory","memoryIncrease","largeDataset","Array","from","_","toString","feedElement","screen","getByRole","fireEvent","click","interactionTime","scroll","target","scrollY","scrollTime","reject","Error","metrics","memoryUsage"],"mappings":"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"}