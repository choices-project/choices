2e708cc6a49e921f5d7aa26728d38a90
/**
 * UI Store - Zustand Implementation
 * 
 * Centralized UI state management for modals, navigation, sidebar,
 * and other UI components. Provides consistent UI state across the application.
 * 
 * Created: January 15, 2025
 * Status: âœ… ACTIVE
 */ "use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    useActiveModals: function() {
        return useActiveModals;
    },
    useCanNavigate: function() {
        return useCanNavigate;
    },
    useCurrentBreadcrumbs: function() {
        return useCurrentBreadcrumbs;
    },
    useGlobalLoading: function() {
        return useGlobalLoading;
    },
    useIsDesktop: function() {
        return useIsDesktop;
    },
    useIsMobile: function() {
        return useIsMobile;
    },
    useIsModalOpen: function() {
        return useIsModalOpen;
    },
    useIsTablet: function() {
        return useIsTablet;
    },
    useModal: function() {
        return useModal;
    },
    useModals: function() {
        return useModals;
    },
    useNavigation: function() {
        return useNavigation;
    },
    usePageLoading: function() {
        return usePageLoading;
    },
    useScreenSize: function() {
        return useScreenSize;
    },
    useSidebar: function() {
        return useSidebar;
    },
    useSystemTheme: function() {
        return useSystemTheme;
    },
    useTheme: function() {
        return useTheme;
    },
    useToastCount: function() {
        return useToastCount;
    },
    useToasts: function() {
        return useToasts;
    },
    useUIActions: function() {
        return useUIActions;
    },
    useUIDebug: function() {
        return useUIDebug;
    },
    useUIStore: function() {
        return useUIStore;
    },
    useUISubscription: function() {
        return useUISubscription;
    }
});
const _zustand = require("zustand");
const _middleware = require("zustand/middleware");
const _immer = require("zustand/middleware/immer");
const useUIStore = (0, _zustand.create)()((0, _middleware.devtools)((0, _middleware.persist)((0, _immer.immer)((set, get)=>({
        // Initial state
        modals: {},
        sidebar: {
            isOpen: true,
            isCollapsed: false,
            width: 256,
            pinned: false
        },
        navigation: {
            currentRoute: "/",
            breadcrumbs: [],
            history: [
                "/"
            ],
            canGoBack: false,
            canGoForward: false
        },
        toasts: [],
        globalLoading: false,
        pageLoading: false,
        theme: "system",
        systemTheme: "light",
        screenSize: "desktop",
        isMobile: false,
        isTablet: false,
        isDesktop: true,
        isLoading: false,
        error: null,
        // Base store actions
        setLoading: (loading)=>set((state)=>{
                state.isLoading = loading;
            }),
        setError: (error)=>set((state)=>{
                state.error = error;
            }),
        clearError: ()=>set((state)=>{
                state.error = null;
            }),
        // Modal management actions
        openModal: (id, component, props, options = {})=>set((state)=>{
                // Remove existing modal with same id
                state.modals = state.modals.filter((modal)=>modal.id !== id);
                // Add new modal
                state.modals.push({
                    id,
                    isOpen: true,
                    component,
                    props,
                    closable: true,
                    backdrop: true,
                    ...options
                });
            }),
        closeModal: (id)=>set((state)=>{
                const modal = state.modals.find((modal)=>modal.id === id);
                if (modal) {
                    modal.isOpen = false;
                    // Call onClose if provided
                    if (modal.onClose) {
                        modal.onClose();
                    }
                    // Remove modal from array
                    state.modals = state.modals.filter((modal)=>modal.id !== id);
                }
            }),
        closeAllModals: ()=>set((state)=>{
                state.modals.forEach((modal)=>{
                    modal.isOpen = false;
                    if (modal.onClose) {
                        modal.onClose();
                    }
                });
                state.modals = [];
            }),
        updateModal: (id, updates)=>set((state)=>{
                const modal = state.modals.find((modal)=>modal.id === id);
                if (modal) {
                    Object.assign(modal, updates);
                }
            }),
        // Sidebar management actions
        toggleSidebar: ()=>set((state)=>{
                state.sidebar.isOpen = !state.sidebar.isOpen;
            }),
        setSidebarOpen: (open)=>set((state)=>{
                state.sidebar.isOpen = open;
            }),
        setSidebarCollapsed: (collapsed)=>set((state)=>{
                state.sidebar.isCollapsed = collapsed;
            }),
        setSidebarWidth: (width)=>set((state)=>{
                state.sidebar.width = Math.max(200, Math.min(400, width));
            }),
        setSidebarPinned: (pinned)=>set((state)=>{
                state.sidebar.pinned = pinned;
            }),
        setSidebarActiveItem: (item)=>set((state)=>{
                state.sidebar.activeItem = item;
            }),
        // Navigation management actions
        setCurrentRoute: (route)=>set((state)=>{
                state.navigation.previousRoute = state.navigation.currentRoute;
                state.navigation.currentRoute = route;
            }),
        setBreadcrumbs: (breadcrumbs)=>set((state)=>{
                state.navigation.breadcrumbs = breadcrumbs;
            }),
        addToHistory: (route)=>set((state)=>{
                const history = state.navigation.history;
                const currentIndex = history.indexOf(state.navigation.currentRoute);
                // Remove any forward history if we're not at the end
                if (currentIndex < history.length - 1) {
                    history.splice(currentIndex + 1);
                }
                // Add new route
                history.push(route);
                state.navigation.currentRoute = route;
                state.navigation.canGoBack = history.length > 1;
                state.navigation.canGoForward = false;
            }),
        goBack: ()=>set((state)=>{
                const history = state.navigation.history;
                const currentIndex = history.indexOf(state.navigation.currentRoute);
                if (currentIndex > 0) {
                    const previousRoute = history[currentIndex - 1];
                    state.navigation.previousRoute = state.navigation.currentRoute;
                    state.navigation.currentRoute = previousRoute || "";
                    state.navigation.canGoBack = currentIndex > 1;
                    state.navigation.canGoForward = true;
                }
            }),
        goForward: ()=>set((state)=>{
                const history = state.navigation.history;
                const currentIndex = history.indexOf(state.navigation.currentRoute);
                if (currentIndex < history.length - 1) {
                    const nextRoute = history[currentIndex + 1];
                    state.navigation.previousRoute = state.navigation.currentRoute;
                    state.navigation.currentRoute = nextRoute || "";
                    state.navigation.canGoBack = true;
                    state.navigation.canGoForward = currentIndex < history.length - 2;
                }
            }),
        clearHistory: ()=>set((state)=>{
                state.navigation.history = [
                    state.navigation.currentRoute
                ];
                state.navigation.canGoBack = false;
                state.navigation.canGoForward = false;
            }),
        // Toast management actions
        addToast: (toast)=>set((state)=>{
                const id = `toast-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;
                state.toasts.push({
                    id,
                    duration: 5000,
                    persistent: false,
                    ...toast,
                    position: toast.position || "top-right"
                });
                // Auto-remove toast after duration
                if (!toast.persistent && toast.duration !== 0) {
                    setTimeout(()=>{
                        get().removeToast(id);
                    }, toast.duration || 5000);
                }
            }),
        removeToast: (id)=>set((state)=>{
                state.toasts = state.toasts.filter((toast)=>toast.id !== id);
            }),
        clearAllToasts: ()=>set((state)=>{
                state.toasts = [];
            }),
        updateToast: (id, updates)=>set((state)=>{
                const toast = state.toasts.find((t)=>t.id === id);
                if (toast) {
                    Object.assign(toast, updates);
                }
            }),
        // Loading management actions
        setGlobalLoading: (loading)=>set((state)=>{
                state.globalLoading = loading;
            }),
        setPageLoading: (loading)=>set((state)=>{
                state.pageLoading = loading;
            }),
        // Theme management actions
        setTheme: (theme)=>set((state)=>{
                state.theme = theme;
            }),
        setSystemTheme: (theme)=>set((state)=>{
                state.systemTheme = theme;
            }),
        // Screen management actions
        setScreenSize: (size)=>set((state)=>{
                state.screenSize = size;
                state.isMobile = size === "mobile";
                state.isTablet = size === "tablet";
                state.isDesktop = size === "desktop";
            }),
        updateScreenState: ()=>set((state)=>{
                if (typeof window !== "undefined") {
                    const width = window.innerWidth;
                    if (width < 768) {
                        state.screenSize = "mobile";
                        state.isMobile = true;
                        state.isTablet = false;
                        state.isDesktop = false;
                    } else if (width < 1024) {
                        state.screenSize = "tablet";
                        state.isMobile = false;
                        state.isTablet = true;
                        state.isDesktop = false;
                    } else {
                        state.screenSize = "desktop";
                        state.isMobile = false;
                        state.isTablet = false;
                        state.isDesktop = true;
                    }
                }
            }),
        // Utility actions
        resetUI: ()=>set((state)=>{
                state.modals = {};
                state.sidebar = {
                    isOpen: true,
                    isCollapsed: false,
                    width: 256,
                    pinned: false
                };
                state.navigation = {
                    currentRoute: "/",
                    breadcrumbs: [],
                    history: [
                        "/"
                    ],
                    canGoBack: false,
                    canGoForward: false
                };
                state.toasts = [];
                state.globalLoading = false;
                state.pageLoading = false;
            })
    })), {
    name: "ui-store",
    partialize: (state)=>({
            sidebar: state.sidebar,
            theme: state.theme,
            navigation: {
                currentRoute: state.navigation.currentRoute,
                breadcrumbs: state.navigation.breadcrumbs,
                history: state.navigation.history
            }
        })
}), {
    name: "UIStore"
}));
const useModals = ()=>useUIStore((state)=>state.modals);
const useModal = (id)=>useUIStore((state)=>state.modals[id]);
const useSidebar = ()=>useUIStore((state)=>state.sidebar);
const useNavigation = ()=>useUIStore((state)=>state.navigation);
const useToasts = ()=>useUIStore((state)=>state.toasts);
const useGlobalLoading = ()=>useUIStore((state)=>state.globalLoading);
const usePageLoading = ()=>useUIStore((state)=>state.pageLoading);
const useTheme = ()=>useUIStore((state)=>state.theme);
const useSystemTheme = ()=>useUIStore((state)=>state.systemTheme);
const useScreenSize = ()=>useUIStore((state)=>state.screenSize);
const useIsMobile = ()=>useUIStore((state)=>state.isMobile);
const useIsTablet = ()=>useUIStore((state)=>state.isTablet);
const useIsDesktop = ()=>useUIStore((state)=>state.isDesktop);
const useIsModalOpen = (id)=>useUIStore((state)=>state.modals[id]?.isOpen || false);
const useActiveModals = ()=>useUIStore((state)=>Object.values(state.modals).filter((modal)=>modal.isOpen));
const useToastCount = ()=>useUIStore((state)=>state.toasts.length);
const useCurrentBreadcrumbs = ()=>useUIStore((state)=>state.navigation.breadcrumbs);
const useCanNavigate = ()=>useUIStore((state)=>({
            canGoBack: state.navigation.canGoBack,
            canGoForward: state.navigation.canGoForward
        }));
const useUIActions = ()=>useUIStore((state)=>({
            openModal: state.openModal,
            closeModal: state.closeModal,
            closeAllModals: state.closeAllModals,
            updateModal: state.updateModal,
            toggleSidebar: state.toggleSidebar,
            setSidebarOpen: state.setSidebarOpen,
            setSidebarCollapsed: state.setSidebarCollapsed,
            setSidebarWidth: state.setSidebarWidth,
            setSidebarPinned: state.setSidebarPinned,
            setSidebarActiveItem: state.setSidebarActiveItem,
            setCurrentRoute: state.setCurrentRoute,
            setBreadcrumbs: state.setBreadcrumbs,
            addToHistory: state.addToHistory,
            goBack: state.goBack,
            goForward: state.goForward,
            clearHistory: state.clearHistory,
            addToast: state.addToast,
            removeToast: state.removeToast,
            clearAllToasts: state.clearAllToasts,
            updateToast: state.updateToast,
            setGlobalLoading: state.setGlobalLoading,
            setPageLoading: state.setPageLoading,
            setTheme: state.setTheme,
            setSystemTheme: state.setSystemTheme,
            setScreenSize: state.setScreenSize,
            updateScreenState: state.updateScreenState,
            resetUI: state.resetUI
        }));
const useUIDebug = ()=>useUIStore((state)=>({
            modals: Object.keys(state.modals),
            activeModals: Object.values(state.modals).filter((modal)=>modal.isOpen).length,
            toasts: state.toasts.length,
            sidebarOpen: state.sidebar.isOpen,
            currentRoute: state.navigation.currentRoute,
            historyLength: state.navigation.history.length,
            theme: state.theme,
            screenSize: state.screenSize
        }));
const useUISubscription = (selector, callback)=>{
    return useUIStore.subscribe((state)=>{
        const value = selector(state);
        callback(value);
    });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi9saWIvc3RvcmVzL3VpU3RvcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBVSSBTdG9yZSAtIFp1c3RhbmQgSW1wbGVtZW50YXRpb25cbiAqIFxuICogQ2VudHJhbGl6ZWQgVUkgc3RhdGUgbWFuYWdlbWVudCBmb3IgbW9kYWxzLCBuYXZpZ2F0aW9uLCBzaWRlYmFyLFxuICogYW5kIG90aGVyIFVJIGNvbXBvbmVudHMuIFByb3ZpZGVzIGNvbnNpc3RlbnQgVUkgc3RhdGUgYWNyb3NzIHRoZSBhcHBsaWNhdGlvbi5cbiAqIFxuICogQ3JlYXRlZDogSmFudWFyeSAxNSwgMjAyNVxuICogU3RhdHVzOiDinIUgQUNUSVZFXG4gKi9cblxuaW1wb3J0IHsgY3JlYXRlIH0gZnJvbSAnenVzdGFuZCc7XG5pbXBvcnQgeyBkZXZ0b29scyB9IGZyb20gJ3p1c3RhbmQvbWlkZGxld2FyZSc7XG5pbXBvcnQgeyBwZXJzaXN0IH0gZnJvbSAnenVzdGFuZC9taWRkbGV3YXJlJztcbmltcG9ydCB7IGltbWVyIH0gZnJvbSAnenVzdGFuZC9taWRkbGV3YXJlL2ltbWVyJztcbmltcG9ydCB7IHNoYWxsb3cgfSBmcm9tICd6dXN0YW5kL3NoYWxsb3cnO1xuXG5pbXBvcnQgdHlwZSB7IEJhc2VTdG9yZSB9IGZyb20gJy4vdHlwZXMnO1xuXG4vLyBNb2RhbCBzdGF0ZSBpbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgTW9kYWxTdGF0ZSB7XG4gIGlkOiBzdHJpbmc7XG4gIGlzT3BlbjogYm9vbGVhbjtcbiAgY29tcG9uZW50PzogUmVhY3QuQ29tcG9uZW50VHlwZTxhbnk+O1xuICBwcm9wcz86IFJlY29yZDxzdHJpbmcsIGFueT47XG4gIG9uQ2xvc2U/OiAoKSA9PiB2b2lkO1xuICBjbG9zYWJsZT86IGJvb2xlYW47XG4gIGJhY2tkcm9wPzogYm9vbGVhbjtcbn1cblxuLy8gU2lkZWJhciBzdGF0ZSBpbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgU2lkZWJhclN0YXRlIHtcbiAgaXNPcGVuOiBib29sZWFuO1xuICBpc0NvbGxhcHNlZDogYm9vbGVhbjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgcGlubmVkOiBib29sZWFuO1xuICBhY3RpdmVJdGVtPzogc3RyaW5nO1xufVxuXG4vLyBOYXZpZ2F0aW9uIHN0YXRlIGludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0aW9uU3RhdGUge1xuICBjdXJyZW50Um91dGU6IHN0cmluZztcbiAgcHJldmlvdXNSb3V0ZT86IHN0cmluZztcbiAgYnJlYWRjcnVtYnM6IEFycmF5PHtcbiAgICBsYWJlbDogc3RyaW5nO1xuICAgIGhyZWY6IHN0cmluZztcbiAgfT47XG4gIGhpc3Rvcnk6IHN0cmluZ1tdO1xuICBjYW5Hb0JhY2s6IGJvb2xlYW47XG4gIGNhbkdvRm9yd2FyZDogYm9vbGVhbjtcbn1cblxuLy8gVG9hc3Qgc3RhdGUgaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIFRvYXN0U3RhdGUge1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiAnc3VjY2VzcycgfCAnZXJyb3InIHwgJ3dhcm5pbmcnIHwgJ2luZm8nO1xuICB0aXRsZTogc3RyaW5nO1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGR1cmF0aW9uPzogbnVtYmVyO1xuICBwb3NpdGlvbjogJ3RvcC1yaWdodCcgfCAndG9wLWxlZnQnIHwgJ2JvdHRvbS1yaWdodCcgfCAnYm90dG9tLWxlZnQnIHwgJ3RvcC1jZW50ZXInIHwgJ2JvdHRvbS1jZW50ZXInO1xuICBwZXJzaXN0ZW50PzogYm9vbGVhbjtcbn1cblxuLy8gVUkgc3RvcmUgaW50ZXJmYWNlXG50eXBlIFVJU3RvcmUgPSB7XG4gIC8vIE1vZGFsIHN0YXRlXG4gIG1vZGFsczogTW9kYWxTdGF0ZVtdO1xuICBcbiAgLy8gU2lkZWJhciBzdGF0ZVxuICBzaWRlYmFyOiBTaWRlYmFyU3RhdGU7XG4gIFxuICAvLyBOYXZpZ2F0aW9uIHN0YXRlXG4gIG5hdmlnYXRpb246IE5hdmlnYXRpb25TdGF0ZTtcbiAgXG4gIC8vIFRvYXN0IHN0YXRlXG4gIHRvYXN0czogVG9hc3RTdGF0ZVtdO1xuICBcbiAgLy8gTG9hZGluZyBzdGF0ZXNcbiAgZ2xvYmFsTG9hZGluZzogYm9vbGVhbjtcbiAgcGFnZUxvYWRpbmc6IGJvb2xlYW47XG4gIFxuICAvLyBUaGVtZSBzdGF0ZVxuICB0aGVtZTogJ2xpZ2h0JyB8ICdkYXJrJyB8ICdzeXN0ZW0nO1xuICBzeXN0ZW1UaGVtZTogJ2xpZ2h0JyB8ICdkYXJrJztcbiAgXG4gIC8vIFNjcmVlbiBzdGF0ZVxuICBzY3JlZW5TaXplOiAnbW9iaWxlJyB8ICd0YWJsZXQnIHwgJ2Rlc2t0b3AnO1xuICBpc01vYmlsZTogYm9vbGVhbjtcbiAgaXNUYWJsZXQ6IGJvb2xlYW47XG4gIGlzRGVza3RvcDogYm9vbGVhbjtcbiAgXG4gIC8vIEFjdGlvbnMgLSBNb2RhbCBNYW5hZ2VtZW50XG4gIG9wZW5Nb2RhbDogKGlkOiBzdHJpbmcsIGNvbXBvbmVudD86IFJlYWN0LkNvbXBvbmVudFR5cGU8YW55PiwgcHJvcHM/OiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBvcHRpb25zPzogUGFydGlhbDxNb2RhbFN0YXRlPikgPT4gdm9pZDtcbiAgY2xvc2VNb2RhbDogKGlkOiBzdHJpbmcpID0+IHZvaWQ7XG4gIGNsb3NlQWxsTW9kYWxzOiAoKSA9PiB2b2lkO1xuICB1cGRhdGVNb2RhbDogKGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8TW9kYWxTdGF0ZT4pID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gU2lkZWJhciBNYW5hZ2VtZW50XG4gIHRvZ2dsZVNpZGViYXI6ICgpID0+IHZvaWQ7XG4gIHNldFNpZGViYXJPcGVuOiAob3BlbjogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0U2lkZWJhckNvbGxhcHNlZDogKGNvbGxhcHNlZDogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0U2lkZWJhcldpZHRoOiAod2lkdGg6IG51bWJlcikgPT4gdm9pZDtcbiAgc2V0U2lkZWJhclBpbm5lZDogKHBpbm5lZDogYm9vbGVhbikgPT4gdm9pZDtcbiAgc2V0U2lkZWJhckFjdGl2ZUl0ZW06IChpdGVtOiBzdHJpbmcpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gTmF2aWdhdGlvbiBNYW5hZ2VtZW50XG4gIHNldEN1cnJlbnRSb3V0ZTogKHJvdXRlOiBzdHJpbmcpID0+IHZvaWQ7XG4gIHNldEJyZWFkY3J1bWJzOiAoYnJlYWRjcnVtYnM6IE5hdmlnYXRpb25TdGF0ZVsnYnJlYWRjcnVtYnMnXSkgPT4gdm9pZDtcbiAgYWRkVG9IaXN0b3J5OiAocm91dGU6IHN0cmluZykgPT4gdm9pZDtcbiAgZ29CYWNrOiAoKSA9PiB2b2lkO1xuICBnb0ZvcndhcmQ6ICgpID0+IHZvaWQ7XG4gIGNsZWFySGlzdG9yeTogKCkgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBUb2FzdCBNYW5hZ2VtZW50XG4gIGFkZFRvYXN0OiAodG9hc3Q6IE9taXQ8VG9hc3RTdGF0ZSwgJ2lkJz4pID0+IHZvaWQ7XG4gIHJlbW92ZVRvYXN0OiAoaWQ6IHN0cmluZykgPT4gdm9pZDtcbiAgY2xlYXJBbGxUb2FzdHM6ICgpID0+IHZvaWQ7XG4gIHVwZGF0ZVRvYXN0OiAoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxUb2FzdFN0YXRlPikgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBMb2FkaW5nIE1hbmFnZW1lbnRcbiAgc2V0R2xvYmFsTG9hZGluZzogKGxvYWRpbmc6IGJvb2xlYW4pID0+IHZvaWQ7XG4gIHNldFBhZ2VMb2FkaW5nOiAobG9hZGluZzogYm9vbGVhbikgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBUaGVtZSBNYW5hZ2VtZW50XG4gIHNldFRoZW1lOiAodGhlbWU6ICdsaWdodCcgfCAnZGFyaycgfCAnc3lzdGVtJykgPT4gdm9pZDtcbiAgc2V0U3lzdGVtVGhlbWU6ICh0aGVtZTogJ2xpZ2h0JyB8ICdkYXJrJykgPT4gdm9pZDtcbiAgXG4gIC8vIEFjdGlvbnMgLSBTY3JlZW4gTWFuYWdlbWVudFxuICBzZXRTY3JlZW5TaXplOiAoc2l6ZTogJ21vYmlsZScgfCAndGFibGV0JyB8ICdkZXNrdG9wJykgPT4gdm9pZDtcbiAgdXBkYXRlU2NyZWVuU3RhdGU6ICgpID0+IHZvaWQ7XG4gIFxuICAvLyBBY3Rpb25zIC0gVXRpbGl0eVxuICByZXNldFVJOiAoKSA9PiB2b2lkO1xufSAmIEJhc2VTdG9yZTtcblxuLy8gQ3JlYXRlIFVJIHN0b3JlIHdpdGggbWlkZGxld2FyZVxuZXhwb3J0IGNvbnN0IHVzZVVJU3RvcmUgPSBjcmVhdGU8VUlTdG9yZT4oKShcbiAgZGV2dG9vbHMoXG4gICAgcGVyc2lzdChcbiAgICAgIGltbWVyKChzZXQsIGdldCkgPT4gKHtcbiAgICAgICAgLy8gSW5pdGlhbCBzdGF0ZVxuICAgICAgICBtb2RhbHM6IHt9LFxuICAgICAgICBzaWRlYmFyOiB7XG4gICAgICAgICAgaXNPcGVuOiB0cnVlLFxuICAgICAgICAgIGlzQ29sbGFwc2VkOiBmYWxzZSxcbiAgICAgICAgICB3aWR0aDogMjU2LFxuICAgICAgICAgIHBpbm5lZDogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIG5hdmlnYXRpb246IHtcbiAgICAgICAgICBjdXJyZW50Um91dGU6ICcvJyxcbiAgICAgICAgICBicmVhZGNydW1iczogW10sXG4gICAgICAgICAgaGlzdG9yeTogWycvJ10sXG4gICAgICAgICAgY2FuR29CYWNrOiBmYWxzZSxcbiAgICAgICAgICBjYW5Hb0ZvcndhcmQ6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICB0b2FzdHM6IFtdLFxuICAgICAgICBnbG9iYWxMb2FkaW5nOiBmYWxzZSxcbiAgICAgICAgcGFnZUxvYWRpbmc6IGZhbHNlLFxuICAgICAgICB0aGVtZTogJ3N5c3RlbScsXG4gICAgICAgIHN5c3RlbVRoZW1lOiAnbGlnaHQnLFxuICAgICAgICBzY3JlZW5TaXplOiAnZGVza3RvcCcsXG4gICAgICAgIGlzTW9iaWxlOiBmYWxzZSxcbiAgICAgICAgaXNUYWJsZXQ6IGZhbHNlLFxuICAgICAgICBpc0Rlc2t0b3A6IHRydWUsXG4gICAgICAgIGlzTG9hZGluZzogZmFsc2UsXG4gICAgICAgIGVycm9yOiBudWxsLFxuICAgICAgICBcbiAgICAgICAgLy8gQmFzZSBzdG9yZSBhY3Rpb25zXG4gICAgICAgIHNldExvYWRpbmc6IChsb2FkaW5nKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuaXNMb2FkaW5nID0gbG9hZGluZztcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBzZXRFcnJvcjogKGVycm9yKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBjbGVhckVycm9yOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuZXJyb3IgPSBudWxsO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIC8vIE1vZGFsIG1hbmFnZW1lbnQgYWN0aW9uc1xuICAgICAgICBvcGVuTW9kYWw6IChpZCwgY29tcG9uZW50LCBwcm9wcywgb3B0aW9ucyA9IHt9KSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgLy8gUmVtb3ZlIGV4aXN0aW5nIG1vZGFsIHdpdGggc2FtZSBpZFxuICAgICAgICAgIHN0YXRlLm1vZGFscyA9IHN0YXRlLm1vZGFscy5maWx0ZXIobW9kYWwgPT4gbW9kYWwuaWQgIT09IGlkKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBZGQgbmV3IG1vZGFsXG4gICAgICAgICAgc3RhdGUubW9kYWxzLnB1c2goe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBpc09wZW46IHRydWUsXG4gICAgICAgICAgICBjb21wb25lbnQsXG4gICAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICAgIGNsb3NhYmxlOiB0cnVlLFxuICAgICAgICAgICAgYmFja2Ryb3A6IHRydWUsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIGNsb3NlTW9kYWw6IChpZCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IG1vZGFsID0gc3RhdGUubW9kYWxzLmZpbmQobW9kYWwgPT4gbW9kYWwuaWQgPT09IGlkKTtcbiAgICAgICAgICBpZiAobW9kYWwpIHtcbiAgICAgICAgICAgIG1vZGFsLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gQ2FsbCBvbkNsb3NlIGlmIHByb3ZpZGVkXG4gICAgICAgICAgICBpZiAobW9kYWwub25DbG9zZSkge1xuICAgICAgICAgICAgICBtb2RhbC5vbkNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZW1vdmUgbW9kYWwgZnJvbSBhcnJheVxuICAgICAgICAgICAgc3RhdGUubW9kYWxzID0gc3RhdGUubW9kYWxzLmZpbHRlcihtb2RhbCA9PiBtb2RhbC5pZCAhPT0gaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBjbG9zZUFsbE1vZGFsczogKCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIHN0YXRlLm1vZGFscy5mb3JFYWNoKG1vZGFsID0+IHtcbiAgICAgICAgICAgIG1vZGFsLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKG1vZGFsLm9uQ2xvc2UpIHtcbiAgICAgICAgICAgICAgbW9kYWwub25DbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHN0YXRlLm1vZGFscyA9IFtdO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZU1vZGFsOiAoaWQsIHVwZGF0ZXMpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBtb2RhbCA9IHN0YXRlLm1vZGFscy5maW5kKG1vZGFsID0+IG1vZGFsLmlkID09PSBpZCk7XG4gICAgICAgICAgaWYgKG1vZGFsKSB7XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKG1vZGFsLCB1cGRhdGVzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgLy8gU2lkZWJhciBtYW5hZ2VtZW50IGFjdGlvbnNcbiAgICAgICAgdG9nZ2xlU2lkZWJhcjogKCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIHN0YXRlLnNpZGViYXIuaXNPcGVuID0gIXN0YXRlLnNpZGViYXIuaXNPcGVuO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHNldFNpZGViYXJPcGVuOiAob3BlbikgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIHN0YXRlLnNpZGViYXIuaXNPcGVuID0gb3BlbjtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBzZXRTaWRlYmFyQ29sbGFwc2VkOiAoY29sbGFwc2VkKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuc2lkZWJhci5pc0NvbGxhcHNlZCA9IGNvbGxhcHNlZDtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBzZXRTaWRlYmFyV2lkdGg6ICh3aWR0aCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIHN0YXRlLnNpZGViYXIud2lkdGggPSBNYXRoLm1heCgyMDAsIE1hdGgubWluKDQwMCwgd2lkdGgpKTtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBzZXRTaWRlYmFyUGlubmVkOiAocGlubmVkKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuc2lkZWJhci5waW5uZWQgPSBwaW5uZWQ7XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgc2V0U2lkZWJhckFjdGl2ZUl0ZW06IChpdGVtKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuc2lkZWJhci5hY3RpdmVJdGVtID0gaXRlbTtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBOYXZpZ2F0aW9uIG1hbmFnZW1lbnQgYWN0aW9uc1xuICAgICAgICBzZXRDdXJyZW50Um91dGU6IChyb3V0ZSkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24ucHJldmlvdXNSb3V0ZSA9IHN0YXRlLm5hdmlnYXRpb24uY3VycmVudFJvdXRlO1xuICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uY3VycmVudFJvdXRlID0gcm91dGU7XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgc2V0QnJlYWRjcnVtYnM6IChicmVhZGNydW1icykgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uYnJlYWRjcnVtYnMgPSBicmVhZGNydW1icztcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBhZGRUb0hpc3Rvcnk6IChyb3V0ZSkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGhpc3RvcnkgPSBzdGF0ZS5uYXZpZ2F0aW9uLmhpc3Rvcnk7XG4gICAgICAgICAgY29uc3QgY3VycmVudEluZGV4ID0gaGlzdG9yeS5pbmRleE9mKHN0YXRlLm5hdmlnYXRpb24uY3VycmVudFJvdXRlKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZW1vdmUgYW55IGZvcndhcmQgaGlzdG9yeSBpZiB3ZSdyZSBub3QgYXQgdGhlIGVuZFxuICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPCBoaXN0b3J5Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGhpc3Rvcnkuc3BsaWNlKGN1cnJlbnRJbmRleCArIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBZGQgbmV3IHJvdXRlXG4gICAgICAgICAgaGlzdG9yeS5wdXNoKHJvdXRlKTtcbiAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmN1cnJlbnRSb3V0ZSA9IHJvdXRlO1xuICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uY2FuR29CYWNrID0gaGlzdG9yeS5sZW5ndGggPiAxO1xuICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uY2FuR29Gb3J3YXJkID0gZmFsc2U7XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgZ29CYWNrOiAoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgY29uc3QgaGlzdG9yeSA9IHN0YXRlLm5hdmlnYXRpb24uaGlzdG9yeTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50SW5kZXggPSBoaXN0b3J5LmluZGV4T2Yoc3RhdGUubmF2aWdhdGlvbi5jdXJyZW50Um91dGUpO1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChjdXJyZW50SW5kZXggPiAwKSB7XG4gICAgICAgICAgICBjb25zdCBwcmV2aW91c1JvdXRlID0gaGlzdG9yeVtjdXJyZW50SW5kZXggLSAxXTtcbiAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24ucHJldmlvdXNSb3V0ZSA9IHN0YXRlLm5hdmlnYXRpb24uY3VycmVudFJvdXRlO1xuICAgICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5jdXJyZW50Um91dGUgPSBwcmV2aW91c1JvdXRlIHx8ICcnO1xuICAgICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5jYW5Hb0JhY2sgPSBjdXJyZW50SW5kZXggPiAxO1xuICAgICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5jYW5Hb0ZvcndhcmQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBnb0ZvcndhcmQ6ICgpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBoaXN0b3J5ID0gc3RhdGUubmF2aWdhdGlvbi5oaXN0b3J5O1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbmRleCA9IGhpc3RvcnkuaW5kZXhPZihzdGF0ZS5uYXZpZ2F0aW9uLmN1cnJlbnRSb3V0ZSk7XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCA8IGhpc3RvcnkubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFJvdXRlID0gaGlzdG9yeVtjdXJyZW50SW5kZXggKyAxXTtcbiAgICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24ucHJldmlvdXNSb3V0ZSA9IHN0YXRlLm5hdmlnYXRpb24uY3VycmVudFJvdXRlO1xuICAgICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5jdXJyZW50Um91dGUgPSBuZXh0Um91dGUgfHwgJyc7XG4gICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmNhbkdvQmFjayA9IHRydWU7XG4gICAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmNhbkdvRm9yd2FyZCA9IGN1cnJlbnRJbmRleCA8IGhpc3RvcnkubGVuZ3RoIC0gMjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgY2xlYXJIaXN0b3J5OiAoKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUubmF2aWdhdGlvbi5oaXN0b3J5ID0gW3N0YXRlLm5hdmlnYXRpb24uY3VycmVudFJvdXRlXTtcbiAgICAgICAgICBzdGF0ZS5uYXZpZ2F0aW9uLmNhbkdvQmFjayA9IGZhbHNlO1xuICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24uY2FuR29Gb3J3YXJkID0gZmFsc2U7XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgLy8gVG9hc3QgbWFuYWdlbWVudCBhY3Rpb25zXG4gICAgICAgIGFkZFRvYXN0OiAodG9hc3QpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCBpZCA9IGB0b2FzdC0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gICAgICAgICAgc3RhdGUudG9hc3RzLnB1c2goe1xuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgICAgICAgIHBlcnNpc3RlbnQ6IGZhbHNlLFxuICAgICAgICAgICAgLi4udG9hc3QsXG4gICAgICAgICAgICBwb3NpdGlvbjogdG9hc3QucG9zaXRpb24gfHwgJ3RvcC1yaWdodCcsXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQXV0by1yZW1vdmUgdG9hc3QgYWZ0ZXIgZHVyYXRpb25cbiAgICAgICAgICBpZiAoIXRvYXN0LnBlcnNpc3RlbnQgJiYgdG9hc3QuZHVyYXRpb24gIT09IDApIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICBnZXQoKS5yZW1vdmVUb2FzdChpZCk7XG4gICAgICAgICAgICB9LCB0b2FzdC5kdXJhdGlvbiB8fCA1MDAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgcmVtb3ZlVG9hc3Q6IChpZCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIHN0YXRlLnRvYXN0cyA9IHN0YXRlLnRvYXN0cy5maWx0ZXIodG9hc3QgPT4gdG9hc3QuaWQgIT09IGlkKTtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBjbGVhckFsbFRvYXN0czogKCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIHN0YXRlLnRvYXN0cyA9IFtdO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIHVwZGF0ZVRvYXN0OiAoaWQsIHVwZGF0ZXMpID0+IHNldCgoc3RhdGUpID0+IHtcbiAgICAgICAgICBjb25zdCB0b2FzdCA9IHN0YXRlLnRvYXN0cy5maW5kKHQgPT4gdC5pZCA9PT0gaWQpO1xuICAgICAgICAgIGlmICh0b2FzdCkge1xuICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0b2FzdCwgdXBkYXRlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIC8vIExvYWRpbmcgbWFuYWdlbWVudCBhY3Rpb25zXG4gICAgICAgIHNldEdsb2JhbExvYWRpbmc6IChsb2FkaW5nKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuZ2xvYmFsTG9hZGluZyA9IGxvYWRpbmc7XG4gICAgICAgIH0pLFxuICAgICAgICBcbiAgICAgICAgc2V0UGFnZUxvYWRpbmc6IChsb2FkaW5nKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUucGFnZUxvYWRpbmcgPSBsb2FkaW5nO1xuICAgICAgICB9KSxcbiAgICAgICAgXG4gICAgICAgIC8vIFRoZW1lIG1hbmFnZW1lbnQgYWN0aW9uc1xuICAgICAgICBzZXRUaGVtZTogKHRoZW1lKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUudGhlbWUgPSB0aGVtZTtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICBzZXRTeXN0ZW1UaGVtZTogKHRoZW1lKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuc3lzdGVtVGhlbWUgPSB0aGVtZTtcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBTY3JlZW4gbWFuYWdlbWVudCBhY3Rpb25zXG4gICAgICAgIHNldFNjcmVlblNpemU6IChzaXplKSA9PiBzZXQoKHN0YXRlKSA9PiB7XG4gICAgICAgICAgc3RhdGUuc2NyZWVuU2l6ZSA9IHNpemU7XG4gICAgICAgICAgc3RhdGUuaXNNb2JpbGUgPSBzaXplID09PSAnbW9iaWxlJztcbiAgICAgICAgICBzdGF0ZS5pc1RhYmxldCA9IHNpemUgPT09ICd0YWJsZXQnO1xuICAgICAgICAgIHN0YXRlLmlzRGVza3RvcCA9IHNpemUgPT09ICdkZXNrdG9wJztcbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICB1cGRhdGVTY3JlZW5TdGF0ZTogKCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgY29uc3Qgd2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcbiAgICAgICAgICAgIGlmICh3aWR0aCA8IDc2OCkge1xuICAgICAgICAgICAgICBzdGF0ZS5zY3JlZW5TaXplID0gJ21vYmlsZSc7XG4gICAgICAgICAgICAgIHN0YXRlLmlzTW9iaWxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgc3RhdGUuaXNUYWJsZXQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgc3RhdGUuaXNEZXNrdG9wID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHdpZHRoIDwgMTAyNCkge1xuICAgICAgICAgICAgICBzdGF0ZS5zY3JlZW5TaXplID0gJ3RhYmxldCc7XG4gICAgICAgICAgICAgIHN0YXRlLmlzTW9iaWxlID0gZmFsc2U7XG4gICAgICAgICAgICAgIHN0YXRlLmlzVGFibGV0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgc3RhdGUuaXNEZXNrdG9wID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzdGF0ZS5zY3JlZW5TaXplID0gJ2Rlc2t0b3AnO1xuICAgICAgICAgICAgICBzdGF0ZS5pc01vYmlsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICBzdGF0ZS5pc1RhYmxldCA9IGZhbHNlO1xuICAgICAgICAgICAgICBzdGF0ZS5pc0Rlc2t0b3AgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIFxuICAgICAgICAvLyBVdGlsaXR5IGFjdGlvbnNcbiAgICAgICAgcmVzZXRVSTogKCkgPT4gc2V0KChzdGF0ZSkgPT4ge1xuICAgICAgICAgIHN0YXRlLm1vZGFscyA9IHt9O1xuICAgICAgICAgIHN0YXRlLnNpZGViYXIgPSB7XG4gICAgICAgICAgICBpc09wZW46IHRydWUsXG4gICAgICAgICAgICBpc0NvbGxhcHNlZDogZmFsc2UsXG4gICAgICAgICAgICB3aWR0aDogMjU2LFxuICAgICAgICAgICAgcGlubmVkOiBmYWxzZSxcbiAgICAgICAgICB9O1xuICAgICAgICAgIHN0YXRlLm5hdmlnYXRpb24gPSB7XG4gICAgICAgICAgICBjdXJyZW50Um91dGU6ICcvJyxcbiAgICAgICAgICAgIGJyZWFkY3J1bWJzOiBbXSxcbiAgICAgICAgICAgIGhpc3Rvcnk6IFsnLyddLFxuICAgICAgICAgICAgY2FuR29CYWNrOiBmYWxzZSxcbiAgICAgICAgICAgIGNhbkdvRm9yd2FyZDogZmFsc2UsXG4gICAgICAgICAgfTtcbiAgICAgICAgICBzdGF0ZS50b2FzdHMgPSBbXTtcbiAgICAgICAgICBzdGF0ZS5nbG9iYWxMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgc3RhdGUucGFnZUxvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfSksXG4gICAgICB9KSksXG4gICAgICB7XG4gICAgICAgIG5hbWU6ICd1aS1zdG9yZScsXG4gICAgICAgIHBhcnRpYWxpemU6IChzdGF0ZSkgPT4gKHtcbiAgICAgICAgICBzaWRlYmFyOiBzdGF0ZS5zaWRlYmFyLFxuICAgICAgICAgIHRoZW1lOiBzdGF0ZS50aGVtZSxcbiAgICAgICAgICBuYXZpZ2F0aW9uOiB7XG4gICAgICAgICAgICBjdXJyZW50Um91dGU6IHN0YXRlLm5hdmlnYXRpb24uY3VycmVudFJvdXRlLFxuICAgICAgICAgICAgYnJlYWRjcnVtYnM6IHN0YXRlLm5hdmlnYXRpb24uYnJlYWRjcnVtYnMsXG4gICAgICAgICAgICBoaXN0b3J5OiBzdGF0ZS5uYXZpZ2F0aW9uLmhpc3RvcnksXG4gICAgICAgICAgfSxcbiAgICAgICAgfSksXG4gICAgICB9XG4gICAgKSxcbiAgICB7IG5hbWU6ICdVSVN0b3JlJyB9XG4gIClcbik7XG5cbi8vIFN0b3JlIHNlbGVjdG9ycyBmb3Igb3B0aW1pemVkIHJlLXJlbmRlcnNcbmV4cG9ydCBjb25zdCB1c2VNb2RhbHMgPSAoKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+IHN0YXRlLm1vZGFscyk7XG5leHBvcnQgY29uc3QgdXNlTW9kYWwgPSAoaWQ6IHN0cmluZykgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiBzdGF0ZS5tb2RhbHNbaWRdKTtcbmV4cG9ydCBjb25zdCB1c2VTaWRlYmFyID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiBzdGF0ZS5zaWRlYmFyKTtcbmV4cG9ydCBjb25zdCB1c2VOYXZpZ2F0aW9uID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiBzdGF0ZS5uYXZpZ2F0aW9uKTtcbmV4cG9ydCBjb25zdCB1c2VUb2FzdHMgPSAoKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+IHN0YXRlLnRvYXN0cyk7XG5leHBvcnQgY29uc3QgdXNlR2xvYmFsTG9hZGluZyA9ICgpID0+IHVzZVVJU3RvcmUoc3RhdGUgPT4gc3RhdGUuZ2xvYmFsTG9hZGluZyk7XG5leHBvcnQgY29uc3QgdXNlUGFnZUxvYWRpbmcgPSAoKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+IHN0YXRlLnBhZ2VMb2FkaW5nKTtcbmV4cG9ydCBjb25zdCB1c2VUaGVtZSA9ICgpID0+IHVzZVVJU3RvcmUoc3RhdGUgPT4gc3RhdGUudGhlbWUpO1xuZXhwb3J0IGNvbnN0IHVzZVN5c3RlbVRoZW1lID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiBzdGF0ZS5zeXN0ZW1UaGVtZSk7XG5leHBvcnQgY29uc3QgdXNlU2NyZWVuU2l6ZSA9ICgpID0+IHVzZVVJU3RvcmUoc3RhdGUgPT4gc3RhdGUuc2NyZWVuU2l6ZSk7XG5leHBvcnQgY29uc3QgdXNlSXNNb2JpbGUgPSAoKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+IHN0YXRlLmlzTW9iaWxlKTtcbmV4cG9ydCBjb25zdCB1c2VJc1RhYmxldCA9ICgpID0+IHVzZVVJU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNUYWJsZXQpO1xuZXhwb3J0IGNvbnN0IHVzZUlzRGVza3RvcCA9ICgpID0+IHVzZVVJU3RvcmUoc3RhdGUgPT4gc3RhdGUuaXNEZXNrdG9wKTtcblxuLy8gQ29tcHV0ZWQgc2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlSXNNb2RhbE9wZW4gPSAoaWQ6IHN0cmluZykgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiBzdGF0ZS5tb2RhbHNbaWRdPy5pc09wZW4gfHwgZmFsc2UpO1xuZXhwb3J0IGNvbnN0IHVzZUFjdGl2ZU1vZGFscyA9ICgpID0+IHVzZVVJU3RvcmUoc3RhdGUgPT4gXG4gIE9iamVjdC52YWx1ZXMoc3RhdGUubW9kYWxzKS5maWx0ZXIobW9kYWwgPT4gbW9kYWwuaXNPcGVuKVxuKTtcbmV4cG9ydCBjb25zdCB1c2VUb2FzdENvdW50ID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiBzdGF0ZS50b2FzdHMubGVuZ3RoKTtcbmV4cG9ydCBjb25zdCB1c2VDdXJyZW50QnJlYWRjcnVtYnMgPSAoKSA9PiB1c2VVSVN0b3JlKHN0YXRlID0+IHN0YXRlLm5hdmlnYXRpb24uYnJlYWRjcnVtYnMpO1xuZXhwb3J0IGNvbnN0IHVzZUNhbk5hdmlnYXRlID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiAoe1xuICBjYW5Hb0JhY2s6IHN0YXRlLm5hdmlnYXRpb24uY2FuR29CYWNrLFxuICBjYW5Hb0ZvcndhcmQ6IHN0YXRlLm5hdmlnYXRpb24uY2FuR29Gb3J3YXJkLFxufSkpO1xuXG4vLyBBY3Rpb24gc2VsZWN0b3JzXG5leHBvcnQgY29uc3QgdXNlVUlBY3Rpb25zID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiAoe1xuICBvcGVuTW9kYWw6IHN0YXRlLm9wZW5Nb2RhbCxcbiAgY2xvc2VNb2RhbDogc3RhdGUuY2xvc2VNb2RhbCxcbiAgY2xvc2VBbGxNb2RhbHM6IHN0YXRlLmNsb3NlQWxsTW9kYWxzLFxuICB1cGRhdGVNb2RhbDogc3RhdGUudXBkYXRlTW9kYWwsXG4gIHRvZ2dsZVNpZGViYXI6IHN0YXRlLnRvZ2dsZVNpZGViYXIsXG4gIHNldFNpZGViYXJPcGVuOiBzdGF0ZS5zZXRTaWRlYmFyT3BlbixcbiAgc2V0U2lkZWJhckNvbGxhcHNlZDogc3RhdGUuc2V0U2lkZWJhckNvbGxhcHNlZCxcbiAgc2V0U2lkZWJhcldpZHRoOiBzdGF0ZS5zZXRTaWRlYmFyV2lkdGgsXG4gIHNldFNpZGViYXJQaW5uZWQ6IHN0YXRlLnNldFNpZGViYXJQaW5uZWQsXG4gIHNldFNpZGViYXJBY3RpdmVJdGVtOiBzdGF0ZS5zZXRTaWRlYmFyQWN0aXZlSXRlbSxcbiAgc2V0Q3VycmVudFJvdXRlOiBzdGF0ZS5zZXRDdXJyZW50Um91dGUsXG4gIHNldEJyZWFkY3J1bWJzOiBzdGF0ZS5zZXRCcmVhZGNydW1icyxcbiAgYWRkVG9IaXN0b3J5OiBzdGF0ZS5hZGRUb0hpc3RvcnksXG4gIGdvQmFjazogc3RhdGUuZ29CYWNrLFxuICBnb0ZvcndhcmQ6IHN0YXRlLmdvRm9yd2FyZCxcbiAgY2xlYXJIaXN0b3J5OiBzdGF0ZS5jbGVhckhpc3RvcnksXG4gIGFkZFRvYXN0OiBzdGF0ZS5hZGRUb2FzdCxcbiAgcmVtb3ZlVG9hc3Q6IHN0YXRlLnJlbW92ZVRvYXN0LFxuICBjbGVhckFsbFRvYXN0czogc3RhdGUuY2xlYXJBbGxUb2FzdHMsXG4gIHVwZGF0ZVRvYXN0OiBzdGF0ZS51cGRhdGVUb2FzdCxcbiAgc2V0R2xvYmFsTG9hZGluZzogc3RhdGUuc2V0R2xvYmFsTG9hZGluZyxcbiAgc2V0UGFnZUxvYWRpbmc6IHN0YXRlLnNldFBhZ2VMb2FkaW5nLFxuICBzZXRUaGVtZTogc3RhdGUuc2V0VGhlbWUsXG4gIHNldFN5c3RlbVRoZW1lOiBzdGF0ZS5zZXRTeXN0ZW1UaGVtZSxcbiAgc2V0U2NyZWVuU2l6ZTogc3RhdGUuc2V0U2NyZWVuU2l6ZSxcbiAgdXBkYXRlU2NyZWVuU3RhdGU6IHN0YXRlLnVwZGF0ZVNjcmVlblN0YXRlLFxuICByZXNldFVJOiBzdGF0ZS5yZXNldFVJLFxufSkpO1xuXG4vLyBEZWJ1ZyB1dGlsaXRpZXNcbmV4cG9ydCBjb25zdCB1c2VVSURlYnVnID0gKCkgPT4gdXNlVUlTdG9yZShzdGF0ZSA9PiAoe1xuICBtb2RhbHM6IE9iamVjdC5rZXlzKHN0YXRlLm1vZGFscyksXG4gIGFjdGl2ZU1vZGFsczogT2JqZWN0LnZhbHVlcyhzdGF0ZS5tb2RhbHMpLmZpbHRlcihtb2RhbCA9PiBtb2RhbC5pc09wZW4pLmxlbmd0aCxcbiAgdG9hc3RzOiBzdGF0ZS50b2FzdHMubGVuZ3RoLFxuICBzaWRlYmFyT3Blbjogc3RhdGUuc2lkZWJhci5pc09wZW4sXG4gIGN1cnJlbnRSb3V0ZTogc3RhdGUubmF2aWdhdGlvbi5jdXJyZW50Um91dGUsXG4gIGhpc3RvcnlMZW5ndGg6IHN0YXRlLm5hdmlnYXRpb24uaGlzdG9yeS5sZW5ndGgsXG4gIHRoZW1lOiBzdGF0ZS50aGVtZSxcbiAgc2NyZWVuU2l6ZTogc3RhdGUuc2NyZWVuU2l6ZSxcbn0pKTtcblxuLy8gU3Vic2NyaXB0aW9uIHV0aWxpdGllc1xuZXhwb3J0IGNvbnN0IHVzZVVJU3Vic2NyaXB0aW9uID0gKHNlbGVjdG9yOiAoc3RhdGU6IFVJU3RvcmUpID0+IGFueSwgY2FsbGJhY2s6ICh2YWx1ZTogYW55KSA9PiB2b2lkKSA9PiB7XG4gIHJldHVybiB1c2VVSVN0b3JlLnN1YnNjcmliZSgoc3RhdGUpID0+IHtcbiAgICBjb25zdCB2YWx1ZSA9IHNlbGVjdG9yKHN0YXRlKTtcbiAgICBjYWxsYmFjayh2YWx1ZSk7XG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6WyJ1c2VBY3RpdmVNb2RhbHMiLCJ1c2VDYW5OYXZpZ2F0ZSIsInVzZUN1cnJlbnRCcmVhZGNydW1icyIsInVzZUdsb2JhbExvYWRpbmciLCJ1c2VJc0Rlc2t0b3AiLCJ1c2VJc01vYmlsZSIsInVzZUlzTW9kYWxPcGVuIiwidXNlSXNUYWJsZXQiLCJ1c2VNb2RhbCIsInVzZU1vZGFscyIsInVzZU5hdmlnYXRpb24iLCJ1c2VQYWdlTG9hZGluZyIsInVzZVNjcmVlblNpemUiLCJ1c2VTaWRlYmFyIiwidXNlU3lzdGVtVGhlbWUiLCJ1c2VUaGVtZSIsInVzZVRvYXN0Q291bnQiLCJ1c2VUb2FzdHMiLCJ1c2VVSUFjdGlvbnMiLCJ1c2VVSURlYnVnIiwidXNlVUlTdG9yZSIsInVzZVVJU3Vic2NyaXB0aW9uIiwiY3JlYXRlIiwiZGV2dG9vbHMiLCJwZXJzaXN0IiwiaW1tZXIiLCJzZXQiLCJnZXQiLCJtb2RhbHMiLCJzaWRlYmFyIiwiaXNPcGVuIiwiaXNDb2xsYXBzZWQiLCJ3aWR0aCIsInBpbm5lZCIsIm5hdmlnYXRpb24iLCJjdXJyZW50Um91dGUiLCJicmVhZGNydW1icyIsImhpc3RvcnkiLCJjYW5Hb0JhY2siLCJjYW5Hb0ZvcndhcmQiLCJ0b2FzdHMiLCJnbG9iYWxMb2FkaW5nIiwicGFnZUxvYWRpbmciLCJ0aGVtZSIsInN5c3RlbVRoZW1lIiwic2NyZWVuU2l6ZSIsImlzTW9iaWxlIiwiaXNUYWJsZXQiLCJpc0Rlc2t0b3AiLCJpc0xvYWRpbmciLCJlcnJvciIsInNldExvYWRpbmciLCJsb2FkaW5nIiwic3RhdGUiLCJzZXRFcnJvciIsImNsZWFyRXJyb3IiLCJvcGVuTW9kYWwiLCJpZCIsImNvbXBvbmVudCIsInByb3BzIiwib3B0aW9ucyIsImZpbHRlciIsIm1vZGFsIiwicHVzaCIsImNsb3NhYmxlIiwiYmFja2Ryb3AiLCJjbG9zZU1vZGFsIiwiZmluZCIsIm9uQ2xvc2UiLCJjbG9zZUFsbE1vZGFscyIsImZvckVhY2giLCJ1cGRhdGVNb2RhbCIsInVwZGF0ZXMiLCJPYmplY3QiLCJhc3NpZ24iLCJ0b2dnbGVTaWRlYmFyIiwic2V0U2lkZWJhck9wZW4iLCJvcGVuIiwic2V0U2lkZWJhckNvbGxhcHNlZCIsImNvbGxhcHNlZCIsInNldFNpZGViYXJXaWR0aCIsIk1hdGgiLCJtYXgiLCJtaW4iLCJzZXRTaWRlYmFyUGlubmVkIiwic2V0U2lkZWJhckFjdGl2ZUl0ZW0iLCJpdGVtIiwiYWN0aXZlSXRlbSIsInNldEN1cnJlbnRSb3V0ZSIsInJvdXRlIiwicHJldmlvdXNSb3V0ZSIsInNldEJyZWFkY3J1bWJzIiwiYWRkVG9IaXN0b3J5IiwiY3VycmVudEluZGV4IiwiaW5kZXhPZiIsImxlbmd0aCIsInNwbGljZSIsImdvQmFjayIsImdvRm9yd2FyZCIsIm5leHRSb3V0ZSIsImNsZWFySGlzdG9yeSIsImFkZFRvYXN0IiwidG9hc3QiLCJEYXRlIiwibm93IiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJkdXJhdGlvbiIsInBlcnNpc3RlbnQiLCJwb3NpdGlvbiIsInNldFRpbWVvdXQiLCJyZW1vdmVUb2FzdCIsImNsZWFyQWxsVG9hc3RzIiwidXBkYXRlVG9hc3QiLCJ0Iiwic2V0R2xvYmFsTG9hZGluZyIsInNldFBhZ2VMb2FkaW5nIiwic2V0VGhlbWUiLCJzZXRTeXN0ZW1UaGVtZSIsInNldFNjcmVlblNpemUiLCJzaXplIiwidXBkYXRlU2NyZWVuU3RhdGUiLCJ3aW5kb3ciLCJpbm5lcldpZHRoIiwicmVzZXRVSSIsIm5hbWUiLCJwYXJ0aWFsaXplIiwidmFsdWVzIiwia2V5cyIsImFjdGl2ZU1vZGFscyIsInNpZGViYXJPcGVuIiwiaGlzdG9yeUxlbmd0aCIsInNlbGVjdG9yIiwiY2FsbGJhY2siLCJzdWJzY3JpYmUiLCJ2YWx1ZSJdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7Ozs7O0NBUUM7Ozs7Ozs7Ozs7O0lBc2JZQSxlQUFlO2VBQWZBOztJQUtBQyxjQUFjO2VBQWRBOztJQURBQyxxQkFBcUI7ZUFBckJBOztJQWZBQyxnQkFBZ0I7ZUFBaEJBOztJQU9BQyxZQUFZO2VBQVpBOztJQUZBQyxXQUFXO2VBQVhBOztJQUtBQyxjQUFjO2VBQWRBOztJQUpBQyxXQUFXO2VBQVhBOztJQVZBQyxRQUFRO2VBQVJBOztJQURBQyxTQUFTO2VBQVRBOztJQUdBQyxhQUFhO2VBQWJBOztJQUdBQyxjQUFjO2VBQWRBOztJQUdBQyxhQUFhO2VBQWJBOztJQVBBQyxVQUFVO2VBQVZBOztJQU1BQyxjQUFjO2VBQWRBOztJQURBQyxRQUFRO2VBQVJBOztJQVlBQyxhQUFhO2VBQWJBOztJQWZBQyxTQUFTO2VBQVRBOztJQXVCQUMsWUFBWTtlQUFaQTs7SUErQkFDLFVBQVU7ZUFBVkE7O0lBaldBQyxVQUFVO2VBQVZBOztJQTZXQUMsaUJBQWlCO2VBQWpCQTs7O3lCQTFlVTs0QkFDRTt1QkFFSDtBQTBIZixNQUFNRCxhQUFhRSxJQUFBQSxl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