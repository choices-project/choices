9093fafc01e47d2dd46b4e9096fee0a5
/**
 * @jest-environment jsdom
 */ // Mock window.matchMedia before any imports
"use strict";
// Mock lucide-react icons
jest.mock("lucide-react", ()=>({
        Bell: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "bell-icon"
            }),
        BellOff: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "bell-off-icon"
            }),
        CheckCircle: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "check-circle-icon"
            }),
        AlertCircle: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "alert-circle-icon"
            }),
        Wifi: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "wifi-icon"
            }),
        WifiOff: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "wifi-off-icon"
            }),
        Download: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "download-icon"
            }),
        Settings: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "settings-icon"
            }),
        RefreshCw: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "refresh-icon"
            }),
        Database: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "database-icon"
            }),
        Clock: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "clock-icon"
            }),
        Check: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "check-icon"
            }),
        X: ()=>/*#__PURE__*/ (0, _jsxruntime.jsx)("div", {
                "data-testid": "x-icon"
            })
    }));
// Mock Zustand PWA store hooks - CORRECT APPROACH
jest.mock("@/lib/stores", ()=>({
        usePWAInstallation: jest.fn(()=>({
                isInstalled: false,
                canInstall: true,
                install: jest.fn(),
                checkInstallationStatus: jest.fn()
            })),
        usePWAOffline: jest.fn(()=>({
                isOnline: true,
                offlineData: {
                    cachedPages: [],
                    cachedResources: [],
                    queuedActions: []
                },
                syncOfflineData: jest.fn(),
                clearOfflineData: jest.fn()
            })),
        usePWANotifications: jest.fn(()=>({
                permission: "default",
                requestPermission: jest.fn(),
                showNotification: jest.fn()
            })),
        usePWALoading: jest.fn(()=>false),
        usePWAError: jest.fn(()=>null),
        usePWAActions: jest.fn(()=>({
                installPWA: jest.fn(),
                uninstallPWA: jest.fn(),
                checkForUpdates: jest.fn(),
                installUpdate: jest.fn(),
                requestNotificationPermission: jest.fn(),
                showNotification: jest.fn(),
                syncOfflineData: jest.fn(),
                clearOfflineData: jest.fn(),
                exportData: jest.fn(),
                importData: jest.fn()
            }))
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _jsxruntime = require("react/jsx-runtime");
const _react = /*#__PURE__*/ _interop_require_default(require("react"));
const _react1 = require("@testing-library/react");
const _reactrouterdom = require("react-router-dom");
const _userevent = /*#__PURE__*/ _interop_require_default(require("@testing-library/user-event"));
const _PWAFeatures = /*#__PURE__*/ _interop_require_default(require("../../../../../../features/pwa/components/PWAFeatures"));
const _testIds = require("../../../../../../lib/testing/testIds");
const _stores = require("../../../../../../lib/stores");
function _interop_require_default(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
Object.defineProperty(window, "matchMedia", {
    value: jest.fn().mockImplementation((query)=>({
            matches: false,
            media: query,
            onchange: null,
            addListener: jest.fn(),
            removeListener: jest.fn(),
            addEventListener: jest.fn(),
            removeEventListener: jest.fn(),
            dispatchEvent: jest.fn()
        })),
    writable: true
});
// Mock browser APIs
Object.defineProperty(navigator, "serviceWorker", {
    value: {
        register: jest.fn(),
        ready: Promise.resolve()
    },
    writable: true
});
// Mock online/offline events
Object.defineProperty(navigator, "onLine", {
    value: true,
    writable: true
});
// Mock Notification API
Object.defineProperty(window, "Notification", {
    value: {
        permission: "granted",
        requestPermission: jest.fn().mockResolvedValue("granted")
    },
    writable: true
});
// Mock localStorage
Object.defineProperty(window, "localStorage", {
    value: {
        getItem: jest.fn(),
        setItem: jest.fn(),
        removeItem: jest.fn(),
        clear: jest.fn()
    },
    writable: true
});
// Mock fetch for API calls
global.fetch = jest.fn(()=>Promise.resolve({
        ok: true,
        json: ()=>Promise.resolve({
                success: true
            })
    }));
describe("PWA Features - Comprehensive Testing", ()=>{
    // Enable fake timers to fix timer-related issues
    jest.useFakeTimers();
    beforeEach(()=>{
        jest.clearAllMocks();
        fetch.mockClear();
        // Clear all timers before each test
        jest.clearAllTimers();
    });
    afterEach(()=>{
        // Clean up timers after each test
        jest.runOnlyPendingTimers();
        jest.useRealTimers();
        jest.useFakeTimers();
    });
    describe("Component Rendering", ()=>{
        it("should render PWA features when installation is available", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // Check for basic PWA elements
            expect(_react1.screen.getByTestId("pwa-features")).toBeInTheDocument();
            expect(_react1.screen.getByTestId("offline-features")).toBeInTheDocument();
        });
        it("should not render when PWA is already installed and no features available", ()=>{
            // Mock already installed state
            const { usePWAInstallation } = require("@/lib/stores");
            usePWAInstallation.mockReturnValue({
                isInstalled: true,
                canInstall: false,
                install: jest.fn(),
                isInstalling: false
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // When PWA is installed and no features available, component returns null
            expect(_react1.screen.queryByTestId("pwa-features")).not.toBeInTheDocument();
        });
        it("should render with custom className", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {
                    className: "custom-class"
                })
            }));
            const container = _react1.screen.getByTestId("pwa-features");
            expect(container).toHaveClass("custom-class");
        });
    });
    describe("Offline Features", ()=>{
        it("should display offline indicator", ()=>{
            // Mock offline state
            const { usePWAOffline } = require("@/lib/stores");
            usePWAOffline.mockReturnValue({
                isOnline: false,
                offlineData: {},
                syncOfflineData: jest.fn(),
                clearOfflineData: jest.fn()
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId("offline-features")).toBeInTheDocument();
        });
        it("should show offline polls when cached pages exist", ()=>{
            // Mock offline data with cached pages
            const { usePWAOffline } = require("@/lib/stores");
            usePWAOffline.mockReturnValue({
                isOnline: false,
                offlineData: {
                    cachedPages: [
                        "poll-1",
                        "poll-2"
                    ],
                    queuedActions: []
                },
                syncOfflineData: jest.fn(),
                clearOfflineData: jest.fn()
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId("offline-polls")).toBeInTheDocument();
        });
        it("should show offline queue when queued actions exist", ()=>{
            // Mock offline data with queued actions
            jest.doMock("@/features/pwa/hooks/useOffline", ()=>({
                    useOffline: ()=>({
                            isOnline: false,
                            offlineData: {
                                cachedPages: [],
                                queuedActions: [
                                    "action-1",
                                    "action-2"
                                ]
                            },
                            syncOfflineData: jest.fn(),
                            clearOfflineData: jest.fn()
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId(_testIds.T.pwa.offlineQueue)).toBeInTheDocument();
        });
        it("should show offline sync when cached pages exist", ()=>{
            // Mock offline data with cached pages
            jest.doMock("@/features/pwa/hooks/useOffline", ()=>({
                    useOffline: ()=>({
                            isOnline: false,
                            offlineData: {
                                cachedPages: [
                                    "poll-1"
                                ],
                                queuedActions: []
                            },
                            syncOfflineData: jest.fn(),
                            clearOfflineData: jest.fn()
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId(_testIds.T.pwa.offlineSync)).toBeInTheDocument();
        });
    });
    describe("Notification Features", ()=>{
        it("should display notification permission component", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId(_testIds.T.pwa.notificationPermission)).toBeInTheDocument();
        });
        it("should display notification preferences", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId(_testIds.T.pwa.notificationPreferences)).toBeInTheDocument();
        });
        it("should show different notification types for different user roles", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // Regular user notifications
            expect(_react1.screen.getByTestId(_testIds.T.pwa.regularUserNotifications)).toBeInTheDocument();
            expect(_react1.screen.getByTestId(_testIds.T.pwa.regularUserNotifications)).toHaveTextContent("Regular User Notifications");
            // Admin user notifications
            expect(_react1.screen.getByTestId(_testIds.T.pwa.adminUserNotifications)).toBeInTheDocument();
            expect(_react1.screen.getByTestId(_testIds.T.pwa.adminUserNotifications)).toHaveTextContent("Admin User Notifications");
            // Mobile notifications
            expect(_react1.screen.getByTestId(_testIds.T.pwa.mobileNotifications)).toBeInTheDocument();
            expect(_react1.screen.getByTestId(_testIds.T.pwa.mobileNotifications)).toHaveTextContent("Mobile Notifications");
        });
    });
    describe("PWA Installation", ()=>{
        it("should handle PWA installation", async ()=>{
            const user = _userevent.default.setup();
            const mockInstall = jest.fn().mockResolvedValue(undefined);
            // Mock installation hook
            _stores.usePWAInstallation.mockReturnValue({
                isInstalled: false,
                canInstall: true,
                install: mockInstall,
                isInstalling: false
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const installButton = _react1.screen.getByTestId(_testIds.T.pwa.installButton);
            // Use act() for state updates and proper async handling
            await (0, _react1.act)(async ()=>{
                await user.click(installButton);
            });
            // Wait for async operation with proper timeout handling
            await (0, _react1.waitFor)(()=>{
                expect(mockInstall).toHaveBeenCalled();
            }, {
                timeout: 5000
            });
        });
        it("should show installation progress", ()=>{
            // Mock installing state
            jest.doMock("@/features/pwa/hooks/usePWAInstallation", ()=>({
                    usePWAInstallation: ()=>({
                            isInstalled: false,
                            canInstall: true,
                            install: jest.fn(),
                            isInstalling: true
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId(_testIds.T.pwa.installingIndicator)).toBeInTheDocument();
            expect(_react1.screen.getByTestId(_testIds.T.pwa.installingIndicator)).toHaveTextContent("Installing...");
        });
        it("should show installed state when PWA is installed", ()=>{
            // Mock installed state
            jest.doMock("@/features/pwa/hooks/usePWAInstallation", ()=>({
                    usePWAInstallation: ()=>({
                            isInstalled: true,
                            canInstall: false,
                            install: jest.fn(),
                            isInstalling: false
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            expect(_react1.screen.getByTestId(_testIds.T.pwa.installedIndicator)).toBeInTheDocument();
            expect(_react1.screen.getByTestId(_testIds.T.pwa.installedIndicator)).toHaveTextContent("PWA Installed");
        });
    });
    describe("Offline Data Management", ()=>{
        it("should sync offline data when online", async ()=>{
            const user = _userevent.default.setup();
            const mockSyncOfflineData = jest.fn().mockResolvedValue(undefined);
            // Mock offline hook with sync function
            _stores.usePWAOffline.mockReturnValue({
                isOnline: true,
                offlineData: {
                    cachedPages: [
                        "poll-1"
                    ],
                    queuedActions: [
                        "action-1"
                    ]
                },
                syncOfflineData: mockSyncOfflineData,
                clearOfflineData: jest.fn()
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const syncButton = _react1.screen.getByTestId(_testIds.T.pwa.syncButton);
            // Use act() for state updates and proper async handling
            await (0, _react1.act)(async ()=>{
                await user.click(syncButton);
            });
            // Wait for async operation with proper timeout handling
            await (0, _react1.waitFor)(()=>{
                expect(mockSyncOfflineData).toHaveBeenCalled();
            }, {
                timeout: 5000
            });
        });
        it("should clear offline data", async ()=>{
            const user = _userevent.default.setup();
            const mockClearOfflineData = jest.fn().mockResolvedValue(undefined);
            // Mock offline hook with clear function
            _stores.usePWAOffline.mockReturnValue({
                isOnline: false,
                offlineData: {
                    cachedPages: [
                        "poll-1"
                    ],
                    queuedActions: [
                        "action-1"
                    ]
                },
                syncOfflineData: jest.fn(),
                clearOfflineData: mockClearOfflineData
            });
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const clearButton = _react1.screen.getByTestId(_testIds.T.pwa.clearButton);
            // Use act() for state updates and proper async handling
            await (0, _react1.act)(async ()=>{
                await user.click(clearButton);
            });
            // Wait for async operation with proper timeout handling
            await (0, _react1.waitFor)(()=>{
                expect(mockClearOfflineData).toHaveBeenCalled();
            }, {
                timeout: 5000
            });
        });
    });
    describe("Notification Management", ()=>{
        it("should request notification permission", async ()=>{
            const user = _userevent.default.setup();
            const mockRequestPermission = jest.fn().mockResolvedValue("granted");
            // Mock notifications hook
            jest.doMock("@/features/pwa/hooks/useNotifications", ()=>({
                    useNotifications: ()=>({
                            permission: "default",
                            requestPermission: mockRequestPermission,
                            showNotification: jest.fn()
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const requestButton = _react1.screen.getByTestId(_testIds.T.pwa.requestPermissionButton);
            // Use act() for state updates and proper async handling
            await (0, _react1.act)(async ()=>{
                await user.click(requestButton);
            });
            // Wait for async operation with proper timeout handling
            await (0, _react1.waitFor)(()=>{
                expect(mockRequestPermission).toHaveBeenCalled();
            }, {
                timeout: 5000
            });
        });
        it("should show notification when permission is granted", async ()=>{
            const user = _userevent.default.setup();
            const mockShowNotification = jest.fn();
            // Mock notifications hook
            jest.doMock("@/features/pwa/hooks/useNotifications", ()=>({
                    useNotifications: ()=>({
                            permission: "granted",
                            requestPermission: jest.fn(),
                            showNotification: mockShowNotification
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const testButton = _react1.screen.getByTestId(_testIds.T.pwa.testNotificationButton);
            // Use act() for state updates and proper async handling
            await (0, _react1.act)(async ()=>{
                await user.click(testButton);
            });
            // Wait for async operation with proper timeout handling
            await (0, _react1.waitFor)(()=>{
                expect(mockShowNotification).toHaveBeenCalledWith({
                    title: "Test Notification",
                    body: "This is a test notification",
                    icon: "/icon-192x192.png"
                });
            }, {
                timeout: 5000
            });
        });
    });
    describe("Error Handling", ()=>{
        it("should handle installation errors", async ()=>{
            const user = _userevent.default.setup();
            const mockInstall = jest.fn().mockRejectedValue(new Error("Installation failed"));
            // Mock installation hook with error
            jest.doMock("@/features/pwa/hooks/usePWAInstallation", ()=>({
                    usePWAInstallation: ()=>({
                            isInstalled: false,
                            canInstall: true,
                            install: mockInstall,
                            isInstalling: false
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const installButton = _react1.screen.getByTestId(_testIds.T.pwa.installButton);
            // Use act() for state updates and proper async handling
            await (0, _react1.act)(async ()=>{
                await user.click(installButton);
            });
            // Should show error message with proper timeout handling
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId(_testIds.T.pwa.installError)).toBeInTheDocument();
                expect(_react1.screen.getByTestId(_testIds.T.pwa.installError)).toHaveTextContent("Installation failed");
            }, {
                timeout: 5000
            });
        });
        it("should handle sync errors", async ()=>{
            const user = _userevent.default.setup();
            const mockSyncOfflineData = jest.fn().mockRejectedValue(new Error("Sync failed"));
            // Mock offline hook with error
            jest.doMock("@/features/pwa/hooks/useOffline", ()=>({
                    useOffline: ()=>({
                            isOnline: true,
                            offlineData: {
                                cachedPages: [
                                    "poll-1"
                                ],
                                queuedActions: [
                                    "action-1"
                                ]
                            },
                            syncOfflineData: mockSyncOfflineData,
                            clearOfflineData: jest.fn()
                        })
                }));
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const syncButton = _react1.screen.getByTestId(_testIds.T.pwa.syncButton);
            // Use act() for state updates and proper async handling
            await (0, _react1.act)(async ()=>{
                await user.click(syncButton);
            });
            // Should show error message with proper timeout handling
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId(_testIds.T.pwa.syncError)).toBeInTheDocument();
                expect(_react1.screen.getByTestId(_testIds.T.pwa.syncError)).toHaveTextContent("Sync failed");
            }, {
                timeout: 5000
            });
        });
    });
    describe("Accessibility", ()=>{
        it("should be keyboard navigable", async ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // Tab through elements with proper async handling
            const firstElement = _react1.screen.getByTestId(_testIds.T.pwa.firstFocusable);
            await (0, _react1.act)(async ()=>{
                firstElement.focus();
            });
            expect(document.activeElement).toBe(firstElement);
            // Tab to next element with proper async handling
            await (0, _react1.act)(async ()=>{
                _react1.fireEvent.keyDown(firstElement, {
                    key: "Tab"
                });
            });
            const secondElement = _react1.screen.getByTestId(_testIds.T.pwa.secondFocusable);
            // Wait for focus to change
            await (0, _react1.waitFor)(()=>{
                expect(document.activeElement).toBe(secondElement);
            }, {
                timeout: 1000
            });
        });
        it("should have proper ARIA labels", ()=>{
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // Check for ARIA labels
            expect(_react1.screen.getByTestId(_testIds.T.pwa.installButton)).toHaveAttribute("aria-label", "Install PWA");
            expect(_react1.screen.getByTestId(_testIds.T.pwa.syncButton)).toHaveAttribute("aria-label", "Sync offline data");
        });
        it("should announce state changes to screen readers", async ()=>{
            const user = _userevent.default.setup();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // Trigger state change with proper async handling
            const installButton = _react1.screen.getByTestId(_testIds.T.pwa.installButton);
            await (0, _react1.act)(async ()=>{
                await user.click(installButton);
            });
            // Should announce state change with proper timeout handling
            await (0, _react1.waitFor)(()=>{
                expect(_react1.screen.getByTestId(_testIds.T.pwa.stateAnnouncement)).toBeInTheDocument();
            }, {
                timeout: 5000
            });
        });
    });
    describe("Performance", ()=>{
        it("should render within performance budget", async ()=>{
            const startTime = performance.now();
            (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            const endTime = performance.now();
            const renderTime = endTime - startTime;
            // Should render within 100ms
            expect(renderTime).toBeLessThan(100);
        });
        it("should not cause memory leaks", async ()=>{
            const { unmount } = (0, _react1.render)(/*#__PURE__*/ (0, _jsxruntime.jsx)(_reactrouterdom.BrowserRouter, {
                children: /*#__PURE__*/ (0, _jsxruntime.jsx)(_PWAFeatures.default, {})
            }));
            // Unmount component
            unmount();
            // Should not leave any event listeners or timers
            expect(jest.getTimerCount()).toBe(0);
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9hbGF1Z2hpbmdraXRzdW5lL3NyYy9DaG9pY2VzL3dlYi90ZXN0cy9qZXN0L3VuaXQvY29tcG9uZW50cy9mZWF0dXJlcy9wd2EvcHdhLWZlYXR1cmVzLWNvbXByZWhlbnNpdmUudGVzdC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAamVzdC1lbnZpcm9ubWVudCBqc2RvbVxuICovXG5cbi8vIE1vY2sgd2luZG93Lm1hdGNoTWVkaWEgYmVmb3JlIGFueSBpbXBvcnRzXG5PYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LCAnbWF0Y2hNZWRpYScsIHtcbiAgdmFsdWU6IGplc3QuZm4oKS5tb2NrSW1wbGVtZW50YXRpb24ocXVlcnkgPT4gKHtcbiAgICBtYXRjaGVzOiBmYWxzZSxcbiAgICBtZWRpYTogcXVlcnksXG4gICAgb25jaGFuZ2U6IG51bGwsXG4gICAgYWRkTGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICByZW1vdmVMaXN0ZW5lcjogamVzdC5mbigpLFxuICAgIGFkZEV2ZW50TGlzdGVuZXI6IGplc3QuZm4oKSxcbiAgICByZW1vdmVFdmVudExpc3RlbmVyOiBqZXN0LmZuKCksXG4gICAgZGlzcGF0Y2hFdmVudDogamVzdC5mbigpLFxuICB9KSksXG4gIHdyaXRhYmxlOiB0cnVlLFxufSk7XG5cbi8vIE1vY2sgYnJvd3NlciBBUElzXG5PYmplY3QuZGVmaW5lUHJvcGVydHkobmF2aWdhdG9yLCAnc2VydmljZVdvcmtlcicsIHtcbiAgdmFsdWU6IHtcbiAgICByZWdpc3RlcjogamVzdC5mbigpLFxuICAgIHJlYWR5OiBQcm9taXNlLnJlc29sdmUoKSxcbiAgfSxcbiAgd3JpdGFibGU6IHRydWUsXG59KTtcblxuLy8gTW9jayBvbmxpbmUvb2ZmbGluZSBldmVudHNcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShuYXZpZ2F0b3IsICdvbkxpbmUnLCB7XG4gIHZhbHVlOiB0cnVlLFxuICB3cml0YWJsZTogdHJ1ZSxcbn0pO1xuXG4vLyBNb2NrIGx1Y2lkZS1yZWFjdCBpY29uc1xuamVzdC5tb2NrKCdsdWNpZGUtcmVhY3QnLCAoKSA9PiAoe1xuICBCZWxsOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiYmVsbC1pY29uXCIgLz4sXG4gIEJlbGxPZmY6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJiZWxsLW9mZi1pY29uXCIgLz4sXG4gIENoZWNrQ2lyY2xlOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiY2hlY2stY2lyY2xlLWljb25cIiAvPixcbiAgQWxlcnRDaXJjbGU6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJhbGVydC1jaXJjbGUtaWNvblwiIC8+LFxuICBXaWZpOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwid2lmaS1pY29uXCIgLz4sXG4gIFdpZmlPZmY6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJ3aWZpLW9mZi1pY29uXCIgLz4sXG4gIERvd25sb2FkOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiZG93bmxvYWQtaWNvblwiIC8+LFxuICBTZXR0aW5nczogKCkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cInNldHRpbmdzLWljb25cIiAvPixcbiAgUmVmcmVzaEN3OiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwicmVmcmVzaC1pY29uXCIgLz4sXG4gIERhdGFiYXNlOiAoKSA9PiA8ZGl2IGRhdGEtdGVzdGlkPVwiZGF0YWJhc2UtaWNvblwiIC8+LFxuICBDbG9jazogKCkgPT4gPGRpdiBkYXRhLXRlc3RpZD1cImNsb2NrLWljb25cIiAvPixcbiAgQ2hlY2s6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJjaGVjay1pY29uXCIgLz4sXG4gIFg6ICgpID0+IDxkaXYgZGF0YS10ZXN0aWQ9XCJ4LWljb25cIiAvPixcbn0pKTtcblxuLy8gTW9jayBadXN0YW5kIFBXQSBzdG9yZSBob29rcyAtIENPUlJFQ1QgQVBQUk9BQ0hcbmplc3QubW9jaygnQC9saWIvc3RvcmVzJywgKCkgPT4gKHtcbiAgdXNlUFdBSW5zdGFsbGF0aW9uOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgaXNJbnN0YWxsZWQ6IGZhbHNlLFxuICAgIGNhbkluc3RhbGw6IHRydWUsXG4gICAgaW5zdGFsbDogamVzdC5mbigpLFxuICAgIGNoZWNrSW5zdGFsbGF0aW9uU3RhdHVzOiBqZXN0LmZuKCksXG4gIH0pKSxcbiAgdXNlUFdBT2ZmbGluZTogamVzdC5mbigoKSA9PiAoe1xuICAgIGlzT25saW5lOiB0cnVlLFxuICAgIG9mZmxpbmVEYXRhOiB7XG4gICAgICBjYWNoZWRQYWdlczogW10sXG4gICAgICBjYWNoZWRSZXNvdXJjZXM6IFtdLFxuICAgICAgcXVldWVkQWN0aW9uczogW11cbiAgICB9LFxuICAgIHN5bmNPZmZsaW5lRGF0YTogamVzdC5mbigpLFxuICAgIGNsZWFyT2ZmbGluZURhdGE6IGplc3QuZm4oKSxcbiAgfSkpLFxuICB1c2VQV0FOb3RpZmljYXRpb25zOiBqZXN0LmZuKCgpID0+ICh7XG4gICAgcGVybWlzc2lvbjogJ2RlZmF1bHQnLFxuICAgIHJlcXVlc3RQZXJtaXNzaW9uOiBqZXN0LmZuKCksXG4gICAgc2hvd05vdGlmaWNhdGlvbjogamVzdC5mbigpLFxuICB9KSksXG4gIHVzZVBXQUxvYWRpbmc6IGplc3QuZm4oKCkgPT4gZmFsc2UpLFxuICB1c2VQV0FFcnJvcjogamVzdC5mbigoKSA9PiBudWxsKSxcbiAgdXNlUFdBQWN0aW9uczogamVzdC5mbigoKSA9PiAoe1xuICAgIGluc3RhbGxQV0E6IGplc3QuZm4oKSxcbiAgICB1bmluc3RhbGxQV0E6IGplc3QuZm4oKSxcbiAgICBjaGVja0ZvclVwZGF0ZXM6IGplc3QuZm4oKSxcbiAgICBpbnN0YWxsVXBkYXRlOiBqZXN0LmZuKCksXG4gICAgcmVxdWVzdE5vdGlmaWNhdGlvblBlcm1pc3Npb246IGplc3QuZm4oKSxcbiAgICBzaG93Tm90aWZpY2F0aW9uOiBqZXN0LmZuKCksXG4gICAgc3luY09mZmxpbmVEYXRhOiBqZXN0LmZuKCksXG4gICAgY2xlYXJPZmZsaW5lRGF0YTogamVzdC5mbigpLFxuICAgIGV4cG9ydERhdGE6IGplc3QuZm4oKSxcbiAgICBpbXBvcnREYXRhOiBqZXN0LmZuKCksXG4gIH0pKSxcbn0pKTtcblxuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHJlbmRlciwgc2NyZWVuLCBmaXJlRXZlbnQsIHdhaXRGb3IsIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgQnJvd3NlclJvdXRlciB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IHVzZXJFdmVudCBmcm9tICdAdGVzdGluZy1saWJyYXJ5L3VzZXItZXZlbnQnO1xuaW1wb3J0IFBXQUZlYXR1cmVzIGZyb20gJ0AvZmVhdHVyZXMvcHdhL2NvbXBvbmVudHMvUFdBRmVhdHVyZXMnO1xuaW1wb3J0IHsgVCB9IGZyb20gJ0AvbGliL3Rlc3RpbmcvdGVzdElkcyc7XG5pbXBvcnQgeyB1c2VQV0FJbnN0YWxsYXRpb24sIHVzZVBXQU9mZmxpbmUgfSBmcm9tICdAL2xpYi9zdG9yZXMnO1xuXG4vLyBNb2NrIE5vdGlmaWNhdGlvbiBBUElcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdOb3RpZmljYXRpb24nLCB7XG4gIHZhbHVlOiB7XG4gICAgcGVybWlzc2lvbjogJ2dyYW50ZWQnLFxuICAgIHJlcXVlc3RQZXJtaXNzaW9uOiBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUoJ2dyYW50ZWQnKSxcbiAgfSxcbiAgd3JpdGFibGU6IHRydWUsXG59KTtcblxuLy8gTW9jayBsb2NhbFN0b3JhZ2Vcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3csICdsb2NhbFN0b3JhZ2UnLCB7XG4gIHZhbHVlOiB7XG4gICAgZ2V0SXRlbTogamVzdC5mbigpLFxuICAgIHNldEl0ZW06IGplc3QuZm4oKSxcbiAgICByZW1vdmVJdGVtOiBqZXN0LmZuKCksXG4gICAgY2xlYXI6IGplc3QuZm4oKSxcbiAgfSxcbiAgd3JpdGFibGU6IHRydWUsXG59KTtcblxuXG4vLyBNb2NrIGZldGNoIGZvciBBUEkgY2FsbHNcbmdsb2JhbC5mZXRjaCA9IGplc3QuZm4oKCkgPT5cbiAgUHJvbWlzZS5yZXNvbHZlKHtcbiAgICBvazogdHJ1ZSxcbiAgICBqc29uOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoeyBzdWNjZXNzOiB0cnVlIH0pLFxuICB9IGFzIFJlc3BvbnNlKVxuKTtcblxuZGVzY3JpYmUoJ1BXQSBGZWF0dXJlcyAtIENvbXByZWhlbnNpdmUgVGVzdGluZycsICgpID0+IHtcbiAgLy8gRW5hYmxlIGZha2UgdGltZXJzIHRvIGZpeCB0aW1lci1yZWxhdGVkIGlzc3Vlc1xuICBqZXN0LnVzZUZha2VUaW1lcnMoKVxuICBcbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgKGZldGNoIGFzIGplc3QuTW9jaykubW9ja0NsZWFyKCk7XG4gICAgLy8gQ2xlYXIgYWxsIHRpbWVycyBiZWZvcmUgZWFjaCB0ZXN0XG4gICAgamVzdC5jbGVhckFsbFRpbWVycygpO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIC8vIENsZWFuIHVwIHRpbWVycyBhZnRlciBlYWNoIHRlc3RcbiAgICBqZXN0LnJ1bk9ubHlQZW5kaW5nVGltZXJzKCk7XG4gICAgamVzdC51c2VSZWFsVGltZXJzKCk7XG4gICAgamVzdC51c2VGYWtlVGltZXJzKCk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdDb21wb25lbnQgUmVuZGVyaW5nJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVuZGVyIFBXQSBmZWF0dXJlcyB3aGVuIGluc3RhbGxhdGlvbiBpcyBhdmFpbGFibGUnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxQV0FGZWF0dXJlcyAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICAvLyBDaGVjayBmb3IgYmFzaWMgUFdBIGVsZW1lbnRzXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdwd2EtZmVhdHVyZXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoJ29mZmxpbmUtZmVhdHVyZXMnKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgbm90IHJlbmRlciB3aGVuIFBXQSBpcyBhbHJlYWR5IGluc3RhbGxlZCBhbmQgbm8gZmVhdHVyZXMgYXZhaWxhYmxlJywgKCkgPT4ge1xuICAgICAgLy8gTW9jayBhbHJlYWR5IGluc3RhbGxlZCBzdGF0ZVxuICAgICAgY29uc3QgeyB1c2VQV0FJbnN0YWxsYXRpb24gfSA9IHJlcXVpcmUoJ0AvbGliL3N0b3JlcycpO1xuICAgICAgdXNlUFdBSW5zdGFsbGF0aW9uLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGlzSW5zdGFsbGVkOiB0cnVlLFxuICAgICAgICBjYW5JbnN0YWxsOiBmYWxzZSxcbiAgICAgICAgaW5zdGFsbDogamVzdC5mbigpLFxuICAgICAgICBpc0luc3RhbGxpbmc6IGZhbHNlLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIFdoZW4gUFdBIGlzIGluc3RhbGxlZCBhbmQgbm8gZmVhdHVyZXMgYXZhaWxhYmxlLCBjb21wb25lbnQgcmV0dXJucyBudWxsXG4gICAgICBleHBlY3Qoc2NyZWVuLnF1ZXJ5QnlUZXN0SWQoJ3B3YS1mZWF0dXJlcycpKS5ub3QudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgcmVuZGVyIHdpdGggY3VzdG9tIGNsYXNzTmFtZScsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIGNsYXNzTmFtZT1cImN1c3RvbS1jbGFzc1wiIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGNvbnRhaW5lciA9IHNjcmVlbi5nZXRCeVRlc3RJZCgncHdhLWZlYXR1cmVzJyk7XG4gICAgICBleHBlY3QoY29udGFpbmVyKS50b0hhdmVDbGFzcygnY3VzdG9tLWNsYXNzJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdPZmZsaW5lIEZlYXR1cmVzJywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgZGlzcGxheSBvZmZsaW5lIGluZGljYXRvcicsICgpID0+IHtcbiAgICAgIC8vIE1vY2sgb2ZmbGluZSBzdGF0ZVxuICAgICAgY29uc3QgeyB1c2VQV0FPZmZsaW5lIH0gPSByZXF1aXJlKCdAL2xpYi9zdG9yZXMnKTtcbiAgICAgIHVzZVBXQU9mZmxpbmUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNPbmxpbmU6IGZhbHNlLFxuICAgICAgICBvZmZsaW5lRGF0YToge30sXG4gICAgICAgIHN5bmNPZmZsaW5lRGF0YTogamVzdC5mbigpLFxuICAgICAgICBjbGVhck9mZmxpbmVEYXRhOiBqZXN0LmZuKCksXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZCgnb2ZmbGluZS1mZWF0dXJlcycpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IG9mZmxpbmUgcG9sbHMgd2hlbiBjYWNoZWQgcGFnZXMgZXhpc3QnLCAoKSA9PiB7XG4gICAgICAvLyBNb2NrIG9mZmxpbmUgZGF0YSB3aXRoIGNhY2hlZCBwYWdlc1xuICAgICAgY29uc3QgeyB1c2VQV0FPZmZsaW5lIH0gPSByZXF1aXJlKCdAL2xpYi9zdG9yZXMnKTtcbiAgICAgIHVzZVBXQU9mZmxpbmUubW9ja1JldHVyblZhbHVlKHtcbiAgICAgICAgaXNPbmxpbmU6IGZhbHNlLFxuICAgICAgICBvZmZsaW5lRGF0YToge1xuICAgICAgICAgIGNhY2hlZFBhZ2VzOiBbJ3BvbGwtMScsICdwb2xsLTInXSxcbiAgICAgICAgICBxdWV1ZWRBY3Rpb25zOiBbXSxcbiAgICAgICAgfSxcbiAgICAgICAgc3luY09mZmxpbmVEYXRhOiBqZXN0LmZuKCksXG4gICAgICAgIGNsZWFyT2ZmbGluZURhdGE6IGplc3QuZm4oKSxcbiAgICAgIH0pO1xuXG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxQV0FGZWF0dXJlcyAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKCdvZmZsaW5lLXBvbGxzJykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgb2ZmbGluZSBxdWV1ZSB3aGVuIHF1ZXVlZCBhY3Rpb25zIGV4aXN0JywgKCkgPT4ge1xuICAgICAgLy8gTW9jayBvZmZsaW5lIGRhdGEgd2l0aCBxdWV1ZWQgYWN0aW9uc1xuICAgICAgamVzdC5kb01vY2soJ0AvZmVhdHVyZXMvcHdhL2hvb2tzL3VzZU9mZmxpbmUnLCAoKSA9PiAoe1xuICAgICAgICB1c2VPZmZsaW5lOiAoKSA9PiAoe1xuICAgICAgICAgIGlzT25saW5lOiBmYWxzZSxcbiAgICAgICAgICBvZmZsaW5lRGF0YToge1xuICAgICAgICAgICAgY2FjaGVkUGFnZXM6IFtdLFxuICAgICAgICAgICAgcXVldWVkQWN0aW9uczogWydhY3Rpb24tMScsICdhY3Rpb24tMiddLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3luY09mZmxpbmVEYXRhOiBqZXN0LmZuKCksXG4gICAgICAgICAgY2xlYXJPZmZsaW5lRGF0YTogamVzdC5mbigpLFxuICAgICAgICB9KSxcbiAgICAgIH0pKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5vZmZsaW5lUXVldWUpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IG9mZmxpbmUgc3luYyB3aGVuIGNhY2hlZCBwYWdlcyBleGlzdCcsICgpID0+IHtcbiAgICAgIC8vIE1vY2sgb2ZmbGluZSBkYXRhIHdpdGggY2FjaGVkIHBhZ2VzXG4gICAgICBqZXN0LmRvTW9jaygnQC9mZWF0dXJlcy9wd2EvaG9va3MvdXNlT2ZmbGluZScsICgpID0+ICh7XG4gICAgICAgIHVzZU9mZmxpbmU6ICgpID0+ICh7XG4gICAgICAgICAgaXNPbmxpbmU6IGZhbHNlLFxuICAgICAgICAgIG9mZmxpbmVEYXRhOiB7XG4gICAgICAgICAgICBjYWNoZWRQYWdlczogWydwb2xsLTEnXSxcbiAgICAgICAgICAgIHF1ZXVlZEFjdGlvbnM6IFtdLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3luY09mZmxpbmVEYXRhOiBqZXN0LmZuKCksXG4gICAgICAgICAgY2xlYXJPZmZsaW5lRGF0YTogamVzdC5mbigpLFxuICAgICAgICB9KSxcbiAgICAgIH0pKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5vZmZsaW5lU3luYykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdOb3RpZmljYXRpb24gRmVhdHVyZXMnLCAoKSA9PiB7XG4gICAgaXQoJ3Nob3VsZCBkaXNwbGF5IG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9uIGNvbXBvbmVudCcsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2Eubm90aWZpY2F0aW9uUGVybWlzc2lvbikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGRpc3BsYXkgbm90aWZpY2F0aW9uIHByZWZlcmVuY2VzJywgKCkgPT4ge1xuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5ub3RpZmljYXRpb25QcmVmZXJlbmNlcykpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIHNob3cgZGlmZmVyZW50IG5vdGlmaWNhdGlvbiB0eXBlcyBmb3IgZGlmZmVyZW50IHVzZXIgcm9sZXMnLCAoKSA9PiB7XG4gICAgICByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxQV0FGZWF0dXJlcyAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICAvLyBSZWd1bGFyIHVzZXIgbm90aWZpY2F0aW9uc1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5yZWd1bGFyVXNlck5vdGlmaWNhdGlvbnMpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5yZWd1bGFyVXNlck5vdGlmaWNhdGlvbnMpKS50b0hhdmVUZXh0Q29udGVudCgnUmVndWxhciBVc2VyIE5vdGlmaWNhdGlvbnMnKTtcbiAgICAgIFxuICAgICAgLy8gQWRtaW4gdXNlciBub3RpZmljYXRpb25zXG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLmFkbWluVXNlck5vdGlmaWNhdGlvbnMpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5hZG1pblVzZXJOb3RpZmljYXRpb25zKSkudG9IYXZlVGV4dENvbnRlbnQoJ0FkbWluIFVzZXIgTm90aWZpY2F0aW9ucycpO1xuICAgICAgXG4gICAgICAvLyBNb2JpbGUgbm90aWZpY2F0aW9uc1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5tb2JpbGVOb3RpZmljYXRpb25zKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EubW9iaWxlTm90aWZpY2F0aW9ucykpLnRvSGF2ZVRleHRDb250ZW50KCdNb2JpbGUgTm90aWZpY2F0aW9ucycpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnUFdBIEluc3RhbGxhdGlvbicsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBQV0EgaW5zdGFsbGF0aW9uJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgY29uc3QgbW9ja0luc3RhbGwgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBpbnN0YWxsYXRpb24gaG9va1xuICAgICAgKHVzZVBXQUluc3RhbGxhdGlvbiBhcyBqZXN0Lk1vY2spLm1vY2tSZXR1cm5WYWx1ZSh7XG4gICAgICAgIGlzSW5zdGFsbGVkOiBmYWxzZSxcbiAgICAgICAgY2FuSW5zdGFsbDogdHJ1ZSxcbiAgICAgICAgaW5zdGFsbDogbW9ja0luc3RhbGwsXG4gICAgICAgIGlzSW5zdGFsbGluZzogZmFsc2UsXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgaW5zdGFsbEJ1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5pbnN0YWxsQnV0dG9uKTtcbiAgICAgIFxuICAgICAgLy8gVXNlIGFjdCgpIGZvciBzdGF0ZSB1cGRhdGVzIGFuZCBwcm9wZXIgYXN5bmMgaGFuZGxpbmdcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHVzZXIuY2xpY2soaW5zdGFsbEJ1dHRvbik7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gV2FpdCBmb3IgYXN5bmMgb3BlcmF0aW9uIHdpdGggcHJvcGVyIHRpbWVvdXQgaGFuZGxpbmdcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0luc3RhbGwpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogNTAwMCB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBpbnN0YWxsYXRpb24gcHJvZ3Jlc3MnLCAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGluc3RhbGxpbmcgc3RhdGVcbiAgICAgIGplc3QuZG9Nb2NrKCdAL2ZlYXR1cmVzL3B3YS9ob29rcy91c2VQV0FJbnN0YWxsYXRpb24nLCAoKSA9PiAoe1xuICAgICAgICB1c2VQV0FJbnN0YWxsYXRpb246ICgpID0+ICh7XG4gICAgICAgICAgaXNJbnN0YWxsZWQ6IGZhbHNlLFxuICAgICAgICAgIGNhbkluc3RhbGw6IHRydWUsXG4gICAgICAgICAgaW5zdGFsbDogamVzdC5mbigpLFxuICAgICAgICAgIGlzSW5zdGFsbGluZzogdHJ1ZSxcbiAgICAgICAgfSksXG4gICAgICB9KSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuaW5zdGFsbGluZ0luZGljYXRvcikpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLmluc3RhbGxpbmdJbmRpY2F0b3IpKS50b0hhdmVUZXh0Q29udGVudCgnSW5zdGFsbGluZy4uLicpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBzaG93IGluc3RhbGxlZCBzdGF0ZSB3aGVuIFBXQSBpcyBpbnN0YWxsZWQnLCAoKSA9PiB7XG4gICAgICAvLyBNb2NrIGluc3RhbGxlZCBzdGF0ZVxuICAgICAgamVzdC5kb01vY2soJ0AvZmVhdHVyZXMvcHdhL2hvb2tzL3VzZVBXQUluc3RhbGxhdGlvbicsICgpID0+ICh7XG4gICAgICAgIHVzZVBXQUluc3RhbGxhdGlvbjogKCkgPT4gKHtcbiAgICAgICAgICBpc0luc3RhbGxlZDogdHJ1ZSxcbiAgICAgICAgICBjYW5JbnN0YWxsOiBmYWxzZSxcbiAgICAgICAgICBpbnN0YWxsOiBqZXN0LmZuKCksXG4gICAgICAgICAgaXNJbnN0YWxsaW5nOiBmYWxzZSxcbiAgICAgICAgfSksXG4gICAgICB9KSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuaW5zdGFsbGVkSW5kaWNhdG9yKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuaW5zdGFsbGVkSW5kaWNhdG9yKSkudG9IYXZlVGV4dENvbnRlbnQoJ1BXQSBJbnN0YWxsZWQnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ09mZmxpbmUgRGF0YSBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgc3luYyBvZmZsaW5lIGRhdGEgd2hlbiBvbmxpbmUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICBjb25zdCBtb2NrU3luY09mZmxpbmVEYXRhID0gamVzdC5mbigpLm1vY2tSZXNvbHZlZFZhbHVlKHVuZGVmaW5lZCk7XG4gICAgICBcbiAgICAgIC8vIE1vY2sgb2ZmbGluZSBob29rIHdpdGggc3luYyBmdW5jdGlvblxuICAgICAgKHVzZVBXQU9mZmxpbmUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc09ubGluZTogdHJ1ZSxcbiAgICAgICAgb2ZmbGluZURhdGE6IHtcbiAgICAgICAgICBjYWNoZWRQYWdlczogWydwb2xsLTEnXSxcbiAgICAgICAgICBxdWV1ZWRBY3Rpb25zOiBbJ2FjdGlvbi0xJ10sXG4gICAgICAgIH0sXG4gICAgICAgIHN5bmNPZmZsaW5lRGF0YTogbW9ja1N5bmNPZmZsaW5lRGF0YSxcbiAgICAgICAgY2xlYXJPZmZsaW5lRGF0YTogamVzdC5mbigpLFxuICAgICAgfSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHN5bmNCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2Euc3luY0J1dHRvbik7XG4gICAgICBcbiAgICAgIC8vIFVzZSBhY3QoKSBmb3Igc3RhdGUgdXBkYXRlcyBhbmQgcHJvcGVyIGFzeW5jIGhhbmRsaW5nXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB1c2VyLmNsaWNrKHN5bmNCdXR0b24pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFdhaXQgZm9yIGFzeW5jIG9wZXJhdGlvbiB3aXRoIHByb3BlciB0aW1lb3V0IGhhbmRsaW5nXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tTeW5jT2ZmbGluZURhdGEpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogNTAwMCB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgY2xlYXIgb2ZmbGluZSBkYXRhJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgY29uc3QgbW9ja0NsZWFyT2ZmbGluZURhdGEgPSBqZXN0LmZuKCkubW9ja1Jlc29sdmVkVmFsdWUodW5kZWZpbmVkKTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBvZmZsaW5lIGhvb2sgd2l0aCBjbGVhciBmdW5jdGlvblxuICAgICAgKHVzZVBXQU9mZmxpbmUgYXMgamVzdC5Nb2NrKS5tb2NrUmV0dXJuVmFsdWUoe1xuICAgICAgICBpc09ubGluZTogZmFsc2UsXG4gICAgICAgIG9mZmxpbmVEYXRhOiB7XG4gICAgICAgICAgY2FjaGVkUGFnZXM6IFsncG9sbC0xJ10sXG4gICAgICAgICAgcXVldWVkQWN0aW9uczogWydhY3Rpb24tMSddLFxuICAgICAgICB9LFxuICAgICAgICBzeW5jT2ZmbGluZURhdGE6IGplc3QuZm4oKSxcbiAgICAgICAgY2xlYXJPZmZsaW5lRGF0YTogbW9ja0NsZWFyT2ZmbGluZURhdGEsXG4gICAgICB9KTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3QgY2xlYXJCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuY2xlYXJCdXR0b24pO1xuICAgICAgXG4gICAgICAvLyBVc2UgYWN0KCkgZm9yIHN0YXRlIHVwZGF0ZXMgYW5kIHByb3BlciBhc3luYyBoYW5kbGluZ1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgdXNlci5jbGljayhjbGVhckJ1dHRvbik7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gV2FpdCBmb3IgYXN5bmMgb3BlcmF0aW9uIHdpdGggcHJvcGVyIHRpbWVvdXQgaGFuZGxpbmdcbiAgICAgIGF3YWl0IHdhaXRGb3IoKCkgPT4ge1xuICAgICAgICBleHBlY3QobW9ja0NsZWFyT2ZmbGluZURhdGEpLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogNTAwMCB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ05vdGlmaWNhdGlvbiBNYW5hZ2VtZW50JywgKCkgPT4ge1xuICAgIGl0KCdzaG91bGQgcmVxdWVzdCBub3RpZmljYXRpb24gcGVybWlzc2lvbicsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIGNvbnN0IG1vY2tSZXF1ZXN0UGVybWlzc2lvbiA9IGplc3QuZm4oKS5tb2NrUmVzb2x2ZWRWYWx1ZSgnZ3JhbnRlZCcpO1xuICAgICAgXG4gICAgICAvLyBNb2NrIG5vdGlmaWNhdGlvbnMgaG9va1xuICAgICAgamVzdC5kb01vY2soJ0AvZmVhdHVyZXMvcHdhL2hvb2tzL3VzZU5vdGlmaWNhdGlvbnMnLCAoKSA9PiAoe1xuICAgICAgICB1c2VOb3RpZmljYXRpb25zOiAoKSA9PiAoe1xuICAgICAgICAgIHBlcm1pc3Npb246ICdkZWZhdWx0JyxcbiAgICAgICAgICByZXF1ZXN0UGVybWlzc2lvbjogbW9ja1JlcXVlc3RQZXJtaXNzaW9uLFxuICAgICAgICAgIHNob3dOb3RpZmljYXRpb246IGplc3QuZm4oKSxcbiAgICAgICAgfSksXG4gICAgICB9KSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHJlcXVlc3RCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EucmVxdWVzdFBlcm1pc3Npb25CdXR0b24pO1xuICAgICAgXG4gICAgICAvLyBVc2UgYWN0KCkgZm9yIHN0YXRlIHVwZGF0ZXMgYW5kIHByb3BlciBhc3luYyBoYW5kbGluZ1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgdXNlci5jbGljayhyZXF1ZXN0QnV0dG9uKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBXYWl0IGZvciBhc3luYyBvcGVyYXRpb24gd2l0aCBwcm9wZXIgdGltZW91dCBoYW5kbGluZ1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChtb2NrUmVxdWVzdFBlcm1pc3Npb24pLnRvSGF2ZUJlZW5DYWxsZWQoKTtcbiAgICAgIH0sIHsgdGltZW91dDogNTAwMCB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgc2hvdyBub3RpZmljYXRpb24gd2hlbiBwZXJtaXNzaW9uIGlzIGdyYW50ZWQnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICBjb25zdCBtb2NrU2hvd05vdGlmaWNhdGlvbiA9IGplc3QuZm4oKTtcbiAgICAgIFxuICAgICAgLy8gTW9jayBub3RpZmljYXRpb25zIGhvb2tcbiAgICAgIGplc3QuZG9Nb2NrKCdAL2ZlYXR1cmVzL3B3YS9ob29rcy91c2VOb3RpZmljYXRpb25zJywgKCkgPT4gKHtcbiAgICAgICAgdXNlTm90aWZpY2F0aW9uczogKCkgPT4gKHtcbiAgICAgICAgICBwZXJtaXNzaW9uOiAnZ3JhbnRlZCcsXG4gICAgICAgICAgcmVxdWVzdFBlcm1pc3Npb246IGplc3QuZm4oKSxcbiAgICAgICAgICBzaG93Tm90aWZpY2F0aW9uOiBtb2NrU2hvd05vdGlmaWNhdGlvbixcbiAgICAgICAgfSksXG4gICAgICB9KSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHRlc3RCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EudGVzdE5vdGlmaWNhdGlvbkJ1dHRvbik7XG4gICAgICBcbiAgICAgIC8vIFVzZSBhY3QoKSBmb3Igc3RhdGUgdXBkYXRlcyBhbmQgcHJvcGVyIGFzeW5jIGhhbmRsaW5nXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB1c2VyLmNsaWNrKHRlc3RCdXR0b24pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFdhaXQgZm9yIGFzeW5jIG9wZXJhdGlvbiB3aXRoIHByb3BlciB0aW1lb3V0IGhhbmRsaW5nXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KG1vY2tTaG93Tm90aWZpY2F0aW9uKS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgICAgdGl0bGU6ICdUZXN0IE5vdGlmaWNhdGlvbicsXG4gICAgICAgICAgYm9keTogJ1RoaXMgaXMgYSB0ZXN0IG5vdGlmaWNhdGlvbicsXG4gICAgICAgICAgaWNvbjogJy9pY29uLTE5MngxOTIucG5nJyxcbiAgICAgICAgfSk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDUwMDAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdFcnJvciBIYW5kbGluZycsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGhhbmRsZSBpbnN0YWxsYXRpb24gZXJyb3JzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgdXNlciA9IHVzZXJFdmVudC5zZXR1cCgpO1xuICAgICAgY29uc3QgbW9ja0luc3RhbGwgPSBqZXN0LmZuKCkubW9ja1JlamVjdGVkVmFsdWUobmV3IEVycm9yKCdJbnN0YWxsYXRpb24gZmFpbGVkJykpO1xuICAgICAgXG4gICAgICAvLyBNb2NrIGluc3RhbGxhdGlvbiBob29rIHdpdGggZXJyb3JcbiAgICAgIGplc3QuZG9Nb2NrKCdAL2ZlYXR1cmVzL3B3YS9ob29rcy91c2VQV0FJbnN0YWxsYXRpb24nLCAoKSA9PiAoe1xuICAgICAgICB1c2VQV0FJbnN0YWxsYXRpb246ICgpID0+ICh7XG4gICAgICAgICAgaXNJbnN0YWxsZWQ6IGZhbHNlLFxuICAgICAgICAgIGNhbkluc3RhbGw6IHRydWUsXG4gICAgICAgICAgaW5zdGFsbDogbW9ja0luc3RhbGwsXG4gICAgICAgICAgaXNJbnN0YWxsaW5nOiBmYWxzZSxcbiAgICAgICAgfSksXG4gICAgICB9KSk7XG5cbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IGluc3RhbGxCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuaW5zdGFsbEJ1dHRvbik7XG4gICAgICBcbiAgICAgIC8vIFVzZSBhY3QoKSBmb3Igc3RhdGUgdXBkYXRlcyBhbmQgcHJvcGVyIGFzeW5jIGhhbmRsaW5nXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB1c2VyLmNsaWNrKGluc3RhbGxCdXR0b24pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFNob3VsZCBzaG93IGVycm9yIG1lc3NhZ2Ugd2l0aCBwcm9wZXIgdGltZW91dCBoYW5kbGluZ1xuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuaW5zdGFsbEVycm9yKSkudG9CZUluVGhlRG9jdW1lbnQoKTtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5pbnN0YWxsRXJyb3IpKS50b0hhdmVUZXh0Q29udGVudCgnSW5zdGFsbGF0aW9uIGZhaWxlZCcpO1xuICAgICAgfSwgeyB0aW1lb3V0OiA1MDAwIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYW5kbGUgc3luYyBlcnJvcnMnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB1c2VyID0gdXNlckV2ZW50LnNldHVwKCk7XG4gICAgICBjb25zdCBtb2NrU3luY09mZmxpbmVEYXRhID0gamVzdC5mbigpLm1vY2tSZWplY3RlZFZhbHVlKG5ldyBFcnJvcignU3luYyBmYWlsZWQnKSk7XG4gICAgICBcbiAgICAgIC8vIE1vY2sgb2ZmbGluZSBob29rIHdpdGggZXJyb3JcbiAgICAgIGplc3QuZG9Nb2NrKCdAL2ZlYXR1cmVzL3B3YS9ob29rcy91c2VPZmZsaW5lJywgKCkgPT4gKHtcbiAgICAgICAgdXNlT2ZmbGluZTogKCkgPT4gKHtcbiAgICAgICAgICBpc09ubGluZTogdHJ1ZSxcbiAgICAgICAgICBvZmZsaW5lRGF0YToge1xuICAgICAgICAgICAgY2FjaGVkUGFnZXM6IFsncG9sbC0xJ10sXG4gICAgICAgICAgICBxdWV1ZWRBY3Rpb25zOiBbJ2FjdGlvbi0xJ10sXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzeW5jT2ZmbGluZURhdGE6IG1vY2tTeW5jT2ZmbGluZURhdGEsXG4gICAgICAgICAgY2xlYXJPZmZsaW5lRGF0YTogamVzdC5mbigpLFxuICAgICAgICB9KSxcbiAgICAgIH0pKTtcblxuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgY29uc3Qgc3luY0J1dHRvbiA9IHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5zeW5jQnV0dG9uKTtcbiAgICAgIFxuICAgICAgLy8gVXNlIGFjdCgpIGZvciBzdGF0ZSB1cGRhdGVzIGFuZCBwcm9wZXIgYXN5bmMgaGFuZGxpbmdcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHVzZXIuY2xpY2soc3luY0J1dHRvbik7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIHNob3cgZXJyb3IgbWVzc2FnZSB3aXRoIHByb3BlciB0aW1lb3V0IGhhbmRsaW5nXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5zeW5jRXJyb3IpKS50b0JlSW5UaGVEb2N1bWVudCgpO1xuICAgICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLnN5bmNFcnJvcikpLnRvSGF2ZVRleHRDb250ZW50KCdTeW5jIGZhaWxlZCcpO1xuICAgICAgfSwgeyB0aW1lb3V0OiA1MDAwIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnQWNjZXNzaWJpbGl0eScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIGJlIGtleWJvYXJkIG5hdmlnYWJsZScsIGFzeW5jICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIFRhYiB0aHJvdWdoIGVsZW1lbnRzIHdpdGggcHJvcGVyIGFzeW5jIGhhbmRsaW5nXG4gICAgICBjb25zdCBmaXJzdEVsZW1lbnQgPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuZmlyc3RGb2N1c2FibGUpO1xuICAgICAgXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBmaXJzdEVsZW1lbnQuZm9jdXMoKTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBleHBlY3QoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkudG9CZShmaXJzdEVsZW1lbnQpO1xuICAgICAgXG4gICAgICAvLyBUYWIgdG8gbmV4dCBlbGVtZW50IHdpdGggcHJvcGVyIGFzeW5jIGhhbmRsaW5nXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBmaXJlRXZlbnQua2V5RG93bihmaXJzdEVsZW1lbnQsIHsga2V5OiAnVGFiJyB9KTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zdCBzZWNvbmRFbGVtZW50ID0gc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLnNlY29uZEZvY3VzYWJsZSk7XG4gICAgICBcbiAgICAgIC8vIFdhaXQgZm9yIGZvY3VzIHRvIGNoYW5nZVxuICAgICAgYXdhaXQgd2FpdEZvcigoKSA9PiB7XG4gICAgICAgIGV4cGVjdChkb2N1bWVudC5hY3RpdmVFbGVtZW50KS50b0JlKHNlY29uZEVsZW1lbnQpO1xuICAgICAgfSwgeyB0aW1lb3V0OiAxMDAwIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBoYXZlIHByb3BlciBBUklBIGxhYmVscycsICgpID0+IHtcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBBUklBIGxhYmVsc1xuICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5pbnN0YWxsQnV0dG9uKSkudG9IYXZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJywgJ0luc3RhbGwgUFdBJyk7XG4gICAgICBleHBlY3Qoc2NyZWVuLmdldEJ5VGVzdElkKFQucHdhLnN5bmNCdXR0b24pKS50b0hhdmVBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCAnU3luYyBvZmZsaW5lIGRhdGEnKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgYW5ub3VuY2Ugc3RhdGUgY2hhbmdlcyB0byBzY3JlZW4gcmVhZGVycycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IHVzZXIgPSB1c2VyRXZlbnQuc2V0dXAoKTtcbiAgICAgIFxuICAgICAgcmVuZGVyKFxuICAgICAgICA8QnJvd3NlclJvdXRlcj5cbiAgICAgICAgICA8UFdBRmVhdHVyZXMgLz5cbiAgICAgICAgPC9Ccm93c2VyUm91dGVyPlxuICAgICAgKTtcblxuICAgICAgLy8gVHJpZ2dlciBzdGF0ZSBjaGFuZ2Ugd2l0aCBwcm9wZXIgYXN5bmMgaGFuZGxpbmdcbiAgICAgIGNvbnN0IGluc3RhbGxCdXR0b24gPSBzY3JlZW4uZ2V0QnlUZXN0SWQoVC5wd2EuaW5zdGFsbEJ1dHRvbik7XG4gICAgICBcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHVzZXIuY2xpY2soaW5zdGFsbEJ1dHRvbik7XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gU2hvdWxkIGFubm91bmNlIHN0YXRlIGNoYW5nZSB3aXRoIHByb3BlciB0aW1lb3V0IGhhbmRsaW5nXG4gICAgICBhd2FpdCB3YWl0Rm9yKCgpID0+IHtcbiAgICAgICAgZXhwZWN0KHNjcmVlbi5nZXRCeVRlc3RJZChULnB3YS5zdGF0ZUFubm91bmNlbWVudCkpLnRvQmVJblRoZURvY3VtZW50KCk7XG4gICAgICB9LCB7IHRpbWVvdXQ6IDUwMDAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdQZXJmb3JtYW5jZScsICgpID0+IHtcbiAgICBpdCgnc2hvdWxkIHJlbmRlciB3aXRoaW4gcGVyZm9ybWFuY2UgYnVkZ2V0JywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhcnRUaW1lID0gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICBcbiAgICAgIHJlbmRlcihcbiAgICAgICAgPEJyb3dzZXJSb3V0ZXI+XG4gICAgICAgICAgPFBXQUZlYXR1cmVzIC8+XG4gICAgICAgIDwvQnJvd3NlclJvdXRlcj5cbiAgICAgICk7XG4gICAgICBcbiAgICAgIGNvbnN0IGVuZFRpbWUgPSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgIGNvbnN0IHJlbmRlclRpbWUgPSBlbmRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgcmVuZGVyIHdpdGhpbiAxMDBtc1xuICAgICAgZXhwZWN0KHJlbmRlclRpbWUpLnRvQmVMZXNzVGhhbigxMDApO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBub3QgY2F1c2UgbWVtb3J5IGxlYWtzJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgeyB1bm1vdW50IH0gPSByZW5kZXIoXG4gICAgICAgIDxCcm93c2VyUm91dGVyPlxuICAgICAgICAgIDxQV0FGZWF0dXJlcyAvPlxuICAgICAgICA8L0Jyb3dzZXJSb3V0ZXI+XG4gICAgICApO1xuXG4gICAgICAvLyBVbm1vdW50IGNvbXBvbmVudFxuICAgICAgdW5tb3VudCgpO1xuICAgICAgXG4gICAgICAvLyBTaG91bGQgbm90IGxlYXZlIGFueSBldmVudCBsaXN0ZW5lcnMgb3IgdGltZXJzXG4gICAgICBleHBlY3QoamVzdC5nZXRUaW1lckNvdW50KCkpLnRvQmUoMCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuIl0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwiQmVsbCIsImRpdiIsImRhdGEtdGVzdGlkIiwiQmVsbE9mZiIsIkNoZWNrQ2lyY2xlIiwiQWxlcnRDaXJjbGUiLCJXaWZpIiwiV2lmaU9mZiIsIkRvd25sb2FkIiwiU2V0dGluZ3MiLCJSZWZyZXNoQ3ciLCJEYXRhYmFzZSIsIkNsb2NrIiwiQ2hlY2siLCJYIiwidXNlUFdBSW5zdGFsbGF0aW9uIiwiZm4iLCJpc0luc3RhbGxlZCIsImNhbkluc3RhbGwiLCJpbnN0YWxsIiwiY2hlY2tJbnN0YWxsYXRpb25TdGF0dXMiLCJ1c2VQV0FPZmZsaW5lIiwiaXNPbmxpbmUiLCJvZmZsaW5lRGF0YSIsImNhY2hlZFBhZ2VzIiwiY2FjaGVkUmVzb3VyY2VzIiwicXVldWVkQWN0aW9ucyIsInN5bmNPZmZsaW5lRGF0YSIsImNsZWFyT2ZmbGluZURhdGEiLCJ1c2VQV0FOb3RpZmljYXRpb25zIiwicGVybWlzc2lvbiIsInJlcXVlc3RQZXJtaXNzaW9uIiwic2hvd05vdGlmaWNhdGlvbiIsInVzZVBXQUxvYWRpbmciLCJ1c2VQV0FFcnJvciIsInVzZVBXQUFjdGlvbnMiLCJpbnN0YWxsUFdBIiwidW5pbnN0YWxsUFdBIiwiY2hlY2tGb3JVcGRhdGVzIiwiaW5zdGFsbFVwZGF0ZSIsInJlcXVlc3ROb3RpZmljYXRpb25QZXJtaXNzaW9uIiwiZXhwb3J0RGF0YSIsImltcG9ydERhdGEiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIndpbmRvdyIsInZhbHVlIiwibW9ja0ltcGxlbWVudGF0aW9uIiwicXVlcnkiLCJtYXRjaGVzIiwibWVkaWEiLCJvbmNoYW5nZSIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiLCJ3cml0YWJsZSIsIm5hdmlnYXRvciIsInJlZ2lzdGVyIiwicmVhZHkiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1vY2tSZXNvbHZlZFZhbHVlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJyZW1vdmVJdGVtIiwiY2xlYXIiLCJnbG9iYWwiLCJmZXRjaCIsIm9rIiwianNvbiIsInN1Y2Nlc3MiLCJkZXNjcmliZSIsInVzZUZha2VUaW1lcnMiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tDbGVhciIsImNsZWFyQWxsVGltZXJzIiwiYWZ0ZXJFYWNoIiwicnVuT25seVBlbmRpbmdUaW1lcnMiLCJ1c2VSZWFsVGltZXJzIiwiaXQiLCJyZW5kZXIiLCJCcm93c2VyUm91dGVyIiwiUFdBRmVhdHVyZXMiLCJleHBlY3QiLCJzY3JlZW4iLCJnZXRCeVRlc3RJZCIsInRvQmVJblRoZURvY3VtZW50IiwicmVxdWlyZSIsIm1vY2tSZXR1cm5WYWx1ZSIsImlzSW5zdGFsbGluZyIsInF1ZXJ5QnlUZXN0SWQiLCJub3QiLCJjbGFzc05hbWUiLCJjb250YWluZXIiLCJ0b0hhdmVDbGFzcyIsImRvTW9jayIsInVzZU9mZmxpbmUiLCJUIiwicHdhIiwib2ZmbGluZVF1ZXVlIiwib2ZmbGluZVN5bmMiLCJub3RpZmljYXRpb25QZXJtaXNzaW9uIiwibm90aWZpY2F0aW9uUHJlZmVyZW5jZXMiLCJyZWd1bGFyVXNlck5vdGlmaWNhdGlvbnMiLCJ0b0hhdmVUZXh0Q29udGVudCIsImFkbWluVXNlck5vdGlmaWNhdGlvbnMiLCJtb2JpbGVOb3RpZmljYXRpb25zIiwidXNlciIsInVzZXJFdmVudCIsInNldHVwIiwibW9ja0luc3RhbGwiLCJ1bmRlZmluZWQiLCJpbnN0YWxsQnV0dG9uIiwiYWN0IiwiY2xpY2siLCJ3YWl0Rm9yIiwidG9IYXZlQmVlbkNhbGxlZCIsInRpbWVvdXQiLCJpbnN0YWxsaW5nSW5kaWNhdG9yIiwiaW5zdGFsbGVkSW5kaWNhdG9yIiwibW9ja1N5bmNPZmZsaW5lRGF0YSIsInN5bmNCdXR0b24iLCJtb2NrQ2xlYXJPZmZsaW5lRGF0YSIsImNsZWFyQnV0dG9uIiwibW9ja1JlcXVlc3RQZXJtaXNzaW9uIiwidXNlTm90aWZpY2F0aW9ucyIsInJlcXVlc3RCdXR0b24iLCJyZXF1ZXN0UGVybWlzc2lvbkJ1dHRvbiIsIm1vY2tTaG93Tm90aWZpY2F0aW9uIiwidGVzdEJ1dHRvbiIsInRlc3ROb3RpZmljYXRpb25CdXR0b24iLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInRpdGxlIiwiYm9keSIsImljb24iLCJtb2NrUmVqZWN0ZWRWYWx1ZSIsIkVycm9yIiwiaW5zdGFsbEVycm9yIiwic3luY0Vycm9yIiwiZmlyc3RFbGVtZW50IiwiZmlyc3RGb2N1c2FibGUiLCJmb2N1cyIsImRvY3VtZW50IiwiYWN0aXZlRWxlbWVudCIsInRvQmUiLCJmaXJlRXZlbnQiLCJrZXlEb3duIiwia2V5Iiwic2Vjb25kRWxlbWVudCIsInNlY29uZEZvY3VzYWJsZSIsInRvSGF2ZUF0dHJpYnV0ZSIsInN0YXRlQW5ub3VuY2VtZW50Iiwic3RhcnRUaW1lIiwicGVyZm9ybWFuY2UiLCJub3ciLCJlbmRUaW1lIiwicmVuZGVyVGltZSIsInRvQmVMZXNzVGhhbiIsInVubW91bnQiLCJnZXRUaW1lckNvdW50Il0sIm1hcHBpbmdzIjoiQUFBQTs7Q0FFQyxHQUVELDRDQUE0Qzs7QUE4QjVDLDBCQUEwQjtBQUMxQkEsS0FBS0MsSUFBSSxDQUFDLGdCQUFnQixJQUFPLENBQUE7UUFDL0JDLE1BQU0sa0JBQU0scUJBQUNDO2dCQUFJQyxlQUFZOztRQUM3QkMsU0FBUyxrQkFBTSxxQkFBQ0Y7Z0JBQUlDLGVBQVk7O1FBQ2hDRSxhQUFhLGtCQUFNLHFCQUFDSDtnQkFBSUMsZUFBWTs7UUFDcENHLGFBQWEsa0JBQU0scUJBQUNKO2dCQUFJQyxlQUFZOztRQUNwQ0ksTUFBTSxrQkFBTSxxQkFBQ0w7Z0JBQUlDLGVBQVk7O1FBQzdCSyxTQUFTLGtCQUFNLHFCQUFDTjtnQkFBSUMsZUFBWTs7UUFDaENNLFVBQVUsa0JBQU0scUJBQUNQO2dCQUFJQyxlQUFZOztRQUNqQ08sVUFBVSxrQkFBTSxxQkFBQ1I7Z0JBQUlDLGVBQVk7O1FBQ2pDUSxXQUFXLGtCQUFNLHFCQUFDVDtnQkFBSUMsZUFBWTs7UUFDbENTLFVBQVUsa0JBQU0scUJBQUNWO2dCQUFJQyxlQUFZOztRQUNqQ1UsT0FBTyxrQkFBTSxxQkFBQ1g7Z0JBQUlDLGVBQVk7O1FBQzlCVyxPQUFPLGtCQUFNLHFCQUFDWjtnQkFBSUMsZUFBWTs7UUFDOUJZLEdBQUcsa0JBQU0scUJBQUNiO2dCQUFJQyxlQUFZOztJQUM1QixDQUFBO0FBRUEsa0RBQWtEO0FBQ2xESixLQUFLQyxJQUFJ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