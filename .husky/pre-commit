#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

# Type validation pre-commit hook
echo "ğŸ” Validating types..."

# Check if database types are current
if ! node scripts/update-database-types.js validate; then
  echo "âŒ Database types are out of date."
  echo "Please run: node scripts/update-database-types.js update"
  exit 1
fi

# Check for type conflicts
if ! node scripts/validate-types.js; then
  echo "âŒ Type validation failed."
  echo "Please fix type conflicts before committing."
  exit 1
fi

echo "âœ… All types are current and valid"