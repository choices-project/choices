# Civics backend environment
# Copy: cp env.example .env
# Edit .env and add your keys. Never commit .env.

# === REQUIRED (Supabase) ===
# Get from: Supabase dashboard → Settings → API
SUPABASE_URL=https://your-project.supabase.co
# Service role bypasses RLS; full DB access. Never expose in client code or logs.
SUPABASE_SERVICE_ROLE_KEY=replace-with-service-role-key

# Alternative: some projects use NEXT_PUBLIC_SUPABASE_URL
# NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co

# === OPTIONAL (more data) ===
# OpenStates: committees, activity. STATE/LOCAL ONLY — no federal data. Get: open.pluralpolicy.com (Plural Open)
# Limit unverified; default 250/day for freemium. Set OPENSTATES_DAILY_LIMIT=10000 if higher tier.
OPENSTATES_API_KEY=replace-if-available
# OPENSTATES_DAILY_LIMIT=250

# Congress.gov: federal Bioguide IDs (40 req/10s burst, 200 req/min)
CONGRESS_GOV_API_KEY=replace-if-available
# CONGRESS_GOV_THROTTLE_MS=1500

# FEC: federal campaign finance (1k/hr free; 7.2k/hr enhanced)
FEC_API_KEY=replace-if-available
# FEC_THROTTLE_MS=3600

# GovInfo: federal member IDs (api.data.gov: 1k/hr)
GOVINFO_API_KEY=replace-if-available
# GOVINFO_THROTTLE_MS=4000

# Google Civic: elections, voter info
GOOGLE_CIVIC_API_KEY=replace-if-available
LEGISCAN_API_KEY=replace-if-available

# Override OpenStates YAML directory (rare)
# OPENSTATES_PEOPLE_DIR=/absolute/path/to/openstates-people/data

# === TUNING (optional) ===
# Stage batch sizes (default 100 each)
# OPENSTATES_STAGE_UPSERT_SIZE=100
# OPENSTATES_STAGE_SELECT_SIZE=100
# OPENSTATES_STAGE_INSERT_SIZE=100

# Checkpoint directory for resume (default /tmp/civics-checkpoints; .civics-checkpoints when CI=true)
# Use project-relative path for containers: CHECKPOINT_DIR=.civics-checkpoints
# CHECKPOINT_DIR=/tmp/civics-checkpoints

# OpenStates gap-fill: reserve calls before stopping (default 100)
# OPENSTATES_BUDGET_RESERVE=100

# Logging: debug|info|warn|error (default info)
# LOG_LEVEL=info
# STRUCTURED_LOGS=true
